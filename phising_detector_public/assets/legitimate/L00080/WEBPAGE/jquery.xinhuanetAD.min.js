/**
 * Copyright (c) 2015 Xinhuanet Inc. All rights reserved.
 * xinhuanetAD
 * @time 2016-03-01-15.41.03
 */
jQuery.fn.xinhuanetAD=function(a,b,c,d){try{var e=this,f=a,g=f.url,h=f.src,i=f.width,j=f.height,k=f.toggle;e.css({position:"relative",overflow:"hidden"}).height(j).width(i);var l=0;h&&(l=f.src.length);var m,n=0,o=(f.alt,1),p={displayNone:"display:none;",liStyle:"position:absolute;top:0;left:0;width:"+i+"px;height:"+j+"px;",img:"vertical-align:top;",btnBox:"position:absolute;top:0;right:0;width:20px;z-index:99999;height:16px;",btnTipBox:"position:absolute;top:0;right:0;display:none;z-index:3;",btnTip:"position:absolute;top:0;right:20px;width:30px;z-index:2;height:16px;line-height:17px;text-align:center;font-size:12px;color:#FFFFFF;overflow:hidden;",btnTipShadow:"position:absolute;top:0;right:20px;width:30px;z-index:1;height:16px;background:#000000;filter:alpha(opacity=50);-moz-opacity:.5;opacity:.5;overflow:hidden;"},q="<ul>";if(0!==l)for(var r=0;l>r;r++)o=l+n-r,q+='<li style="'+p.displayNone+p.liStyle+" z-index:"+o+'"><a href="'+g+'" target="_blank"><img src="'+h[r]+'" width="'+i+'" height="'+j+'" border="0" style="'+p.img+'" /></a></li>',k&&"on"!==k?"off"===k&&(m=""):r===l-1&&(m='<div style="'+p.btnBox+'"><a href="http://www.news.cn/jiaju/2014ggfw/index.htm" target="_blank"><img src="http://www.xinhuanet.com/global/img/superscript.gif" width="20" height="16" border="0" alt="新华网广告服务" style="'+p.img+'" onMouseOver="$(this).parent().next(\'div\').stop().show();" onMouseOut="$(this).parent().next(\'div\').stop().hide()" /></a><div style="'+p.btnTipBox+'"><div style="'+p.btnTip+'">广告</div><div style="'+p.btnTipShadow+'"></div></div></div>'),q+=m;e[0].innerHTML=q+"</ul>",e.css({position:"relative",overflow:"hidden"}).height(j).width(i),c||(c=4e3),d||(d=3e3),!b||0>b||b>l?b=0:b-=1;var s=e.find("li");s.eq(b).show();var t;l>1?t=setInterval(function(){b++,b===l+n&&(b=0),s.fadeOut(d).eq(b).fadeIn(d)},c):(clearInterval(t),s.show())}catch(u){$("body").append("<br>:( 糟糕！似乎出错了 "+u)}};var xinhuanetAD={init:function(){var array=[];return $(".xinhuanetADBox").each(function(){var dataAd=$(this).attr("data-ad");array.push(eval("("+dataAd+")"))}),array},all:function(){var a=this.init(),b=a.length;if(a)for(var c=0;b>c;c++)$(".xinhuanetADBox:eq("+c+")").xinhuanetAD(a[c])},set:function(tag){var adID=tag.attr("name"),$tag=$("#xhAdData").find(".adData").eq(adID).find(".xinhuanetADBox"),dataAd=$tag.attr("data-ad"),obj=eval("("+dataAd+")");tag.xinhuanetAD(obj)}};