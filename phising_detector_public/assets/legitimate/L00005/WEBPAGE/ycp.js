/*!
 * iScroll v4.1.9 ~ Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(){var k=Math,p=function(a){return a>>0},l=(/webkit/i).test(navigator.appVersion)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":(/trident/i).test(navigator.userAgent)?"ms":"opera" in window?"O":"",q=(/android/gi).test(navigator.appVersion),n=(/iphone|ipad/gi).test(navigator.appVersion),j=(/playbook/gi).test(navigator.appVersion),m=(/hp-tablet/gi).test(navigator.appVersion),o="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix(),o=false;hasTouch="ontouchstart" in window&&!m,hasTransform=l+"Transform" in document.documentElement.style,hasTransitionEnd=n||j,nextFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}})(),cancelFrame=(function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout})(),RESIZE_EV="onorientationchange" in window?"orientationchange":"resize",START_EV=hasTouch?"touchstart":"mousedown",MOVE_EV=hasTouch?"touchmove":"mousemove",END_EV=hasTouch?"touchend":"mouseup",CANCEL_EV=hasTouch?"touchcancel":"mouseup",WHEEL_EV=l=="Moz"?"DOMMouseScroll":"mousewheel",trnOpen="translate"+(o?"3d(":"("),trnClose=o?",0)":")",iScroll=function(b,e){var a=this,g=document,d;a.wrapper=typeof b=="object"?b:g.getElementById(b);a.wrapper.style.overflow="hidden";a.scroller=a.wrapper.children[0];a.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,hScrollbar:true,vScrollbar:true,fixedScrollbar:q,hideScrollbar:n,fadeScrollbar:n&&o,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(h){h.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null,disableMouse:false};for(d in e){a.options[d]=e[d]}a.x=a.options.x;a.y=a.options.y;a.options.useTransform=hasTransform?a.options.useTransform:false;a.options.hScrollbar=a.options.hScroll&&a.options.hScrollbar;a.options.vScrollbar=a.options.vScroll&&a.options.vScrollbar;a.options.zoom=a.options.useTransform&&a.options.zoom;a.options.useTransition=hasTransitionEnd&&a.options.useTransition;if(a.options.zoom&&q){trnOpen="translate(";trnClose=")"}a.scroller.style[l+"TransitionProperty"]=a.options.useTransform?"-"+l.toLowerCase()+"-transform":"top left";a.scroller.style[l+"TransitionDuration"]="0";a.scroller.style[l+"TransformOrigin"]="0 0";if(a.options.useTransition){a.scroller.style[l+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"}if(a.options.useTransform){a.scroller.style[l+"Transform"]=trnOpen+a.x+"px,"+a.y+"px"+trnClose}else{a.scroller.style.cssText+=";position:absolute;top:"+a.y+"px;left:"+a.x+"px"}if(a.options.useTransition){a.options.fixedScrollbar=true}a.refresh();if(!a.options.disableMouse){a._bind(RESIZE_EV,window);a._bind(START_EV);if(!hasTouch){a._bind("mouseout",a.wrapper);if(a.options.wheelAction!="none"){a._bind(WHEEL_EV)}}}if(a.options.checkDOMChanges){a.checkDOMTime=setInterval(function(){a._checkDOMChanges()},500)}};iScroll.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){var b=this;switch(a.type){case START_EV:if(!hasTouch&&a.button!==0){return}b._start(a);break;case MOVE_EV:b._move(a);break;case END_EV:case CANCEL_EV:b._end(a);break;case RESIZE_EV:b._resize();break;case WHEEL_EV:b._wheel(a);break;case"mouseout":b._mouseout(a);break;case"webkitTransitionEnd":b._transitionEnd(a);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)){return}this.refresh()},_scrollbar:function(e){var b=this,a=document,d;if(!b[e+"Scrollbar"]){if(b[e+"ScrollbarWrapper"]){if(hasTransform){b[e+"ScrollbarIndicator"].style[l+"Transform"]=""}b[e+"ScrollbarWrapper"].parentNode.removeChild(b[e+"ScrollbarWrapper"]);b[e+"ScrollbarWrapper"]=null;b[e+"ScrollbarIndicator"]=null}return}if(!b[e+"ScrollbarWrapper"]){d=a.createElement("div");if(b.options.scrollbarClass){d.className=b.options.scrollbarClass+e.toUpperCase()}else{d.style.cssText="position:absolute;z-index:100;"+(e=="h"?"height:7px;bottom:1px;left:2px;right:"+(b.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(b.hScrollbar?"7":"2")+"px;top:2px;right:1px")}d.style.cssText+=";pointer-events:none;-"+l+"-transition-property:opacity;-"+l+"-transition-duration:"+(b.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(b.options.hideScrollbar?"0":"1");b.wrapper.appendChild(d);b[e+"ScrollbarWrapper"]=d;d=a.createElement("div");if(!b.options.scrollbarClass){d.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+l+"-background-clip:padding-box;-"+l+"-box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";-"+l+"-border-radius:3px;border-radius:3px"}d.style.cssText+=";pointer-events:none;-"+l+"-transition-property:-"+l+"-transform;-"+l+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+l+"-transition-duration:0;-"+l+"-transform:"+trnOpen+"0,0"+trnClose;if(b.options.useTransition){d.style.cssText+=";-"+l+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"}b[e+"ScrollbarWrapper"].appendChild(d);b[e+"ScrollbarIndicator"]=d}if(e=="h"){b.hScrollbarSize=b.hScrollbarWrapper.clientWidth;b.hScrollbarIndicatorSize=k.max(p(b.hScrollbarSize*b.hScrollbarSize/b.scrollerW),8);b.hScrollbarIndicator.style.width=b.hScrollbarIndicatorSize+"px";b.hScrollbarMaxScroll=b.hScrollbarSize-b.hScrollbarIndicatorSize;b.hScrollbarProp=b.hScrollbarMaxScroll/b.maxScrollX}else{b.vScrollbarSize=b.vScrollbarWrapper.clientHeight;b.vScrollbarIndicatorSize=k.max(p(b.vScrollbarSize*b.vScrollbarSize/b.scrollerH),8);b.vScrollbarIndicator.style.height=b.vScrollbarIndicatorSize+"px";b.vScrollbarMaxScroll=b.vScrollbarSize-b.vScrollbarIndicatorSize;b.vScrollbarProp=b.vScrollbarMaxScroll/b.maxScrollY}b._scrollbarPos(e,true)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},q?200:0)},_pos:function(b,a){b=this.hScroll?b:0;a=this.vScroll?a:0;if(this.options.useTransform){this.scroller.style[l+"Transform"]=trnOpen+b+"px,"+a+"px"+trnClose+" scale("+this.scale+")"}else{b=p(b);a=p(a);this.scroller.style.left=b+"px";this.scroller.style.top=a+"px"}this.x=b;this.y=a;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(g,b){var d=this,a=g=="h"?d.x:d.y,e;if(!d[g+"Scrollbar"]){return}a=d[g+"ScrollbarProp"]*a;if(a<0){if(!d.options.fixedScrollbar){e=d[g+"ScrollbarIndicatorSize"]+p(a*3);if(e<8){e=8}d[g+"ScrollbarIndicator"].style[g=="h"?"width":"height"]=e+"px"}a=0}else{if(a>d[g+"ScrollbarMaxScroll"]){if(!d.options.fixedScrollbar){e=d[g+"ScrollbarIndicatorSize"]-p((a-d[g+"ScrollbarMaxScroll"])*3);if(e<8){e=8}d[g+"ScrollbarIndicator"].style[g=="h"?"width":"height"]=e+"px";a=d[g+"ScrollbarMaxScroll"]+(d[g+"ScrollbarIndicatorSize"]-e)}else{a=d[g+"ScrollbarMaxScroll"]}}}d[g+"ScrollbarWrapper"].style[l+"TransitionDelay"]="0";d[g+"ScrollbarWrapper"].style.opacity=b&&d.options.hideScrollbar?"0":"1";d[g+"ScrollbarIndicator"].style[l+"Transform"]=trnOpen+(g=="h"?a+"px,0":"0,"+a+"px")+trnClose},_start:function(r){var s=this,e=hasTouch?r.touches[0]:r,d,g,h,a,b;if(!s.enabled){return}if(s.options.onBeforeScrollStart){s.options.onBeforeScrollStart.call(s,r)}if(s.options.useTransition||s.options.zoom){s._transitionTime(0)}s.moved=false;s.animating=false;s.zoomed=false;s.distX=0;s.distY=0;s.absDistX=0;s.absDistY=0;s.dirX=0;s.dirY=0;if(s.options.zoom&&hasTouch&&r.touches.length>1){a=k.abs(r.touches[0].pageX-r.touches[1].pageX);b=k.abs(r.touches[0].pageY-r.touches[1].pageY);s.touchesDistStart=k.sqrt(a*a+b*b);s.originX=k.abs(r.touches[0].pageX+r.touches[1].pageX-s.wrapperOffsetLeft*2)/2-s.x;s.originY=k.abs(r.touches[0].pageY+r.touches[1].pageY-s.wrapperOffsetTop*2)/2-s.y;if(s.options.onZoomStart){s.options.onZoomStart.call(s,r)}}if(s.options.momentum){if(s.options.useTransform){d=getComputedStyle(s.scroller,null)[l+"Transform"].replace(/[^0-9-.,]/g,"").split(",");g=d[4]*1;h=d[5]*1}else{g=getComputedStyle(s.scroller,null).left.replace(/[^0-9-]/g,"")*1;h=getComputedStyle(s.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(g!=s.x||h!=s.y){if(s.options.useTransition){s._unbind("webkitTransitionEnd")}else{cancelFrame(s.aniTime)}s.steps=[];s._pos(g,h)}}s.absStartX=s.x;s.absStartY=s.y;s.startX=s.x;s.startY=s.y;s.pointX=e.pageX;s.pointY=e.pageY;s.startTime=r.timeStamp||(Date.now?Date.now():new Date().getTime());if(s.options.onScrollStart){s.options.onScrollStart.call(s,r)}s._bind(MOVE_EV);s._bind(END_EV);s._bind(CANCEL_EV)},_move:function(b){var e=this,a=hasTouch?b.touches[0]:b,h=a.pageX-e.pointX,v=a.pageY-e.pointY,y=e.x+h,z=e.y+v,g,u,w,d=b.timeStamp||(Date.now?Date.now():new Date().getTime());if(e.options.onBeforeScrollMove){e.options.onBeforeScrollMove.call(e,b)}if(e.options.zoom&&hasTouch&&b.touches.length>1){g=k.abs(b.touches[0].pageX-b.touches[1].pageX);u=k.abs(b.touches[0].pageY-b.touches[1].pageY);e.touchesDist=k.sqrt(g*g+u*u);e.zoomed=true;w=1/e.touchesDistStart*e.touchesDist*this.scale;if(w<e.options.zoomMin){w=0.5*e.options.zoomMin*Math.pow(2,w/e.options.zoomMin)}else{if(w>e.options.zoomMax){w=2*e.options.zoomMax*Math.pow(0.5,e.options.zoomMax/w)}}e.lastScale=w/this.scale;y=this.originX-this.originX*e.lastScale+this.x,z=this.originY-this.originY*e.lastScale+this.y;this.scroller.style[l+"Transform"]=trnOpen+y+"px,"+z+"px"+trnClose+" scale("+w+")";if(e.options.onZoom){e.options.onZoom.call(e,b)}return}e.pointX=a.pageX;e.pointY=a.pageY;if(y>0||y<e.maxScrollX){y=e.options.bounce?e.x+(h/2):y>=0||e.maxScrollX>=0?0:e.maxScrollX}if(z>e.minScrollY||z<e.maxScrollY){z=e.options.bounce?e.y+(v/2):z>=e.minScrollY||e.maxScrollY>=0?e.minScrollY:e.maxScrollY}e.distX+=h;e.distY+=v;e.absDistX=k.abs(e.distX);e.absDistY=k.abs(e.distY);if(e.absDistX<6&&e.absDistY<6){return}if(e.options.lockDirection){if(e.absDistX>e.absDistY+5){z=e.y;v=0}else{if(e.absDistY>e.absDistX+5){y=e.x;h=0}}}e.moved=true;e._pos(y,z);e.dirX=h>0?-1:h<0?1:0;e.dirY=v>0?-1:v<0?1:0;if(d-e.startTime>300){e.startTime=d;e.startX=e.x;e.startY=e.y}if(e.options.onScrollMove){e.options.onScrollMove.call(e,b)}},_end:function(b){if(hasTouch&&b.touches.length!=0){return}var e=this,C=hasTouch?b.changedTouches[0]:b,a,D,z={dist:0,time:0},B={dist:0,time:0},g=(b.timeStamp||(Date.now?Date.now():new Date().getTime()))-e.startTime,G=e.x,d=e.y,E,F,A,h,y;e._unbind(MOVE_EV);e._unbind(END_EV);e._unbind(CANCEL_EV);if(e.options.onBeforeScrollEnd){e.options.onBeforeScrollEnd.call(e,b)}if(e.zoomed){y=e.scale*e.lastScale;y=Math.max(e.options.zoomMin,y);y=Math.min(e.options.zoomMax,y);e.lastScale=y/e.scale;e.scale=y;e.x=e.originX-e.originX*e.lastScale+e.x;e.y=e.originY-e.originY*e.lastScale+e.y;e.scroller.style[l+"TransitionDuration"]="200ms";e.scroller.style[l+"Transform"]=trnOpen+e.x+"px,"+e.y+"px"+trnClose+" scale("+e.scale+")";e.zoomed=false;e.refresh();if(e.options.onZoomEnd){e.options.onZoomEnd.call(e,b)}return}if(!e.moved){if(hasTouch){if(e.doubleTapTimer&&e.options.zoom){clearTimeout(e.doubleTapTimer);e.doubleTapTimer=null;if(e.options.onZoomStart){e.options.onZoomStart.call(e,b)}e.zoom(e.pointX,e.pointY,e.scale==1?e.options.doubleTapZoom:1);if(e.options.onZoomEnd){setTimeout(function(){e.options.onZoomEnd.call(e,b)},200)}}else{e.doubleTapTimer=setTimeout(function(){e.doubleTapTimer=null;a=C.target;while(a.nodeType!=1){a=a.parentNode}if(a.tagName!="SELECT"&&a.tagName!="INPUT"&&a.tagName!="TEXTAREA"){D=document.createEvent("MouseEvents");D.initMouseEvent("click",true,true,b.view,1,C.screenX,C.screenY,C.clientX,C.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null);D._fake=true;a.dispatchEvent(D)}},e.options.zoom?250:0)}}e._resetPos(200);if(e.options.onTouchEnd){e.options.onTouchEnd.call(e,b)}return}if(g<300&&e.options.momentum){z=G?e._momentum(G-e.startX,g,-e.x,e.scrollerW-e.wrapperW+e.x,e.options.bounce?e.wrapperW:0):z;B=d?e._momentum(d-e.startY,g,-e.y,(e.maxScrollY<0?e.scrollerH-e.wrapperH+e.y-e.minScrollY:0),e.options.bounce?e.wrapperH:0):B;G=e.x+z.dist;d=e.y+B.dist;if((e.x>0&&G>0)||(e.x<e.maxScrollX&&G<e.maxScrollX)){z={dist:0,time:0}}if((e.y>e.minScrollY&&d>e.minScrollY)||(e.y<e.maxScrollY&&d<e.maxScrollY)){B={dist:0,time:0}}}if(z.dist||B.dist){A=k.max(k.max(z.time,B.time),10);if(e.options.snap){E=G-e.absStartX;F=d-e.absStartY;if(k.abs(E)<e.options.snapThreshold&&k.abs(F)<e.options.snapThreshold){e.scrollTo(e.absStartX,e.absStartY,200)}else{h=e._snap(G,d);G=h.x;d=h.y;A=k.max(h.time,A)}}e.scrollTo(p(G),p(d),A);if(e.options.onTouchEnd){e.options.onTouchEnd.call(e,b)}return}if(e.options.snap){E=G-e.absStartX;F=d-e.absStartY;if(k.abs(E)<e.options.snapThreshold&&k.abs(F)<e.options.snapThreshold){e.scrollTo(e.absStartX,e.absStartY,200)}else{h=e._snap(e.x,e.y);if(h.x!=e.x||h.y!=e.y){e.scrollTo(h.x,h.y,h.time)}}if(e.options.onTouchEnd){e.options.onTouchEnd.call(e,b)}return}e._resetPos(200);if(e.options.onTouchEnd){e.options.onTouchEnd.call(e,b)}},_resetPos:function(b){var e=this,a=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,d=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;if(a==e.x&&d==e.y){if(e.moved){e.moved=false;if(e.options.onScrollEnd){e.options.onScrollEnd.call(e)}}if(e.hScrollbar&&e.options.hideScrollbar){if(l=="webkit"){e.hScrollbarWrapper.style[l+"TransitionDelay"]="300ms"}e.hScrollbarWrapper.style.opacity="0"}if(e.vScrollbar&&e.options.hideScrollbar){if(l=="webkit"){e.vScrollbarWrapper.style[l+"TransitionDelay"]="300ms"}e.vScrollbarWrapper.style.opacity="0"}return}e.scrollTo(a,d,b||0)},_wheel:function(r){var b=this,a,d,e,g,h;if("wheelDeltaX" in r){a=r.wheelDeltaX/12;d=r.wheelDeltaY/12}else{if("wheelDelta" in r){a=d=r.wheelDelta/12}else{if("detail" in r){a=d=-r.detail*3}else{return}}}if(b.options.wheelAction=="zoom"){h=b.scale*Math.pow(2,1/3*(d?d/Math.abs(d):0));if(h<b.options.zoomMin){h=b.options.zoomMin}if(h>b.options.zoomMax){h=b.options.zoomMax}if(h!=b.scale){if(!b.wheelZoomCount&&b.options.onZoomStart){b.options.onZoomStart.call(b,r)}b.wheelZoomCount++;b.zoom(r.pageX,r.pageY,h,400);setTimeout(function(){b.wheelZoomCount--;if(!b.wheelZoomCount&&b.options.onZoomEnd){b.options.onZoomEnd.call(b,r)}},400)}return}e=b.x+a;g=b.y+d;if(e>0){e=0}else{if(e<b.maxScrollX){e=b.maxScrollX}}if(g>b.minScrollY){g=b.minScrollY}else{if(g<b.maxScrollY){g=b.maxScrollY}}b.scrollTo(e,g,0)},_mouseout:function(a){var b=a.relatedTarget;if(!b){this._end(a);return}while(b=b.parentNode){if(b==this.wrapper){return}}this._end(a)},_transitionEnd:function(a){var b=this;if(a.target!=b.scroller){return}b._unbind("webkitTransitionEnd");b._startAni()},_startAni:function(){var h=this,e=h.x,g=h.y,a=Date.now?Date.now():new Date().getTime(),r,b,d;if(h.animating){return}if(!h.steps.length){h._resetPos(400);return}r=h.steps.shift();if(r.x==e&&r.y==g){r.time=0}h.animating=true;h.moved=true;if(h.options.useTransition){h._transitionTime(r.time);h._pos(r.x,r.y);h.animating=false;if(r.time){h._bind("webkitTransitionEnd")}else{h._resetPos(0)}return}d=function(){var v=Date.now?Date.now():new Date().getTime(),s,u;if(v>=a+r.time){h._pos(r.x,r.y);h.animating=false;if(h.options.onAnimationEnd){h.options.onAnimationEnd.call(h)}h._startAni();return}v=(v-a)/r.time-1;b=k.sqrt(1-v*v);s=(r.x-e)*b+e;u=(r.y-g)*b+g;h._pos(s,u);if(h.animating){h.aniTime=nextFrame(d)}};d()},_transitionTime:function(a){a+="ms";this.scroller.style[l+"TransitionDuration"]=a;if(this.hScrollbar){this.hScrollbarIndicator.style[l+"TransitionDuration"]=a}if(this.vScrollbar){this.vScrollbarIndicator.style[l+"TransitionDuration"]=a}},_momentum:function(d,v,g,w,a){var e=0.0006,u=k.abs(d)/v,s=(u*u)/(2*e),b=0,h=0;if(d>0&&s>g){h=a/(6/(s/u*e));g=g+h;u=u*g/s;s=g}else{if(d<0&&s>w){h=a/(6/(s/u*e));w=w+h;u=u*w/s;s=w}}s=s*(d<0?-1:1);b=u/e;return{dist:s,time:p(b)}},_offset:function(d){var a=-d.offsetLeft,b=-d.offsetTop;while(d=d.offsetParent){a-=d.offsetLeft;b-=d.offsetTop}if(d!=this.wrapper){a*=this.scale;b*=this.scale}return{left:a,top:b}},_snap:function(w,a){var d=this,e,g,b,h,u,v;b=d.pagesX.length-1;for(e=0,g=d.pagesX.length;e<g;e++){if(w>=d.pagesX[e]){b=e;break}}if(b==d.currPageX&&b>0&&d.dirX<0){b--}w=d.pagesX[b];u=k.abs(w-d.pagesX[d.currPageX]);u=u?k.abs(d.x-w)/u*500:0;d.currPageX=b;b=d.pagesY.length-1;for(e=0;e<b;e++){if(a>=d.pagesY[e]){b=e;break}}if(b==d.currPageY&&b>0&&d.dirY<0){b--}a=d.pagesY[b];v=k.abs(a-d.pagesY[d.currPageY]);v=v?k.abs(d.y-a)/v*500:0;d.currPageY=b;h=p(k.max(u,v))||200;return{x:w,y:a,time:h}},_bind:function(a,b,d){(b||this.scroller).addEventListener(a,this,!!d)},_unbind:function(a,b,d){(b||this.scroller).removeEventListener(a,this,!!d)},destroy:function(){var a=this;a.scroller.style[l+"Transform"]="";a.hScrollbar=false;a.vScrollbar=false;a._scrollbar("h");a._scrollbar("v");a._unbind(RESIZE_EV,window);a._unbind(START_EV);a._unbind(MOVE_EV);a._unbind(END_EV);a._unbind(CANCEL_EV);if(!a.options.hasTouch){a._unbind("mouseout",a.wrapper);a._unbind(WHEEL_EV)}if(a.options.useTransition){a._unbind("webkitTransitionEnd")}if(a.options.checkDOMChanges){clearInterval(a.checkDOMTime)}if(a.options.onDestroy){a.options.onDestroy.call(a)}},refresh:function(){var r=this,g,a,d,b,e=0,h=0;if(r.scale<r.options.zoomMin){r.scale=r.options.zoomMin}r.wrapperW=r.wrapper.clientWidth||1;r.wrapperH=r.wrapper.clientHeight||1;r.minScrollY=-r.options.topOffset||0;r.scrollerW=p(r.scroller.offsetWidth*r.scale);r.scrollerH=p((r.scroller.offsetHeight+r.minScrollY)*r.scale);r.maxScrollX=r.wrapperW-r.scrollerW;r.maxScrollY=r.wrapperH-r.scrollerH+r.minScrollY;r.dirX=0;r.dirY=0;if(r.options.onRefresh){r.options.onRefresh.call(r)}r.hScroll=r.options.hScroll&&r.maxScrollX<0;r.vScroll=r.options.vScroll&&(!r.options.bounceLock&&!r.hScroll||r.scrollerH>r.wrapperH);r.hScrollbar=r.hScroll&&r.options.hScrollbar;r.vScrollbar=r.vScroll&&r.options.vScrollbar&&r.scrollerH>r.wrapperH;g=r._offset(r.wrapper);r.wrapperOffsetLeft=-g.left;r.wrapperOffsetTop=-g.top;if(Object.prototype.toString.apply(r.options.snap)=="[object Array]"){r.pagesX=[];r.pagesY=[];b=r.options.snap;for(a=0,d=b.length;a<d;a++){e=r._offset(b[a]);e.left+=r.wrapperOffsetLeft;e.top+=r.wrapperOffsetTop;r.pagesX[a]=e.left<r.maxScrollX?r.maxScrollX:e.left*r.scale;r.pagesY[a]=e.top<r.maxScrollY?r.maxScrollY:e.top*r.scale}}else{if(typeof r.options.snap=="string"){r.pagesX=[];r.pagesY=[];b=r.scroller.querySelectorAll(r.options.snap);for(a=0,d=b.length;a<d;a++){e=r._offset(b[a]);e.left+=r.wrapperOffsetLeft;e.top+=r.wrapperOffsetTop;r.pagesX[a]=e.left<r.maxScrollX?r.maxScrollX:e.left*r.scale;r.pagesY[a]=e.top<r.maxScrollY?r.maxScrollY:e.top*r.scale}}else{if(r.options.snap){r.pagesX=[];r.wrapperW=80;while(e>=r.maxScrollX){r.pagesX[h]=e;e=e-r.wrapperW;h++}if(r.maxScrollX%r.wrapperW){r.pagesX[r.pagesX.length]=r.maxScrollX-r.pagesX[r.pagesX.length-1]+r.pagesX[r.pagesX.length-1]}e=0;h=0;r.pagesY=[];while(e>=r.maxScrollY){r.pagesY[h]=e;e=e-r.wrapperH;h++}if(r.maxScrollY%r.wrapperH){r.pagesY[r.pagesY.length]=r.maxScrollY-r.pagesY[r.pagesY.length-1]+r.pagesY[r.pagesY.length-1]}}}}r._scrollbar("h");r._scrollbar("v");if(!r.zoomed){r.scroller.style[l+"TransitionDuration"]="0";r._resetPos(200)}},scrollTo:function(d,e,g,h){var s=this,u=d,a,b;s.stop();if(!u.length){u=[{x:d,y:e,time:g,relative:h}]}for(a=0,b=u.length;a<b;a++){if(u[a].relative){u[a].x=s.x-u[a].x;u[a].y=s.y-u[a].y}s.steps.push({x:u[a].x,y:u[a].y,time:u[a].time||0})}s._startAni()},scrollToElement:function(e,b){var d=this,a;e=e.nodeType?e:d.scroller.querySelector(e);if(!e){return}a=d._offset(e);a.left+=d.wrapperOffsetLeft;a.top+=d.wrapperOffsetTop;a.left=a.left>0?0:a.left<d.maxScrollX?d.maxScrollX:a.left;a.top=a.top>d.minScrollY?d.minScrollY:a.top<d.maxScrollY?d.maxScrollY:a.top;b=b===undefined?k.max(k.abs(a.left)*2,k.abs(a.top)*2):b;d.scrollTo(a.left,a.top,b)},scrollToPage:function(d,e,a){var b=this,g,h;a=a===undefined?400:a;if(b.options.onScrollStart){b.options.onScrollStart.call(b)}if(b.options.snap){d=d=="next"?b.currPageX+1:d=="prev"?b.currPageX-1:d;e=e=="next"?b.currPageY+1:e=="prev"?b.currPageY-1:e;d=d<0?0:d>b.pagesX.length-1?b.pagesX.length-1:d;e=e<0?0:e>b.pagesY.length-1?b.pagesY.length-1:e;b.currPageX=d;b.currPageY=e;g=b.pagesX[d];h=b.pagesY[e]}else{g=-b.wrapperW*d;h=-b.wrapperH*e;if(g<b.maxScrollX){g=b.maxScrollX}if(h<b.maxScrollY){h=b.maxScrollY}}b.scrollTo(g,h,a)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(MOVE_EV);this._unbind(END_EV);this._unbind(CANCEL_EV)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition){this._unbind("webkitTransitionEnd")}else{cancelFrame(this.aniTime)}this.steps=[];this.moved=false;this.animating=false},zoom:function(g,h,a,b){var e=this,d=a/e.scale;if(!e.options.useTransform){return}e.zoomed=true;b=b===undefined?200:b;g=g-e.wrapperOffsetLeft-e.x;h=h-e.wrapperOffsetTop-e.y;e.x=g-g*d+e.x;e.y=h-h*d+e.y;e.scale=a;e.refresh();e.x=e.x>0?0:e.x<e.maxScrollX?e.maxScrollX:e.x;e.y=e.y>e.minScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;e.scroller.style[l+"TransitionDuration"]=b+"ms";e.scroller.style[l+"Transform"]=trnOpen+e.x+"px,"+e.y+"px"+trnClose+" scale("+a+")";e.zoomed=false},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating}};if(typeof exports!=="undefined"){exports.iScroll=iScroll}else{window.iScroll=iScroll}})();(function(){function g(d){this.t=d}function a(h,d){for(var j=d.split(".");j.length;){if(!(j[0] in h)){return !1}h=h[j.shift()]}return h}function k(h,d){return h.replace(e,function(s,u,r,q,m,o,n,j){var s=a(d,q),u="",p;if(!s){return"!"==r?k(m,d):n?k(j,d):""}if(!r){return k(o,d)}if("@"==r){for(p in s){s.hasOwnProperty(p)&&(d._key=p,d._val=s[p],u+=k(m,d))}delete d._key;delete d._val;return u}}).replace(b,function(j,m,l){return(j=a(d,l))||0===j?"%"==m?(new Option(j)).innerHTML.replace(/"/g,"&quot;"):j:""})}var e=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,b=/\{\{([=%])(.+?)\}\}/g;g.prototype.render=function(d){return k(this.t,d)};window.t=g})();if(typeof ycp=="undefined"){var ycp={}}(function(){var k=".",q=function(){},j=Array.prototype.slice,g=(typeof window!="undefined"),e=(g)?window:null,r=String.prototype,m=Object.prototype.toString,E={},s=Object.prototype.hasOwnProperty,G,l=function(B,p){return !!B&&s.call(B,p)},b={"undefined":"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},u=true,z=false;E.namespace=function(){var B=arguments,I=ycp||{},F=0,C,H,p;for(;F<B.length;F++){p=B[F];if(p.indexOf(k)){H=p.split(k);for(C=(H[0]=="ycp")?1:0;C<H.length;C++){I[H[C]]=I[H[C]]||{};I=I[H[C]]}}else{I[p]=I[p]||{}}}return I};E.type=function(p){return b[typeof p]||b[m.call(p)]||(p?"object":"null")};E.isNull=function(p){return p===null};E.isUndefined=function(p){return typeof p==="undefined"};E.isBoolean=function(p){return typeof p==="boolean"};E.isDate=function(p){return E.type(p)==="date"&&p.toString()!=="Invalid Date"&&!isNaN(p)};E.isNumber=function(p){return typeof p==="number"};E.isObject=function(C,B){var p=typeof C;return(C&&(p==="object"||(!B&&(p==="function"||E.isFunction(C)))))||false};E.isFunction=function(p){return E.type(p)==="function"};E.isString=function(p){return typeof p==="string"};E.isArray=(Array.isArray)||function(p){return E.type(p)==="array"};E.ArrayIndexOf=function(F,C){for(var B=0,p=F.length;B<p;++B){if(B in F&&F[B]===C){return B}}return -1},E.hasKey=l;E.keys=(Object.keys)||function(H){if(!E.isObject(H)){throw new TypeError("Object.keys called on a non-object")}var F=[],C,B,p;for(B in H){if(l(H,B)){F[F.length]=B}}return F};E.values=function(H){var F=E.keys(H),C=0,p=F.length,B=[];for(;C<p;++C){B[B.length]=H[F[C]]}return B};E.size=function(B){try{return E.keys(B).length}catch(p){return 0}};E.hasValue=function(B,p){return E.ArrayIndexOf(E.values(B),p)>-1};E.each=function(F,B,H,C){var p;for(p in F){if(C||l(F,p)){B.call(H,F[p],p,F)}}return};E.getValue=function(B,p){if(!E.isObject(B)||!B.hasOwnProperty(p)){return G}return B[p]};E.setValue=function(C,p,B){C[p]=B;return C};E.isEmpty=function(p){return !E.keys(p).length};E.curry=function(C,B){var F=Array.prototype.slice,p=F.apply(arguments,[2]);return function(){return C.apply(B,p.concat(F.apply(arguments)))}},E.Ajax={getTransport:function(){var p={these:function(){var F;for(var C=0,H=arguments.length;C<H;C++){var B=arguments[C];try{F=B();break}catch(I){}}return F}};return p.these(function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},get:function(B){var F="GET",C=this.getTransport(),p=null;C.open(F,B,false);C.send(p);C.onreadystatechange=function(){if(C.readyState===4){}}}};var h={ads:{},timer:false,trackingServerUrl:"",testAds:[],initCreative:function(B,p){this.trackingServerUrl=B[v.OTHER["TRACKING_SERVER_URL"]];this.ads[B.impressionId]={impressionId:B.impressionId,adId:B.adId,b:{},timeStamp:new Date().getTime()};this.startTimer();this.attachOnUnLoad()},add:function(B,K,p){if(!E.hasKey(this.ads,B.impressionId)){this.initCreative(B,K)}var J=this.ads[B.impressionId];var I=ycp.ad.util.JSON.parse(B.ycp_data);var L=[];if(I.productIds!=undefined){L=L.concat(I.productIds)}var C=[];if(I.componentIds!=undefined){C=C.concat(I.componentIds)}var H=[];if(I.ycpCreativeId!=undefined){H=H.concat(I.ycpCreativeId)}if(L!=undefined&&L.length>0){if(J.b.pid==undefined){J.b.pid={}}for(var F=0;F<L.length;F++){if(J.b.pid[L[F]]==undefined){J.b.pid[L[F]]={}}if(J.b.pid[L[F]][K]==undefined){if(K!="in"){J.b.pid[L[F]][K]=0}else{J.b.pid[L[F]][K]={}}}if(K!="in"){++J.b.pid[L[F]][K]}else{if(J.b.pid[L[F]][K][w.shortHands[B.ref]]==undefined){J.b.pid[L[F]][K][w.shortHands[B.ref]]=1}else{++J.b.pid[L[F]][K][w.shortHands[B.ref]]}}}}if(C!=undefined&&C.length>0){if(J.b.cid==undefined){J.b.cid={}}for(var F=0;F<C.length;F++){if(J.b.cid[C[F]]==undefined){J.b.cid[C[F]]={}}if(J.b.cid[C[F]][K]==undefined){if(K!="in"){J.b.cid[C[F]][K]=0}else{J.b.cid[C[F]][K]={}}}if(K!="in"){++J.b.cid[C[F]][K]}else{if(J.b.cid[C[F]][K][w.shortHands[B.ref]]==undefined){J.b.cid[C[F]][K][w.shortHands[B.ref]]=1}else{++J.b.cid[C[F]][K][w.shortHands[B.ref]]}}}}if(H!=undefined&&H.length>0){if(J.b.yid==undefined){J.b.yid={}}for(var F=0;F<H.length;F++){if(J.b.yid[H[F]]==undefined){J.b.yid[H[F]]={}}if(J.b.yid[H[F]][K]==undefined){if(K!="interaction"){J.b.yid[H[F]][K]=0}else{J.b.yid[H[F]][K]={}}}if(K!="interaction"){++J.b.yid[H[F]][K]}else{if(J.b.yid[H[F]][K][w.shortHands[B.ref]]==undefined){J.b.yid[H[F]][K][w.shortHands[B.ref]]=1}else{++J.b.yid[H[F]][K][w.shortHands[B.ref]]}}}}if(p){this.empty()}},empty:function(){if(E.isEmpty(h.ads)){return}var C=ycp.ad.util.JSON.stringify(h.ads);h.ads={};var B=h.trackingServerUrl+"?d="+C;if(a.ajax){E.Ajax.get(B)}else{var p=new Image();p.src=B}},startTimer:function(){h.stopTimer();if(!this.timer){this.timer=window.setInterval(h.empty,30000)}},stopTimer:function(){if(this.timer){window.clearTimeout(this.timer);this.timer=false}},attachOnUnLoad:function(){if(window.addEventListener){window.addEventListener("unload",h.empty,false)}else{if(window.attachEvent){window.attachEvent("onunload",h.empty)}}},shortHands:{impression:"i",click:"c",interaction:"in",close:"co",orientation:"o",load:"l",error:"er","container-load":"cl","container-success":"cs","container-error":"ce","container-timeout":"ct",prodImpression:"p",expand:"e",swipe:"sw",tap:"t",scroll:"s",pagination:"pa",slideshow:"ss",mouseOver:"mo",mouseOut:"mt"}};var d={EVENT:{TYPE:{IMPRESSION:"impression",CLICK:"click",INTERACTION:"interaction",CLOSE:"close",ORIENTATION:"orientation",LOAD:"load",ERROR:"error",CONTAINER_LOAD:"container-load",CONTAINER_SUCCESS:"container-success",CONTAINER_ERROR:"container-error",CONTAINER_TIMEOUT:"container-timeout",PROD_IMPRESSION:"prodImpression"},INTERACTION:{EXPAND:"expand",SWIPE:"swipe",TAP:"tap",SCROLL:"scroll",PAGINATION:"pagination",SLIDESHOW:"slideshow",MOUSE_OVER:"mouseOver",MOUSE_OUT:"mouseOut"}},FIELD:{TYPE:"type",CAMPAIGN_ID:"adId",APPLY_TO_URL:"applyToUrl",IMPRESSION_ID:"impressionId",PRODUCT_ID:"productId",HAS_RESULTS:"hasResults",NUMBER_OF_PRODUCTS:"numProducts",TIME:"time",SCENARIO_ID:"scenarioId",SWF_VERSION:"swfVersion",REF:"ref",FIELD:"field",VALUE:"value",DATA:"data",URL:"url",ERROR_NO:"errorNo",FALLBACK_URL:"fallbackUrl",TIME_STAMP:"timeStamp",YCP_DATA:"ycp_data",PRODUCT_IDS:"productIds",YCP_CREATIVE_ID:"ycpCreativeId",COMPONENT_IDS:"componentIds",ASSET_ID:"assetId",TOTAL_TIME:"totalTime"},OTHER:{USE_AJAX:"use_ajax",TRACKING_SERVER_URL:"trackingServerUrl"}};var v=d,A={},o=d.FIELD,D=d.EVENT.TYPE,n=E,w=h;A[D.IMPRESSION]=[o.IMPRESSION_ID,o.CAMPAIGN_ID,o.TIME,o.HAS_RESULTS,o.NUMBER_OF_PRODUCTS,o.ERROR_NO,o.DATA,o.YCP_DATA];A[D.PROD_IMPRESSION]=[o.IMPRESSION_ID,o.CAMPAIGN_ID,o.PRODUCT_ID,o.TIME,o.HAS_RESULTS,o.ERROR_NO,o.DATA,o.YCP_DATA];A[D.CLICK]=[o.IMPRESSION_ID,o.CAMPAIGN_ID,o.VALUE,o.TIME,o.HAS_RESULTS,o.NUMBER_OF_PRODUCTS,o.ERROR_NO,o.DATA,o.YCP_DATA];A[D.INTERACTION]=[o.IMPRESSION_ID,o.CAMPAIGN_ID,o.TIME,o.HAS_RESULTS,o.ERROR_NO,o.REF,o.DATA,o.YCP_DATA];A[D.CLOSE]=[o.IMPRESSION_ID,o.CAMPAIGN_ID,o.TIME,o.ERROR_NO,o.DATA,o.YCP_DATA];A[D.ERROR]=[o.VALUE];var a={trackingServerUrl:"",tbl:{},beaconsBucket:[],post_data:"",ajax:false,init:function(){this.tbl={};this.tbl={};this.ajax=false},emptyBeaconsBucket:function(){},make_request:function(B){if(E.isUndefined(B)||E.isNull(B)){return}var p;if(this.ajax){n.Ajax.get(B);return}p=new Image;p.src=B},fill_tbl:function(H,C){var B,F,p;if(!n.hasValue(v.EVENT["TYPE"],C)){return null}if(n.isUndefined(H[v.OTHER["TRACKING_SERVER_URL"]])){return null}this.trackingServerUrl=H[v.OTHER["TRACKING_SERVER_URL"]];this.ajax=!n.isUndefined(H[v.OTHER["USE_AJAX"]])&&H[v.OTHER["USE_AJAX"]]?true:false;F=n.keys(v.FIELD),p=F.length;for(B=0;B<p;B++){if(!n.isUndefined(H[F[B]])){this.tbl[F[B]]=encodeURIComponent(H[F[B]])}}F=n.keys(v.EVENT.INTERACTION),p=F.length;for(B=0;B<p;B++){if(!n.isUndefined(H[F[B]])){this.tbl[v.FIELD.REF]=encodeURIComponent(H[F[B]])}}p=A[C].length;for(B=0;B<p;B++){if(!n.isUndefined(H[A[C][B]])){this.tbl[A[C][B]]=encodeURIComponent(H[A[C][B]])}}this.tbl[v.FIELD.TYPE]=C;this.tbl[v.FIELD.TIME_STAMP]=new Date().getTime().toString()},form_uri:function(J,H){var C,F,B,I,p=[];this.init();this.fill_tbl(J,H);I=n.keys(this.tbl);B=I.length;for(F=0;F<B;F++){if(I[F]!==v.FIELD.YCP_DATA){p[F]=I[F]+"="+this.tbl[I[F]]}}C=this.trackingServerUrl+"?"+p.join("&");if(J.hasOwnProperty(v.FIELD.YCP_DATA)){C=C+"&"+v.FIELD.YCP_DATA+"="+(this.tbl[v.FIELD.YCP_DATA])}return C},fire_event:function(B,p){switch(p){case"prodImpression":case"interaction":case"close":case"orientation":case"load":case"error":case"container-load":case"container-success":case"container-error":case"container-timeout":this.make_request(this.form_uri(B,p));break;case"impression":case"click":this.make_request(this.form_uri(B,p));break}}};var y=E.namespace("ycp.ad.util.beacon");y.Constants=d;y.Utils=E;y.fireEvent=E.curry(a.fire_event,a);y.getBeaconUrl=E.curry(a.form_uri,a);y.ads=w.ads})();(function(){var JSON={};function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}ycp.ad.util.JSON=JSON}());if(typeof YCP=="undefined"||!YCP){var YCP={}}if(typeof YCP.Components=="undefined"||!YCP.Components){YCP.Components={};YCP.Components.Listener={}}if(typeof YCP.Event=="undefined"||!YCP.Event){YCP.Event={}}if(typeof YCP.Components.Glue=="undefined"||!YCP.Components.Glue){YCP.Components.Glue=function(){var b={},d={},a={};return{registerAd:function(e){if(!e||!e.imp){return null}if(b[e.imp]){return null}b[e.imp]=e},getAd:function(e){if(!e&&b){for(i in b){return b[i]}return null}return b[e]},registerComponent:function(g,e){if(!g||!e){return null}d[g]=e},register:function(g,e){if(!g||!g.id||!e){return null}d[g.id]=e;if(g.domId){a[g.domId]=e}},getComponent:function(e){return d[e]},getComponentByDomId:function(e){return a[e]},getComponents:function(){return d}}}()}YCP.Utils=function(){var l=window.document,s=l.documentElement,g="className",k="",a=" ",B="class",y=(!s.hasAttribute)?{"for":"htmlFor",className:"className"}:{htmlFor:"for",className:B},u={ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}\\])/g},L,v="hidden",S="(?:^|\\s)",I="(?= |$)",p="g",C={};function q(ab,aa){var Z=false;var G=ab.getAttribute(y[g]);if(G){G=G.replace(/\s+/g,a)}Z=aa&&(a+G+a).indexOf(a+aa+a)>-1;return Z}function Y(ab,aa){var Z=false,G;if(ab&&aa){if(!q(ab,aa)){G=ab.getAttribute(y[g]);G=G||k;ab.className=b(G+a+aa);Z=true}}return Z}function J(ac,ab){var aa=false,Z,ad,G;if(ac&&ab){Z=ac.getAttribute(y[g]);Z=Z||k;ac.className=b(Z.replace(M(ab),k))}}function M(Z){var G;if(Z!==undefined){if(Z.exec){G=Z}else{G=C[Z];if(!G){Z=Z.replace(u.CLASS_RE_TOKENS,"\\$1");Z=Z.replace(/\s+/g,a);G=C[Z]=new RegExp(S+Z+I,p)}}}return G}function U(Z,ac,ad){var aa=(ad)?null:[],ae,ab,G;if(Z){ae=Z.getElementsByTagName(ac);for(ab=0,G=ae.length;ab<G;ab++){if(ad){aa=ae[ab];break}else{aa[aa.length]=ae[ab]}}}return aa}function h(ae,Z,aa){Z=Z||"*";aa=(aa)?aa:null||l;if(!aa){return[]}var ab=[],af=aa.getElementsByTagName(Z),ad=q;for(var ac=0,G=af.length;ac<G;++ac){if(ad(af[ac],ae)){ab[ab.length]=af[ac]}}return ab}function Q(ab){var ac,aa,G,Z;if(ab){if(R(ab)||D(ab)){ac=ab+"";ab=l.getElementById(ab);Z=(ab!=null)?ab.attributes:null;if(ab&&Z&&Z.id&&Z.id.value===ac){return ab}else{if(ab&&l.all){G=l.all[ac];if(G&&G.length){for(aa=0,len=G.length;aa<len;++aa){if(G[aa].id===ac){return G[aa]}}}}}}}return null}function j(Z){var G=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return Z.match(G)}function R(G){return typeof G==="string"}function D(G){return typeof G==="number"}function m(G){return((G-0)==G&&G.length>0)}function d(G){return G===null}function K(G){return typeof G==="undefined"}function b(G){try{return G.replace(/^\s+|\s+$/g,"")}catch(Z){return G}}function e(G){try{return(K(G)||d(G)||b(G)==="")}catch(Z){return false}}function F(Z,G){if(Z===G){return false}while(G&&G!==Z){G=G.parentNode}return G===Z}function O(G){return function(aa){var Z=aa.relatedTarget;if(this===Z||F(this,Z)){return}G.call(this,aa)}}function V(G){return function(aa){var Z=aa.relatedTarget;if(this===Z||F(this,Z)){return}G.call(this,aa)}}function X(Z,G,aa){if(window.addEventListener){if(G==="mouseEnter"){Z.addEventListener("mouseover",O(aa),false)}else{if(G==="mouseLeave"){Z.addEventListener("mouseout",V(aa),false)}else{Z.addEventListener(G,aa,false)}}}else{if(window.attachEvent){Z.attachEvent("on"+G,aa)}}}function H(G,ab,Z){var aa=function(){};aa.prototype=ab.prototype;G.prototype=new aa();G.prototype.constructor=G;G.superclass=ab.prototype;if(Z){for(i in Z){G.prototype[i]=Z[i]}}}function A(G){if(!G){var G=window.event}G.cancelBubble=true;if(G.stopPropagation){G.stopPropagation()}}function E(){var G;var Z=l.createElement("el");var aa={transition:"transitionEnd",OTransition:"oTransitionEnd",msTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(G in aa){if(Z.style[G]!==undefined){return aa[G]}}}function N(){var G;var Z=l.createElement("el");var aa={transition:"transition",OTransition:"OTransition",msTransition:"MSTransition",MozTransition:"MozTransition",WebkitTransition:"WebkitTransition"};for(G in aa){if(Z.style[G]!==undefined){return aa[G]}}return}function P(Z){var aa=[],ab,G=encodeURIComponent;for(ab in Z){if(Z.hasOwnProperty(ab)){aa.push(G(ab)+"="+G(String(Z[ab])))}}return aa.join("&")}function W(aa,Z){var G;for(G in Z){if(Z.hasOwnProperty(G)){aa[G]=Z[G]}}return aa}function o(G,Z){if(G.currentStyle){return G.currentStyle[Z]}else{if(l.defaultView&&l.defaultView.getComputedStyle){return l.defaultView.getComputedStyle(G,"")[Z]}else{return G.style[Z]}}}function r(ab){var ac=ab.getBoundingClientRect(),Z,G,aa;G=window.innerHeight||l.body.clientHeight;aa=window.innerWidth||l.body.clientWidth;visible=!((ac.top<0&&ac.bottom<0)||(ac.top>G)||((ac.left<0&&ac.right<0)||(ac.right>aa)));return visible}function n(ab){var ac=function(ag){var ah=0;return parseFloat(ag.replace(/\./g,function(){return(ah++==1)?"":"."}))},af=navigator,ae={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:af&&af.cajaVersion,secure:false,os:null},aa=ab||(navigator&&navigator.userAgent),ad=window&&window.location,Z=ad&&ad.href,G;ae.secure=Z&&(Z.toLowerCase().indexOf("https")===0);if(aa){if((/windows|win32/i).test(aa)){ae.os="windows"}else{if((/macintosh/i).test(aa)){ae.os="macintosh"}else{if((/rhino/i).test(aa)){ae.os="rhino"}}}if((/KHTML/).test(aa)){ae.webkit=1}G=aa.match(/AppleWebKit\/([^\s]*)/);if(G&&G[1]){ae.webkit=ac(G[1]);if(/ Mobile\//.test(aa)){ae.mobile="Apple";G=aa.match(/OS ([^\s]*)/);if(G&&G[1]){G=ac(G[1].replace("_","."))}ae.ios=G;ae.ipad=ae.ipod=ae.iphone=0;G=aa.match(/iPad|iPod|iPhone/);if(G&&G[0]){ae[G[0].toLowerCase()]=ae.ios}}else{G=aa.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(G){ae.mobile=G[0]}if(/webOS/.test(aa)){ae.mobile="WebOS";G=aa.match(/webOS\/([^\s]*);/);if(G&&G[1]){ae.webos=ac(G[1])}}if(/ Android/.test(aa)){ae.mobile="Android";G=aa.match(/Android ([^\s]*);/);if(G&&G[1]){ae.android=ac(G[1])}}}G=aa.match(/Chrome\/([^\s]*)/);if(G&&G[1]){ae.chrome=ac(G[1])}else{G=aa.match(/AdobeAIR\/([^\s]*)/);if(G){ae.air=G[0]}}}if(!ae.webkit){G=aa.match(/Opera[\s\/]([^\s]*)/);if(G&&G[1]){ae.opera=ac(G[1]);G=aa.match(/Version\/([^\s]*)/);if(G&&G[1]){ae.opera=ac(G[1])}G=aa.match(/Opera Mini[^;]*/);if(G){ae.mobile=G[0]}}else{G=aa.match(/MSIE\s([^;]*)/);if(G&&G[1]){ae.ie=ac(G[1])}else{G=aa.match(/Gecko\/([^\s]*)/);if(G){ae.gecko=1;G=aa.match(/rv:([^\s\)]*)/);if(G&&G[1]){ae.gecko=ac(G[1])}}}}}}return ae}function z(G){G=G||window.event;if("hidden" in l){console.error("h "+l.hidden)}else{if("mozHidden" in l){console.error("moz "+l.mozHidden)}else{if("webkitHidden" in l){console.error("w "+l.webkitHidden)}else{if("msHidden" in l){console.error("ms "+l.msHidden)}}}}}L=n();
/*!
     * contentloaded.js
     *
     * Author: Diego Perini (diego.perini at gmail.com)
     * Summary: cross-browser wrapper for DOMContentLoaded
     * Updated: 20101020
     * License: MIT
     * Version: 1.2
     *
     * URL:
     * http://javascript.nwbox.com/ContentLoaded/
     * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
     *
     */
;function w(aa,ae){var Z=false,ad=true,ag=aa.document,af=ag.documentElement,aj=ag.addEventListener?"addEventListener":"attachEvent",ah=ag.addEventListener?"removeEventListener":"detachEvent",G=ag.addEventListener?"":"on",ai=function(ak){if(ak.type=="readystatechange"&&ag.readyState!="complete"){return}(ak.type=="load"?aa:ag)[ah](G+ak.type,ai,false);if(!Z&&(Z=true)){ae.call(aa,ak.type||ak)}},ac=function(){try{af.doScroll("left")}catch(ak){setTimeout(ac,50);return}ai("poll")};if(ag.readyState=="complete"){ae.call(aa,"lazy")}else{if(ag.createEventObject&&af.doScroll){try{ad=!aa.frameElement}catch(ab){}if(ad){ac()}}ag[aj](G+"DOMContentLoaded",ai,false);ag[aj](G+"readystatechange",ai,false);aa[aj](G+"load",ai,false)}}function T(ab){try{function G(af,aj,ag){var ah,ac,ai=new Date().getTime(),ad=0;function ae(){ad++;if(af.offsetLeft){clearInterval(ah);if(ac){clearTimeout(ac)}aj(null,new Date().getTime()-ai,ad);return true}return false}if(!ae()){ah=setInterval(ae,16);if(ag){ac=setTimeout(function(){clearInterval(ah);aj(new Error("offsetVal poll timeout"),new Date().getTime()-ai)},ag)}}}var Z=l.createElement("div");Z.style.visibility="hidden";Z.style.position="absolute";Z.style.top="32px";Z.style.left="32px";l.body.insertBefore(Z,l.body.firstChild);G(Z,function(ad,ae,ac){Z.parentNode.removeChild(Z);ab(ad,ae,ac)})}catch(aa){ab(aa)}}return{isNull:d,isUndefined:K,trim:b,isBlankString:e,isUrl:j,isString:R,isNumber:D,isNumeric:m,getCSS3TransitionProperty:N,getTransitionEndEvent:E,getDomElement:Q,getElementsByTagName:U,getElementsByClassName:h,hasClass:q,addClass:Y,removeClass:J,addEventListener:X,extend:H,preventBubble:A,ua:L,createHash:P,mix:W,isVisibleInViewport:r,getComputedStyle:o,contentLoaded:w,onOffsetVal:T}}();YCP.Event.CustomEvent=function(a,b){this.type=a;this.fireOnce=b||false;this.fired=false;this.firedWith=null;this.subscribers=[];this.fireCount=0};YCP.Event.CustomEvent.prototype.subscribe=function(b,d,a){d=d||{};if(this.fireOnce&&this.fired){b.call(this,this.firedWith,d)}this.subscribers.push(new YCP.Event.Subscriber(b,d,a))};YCP.Event.CustomEvent.prototype.fire=function(d){d=d||{};var a=this.subscribers.length,b=0;this.firedWith=d;for(b=0;b<a;b++){if(this.subscribers[b]["scope"]!=null){this.subscribers[b]["fn"].call(this.subscribers[b]["scope"],d,this.subscribers[b]["obj"])}else{this.subscribers[b]["fn"].call(this,d,this.subscribers[b]["obj"])}}this.fired=true;this.fireCount++};YCP.Event.Subscriber=function(b,d,a){this.fn=b;this.obj=d||{};this.scope=a||null};YCP.Event.BeaconRegistry=function(a){this.creative=a};var f=function(){YCP.Components.Component=function(){this._ycp_events={}};YCP.Components.Component.prototype.addListener=function(d,b,j,a){var h,g=this._ycp_events[d];if(!g){g=this.createEvent(d)}g.subscribe(b,j,a)};YCP.Components.Component.prototype.fireEvent=function(a,g){try{var d=this._ycp_events[a];if(d){d.fire(g)}}catch(b){}};YCP.Components.Component.prototype.createEvent=function(b){this._ycp_events=this._ycp_events||{};var a=this._ycp_events,d;if(a[b]){}else{d=new YCP.Event.CustomEvent(b);a[b]=d}return a[b]}}();var f=function(){var d=YCP.Utils,b=YCP.Components.Glue,e=1000;YCP.Components.VisualComponent=function(){YCP.Components.VisualComponent.superclass.constructor.call(this)};var a={};d.extend(YCP.Components.VisualComponent,YCP.Components.Component,a);YCP.Components.VisualComponent.prototype.init=function(g){var h=g.domId,j;if(!h){throw {ycp_component_error:g}}h=d.getDomElement(h);if(!h){return}this._domElement=h;this._config=g;b.register(g,this);j=this;d.addEventListener(this._domElement,"click",function(k){j.fireEvent(YCP.Components.VisualComponent.CLICK_EVENT,{config:g,domEvt:k})});d.addEventListener(this._domElement,"mouseover",function(k){j.fireEvent(YCP.Components.VisualComponent.MOUSE_OVER_EVENT,{config:g,domEvt:k})});YCP.Utils.addEventListener(this._domElement,"mouseEnter",function(k){j._enterTime=new Date().getTime();j._leaveTime=j._leaveTime||j._enterTime;if((j._enterTime-j._leaveTime)<e){if(j.timeoutLeaveEvent){clearTimeout(j.timeoutLeaveEvent)}}delete j.leaveTime;j.fireEvent(YCP.Components.VisualComponent.MOUSE_ENTER_EVENT,{config:g,domEvt:k})});YCP.Utils.addEventListener(this._domElement,"mouseLeave",function(k){j._leaveTime=new Date().getTime();if(this.style&&this.style.display=="none"){return}j.timeoutLeaveEvent=setTimeout(function(){j.fireEvent(YCP.Components.VisualComponent.MOUSE_LEAVE_EVENT,{config:g,domEvt:k})},e);delete j._enterTime});this._ycp_events[YCP.Components.VisualComponent.BEFORE_SHOW_EVENT]=new YCP.Event.CustomEvent(YCP.Components.VisualComponent.BEFORE_SHOW_EVENT,true);this._ycp_events[YCP.Components.VisualComponent.SHOW_EVENT]=new YCP.Event.CustomEvent(YCP.Components.VisualComponent.SHOW_EVENT,true);this._ycp_events[YCP.Components.VisualComponent.BEFORE_HIDE_EVENT]=new YCP.Event.CustomEvent(YCP.Components.VisualComponent.BEFORE_HIDE_EVENT,true);this._ycp_events[YCP.Components.VisualComponent.HIDE_EVENT]=new YCP.Event.CustomEvent(YCP.Components.VisualComponent.HIDE_EVENT,true);this._ycp_events[YCP.Components.VisualComponent.MOUSE_OVER_EVENT]=new YCP.Event.CustomEvent(YCP.Components.VisualComponent.MOUSE_OVER_EVENT,false);this._ycp_events[YCP.Components.VisualComponent.CLICK_EVENT]=new YCP.Event.CustomEvent(YCP.Components.VisualComponent.CLICK_EVENT,true);this._ycp_events[YCP.Components.VisualComponent.MOUSE_LEAVE_EVENT]=new YCP.Event.CustomEvent(YCP.Components.VisualComponent.MOUSE_LEAVE_EVENT,true);return this};YCP.Components.VisualComponent.prototype.show=function(h,j){var g;this.fireEvent(YCP.Components.VisualComponent.BEFORE_SHOW_EVENT,{config:this._config});g=this;if(!j){j=function(){setTimeout(function(){g.fireEvent(YCP.Components.VisualComponent.SHOW_EVENT,{config:g._config})},0)}}setTimeout(function(k){return function(){if(h){YCP.Components.Animation.show(k._domElement,h,j)}else{if(k._domElement){var m="none";try{m=d.getComputedStyle(k._domElement,"display")}catch(l){m="none"}if(m==="none"){k._domElement.style.display="block"}k._domElement.style.visibility="visible"}setTimeout(function(){j()},0)}}}(this),0)};YCP.Components.VisualComponent.prototype.hide=function(g){this.fireEvent(YCP.Components.VisualComponent.BEFORE_HIDE_EVENT,{config:this._config});_c=this;function h(){setTimeout(function(){_c.fireEvent(YCP.Components.VisualComponent.HIDE_EVENT,{config:_c._config})},0)}setTimeout(function(j){return function(){if(g){YCP.Components.Animation.hide(j._domElement,g,h)}else{j._domElement.style.display="none";j._domElement.style.visibility="hidden";h()}}}(this),0)};YCP.Components.VisualComponent.prototype.getDomElement=function(){return this._domElement};YCP.Components.VisualComponent.prototype.addClass=function(g){d.addClass(this._domElement,g.className)};YCP.Components.VisualComponent.prototype.removeClass=function(g){d.removeClass(this._domElement,g.className)};YCP.Components.VisualComponent.prototype.getConfig=function(){return this._config};YCP.Components.VisualComponent.prototype.getComponentId=function(){return this._config.id};YCP.Components.VisualComponent.prototype.getDomId=function(){return this._config.domId};YCP.Components.VisualComponent.BEFORE_SHOW_EVENT="beforeShow";YCP.Components.VisualComponent.SHOW_EVENT="show";YCP.Components.VisualComponent.BEFORE_HIDE_EVENT="beforeHide";YCP.Components.VisualComponent.HIDE_EVENT="hide";YCP.Components.VisualComponent.CLICK_EVENT="click";YCP.Components.VisualComponent.MOUSE_OVER_EVENT="mouseOver";YCP.Components.VisualComponent.MOUSE_LEAVE_EVENT="mouseLeave";YCP.Components.VisualComponent.MOUSE_ENTER_EVENT="mouseEnter"}();var f=function(){var b=YCP.Utils,k=5,a,e,m={},g=0;YCP.Components.AdGlueComponent=function(){YCP.Components.AdGlueComponent.superclass.constructor.call(this)};function h(){var o=YCP.Components.Glue.getComponentByDomId;g++;for(i in m){if(o(i)==null){if(g==k){clearInterval(e)}return}}clearInterval(e);a.attachEvents()}function l(){var u=YCP.Components.Glue.getComponentByDomId,w,v,s,p,o,q;w=this.config;try{for(s in w){if(u(s)!=null){v=w[s];v=v||[];for(i=0;i<v.length;i++){_rule=v[i];p=_rule.target;o=_rule.event;q=_rule.method;_params=_rule.params;_params=_params||[];if(p&&u(p)&&o&&q){(function(z,y,A,B){u(s).addListener(z,function(C){u(A)[y].apply(u(A),B);if(C.e){b.preventBubble(C.e);C.e.preventDefault()}})})(o,q,p,_params)}}}}}catch(r){}}function j(w){var s=YCP.Components.Glue.getComponentByDomId,v,u,r,p,o,q;YCP.Components.AdGlueComponent.superclass.init.call(this,w);a=this;v=w.config;this.config=v;for(r in v){m[r]=r;u=v[r];u=u||[];for(i=0;i<u.length;i++){_rule=u[i];p=_rule.target;m[p]=p}}e=setInterval(h,100);return this}function n(o){YCP.Components.AdGlueComponent.superclass.init.call(this,c);a=this;return this}var d={init:j,attachEvents:l,getComponentMetadata:n};b.extend(YCP.Components.AdGlueComponent,YCP.Components.VisualComponent,d)}();YCP.Components.Animation=function(){var d={},g=999999,b=YCP.Utils;d.SLIDE_DOWN="slideDown";d.SLIDE_UP="slideUp";d.SLIDE_LEFT="slideLeft";d.SLIDE_RIGHT="slideRight";d.FADE_IN="fadeIn";d.FADE_OUT="fadeOut";d.PUSH_DOWN="pushDown";d.PUSH_UP="pushUp";function e(m){m.style.display="block";m.style.visibility="visible"}function l(m){m.style.display="none";m.style.visibility="hidden"}function k(m){b.preventBubble(m)}function j(){return b.getTransitionEndEvent()}html5=function(){return{pushDown:function(m,q,u,w){var v,r,p,z,y,s,o;p=q.duration||1;y=q.height||m.offsetHeight;s=m.parentNode.style.height;originTop=m.offsetTop;if(w){m.style.display="block";m.style.height=0+"px"}e(m);m.style.overflow="hidden";v=j();o=b.getCSS3TransitionProperty();function n(A){if((!A.propertyName||(A.propertyName&&A.propertyName=="height"))&&u){u.call(this,A);m.removeEventListener(v,n,false);m.style[o]="none "+p+"s";m.parentNode.style[o]="none "+p+"s";k(A)}else{k(A)}}if(v){m.addEventListener(v,n,false)}else{setTimeout(n,(p+r+1)*1000)}r=q.delay||0;setTimeout(function(){m.style[o]="all "+p+"s";m.parentNode.style[o]="all "+p+"s";m.style["z-index"]=g;if(w){m.style.height=y+"px";m.parentNode.style.height=y+"px"}else{m.style.height=0+"px";m.style.top=(originTop+y)+"px"}},r*1000)},slideDown:function(m,q,s,v){var u,r,p,y,w,o;p=q.duration||1;w=q.height||m.offsetHeight;originTop=m.offsetTop;if(v){m.style.display="block";m.style.height=0+"px"}e(m);m.style.overflow="hidden";u=j();o=b.getCSS3TransitionProperty();function n(z){if((!z.propertyName||(z.propertyName&&z.propertyName=="height"))&&s){s.call(this,z);m.removeEventListener(u,n,false);m.style[o]="none "+p+"s";if(!v){l(m)}k(z)}else{s.call(this,z);k(z)}}if(u){m.addEventListener(u,n,false)}else{setTimeout(n,(p+r+1)*1000)}r=q.delay||0;setTimeout(function(){m.style[o]="all "+p+"s";m.style["z-index"]=g;if(v){setTimeout(function(){m.style.height=w+"px"},0)}else{m.style.height=0+"px";m.style.top=(originTop+w)+"px"}},r*1000)},slideUp:function(m,p,r,u){var s,q,o,y,v,w;o=p.duration||1;v=p.height||m.offsetHeight;w=p.top||m.offsetTop;q=p.delay||0.1;q=(q>0)?q:0.1;if(u){m.style.height=0+"px"}e(m);m.style.overflow="hidden";s=j();css3Transition=b.getCSS3TransitionProperty();function n(z){if((!z.propertyName||(z.propertyName&&z.propertyName=="height"))&&r){r.call(this,z);m.removeEventListener(s,n,false);m.style[css3Transition]="none "+o+"s";if(!u){l(m)}k(z)}else{k(z)}}if(s){m.addEventListener(s,n,false)}else{setTimeout(n,(o+q+1)*1000)}setTimeout(function(){m.style[css3Transition]="all "+o+"s";m.style["z-index"]=g;if(u){m.style.height=v+"px";m.style.top=w+"px"}else{m.style.height=0+"px"}},q*1000)},pushUp:function(m,p,r,u){var s,q,o,y,v,w;o=p.duration||1;v=p.height;q=p.delay||0.1;q=(q>0)?q:0.1;e(m);m.style.overflow="hidden";s=j();css3Transition=b.getCSS3TransitionProperty();function n(z){if((!z.propertyName||(z.propertyName&&z.propertyName=="height"))&&r){r.call(this,z);m.removeEventListener(s,n,false);m.style[css3Transition]="none "+o+"s";m.parentNode.style[css3Transition]="none "+o+"s";if(!u){l(m)}k(z)}else{k(z)}}if(s){m.addEventListener(s,n,false)}else{setTimeout(n,(o+q+1)*1000)}setTimeout(function(){m.style[css3Transition]="all "+o+"s";m.parentNode.style[css3Transition]="all "+o+"s";m.style["z-index"]=g;m.style.height=0+"px";m.parentNode.style.height=v+"px"},q*1000)},slideLeft:function(n,r,u,w){var v,s,q,y,m,p;q=r.duration||1;m=r.width||n.offsetWidth;p=n.offsetLeft;if(w){n.style.left=m+"px";n.style.width=0+"px"}e(n);n.style.overflow="hidden";v=j();css3Transition=b.getCSS3TransitionProperty();function o(z){if(z.propertyName=="width"&&u){u.call(this,z);n.removeEventListener(v,o,false);n.style[css3Transition]="none "+q+"s";if(!w){l(n);n.style.width=m+"px"}k(z)}else{k(z)}}if(v){n.addEventListener(v,o,false)}else{setTimeout(o,(q+s+1)*1000)}s=r.delay||0;setTimeout(function(){n.style[css3Transition]="all "+q+"s";n.style["z-index"]=g;if(w){n.style.width=m+"px";n.style.left=p+"px"}else{n.style.width=0+"px"}},s*1000)},slideRight:function(n,q,s,v){var u,r,p,w,m,y;p=q.duration||1;m=q.width||n.offsetWidth;r=q.delay||0;if(v){n.style.width=0+"px"}e(n);n.style.overflow="hidden";u=j();css3Transition=b.getCSS3TransitionProperty();function o(z){if(z.propertyName=="width"&&s){s.call(this,z);n.removeEventListener(u,o,false);n.style[css3Transition]="none "+p+"s";if(!v){l(n);n.style.width=m+"px";n.style.left=originLeft+"px"}k(z)}else{k(z)}}if(u){n.addEventListener(u,o,false)}else{setTimeout(o,(r+1)*1000)}setTimeout(function(){n.style[css3Transition]="all "+p+"s";n.style["z-index"]=g;if(v){n.style.width=m+"px"}else{n.style.width=0+"px";n.style.left=m+"px"}},r*1000)},fadeIn:function(r,s,m){var q,n,u,p;q=j();css3Transition=b.getCSS3TransitionProperty();u=s.duration||1;n=s.delay||0;r.style[css3Transition]="all "+0+"s";r.style.opacity=0;if(s.originTop){r.style.top=s.originTop+"px"}if(s.originLeft){r.style.left=s.originLeft+"px"}function o(v){if(v.propertyName=="opacity"&&m){m.call(this,v);r.removeEventListener(q,o,false);r.style[css3Transition]="none "+u+"s";k(v)}else{k(v)}}if(q){r.addEventListener(q,o,false)}else{setTimeout(function(){m.call(this)},(n+1)*1000)}setTimeout(function(){r.style[css3Transition]="all "+u+"s";r.style["z-index"]=g;e(r);setTimeout(function(){r.style.opacity=1},n*1000)},0)},fadeOut:function(r,s,m){var q,n,u,p;u=s.duration||1;q=j();css3Transition=b.getCSS3TransitionProperty();n=s.delay||0;function o(v){if(v.propertyName=="opacity"&&m){m.call(this,v);r.removeEventListener(q,o,false);r.style[css3Transition]="none "+u+"s";l(r);r.style.opacity=1;k(v)}else{k(v)}}if(q){r.addEventListener(q,o,false)}else{setTimeout(function(){m.call(this)},(u+n+1)*1000)}setTimeout(function(){r.style[css3Transition]="all "+u+"s";r.style.opacity=0},n*1000)}}}();html5mobile=function(){return{expand:function(n,o,m){},collapse:function(n,o,m){}}}();ie=function(){return{slideDown:function(m,p,r,s){var q,o,w,u,v;o=p.duration||1;u=p.height||m.offsetHeight;v=m.offsetTop;if(s){m.style.height=1+"px"}e(m);m.style.overflow="hidden";function n(){if(r){r.call(this)}}q=p.delay||0;if(s){setTimeout(function(){var y=0,A=10*u/(o*1000);m.style.zIndex=g;e(m);var z=setInterval(function(){if(y>=u){clearInterval(z);setTimeout(n,0)}else{y=y+A;y=(y>u)?u:y;m.style.height=y+"px"}},10)},q*1000)}else{setTimeout(function(){var y=u,A=10*u/(o*1000);m.style.zIndex=g;e(m);var z=setInterval(function(){if(y<=0){l(m);m.style.height=u+"px";m.style.top=v+"px";clearInterval(z);setTimeout(n,0)}else{y=y-A;y=(y<0)?0:y;m.style.height=y+"px";m.style.top=((v+u)-y)+"px"}},10)},q*1000)}},pushDown:function(m,p,r,s){var q,o,w,u,v;o=p.duration||1;u=p.height||m.offsetHeight;v=m.offsetTop;if(s){m.style.height=1+"px"}e(m);m.style.overflow="hidden";function n(){if(r){r.call(this)}}q=p.delay||0;setTimeout(function(){var y=0,A=10*u/(o*1000);m.style.zIndex=g;e(m);m.parentNode.style.height=u+"px";var z=setInterval(function(){if(y>=u){clearInterval(z);setTimeout(n,0)}else{y=y+A;y=(y>u)?u:y;m.style.height=y+"px"}},10)},q*1000)},slideUp:function(m,p,r,s){var q,o,u,v;o=p.duration||1;u=p.height||m.offsetHeight;v=m.offsetTop;if(s){m.style.height=1+"px";m.style.top=(m.offsetTop+u)+"px"}e(m);m.style.overflow="hidden";function n(){if(r){r.call(this)}}q=p.delay||0;if(s){setTimeout(function(){var w=0,z=10*u/(o*1000);m.style.zIndex=g;e(m);var y=setInterval(function(){if(w>=u){clearInterval(y);setTimeout(n,0)}else{w=w+z;w=(w>u)?u:w;m.style.height=w+"px";m.style.top=((v+u)-w)+"px"}},10)},q*1000)}else{setTimeout(function(){var w=u,z=10*u/(o*1000);m.style.zIndex=g;e(m);var y=setInterval(function(){if(w<=0){l(m);clearInterval(y);setTimeout(n,0)}else{w=w-z;w=(w<=0)?0:w;m.style.height=w+"px"}},10)},q*1000)}},pushUp:function(m,p,r,s){var q,o,u,v;o=p.duration||1;u=p.height||m.offsetHeight;v=m.offsetTop;m.style.overflow="hidden";function n(){if(r){r.call(this)}}q=p.delay||0;setTimeout(function(){var w=m.offsetHeight,z=10*w/(o*1000);m.style.zIndex=g;e(m);var y=setInterval(function(){if(w<=0){l(m);m.parentNode.style.height=u+"px";clearInterval(y);setTimeout(n,0)}else{w=w-z;w=(w<=0)?0:w;m.style.height=w+"px"}},10)},q*1000)},slideLeft:function(m,q,s,u){var r,p,v,o;p=q.duration||1;width=q.width||m.offsetWidth;o=m.offsetLeft;if(u){m.style.width=1+"px";m.style.left=(m.offsetLeft+width)+"px"}e(m);m.style.overflow="hidden";function n(){if(s){s.call(this)}}r=q.delay||0;if(u){setTimeout(function(){var y=0,A=10*width/(p*1000);m.style.zIndex=g;e(m);var z=setInterval(function(){if(y>=width){clearInterval(z);setTimeout(n,0)}else{y=y+A;y=(y>width)?width:y;m.style.width=y+"px";m.style.left=((o+width)-y)+"px"}},10)},r*1000)}else{setTimeout(function(){var y=width,A=10*width/(p*1000);m.style.zIndex=g;e(m);var z=setInterval(function(){if(y<=0){l(m);m.style.width=width+"px";clearInterval(z);setTimeout(n,0)}else{y=y-A;y=(y<=0)?0:y;m.style.width=y+"px"}},10)},r*1000)}},slideRight:function(n,r,u,v){var s,q,w,m,p;q=r.duration||1;s=r.delay||0;m=r.width||n.offsetWidth;p=n.offsetLeft;if(v){n.style.width=1+"px"}e(n);n.style.overflow="hidden";function o(){if(u){u.call(this)}}if(v){setTimeout(function(){var y=0,A=10*m/(q*1000);n.style.zIndex=g;e(n);var z=setInterval(function(){if(y>=m){clearInterval(z);setTimeout(o,0)}else{y=y+A;y=(y>m)?m:y;n.style.width=y+"px"}},10)},s*1000)}else{setTimeout(function(){var y=m,A=10*m/(q*1000);n.style.zIndex=g;e(n);var z=setInterval(function(){if(y<=0){l(n);n.style.width=m+"px";n.style.left=p+"px";clearInterval(z);setTimeout(o,0)}else{y=y-A;y=(y<0)?0:y;n.style.width=y+"px";n.style.left=((p+m)-y)+"px"}},10)},s*1000)}},fadeIn:function(n,q,u){var r,p,v,s;p=q.duration||1;r=q.delay||0;function o(){if(u){u.call(this)}}s=0;function m(){if(s<=100){var w="alpha(opacity="+s+")";n.style.filter=w;s=s+10;setTimeout(m,100)}else{e(n);setTimeout(function(){o()},0)}}setTimeout(function(){setTimeout(m,0)},r*1000)},fadeOut:function(o,s,v){var u,r,w,m,q;r=s.duration||1;u=s.delay||0;function p(){if(v){v.call(this)}}opacity=100;function n(){if(opacity>0){var y="alpha(opacity="+opacity+")";o.style.filter=y;opacity=opacity-10;setTimeout(n,100)}else{l(o);o.style.filter="alpha(opacity=100)";setTimeout(function(){p()},0)}}setTimeout(function(){setTimeout(n,0)},u*1000)}}}();function h(n,o,m){if(o&&o.effect){if(d[o.effect]){if(b.getCSS3TransitionProperty()){if(b.ua.iphone>0||b.ua.ios>0||b.ua.android>0){html5[d[o.effect]].call(this,n,o,m,true)}else{html5[d[o.effect]].call(this,n,o,m,true)}}else{ie[d[o.effect]].call(this,n,o,m,true)}}else{if(o.height){n.style.height=o.height+"px"}if(o.width){n.style.width=o.width+"px"}e(n)}}else{if(o&&o.height){n.style.height=o.height+"px"}if(o&&o.width){n.style.width=o.width+"px"}e(n)}}function a(n,o,m){if(o&&o.effect){if(d[o.effect]){if(b.getCSS3TransitionProperty()){if(b.ua.iphone>0||b.ua.ios>0||b.ua.android>0){html5[d[o.effect]].call(this,n,o,m,false)}else{html5[d[o.effect]].call(this,n,o,m,false)}}else{ie[d[o.effect]].call(this,n,o,m,false)}}else{l(n)}}else{l(n)}}return{show:h,hide:a}}();if(typeof YCP.Components.Beacon=="undefined"||!YCP.Components.Beacon){YCP.Components.Beacon=function(){var e=ycp.ad.util.beacon.Constants.FIELD,k=ycp.ad.util.beacon.Constants.EVENT.TYPE,j=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,g=ycp.ad.util.beacon.Constants.OTHER,b=ycp.ad.util.beacon.Utils,h=ycp.ad.util.JSON;function a(){var p=YCP.Components.Glue.getAd(),n,q,o,m={};if(!p){return null}o=p.imp;n=p.bs;q=p.ad;_creativeId=p.crtv;if(!n||!q||!_creativeId){return null}if(n.indexOf("http")==-1&&n.indexOf("https")==-1){n="http://"+n}n+="/TrackingMonkey";m[g.TRACKING_SERVER_URL]=n;m[e.IMPRESSION_ID]=o;m[e.CAMPAIGN_ID]=q;return m}function d(n,u){var o=ycp.ad.util.beacon.Utils;var s={};var q=o.keys(n),m=q.length;for(var p=0;p<m;p++){if(!o.isUndefined(n[q[p]])){s[q[p]]=n[q[p]]}}var r={};q=o.keys(u),m=q.length;for(var p=0;p<m;p++){if(!o.isUndefined(u[q[p]])){r[q[p]]=u[q[p]]}}if(o.size(r)>0){s[ycp.ad.util.beacon.Constants.FIELD.YCP_DATA]=ycp.ad.util.JSON.stringify(r)}return s}return{fireInteractionArgs:function(l){YCP.Components.Beacon.fireInteraction(l.componentId,l.label)},fireInteraction:function(o,n){var m=a();if(m==null){return}m[e.REF]=n;var q={};q[e.COMPONENT_IDS]=[o];q[e.YCP_CREATIVE_ID]=_creativeId;var p=d(m,q);return ycp.ad.util.beacon.fireEvent(p,k.INTERACTION)},fireClickInteraction:function(){var m=a();if(m==null){return}var o={};o[e.YCP_CREATIVE_ID]=_creativeId;var n=d(m,o);return ycp.ad.util.beacon.fireEvent(n,k.CLICK)}}}()}YCP.Components.Listener.EventListener=function(a){this._component=a};YCP.Components.Listener.EventListener.prototype.populateBeaconData=function(b){if(!ycp){return null}var m=b.id,e=b.imp,o=YCP.Components.Glue.getAd(e),a,k,g={};var q=ycp.ad.util.beacon.Constants.FIELD,h=ycp.ad.util.beacon.Constants.EVENT.TYPE,n=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,j=ycp.ad.util.beacon.Constants.OTHER,d=ycp.ad.util.beacon.Utils,p=ycp.ad.util.JSON;if(!o){return null}a=o.bs;k=o.ad;_creativeId=o.crtv;if(!a||!k||!_creativeId){return null}if(a.indexOf("http")==-1&&a.indexOf("https")==-1){a=(location.protocol==="https:"?"https://":"http://")+a}a+="/TrackingMonkey";g[j.TRACKING_SERVER_URL]=a;g[q.IMPRESSION_ID]=e;g[q.CAMPAIGN_ID]=k;return g};YCP.Components.Listener.EventListener.prototype.serializeData=function(b,m){if(!ycp){return null}var e=ycp.ad.util.beacon.Utils;var k={};var h=e.keys(b),a=h.length;for(var g=0;g<a;g++){if(!e.isUndefined(b[h[g]])){k[h[g]]=b[h[g]]}}var j={};h=e.keys(m),a=h.length;for(var g=0;g<a;g++){if(!e.isUndefined(m[h[g]])){j[h[g]]=m[h[g]]}}if(e.size(j)>0){k[ycp.ad.util.beacon.Constants.FIELD.YCP_DATA]=ycp.ad.util.JSON.stringify(j)}return k};var f=function(){var d=YCP.Utils,a;function g(h){YCP.Components.ContainerComponent.superclass.init.call(this,h);a=this;if(h.autoshow){this.show()}this.fireEvent(YCP.Components.ContainerComponent.IMPRESSION_EVENT,{id:h.id});return this}function e(h){YCP.Components.ContainerComponent.superclass.show.call(this,h)}var b={render:g,init:g,show:e};YCP.Components.ContainerComponent=function(){YCP.Components.ContainerComponent.superclass.constructor.call(this)};YCP.Components.ContainerComponent.IMPRESSION_EVENT="impression";d.extend(YCP.Components.ContainerComponent,YCP.Components.VisualComponent,b)}();var f=function(){YCP.Components.CarouselComponent=function(){YCP.Components.CarouselComponent.superclass.constructor.call(this);if(YCP.Components.Listener.CarouselEventListener){new YCP.Components.Listener.CarouselEventListener(this).attachListeners()}this._inited=false;this._currentPage=1;this._autoScrollElapsedTime=0};var z=YCP.Utils,C="Left",V="Right",v="Up",G="Down",r=1,w=0,O=999,n=4,I={CAROUSEL:"ycp-carousel",CAROUSEL_HORIZONTAL:"ycp-carousel-horizontal",CAROUSEL_VERTICAL:"ycp-carousel-vertical",CAROUSEL_CONTENT:"ycp-carousel-content",CAROUSEL_ITEM_LIST:"ycp-carousel-element",CAROUSEL_ITEM:"ycp-carousel-item",CAROUSEL_PAGE_BREAK:"ycp-carousel-pagebreak",CAROUSEL_VISIBLE:"ycp-visible",CAROUSEL_HIDDEN:"ycp-hidden"},H,A,P,y,m,l=0,U,u,d,q,j,S={},o=30,Q,F,W,R={},e={},L,E;function T(Y){var Z=this._products[Y];if(!z.isUndefined(Z)){this.fireEvent(YCP.Components.CarouselComponent.PRODUCT_MOUSEOVER_EVENT,{product:Z,config:this._config})}}function p(Y){var Z=this._products[Y];if(!z.isUndefined(Z)){this.fireEvent(YCP.Components.CarouselComponent.PRODUCT_INTEREST_EVENT,{productId:Z,config:this._config})}}function g(){var ab=this._currentPage,ac=[],aa=(this._currentPage-1)*this._numPerPage,Z,Y=0;for(Z=aa;Z<aa+this._numPerPage;Z++){if(!z.isUndefined(this._products[Z])){ac[Y++]=this._products[Z]}else{break}}this.fireEvent(YCP.Components.CarouselComponent.PRODUCT_IMPRESSION_EVENT,{products:ac,config:this._config})}function h(){this._autoScroll=false;clearTimeout(this._timer);this._autoScrollElapsedTime=0}function b(){if(this._currentPage==1){return false}if(this._orientation===r){this._scroller.scrollToPage("prev",0,this._scrollTime)}else{this._scroller.scrollToPage(0,"prev",this._scrollTime)}return true}function D(){if(this._currentPage>=this._numPages&&!this._loop){return false}if(this._currentPage>=this._numPages&&this._loop){this._loopCount++}if(this._orientation===r){this._scroller.scrollToPage("next","0",this._scrollTime)}else{this._scroller.scrollToPage(0,"next",this._scrollTime)}return true}function N(Z){var Y=D.call(Z);if(Y){Z._timer=setTimeout(function(aa){return function(){N(aa)}}(Z),Z._autoScrollHoldTime)}Z._autoScrollElapsedTime+=Z._autoScrollHoldTime;if(Z._autoScrollTimeout&&(Z._autoScrollElapsedTime>=Z._autoScrollTimeout)){clearTimeout(Z._timer);Z._autoScrollElapsedTime=0}}function M(aa,Z){var Y=aa;if(Y.currentStyle){var ab=Y.currentStyle[Z]}else{if(window.getComputedStyle){var ab=document.defaultView.getComputedStyle(Y,null).getPropertyValue(Z)}}return ab}function s(Z,aw){var ab,Y,aa,aq,ap,ao,at=0,an=0,aj,ad,ae,al,ac,ai,av,ar,ag,af,am;F=this;W=aw;if(!Z){return}am=document.createElement("span");am.className="ycp-carousel-loading";am.style.width=aw.width+"px";am.style.height=aw.height+"px";Z.appendChild(am);ab=z.getElementsByTagName(Z,"div",true);j=z.getElementsByTagName(ab,"ul",true);this.content=j;Y=z.getElementsByTagName(j,"li",false);d=aw.width;q=aw.height;U=aw.rows;u=aw.cols;this._products=aw.products;aa=aw.scrollDirection;if(!aa){aa=C}this._autoScroll=aw.autoScroll;if(!this._autoScroll){this._autoScroll=false}else{this.addListener(YCP.Components.VisualComponent.MOUSE_OVER_EVENT,function(ax){return function(){h.call(ax)}}(this),this);this.addListener(YCP.Components.VisualComponent.MOUSE_LEAVE_EVENT,function(ax){return function(ay){ax._autoScroll=true;ax._timer=setTimeout(function(az){return function(){N(az)}}(ax),ax._autoScrollHoldTime)}}(this),this)}this._autoScrollHoldTime=aw.autoScrollHoldTime;this._autoScrollHoldTime=(this._autoScrollHoldTime&&this._autoScrollHoldTime>0)?(this._autoScrollHoldTime*1000):4000;this._autoScrollTimeout=aw.autoScrollTimeout;this._autoScrollTimeout=(this._autoScrollTimeout&&this._autoScrollTimeout>0)?(this._autoScrollTimeout*1000):null;this._scrollTime=aw.scrollTime;this._scrollTime=(this._scrollTime&&this._scrollTime>0)?(this._scrollTime*1000):400;this._autoScrollHoldTime=(this._autoScrollHoldTime<=this._scrollTime)?(this._scrollTime+400):this._autoScrollHoldTime;this._loop=aw.loop;if(!this._loop){this._loop=false}this._loopCount=0;this._orientation=(aa===C||aa===V)?r:w;z.addClass(Z,I.CAROUSEL);Z.style.width=d+"px";Z.style.height=q+"px";if(this._orientation===r){z.addClass(Z,I.CAROUSEL_HORIZONTAL)}else{z.addClass(Z,I.CAROUSEL_VERTICAL)}z.addClass(ab,I.CAROUSEL_CONTENT);ab.style.width=d+"px";ab.style.height=q+"px";z.addClass(j,I.CAROUSEL_ITEM_LIST);if(this._orientation===r){j.style.height=q+"px"}else{j.style.width=d+"px"}y=q/U;P=d/u;this._numPerPage=U*u;ac=new Array();L=Y.length%this._numPerPage;al=Y.length;E=((al-L)<=0)?al:(al-L);this._numPages=Math.ceil(E/this._numPerPage);if(this._orientation===r){j.style.width=this._numPages*d+"px"}else{j.style.height=this._numPages*q+"px"}for(aq=E;aq<al;aq++){Y[aq].style.display="none"}for(aq=0;aq<E;aq++){z.addClass(Y[aq],I.CAROUSEL_ITEM);if(aq%this._numPerPage==0){z.addClass(Y[aq],I.CAROUSEL_PAGE_BREAK);ac.push(Y[aq])}var ak=Y[aq];YCP.Utils.addEventListener(Y[aq],"mouseEnter",(function(ay,ax,az){return function(){var aA;R[ax]=new Date().getTime();T.call(az,ax);if(az._config.mouseoverStyle){try{aA=z.getElementsByClassName("productComponent","div",ay)[0];for(style in az._config.mouseoverStyle){e[style]=M(aA,style)}for(style in az._config.mouseoverStyle){aA.style[style]=az._config.mouseoverStyle[style]}}catch(aB){if(console){console.log(aB)}}}}})(Y[aq],aq,this));YCP.Utils.addEventListener(Y[aq],"mouseLeave",(function(ay,ax,az){return function(){if(R[ax]){if(new Date().getTime()-R[ax]>O){p.call(az,ax)}delete R[ax]}try{component=z.getElementsByClassName("productComponent","div",ay)[0];for(style in W.mouseoverStyle){component.style[style]=e[style]}}catch(aA){}}})(Y[aq],aq,this))}_idx=0;for(aq=0;aq<this._numPages;aq++){_tempTop=an;_tempLeft=at;for(ap=0;ap<U;ap++){for(ao=0;ao<u;ao++){if(!Y[_idx]){break}Y[_idx].style.position="absolute";Y[_idx].style.top=_tempTop+"px";Y[_idx].style.left=_tempLeft+"px";Y[_idx].style.width=P+"px";Y[_idx].style.height=y+"px";_tempLeft=_tempLeft+P;_idx++}_tempTop=_tempTop+y;_tempLeft=at}if(this._orientation===r){an=0;at=at+u*P}else{an=an+U*y;at=0}}ad=z.getElementsByClassName("prev",null,Z);ad=(ad&&ad.length>0)?ad[0]:null;ae=z.getElementsByClassName("next",null,Z);ae=(ae&&ae.length>0)?ae[0]:null;aj=z.getElementsByTagName(Z,"img",false);if(aj&&aj.length>1){if(!ad){ad=aj[0]}if(!ae){ae=aj[1]}}if(z.ua.ie>0){ab.style.position="relative"}ab.className="";ab.style.display="block";ab.offsetHeight;ai=z.getElementsByClassName("ycp-carousel-item","li",ab);ai.offsetHeight;if(ai&&ai.length>0){ai=ai[0];setTimeout(function(){if(ab.offsetHeight>0&&ai.offsetHeight>0){var ax=(ab.offsetHeight-U*ai.offsetHeight)/2;if(ax>=0){ab.style.paddingTop=ax+"px"}}},0)}if(ad&&ae&&!aw.disableTouch){z.addEventListener(ad,"click",function(ax){return function(ay){h.call(ax);b.call(ax);z.preventBubble(ay)}}(this));z.addEventListener(ae,"click",function(ax){return function(ay){h.call(ax);D.call(ax);z.preventBubble(ay)}}(this));setTimeout(function(){var ay,ax,az;var ax=new Image();ax.src=ad.src;ay=ax.height;if(ay>0){az=(Z.offsetHeight/2-ay/2)+"px"}ad.style.visibility="visible";ae.style.visibility="visible"},0)}if(z.ua.ie>0){}else{try{av=z.getElementsByTagName(Z,"a");av=av||[];for(var aq=0;aq<av.length;aq++){ag=av[aq];ag.tabIndex=-1;z.addEventListener(ag,"focus",function(ax){if(ax.preventDefault){ax.preventDefault()}else{ax.returnValue=false}this.blur();z.preventBubble(ax)})}}catch(au){}}try{ar=z.getElementsByClassName("price","span",Z);ar=ar||[];for(var aq=0;aq<ar.length;aq++){try{af=ar[aq];_priceValue=af&&af.innerHTML;_priceValue=_priceValue||"";if(z.isNumeric(_priceValue)){_priceValue=_priceValue-0;_priceValue=_priceValue.toFixed(2);af.innerHTML=_priceValue}else{_curr=_priceValue.substring(0,1);_curr=_curr||"";_priceValue=_priceValue.substring(1);if(z.isNumeric(_priceValue)){_priceValue=_priceValue-0;_priceValue=_priceValue.toFixed(2);af.innerHTML=_curr+_priceValue}}}catch(au){}}}catch(au){}this._showPagination=aw.showPagination;this._showPagination=this._showPagination||false;if(this._showPagination){ulPagination=z.getElementsByClassName("ycp-carousel-pagination","ul",Z)[0];if(ulPagination){this._paginationRoot=ulPagination;for(aq=0;aq<this._numPages;aq++){liPage=document.createElement("li");if(aq==0){liPage.className="current"}liPageLink=document.createElement("a");z.addEventListener(liPageLink,"click",function(ax,ay){return function(){if(ay._orientation===r){ay._scroller.scrollToPage(ax,"0",ay._scrollTime)}else{ay._scroller.scrollToPage("0",ax,ay._scrollTime)}}}(aq,this));liPage.appendChild(liPageLink);ulPagination.appendChild(liPage)}}}if(am){am.style.display="none"}A=0;H=0;this._currentPage=1;if(this._autoScroll){this._timer=setTimeout(function(ax){return function(){N(ax)}}(this),this._autoScrollHoldTime)}var ah="ontouchstart" in window;this._scroller=new iScroll(ab,{hScrollbar:false,vScrollbar:false,snap:ac,snapThreshold:2,momentum:false,disableMouse:!ah||aw.disableTouch,zoom:false,onScrollEnd:a,onScrollStart:J});this._scroller._carousel=this;g.call(this);z.addClass(ab,I.CAROUSEL_CONTENT);z.addClass(ab,I.CAROUSEL_VISIBLE);this._inited=true}function a(){var aa,Y,Z;if(this._carousel._orientation===r){this._carousel._currentPage=(this.currPageX+1)}else{this._carousel._currentPage=(this.currPageY+1)}if(this._carousel._paginationRoot){aa=z.getElementsByTagName(this._carousel._paginationRoot,"li",false);aa=aa||[];for(Y=0;Y<aa.length;Y++){if((Y+1)==this._carousel._currentPage){aa[Y].className="current"}else{aa[Y].className=""}}}Z=z.isVisibleInViewport(z.getDomElement(this._carousel._config.domId));if(!this._carousel._autoScroll||(this._carousel._autoScroll&&this._carousel._loopCount<1)){if(!this._carousel._autoScroll){this._carousel.fireEvent.call(this._carousel,YCP.Components.CarouselComponent.SCROLL_EVENT,{o:this._carousel._currentPage,config:this._carousel._config})}if(this._carousel._transitionFrom!=this._carousel._currentPage){g.call(this._carousel)}}}function J(){this._carousel._transitionFrom=this._carousel._currentPage;if(this._carousel._currentPage==this._carousel._numPages&&this._carousel._loop){if(this._carousel._orientation===r){this.currPageX=-1}else{this.currPageY=-1}}}function X(Z){var Y=this;function ab(){YCP.Components.CarouselComponent.superclass.init.call(Y,Z);F=Y;Y._config=Z;if((Z.scene&&Z.scene.autoshow&&Z.autoshow)||(!Z.scene&&Z.autoshow)){Y.show()}if(Z.scene&&!Z.scene.autoshow&&Z.autoshow){YCP.Components.Glue.getComponentByDomId(Z.scene.id).addListener(YCP.Components.VisualComponent.SHOW_EVENT,function(ac){return function(ad){ac.show()}}(Y))}}try{z.onOffsetVal(function(){ab()})}catch(aa){ab()}}function k(aa){var Z=0,Y=0,ad,ab;function ac(){var ae;if(Z>=Y){aa();return false}ae=new Image();ae.onload=function(){Z++;ac()};ae.onerror=function(){Z++;ac()};ae.src=ad[Z].src}ad=z.getElementsByClassName("thumbnail","img",z.getDomElement(this._config.domId));if(ad&&ad.length){Y=(ad.length>this._config.cols)?this._config.cols:ad.length;if(Y>0){ac()}else{aa()}}else{aa()}}function K(Z){var Y=this;YCP.Components.CarouselComponent.superclass.show.call(this,Z);if(!this._inited){k.call(this,function(){s.call(Y,z.getDomElement(Y._config.domId),Y._config)})}this.fireEvent(YCP.Components.CarouselComponent.IMPRESSION_EVENT,{products:this._products,config:this._config})}var B={render:X,init:X,prevPage:b,nextPage:D,show:K};YCP.Components.CarouselComponent.IMPRESSION_EVENT="impression";YCP.Components.CarouselComponent.PRODUCT_IMPRESSION_EVENT="productImpression";YCP.Components.CarouselComponent.PRODUCT_INTEREST_EVENT="productInterest";YCP.Components.CarouselComponent.PRODUCT_MOUSEOVER_EVENT="productMouseover";YCP.Components.CarouselComponent.SCROLL_EVENT="scroll";z.extend(YCP.Components.CarouselComponent,YCP.Components.VisualComponent,B)}();var _cu=YCP.Utils;YCP.Components.Listener.CarouselEventListener=function(a){YCP.Components.Listener.CarouselEventListener.superclass.constructor.call(this,a)};_cu.extend(YCP.Components.Listener.CarouselEventListener,YCP.Components.Listener.EventListener);YCP.Components.Listener.CarouselEventListener.prototype.attachListeners=function(){var b=ycp.ad.util.beacon.Constants.FIELD,h=ycp.ad.util.beacon.Constants.EVENT.TYPE,g=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,d=ycp.ad.util.beacon.Constants.OTHER,a=ycp.ad.util.beacon.Utils,e=ycp.ad.util.JSON;this._component.addListener(YCP.Components.CarouselComponent.SCROLL_EVENT,function(){var o=arguments[1],k=arguments[0].config.id,n=arguments[0].o;var j=o.populateBeaconData(arguments[0].config);if(j==null){return}j[b.REF]=g.SCROLL;var p={};p[b.COMPONENT_IDS]=[k];p[b.YCP_CREATIVE_ID]=arguments[0].config.crtv;var m=o.serializeData(j,p);return ycp.ad.util.beacon.fireEvent(m,h.INTERACTION)},this);this._component.addListener(YCP.Components.CarouselComponent.PRODUCT_IMPRESSION_EVENT,function(l){var n=arguments[0].products,m=arguments[1],j=arguments[0].config.id,k=arguments[0].config;setTimeout(function(){var o=m.populateBeaconData(k);if(o==null){return}if((typeof ycpTagData!="undefined")&&ycpTagData&&ycpTagData.ycpLatencyTimerStart){try{o[b.PROD_IMPRESSION_TIME]=new Date().getTime()-ycpTagData.ycpLatencyTimerStart}catch(q){}}var r={};r[b.PRODUCT_IDS]=n;r[b.YCP_CREATIVE_ID]=_creativeId;var p=m.serializeData(o,r);return ycp.ad.util.beacon.fireEvent(p,h.PROD_IMPRESSION)},500)},this);this._component.addListener(YCP.Components.CarouselComponent.PRODUCT_INTEREST_EVENT,function(){var k=arguments[0].productId;_listener=arguments[1];var j=_listener.populateBeaconData(arguments[0].config);if(j==null){return}j[b.REF]=g.MOUSE_OVER;var n={};n[b.PRODUCT_IDS]=[k];n[b.YCP_CREATIVE_ID]=_creativeId;var m=_listener.serializeData(j,n);return ycp.ad.util.beacon.fireEvent(m,h.INTERACTION)},this);return this};var f=function(){YCP.Components.ProductListComponent=function(){YCP.Components.ProductListComponent.superclass.constructor.call(this);if(YCP.Components.Listener.ProductListEventListener){new YCP.Components.Listener.ProductListEventListener(this).attachListeners()}};var J=YCP.Utils,v=1000,u={PRODUCT_LIST:"ycp-product-list",PRODUCT_LIST_VERTICAL:"ycp-product-list-vertical",PRODUCT_LIST_CONTENT:"ycp-product-list-content",PRODUCT_LIST_ITEM_LIST:"ycp-product-list-element",PRODUCT_LIST_ITEM:"ycp-product-list-item"},l=1,j,k,b,e,z,G,h,g,y,D,o,N,d,q,L={},B=30,a,p,F,E={},M,m=false,H;function K(O){var P=q[O];if(!J.isUndefined(P)){this.fireEvent(YCP.Components.ProductListComponent.PRODUCT_INTEREST_EVENT,{productId:P,config:p})}}function s(){var R=l,S=[],Q=(l-1)*h,P,O=0;for(P=Q;P<Q+h;P++){if(!J.isUndefined(q[P])){S[O++]=q[P]}else{break}}this.fireEvent(YCP.Components.ProductListComponent.PRODUCT_IMPRESSION_EVENT,{products:S,config:p})}function n(){this.fireEvent(YCP.Components.ProductListComponent.IMPRESSION_EVENT,{products:q,config:p})}function I(R,ah){var aa,Q,af,ad,ac,ag=0,ab=0,Y,T,U,O,X,P=1,ae=0,W={},V,S;if(!R){return}M=this;aa=J.getElementsByTagName(R,"div",true);d=J.getElementsByTagName(aa,"ul",true);Q=J.getElementsByTagName(d,"li",false);o=ah.width;N=ah.height;O=ah.rows;X=ah.rowHeight;q=ah.products;J.addClass(R,u.PRODUCT_LIST);J.addClass(R,u.PRODUCT_LIST_VERTICAL);R.style.width=o+"px";R.style.height=N+"px";J.addClass(aa,u.PRODUCT_LIST_CONTENT);aa.style.width=o+"px";aa.style.height=N+"px";J.addClass(d,u.PRODUCT_LIST_ITEM_LIST);for(af=0,S=Q.length;af<S;af++){J.addClass(Q[af],u.PRODUCT_LIST_ITEM);var Z=Q[af];V=J.getElementsByTagName(Z,"a",true);if(V&&V.href){Q[af].onclick=(function(aj,ai){return function(ak){if(typeof mraid!="undefined"&&mraid){mraid.open(aj)}else{window.open(aj,"_blank")}J.preventBubble(ak)}})(V.href,Q[af])}YCP.Utils.addEventListener(Q[af],"mouseEnter",(function(aj,ai){return function(){E[ai]=new Date().getTime()}})(Q[af],af));YCP.Utils.addEventListener(Q[af],"mouseLeave",(function(aj,ai){return function(){if(E[ai]){if(new Date().getTime()-E[ai]>v){K.call(M,ai)}delete E[ai]}}})(Q[af],af))}e=X;b=o;h=O*P;G=Math.ceil(Q.length/h);_idx=0;_tempTop=ab;_tempLeft=0;for(_idx=0;_idx<Q.length;_idx++){Q[_idx].style.top=_tempTop+"px";Q[_idx].style.left=_tempLeft+"px";Q[_idx].style.width=b+"px";Q[_idx].style.height=e+"px";_tempTop=ab+(_idx+1)*e;ae=ae+e}d.style.width=o+"px";d.style.display="block";d.style.height=ae+"px";l=1;s.call(this);aa.className="";setTimeout(function(){aa.style.display="block";a=new iScroll(aa,{vScrollbar:false,onScrollEnd:w});if(H){H.style.display="none"}},600)}function w(){M.fireEvent.call(M,YCP.Components.ProductListComponent.SCROLL_EVENT,{config:p})}function r(O){YCP.Components.ProductListComponent.superclass.init.call(this,O);M=this;p=O;if((O.scene&&O.scene.autoshow&&O.autoshow)||(!O.scene&&O.autoshow)){this.show()}if(O.scene&&!O.scene.autoshow&&O.autoshow){YCP.Components.Glue.getComponentByDomId(O.scene.id).addListener(YCP.Components.VisualComponent.SHOW_EVENT,function(P){M.show()})}return this}function A(O){function P(){if(!m){H=document.createElement("span");H.className="ycp-carousel-loading";H.style.width=p.width+"px";H.style.height=p.height+"px";J.getDomElement(p.domId).appendChild(H);I.call(M,J.getDomElement(p.domId),p);m=true}}YCP.Components.ProductListComponent.superclass.show.call(this,O,P);this.fireEvent(YCP.Components.CarouselComponent.IMPRESSION_EVENT,{products:q,config:p})}var C={render:r,init:r,show:A,fireProductImpression:s,fireImpression:n};YCP.Components.ProductListComponent.IMPRESSION_EVENT="impression";YCP.Components.ProductListComponent.PRODUCT_IMPRESSION_EVENT="productImpression";YCP.Components.ProductListComponent.PRODUCT_INTEREST_EVENT="productInterest";YCP.Components.ProductListComponent.SCROLL_EVENT="scroll";J.extend(YCP.Components.ProductListComponent,YCP.Components.VisualComponent,C)}();var _cu=YCP.Utils,_component;YCP.Components.Listener.ProductListEventListener=function(a){YCP.Components.Listener.ProductListEventListener.superclass.constructor.call(this,a);_component=a};_cu.extend(YCP.Components.Listener.ProductListEventListener,YCP.Components.Listener.EventListener);YCP.Components.Listener.ProductListEventListener.prototype.attachListeners=function(){var d=ycp.ad.util.beacon.Constants.FIELD,k=ycp.ad.util.beacon.Constants.EVENT.TYPE,j=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,e=ycp.ad.util.beacon.Constants.OTHER,a=ycp.ad.util.beacon.Utils,h=ycp.ad.util.JSON,g,b;this._component.addListener(YCP.Components.ProductListComponent.SCROLL_EVENT,function(){var p=arguments[1],n=arguments[0].config.id;var m=p.populateBeaconData(arguments[0].config);if(m==null){return}m[d.REF]=j.SCROLL;var q={};q[d.COMPONENT_IDS]=[n];q[d.YCP_CREATIVE_ID]=arguments[0].config.crtv;var o=p.serializeData(m,q);return ycp.ad.util.beacon.fireEvent(o,k.INTERACTION)},this);this._component.addListener(YCP.Components.ProductListComponent.PRODUCT_IMPRESSION_EVENT,function(o){var r=arguments[0].products,p=arguments[1],n=arguments[0].config.id;var m=p.populateBeaconData(arguments[0].config);if(m==null){return}var q={};q[d.PRODUCT_IDS]=r;q[d.YCP_CREATIVE_ID]=_creativeId;var o=p.serializeData(m,q);return ycp.ad.util.beacon.fireEvent(o,k.PROD_IMPRESSION)},this);this._component.addListener(YCP.Components.ProductListComponent.PRODUCT_INTEREST_EVENT,function(){var n=arguments[0].productId;_listener=arguments[1];var m=_listener.populateBeaconData(arguments[0].config);if(m==null){return}m[d.REF]=k.MOUSE_OVER;var p={};p[d.PRODUCT_IDS]=[n];p[d.YCP_CREATIVE_ID]=_creativeId;var o=_listener.serializeData(m,p);return ycp.ad.util.beacon.fireEvent(o,k.INTERACTION)},this);return this};var f=function(){YCP.Components.ExpandableComponent=function(){YCP.Components.ExpandableComponent.superclass.constructor.call(this);if(YCP.Components.Listener.ExpandableEventListener){new YCP.Components.Listener.ExpandableEventListener(this).attachListeners()}};var B=YCP.Utils,p,s={BASE:"ycp-base-layer",FIXED_POSITION:"ycp-fixed-position",FIXED_POSITION_TOP:"ycp-fixed-position-top",FIXED_POSITION_BOTTOM:"ycp-fixed-position-bottom",STATIC_POSITION:"ycp-static-position",EXPANDABLE:"ycp-expandable",EXPANDED:"ycp-expanded-layer",VISIBLE:"ycp-visible",HIDDEN:"ycp-hidden",BLOWOUT:"ycp-blowout",CLOSE:"ycp-expandable-close"},E={},h={},r={TOP:"top",BOTTOM:"bottom",NONE:"none"},q=999999,j,k,g,J,I,o,H,F,A,b,m=480,n=1000,G="#fff";function a(){var K=window.pageYOffset;var L=window.pageXOffset;k.style.top=K;var K=window.pageYOffset;k.style.webkitTransform="translateY("+K+"px)"}function e(L){var K=["transform","WebkitTransform","msTransform","MozTransform","OTransform"];var M;while(M=K.shift()){if(typeof L.style[M]!="undefined"){return M}}return false}function u(K){K.stopPropagation();K.preventDefault()}function v(){setTimeout(function(){J.style.cssText="-webkit-transition: all 0ms ease-out";J.style.width=window.innerWidth+"px";J.style.height=0+"px";J.style.top=window.innerHeight+"px";J.style.zIndex=0;g.style.zIndex=0;J.style.visibility="hidden";J.style.display="none";g.style.cssText+=" -webkit-transition: all 0ms ease-out";g.style.visibility="hidden";if(typeof mraid!="undefined"&&mraid){mraid.close()}},0);return}function y(){var K=m,M=10*m/n;var L=setInterval(function(){if(K<=1){g.style.visibility="hidden";g.style.zIndex=0;g.style.height="0px";clearInterval(L)}else{K=K-M;if(K<=0){K=1}g.style.height=K+"px"}},10);return}function D(){if(e(g)){if(B.ua.iphone>0||B.ua.ios>0||B.ua.android>0){v()}else{g.style.height=0+"px"}}else{y()}j.fireEvent(YCP.Components.ExpandableComponent.COLLAPSE_EVENT,{config:p})}function l(){setTimeout(function(){var N,M;if(B.ua.iphone>0||B.ua.ios>0||B.ua.android>0){J.style.cssText="position: absolute; background-color: "+G+"; opacity: 1; -webkit-transition: all 0 ease-out"}else{J.style.cssText="position: absolute; background-color: "+G+"; opacity: 1; -webkit-transition: all 200ms ease-out"}J.style.visibility="visible";J.style.zIndex=q-1;J.style.top=J.style.left=0+"px";J.style.width=window.innerWidth+"px";J.style.height=Math.max(window.innerHeight,480)+"px";J.style.webkitTransformOrigin="0 0";var L=document.querySelector('meta[name="viewport"]');if(L){h.content=L.content}window.scrollTo(0,1);M=window.pageYOffset;N=window.pageXOffset;J.style.top=0+"px";J.style.left=0+"px";g.style.zIndex=q;g.style.height=m+"px";var K=(g.offsetWidth&&g.offsetWidth>0)?g.offsetWidth:320;g.style.left=(J.offsetWidth-K)/2+"px";g.style.visibility="visible";if(typeof mraid!="undefined"&&mraid){mraid.setExpandProperties({useCustomClose:true});mraid.expand()}YCP.Components.Glue.getComponentByDomId(p.expandContainerId).show()},0)}function C(){var K=0,M=10*m/n;g.style.zIndex=q;g.style.height="1px";g.style.visibility="visible";var L=setInterval(function(){if(K>=m){clearInterval(L)}else{K=K+M;K=(K>m)?m:K;g.style.height=K+"px"}},10);return}function d(){if(e(g)){if(B.ua.iphone>0||B.ua.ios>0||B.ua.android>0){l()}else{g.style.height=m+"px";g.style.visibility="visible";g.style.zIndex=q;YCP.Components.Glue.getComponentByDomId(p.expandContainerId).show()}}else{C()}j.fireEvent(YCP.Components.ExpandableComponent.EXPAND_EVENT,{config:p})}function z(K){p=K;j=this;var L;YCP.Components.Glue.registerComponent(K.id,this);k=B.getDomElement(K.baseContainerId);if(k&&k.parentNode){B.addClass(k.parentNode,s.EXPANDABLE)}B.addClass(k,s.BASE);B.addEventListener(k,"touchmove",u);g=B.getDomElement(K.expandContainerId);__expandContainerHeight=g.offsetHeight;B.addClass(g,s.EXPANDED);B.addClass(g,s.HIDDEN);if(B.ua.ios<=0){g.style.height="0px"}else{g.style.cssText=g.style.cssText+" -webkit-transition: all 0ms ease-out"}if(B.ua.iphone>0||B.ua.ios>0||B.ua.android>0){J=B.getDomElement("blowout");if(!J){J=document.createElement("div")}B.addClass(J,s.BLOWOUT);J.style.width=window.innerWidth+"px";J.style.top=window.innerHeight+"px";J.style.display="none";document.body.appendChild(J);setTimeout(function(){J.appendChild(g)},0);B.addEventListener(J,"webkitTransitionEnd",function(M){J.removeEventListener("webkitTransitionEnd",arguments.callee);g.style.zIndex=q;B.addEventListener(J,"webkitTransitionEnd",function(N){J.removeEventListener("webkitTransitionEnd",arguments.callee);setTimeout(function(){g.style.webkitTransform="none";g.style.visibility="visible";J.appendChild(g)},0)});J.style.webkitTransform="scale(1, 1)";g.style.webkitTransform="scale(1, 1)"});B.addEventListener(J,"touchmove",u)}B.addEventListener(g,"touchstart",function(N){N.stopPropagation();var M=new Date(),O=M-(E.timeOfLastTouch||M);if(O>0&&O<=250){E.isDoubleTap=true;N.preventDefault()}E._timeOfLastTouch=M});B.addEventListener(g,"touchmove",u);B.addEventListener(g,"touchend",function(M){if(E.isDoubleTap){E={};M.stopPropagation();M.preventDefault()}else{E={}}});B.addEventListener(g,"touchcancel",function(M){E={}});if(B.isUndefined(K.expandHotspotId)||B.getDomElement(K.expandHotspotId)==null){K.expandHotspotId=K.baseContainerId}I=B.getDomElement(K.expandHotspotId);I.style.cursor="pointer";I.onclick=d;L=B.getElementsByClassName(s.CLOSE,null,g);L=(L&&L.length>0)?L[0]:null;createClose=(K.createClose===false)?false:true;if(L==null&&createClose){setTimeout(function(){var M=document.createElement("img");B.addClass(M,s.CLOSE);M.style.left="2px";M.style.top="2px";M.style.position="absolute";M.style.zIndex=1000;M.src=(location.protocol==="https:"?"https://s.yimg.com":"http://l.yimg.com")+"/tt/ycreativeapi/components/assets/close-button.png";g.appendChild(M);B.addEventListener(M,"mousedown",D)},0)}else{if(L){o=L;B.addEventListener(o,"mousedown",D);o.style.cursor="pointer"}}H=K.baseContainerPinLocation;H=H||r.NONE;if(B.ua.ios>=5&&H!=r.NONE){k.style.position="fixed";if(H==r.TOP){k.style.top="0px"}else{k.style.top="auto";k.style.bottom="0px"}}F=K.expandContainerPinchingAllowed;A=K.expandContainerExpansionDirection;b=K.expandContainerContentLayout;setTimeout(function(){j.fireEvent(YCP.Components.ExpandableComponent.IMPRESSION_EVENT,{config:p})},0);if(typeof mraid!="undefined"&&mraid&&mraid.getState()!="ready"){}else{}if(typeof mraid!="undefined"&&mraid){mraid.setExpandProperties({useCustomClose:true});mraid.addEventListener("stateChange",function(M){switch(M){case"hidden":D();break;case"default":break}})}}var w={initFromMarkup:z,render:z,init:z,expand:d,collapse:D};YCP.Components.ExpandableComponent.IMPRESSION_EVENT="impression";YCP.Components.ExpandableComponent.EXPAND_EVENT="expand";YCP.Components.ExpandableComponent.COLLAPSE_EVENT="collapse";B.extend(YCP.Components.ExpandableComponent,YCP.Components.VisualComponent,w)}();var _cu=YCP.Utils;YCP.Components.Listener.ExpandableEventListener=function(a){YCP.Components.Listener.ExpandableEventListener.superclass.constructor.call(this,a)};_cu.extend(YCP.Components.Listener.ExpandableEventListener,YCP.Components.Listener.EventListener);YCP.Components.Listener.ExpandableEventListener.prototype.attachListeners=function(){var b=ycp.ad.util.beacon.Constants.FIELD,h=ycp.ad.util.beacon.Constants.EVENT.TYPE,g=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,d=ycp.ad.util.beacon.Constants.OTHER,a=ycp.ad.util.beacon.Utils,e=ycp.ad.util.JSON;this._component.addListener(YCP.Components.ExpandableComponent.IMPRESSION_EVENT,function(){var m=arguments[1];var j=m.populateBeaconData(arguments[0].config);if(j==null){return}var n={};n[b.COMPONENT_IDS]=[arguments[0].config.id];n[b.YCP_CREATIVE_ID]=arguments[0].config.crtv;var k=m.serializeData(j,n);return ycp.ad.util.beacon.fireEvent(k,h.IMPRESSION)},this);this._component.addListener(YCP.Components.ExpandableComponent.EXPAND_EVENT,function(k){var m=arguments[1];var j=m.populateBeaconData(arguments[0].config);if(j==null){return}j[b.REF]=g.EXPAND;var n={};n[b.COMPONENT_IDS]=[arguments[0].config.id];n[b.YCP_CREATIVE_ID]=arguments[0].config.crtv;var k=m.serializeData(j,n);return ycp.ad.util.beacon.fireEvent(k,h.INTERACTION)},this);this._component.addListener(YCP.Components.ExpandableComponent.COLLAPSE_EVENT,function(){var m=arguments[1];var j=m.populateBeaconData(arguments[0].config);if(j==null){return}var n={};n[b.COMPONENT_IDS]=[arguments[0].config.id];n[b.YCP_CREATIVE_ID]=arguments[0].config.crtv;var k=m.serializeData(j,n);return ycp.ad.util.beacon.fireEvent(k,h.CLOSE)},this);return this};var f=function(){var b=YCP.Utils;YCP.Components.HotspotComponent=function(){YCP.Components.HotspotComponent.superclass.constructor.call(this);if(YCP.Components.Listener.HotspotEventListener){new YCP.Components.Listener.HotspotEventListener(this).attachListeners()}};function a(e){var g,j=e.clickURL,h=e.clickTarget;YCP.Components.ImageComponent.superclass.init.call(this,e);if(e.autoshow){this.show()}g=b.getDomElement(e.domId);g.style.opacity=0;g.style.filter="alpha(opacity=0)";g.style.backgroundColor="#eee";g.style.cursor="hand";g.style.cursor="pointer";if(j&&(!b.isBlankString(j))){h=h||"_blank";b.addEventListener(g,"click",function(){if(typeof mraid!="undefined"&&mraid){mraid.open(j)}else{if(window.open){window.open(j,h)}}})}this.fireEvent(YCP.Components.HotspotComponent.IMPRESSION_EVENT,{id:e.id})}var d={render:a,init:a};YCP.Components.HotspotComponent.IMPRESSION_EVENT="impression";b.extend(YCP.Components.HotspotComponent,YCP.Components.VisualComponent,d)}();var _cu=YCP.Utils;YCP.Components.Listener.HotspotEventListener=function(a){YCP.Components.Listener.HotspotEventListener.superclass.constructor.call(this,a)};_cu.extend(YCP.Components.Listener.HotspotEventListener,YCP.Components.Listener.EventListener);YCP.Components.Listener.HotspotEventListener.prototype.attachListeners=function(){var d=this;var b=ycp.ad.util.beacon.Constants.FIELD,j=ycp.ad.util.beacon.Constants.EVENT.TYPE,h=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,e=ycp.ad.util.beacon.Constants.OTHER,a=ycp.ad.util.beacon.Utils,g=ycp.ad.util.JSON;this._component.addListener(YCP.Components.VisualComponent.MOUSE_ENTER_EVENT,function(){var o=arguments[1];var m=d.populateBeaconData(arguments[0].config);var k=arguments[0].config.fireBeacons?arguments[0].config.fireBeacons:false;if(!k){return}if(m==null){return}m[b.REF]=h.MOUSE_OVER;var p={};p[b.COMPONENT_IDS]=[arguments[0].config.id];p[b.YCP_CREATIVE_ID]=_creativeId;var n=d.serializeData(m,p);return ycp.ad.util.beacon.fireEvent(n,j.INTERACTION)},this);return this};var f=function(){var b=YCP.Utils,j,e=999999;YCP.Components.SceneComponent=function(){YCP.Components.SceneComponent.superclass.constructor.call(this);this._children=[];this._touch={}};function d(m){m.stopPropagation();m.preventDefault()}function k(n){var m;YCP.Components.SceneComponent.superclass.init.call(this,n);j=this;this.config=n;var p=n.modal||false,q;this.modal=p;var r=b.getDomElement(n.domId);if((b.ua.iphone>0||b.ua.ios>0||b.ua.android>0)&&p){q=b.getDomElement("modal"+n.domId);if(!q){q=document.createElement("div");q.id="modal"+n.domId;b.addClass(q,"ycp-blowout");q.style.visibility="hidden";q.style.display="none";q.style.backgroundColor="#fff";q.style.position="absolute";q.style.zIndex=e-1;q.style.top=q.style.left=0+"px";q.style.width=window.innerWidth+"px";q.style.height=Math.max(window.outerHeight,520)+"px";q.style.webkitTransformOrigin="0 0";q.style.webkitTransform="translateZ(0)";document.body.appendChild(q);q.appendChild(r)}b.addEventListener(q,"touchmove",d);b.addEventListener(r,"touchstart",function(u){u.stopPropagation();var s=new Date(),v=s-(this._touch.timeOfLastTouch||s);if(v>0&&v<=250){this._touch.isDoubleTap=true;u.preventDefault()}this._touch._timeOfLastTouch=s});b.addEventListener(r,"touchmove",d);b.addEventListener(r,"touchend",function(s){if(this._touch.isDoubleTap){this._touch={};s.stopPropagation();s.preventDefault()}else{this._touch={}}});b.addEventListener(r,"touchcancel",function(s){this._touch={}});var o=function(){var u=this;setTimeout(function(){var s=u.anim.width||300;var v=b.getDomElement(u.config.domId);s=(q.offsetWidth-s);s=(s<=0)?0:s;v.style.position="absolute";v.style.left=s/2+"px";v.style.display="block";window.scrollTo(0,1);return},0)};this.addListener("show",o,{},this);r.style.visibility="visible";this._domElement=q}if((n.scene&&n.scene.autoshow&&n.autoshow)||(!n.scene&&n.autoshow)){this.show()}if(n.scene&&!n.scene.autoshow&&n.autoshow){YCP.Components.Glue.getComponentByDomId(n.scene.id).addListener(YCP.Components.VisualComponent.SHOW_EVENT,function(u,s){s.s.show()},{s:this})}return this}function a(m){this._children[_children.length]=m}function l(){return _children}function h(m){this.anim=m;YCP.Components.SceneComponent.superclass.show.call(this,m)}var g={init:k,registerChild:a,getChildren:l,show:h};b.extend(YCP.Components.SceneComponent,YCP.Components.VisualComponent,g)}();var f=function(){YCP.Components.FlashComponent=function(){YCP.Components.FlashComponent.superclass.constructor.call(this)};var j=YCP.Utils,d={play:"play",loop:"loop",menu:"menu",scale:"scale",quality:"quality",wmode:"wmode",bgcolor:"bgcolor",allowScriptAccess:"allowScriptAccess",allowFullScreen:"allowFullScreen"};flash={params:function(l,m){var k=[],o,n=l.match(/embed/g);for(o in m){if(n){k.push(o+'="'+m[o]+'"')}else{k.push("<param name="+o+' value="'+m[o]+'">')}}return[l,k.join(" ")]},objectEmbed:function(s,H,D,J,N,L,l,P,y,k,n,I,m,F,O,M,u){var q=u||{},N=N||"transparent",J=J||"true",y=y||"high",L=L||"false",l=l||"false",P=P||"noscale",k=k||"#FFF",I=I||"true",n=n||"always";var G=(j.ua.ie>0),p=(G)?"object":"embed",v;var E=m;if(typeof(m)==="object"){var z=[],o,r=encodeURIComponent,w;if(Object.prototype.toString.call(m)==="[object Array]"){for(var B=0;B<m.length;B++){z.push(r(E[B].name)+"="+r(String(E[B].value)))}}else{for(w in m){if(m.hasOwnProperty(w)){z.push(r(w)+"="+r(m[w].toString()))}}}E=z.join("&")}var C={movie:s,play:J},A={src:s,id:"swf"+O,width:H,height:D,type:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"},K={wmode:N,quality:y,loop:L,menu:l,bgcolor:k,allowFullScreen:I,allowScriptAccess:n,FlashVars:E};if(G){K=j.mix(K,C)}else{K=j.mix(K,A)}K=j.mix(K,q);v=flash.ad_embedObj("swf",O,F,H,D,flash.params(p,K),M)},ad_embedObj:function(s,p,q,l,v,r,w){var n="",o=w||"",k=j.getDomElement(q)||null,u=(s+p)||"",m="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";if(!s.match(/swf/gi)||!r[0].match(/object|embed/gi)||k===null){return false}if(r[0].match(/object/gi)){n='<object style="display:block;" alt="'+o+'" classid="'+m+'" id="'+u+'" width="'+l+'" height="'+v+'">'+r[1]+"</object>"}else{n='<embed style="display:block;" alt="'+o+'" name="'+u+'_name" id="'+u+'" '+r[1]+"></embed>"}k.innerHTML=n;return k.firstChild}};function g(o){var p,m={},r={},k=o.flashvars||{},l,q;YCP.Components.FlashComponent.superclass.init.call(this,o);this._flashRoot=document.createElement("div");this._flashRoot.id=o.id+"-inner";this.getDomElement().appendChild(this._flashRoot);for(p in o){if(d[p]){m[p]=o[p]}}flash.objectEmbed(o.src,o.width,o.height,o.play,o.wmode,o.loop,o.menu,o.scale,o.quality,o.bgcolor,o.allowScriptAccess,o.allowFullScreen,k,this._flashRoot.id,0,"alt",{});q=this;var n=window.setInterval(function(s){var u=document.getElementById(q._flashRoot.id);if(u&&u.nodeName=="OBJECT"){q._flashRoot=u;q.fireEvent(YCP.Components.FlashComponent.FLASH_READY_EVENT,{});clearInterval(n)}else{if(!u){clearInterval(n)}}},100);return this}function h(){return this._flashRoot}function e(){try{h().Play();this.fireEvent(YCP.Components.FlashComponent.FLASH_PLAY_EVENT,{})}catch(k){}}function b(){try{this.getFlashObject().StopPlay();this.fireEvent(YCP.Components.FlashComponent.FLASH_STOP_EVENT,{})}catch(k){if(console){console.log("error "+k)}}}var a={init:g,getFlashObject:h,play:e,stop:b};YCP.Components.FlashComponent.FLASH_READY_EVENT="flashReady";YCP.Components.FlashComponent.FLASH_PLAY_EVENT="flashPlay";YCP.Components.FlashComponent.FLASH_STOP_EVENT="flashStop";j.extend(YCP.Components.FlashComponent,YCP.Components.VisualComponent,a)}();var f=function(){var d=YCP.Utils;YCP.Components.ImageComponent=function(){YCP.Components.ImageComponent.superclass.constructor.call(this)};function a(g){YCP.Components.ImageComponent.superclass.init.call(this,g);if(g.autoshow){this.show()}}function e(g){YCP.Components.ImageComponent.superclass.show.call(this,g)}var b={init:a,show:e};d.extend(YCP.Components.ImageComponent,YCP.Components.VisualComponent,b)}();var f=function(){YCP.Components.TextComponent=function(){YCP.Components.TextComponent.superclass.constructor.call(this)};var d=YCP.Utils;function b(g){YCP.Components.TextComponent.superclass.init.call(this,g);if(g.autoshow){this.show()}return this}function e(g){YCP.Components.TextComponent.superclass.show.call(this,g)}var a={init:b,show:e};d.extend(YCP.Components.TextComponent,YCP.Components.VisualComponent,a)}();function zestVideoTimer(d,b){var a=YCP.Components.Glue.getComponent(d);if(!_videoComponent._paused){a.updateScrubBar(b)}}function track(e,a){var d=YCP.Components.Glue.getComponent(e),b=d.getConfig();switch(a){case"start":d.fireEvent(YCP.Components.VideoComponent.VIDEO_STARTED_EVENT,{config:b});break;case"done":if(d._domElementPlay){d._domElementPlay.className="play control"}setTimeout(function(){b.onVideoEnd=b.onVideoEnd||0;if(b.onVideoEnd==0){}else{if(b.onVideoEnd==1){if(d._replayButton){}if(d._lastFrame){d._lastFrame.style.display="block";setTimeout(function(){d._lastFrameImage.style.left=((d._lastFrame.offsetWidth-d._lastFrameImage.offsetWidth)/2)+"px";d._lastFrameImage.style.top=((d._lastFrame.offsetHeight-d._lastFrameImage.offsetHeight)/2)+"px"},0)}}else{if(b.onVideoEnd==2){d.play()}}}},1);d._paused=true;d.fireEvent(YCP.Components.VideoComponent.VIDEO_ENDED_EVENT,{config:b});break;case"p1":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK10_EVENT,{config:b});break;case"p2":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK20_EVENT,{config:b});break;case"p3":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK30_EVENT,{config:b});break;case"p4":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK40_EVENT,{config:b});break;case"p5":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK50_EVENT,{config:b});break;case"p6":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK60_EVENT,{config:b});break;case"p7":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK70_EVENT,{config:b});break;case"p8":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK80_EVENT,{config:b});break;case"p9":d.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK90_EVENT,{config:b});break}}function flashInitialized(b){var a=YCP.Components.Glue.getComponent(b);a.setPlayerReady()}function updateVideoMetadata(d,b){var a=YCP.Components.Glue.getComponent(d);a.setVideoDuration(b)}var f=function(){YCP.Components.VideoComponent=function(){YCP.Components.VideoComponent.superclass.constructor.call(this)};var z=YCP.Utils,W,Q,g,H,F,p,e={PLAY_VIDEO:"play",STOP_VIDEO:"stop",PAUSE_VIDEO:"pause",REWIND_VIDEO:"rewind",MUTE_VIDEO:"muteon",UNMUTE_VIDEO:"muteoff",VIDEO_FULL_SCREEN:"fullscreen",VIDEO_NORMAL_SIZE:"normalsize",SCRUB_TO:"scrubto"};function S(X){YCP.Components.VideoComponent.superclass.init.call(this,X);_videoComponent=this;W=X;p=u();M();Q=document.getElementById(W.domId);Q.onclick=function(){z.preventBubble()};this._domElementScrub=null;this._domElementScrubElapsed=null;this._domElementControlBar=null;P.call(this);this._paused=true;this._muted=false;this._fullscreen=false;this._playerReady=false;this._replayButton=document.createElement("div");this._replayButton.innerHTML="Replay";this._replayButton.className="replay-button";this._replayButton.onclick=function(){_videoComponent.play();z.preventBubble()};Q.appendChild(this._replayButton);if(W.lastFrame){this._lastFrame=document.createElement("div");this._lastFrameImage=document.createElement("img");this._lastFrameImage.src=W.lastFrame;this._lastFrameImage.className="last-frame-image";this._lastFrame.appendChild(this._lastFrameImage);this._lastFrame.className="last-frame";Q.appendChild(this._lastFrame);if(W.clickURL){this._lastFrame.style.cursor="pointer";this._lastFrame.onclick=function(){window.open(W.clickURL,"_blank");z.preventBubble()}}}if(X.autoshow){this.show()}}function K(X){YCP.Components.VideoComponent.superclass.show.call(this,X)}function M(){var Y=YCP.BwDetection;var X=Y.getUserBandwidth();r(X);if(!z.isUrl(H)){throw {ycp_component_error:W}}}function J(aa){var Z=Math.floor(aa%60),X=Math.floor(aa/60%60),Y=Math.floor(aa/3600);Y=(Y>0)?Y+":":"";X=((Y&&X<10)?"0"+X:X)+":";Z=(Z<10)?"0"+Z:Z;return Y+X+Z}function r(X){switch(X){case YCP.BwDetection.BANDWIDTH_TYPES.MEDIUM:H=W.bitrate700;break;case YCP.BwDetection.BANDWIDTH_TYPES.MEDIUM:H=W.bitrate300;break;case YCP.BwDetection.BANDWIDTH_TYPES.LOW:default:H=W.bitrate100}}function V(Y,X){p?l.call(this,Y,X):v.call(this,Y,X)}function l(aa,Y){switch(aa){case e.PLAY_VIDEO:if(_videoComponent._domElementPlay){_videoComponent._domElementPlay.className="pause control"}if(_videoComponent._replayButton){_videoComponent._replayButton.style.display="none"}if(_videoComponent._lastFrame){_videoComponent._lastFrame.style.display="none"}var X=window.setInterval(function(ab){if(_videoComponent._playerReady){try{F.adxVControl("play");clearInterval(X)}catch(ac){clearInterval(X)}}},500);this._paused=false;break;case e.PAUSE_VIDEO:if(_videoComponent._domElementPlay){_videoComponent._domElementPlay.className="play control"}F.adxVControl(aa);this._paused=true;break;case e.REWIND_VIDEO:F.adxVControl("stop");break;case e.MUTE_VIDEO:F.adxVControl(aa);this._muted=true;if(_videoComponent._domElementVolume){_videoComponent._domElementVolume.className="volume-off control"}break;case e.UNMUTE_VIDEO:F.adxVControl(aa);this._muted=false;if(_videoComponent._domElementVolume){_videoComponent._domElementVolume.className="volume-on control"}break;case e.VIDEO_FULL_SCREEN:F.adxVControl(aa);this._fullscreen=true;break;case e.VIDEO_NORMAL_SIZE:if(F.webkitSupportsFullscreen){F.webkitExitFullscreen();this._fullscreen=false}break;case e.SCRUB_TO:var Z=Y;F.zestScrubTo(Z);break;default:console.log("Unsupported action : "+aa)}}function v(Z,X){switch(Z){case e.PLAY_VIDEO:if(_videoComponent._replayButton){_videoComponent._replayButton.style.display="none"}if(_videoComponent._lastFrame){_videoComponent._lastFrame.style.display="none"}_videoComponent._domElementPlay.className="pause control";F.play();this._paused=false;break;case e.PAUSE_VIDEO:_videoComponent._domElementPlay.className="play control";F.pause();this._paused=true;break;case e.REWIND_VIDEO:F.currentTime=0;break;case e.MUTE_VIDEO:F.muted=true;this._muted=true;_videoComponent._domElementVolume.className="volume-off control";break;case e.UNMUTE_VIDEO:F.muted=false;this._muted=false;_videoComponent._domElementVolume.className="volume-on control";break;case e.VIDEO_FULL_SCREEN:if(F.webkitSupportsFullscreen){try{_videoComponent._domElementControlBar.webkitRequestFullScreen();F.webkitRequestFullScreen()}catch(aa){console.log("error going to full screen "+aa)}this._fullscreen=true}break;case e.VIDEO_NORMAL_SIZE:if(F.webkitSupportsFullscreen){F.webkitExitFullscreen();this._fullscreen=false}break;case e.SCRUB_TO:var Y=X;F.currentTime=Y;break;default:console.log("Unsupported action : "+Z)}}function P(){if(p){m.call(this)}else{a.call(this)}}function a(){F=document.createElement("video");F.setAttribute("id","videoElem");Q.appendChild(F);if(R()){B.call(this)}else{L()}}function L(){console.log("TBD:needs to handle")}function y(){var ao,al,aa,ah,an,ae,ak,Z,af,ac,ab,ad,ai,X,Y=this,ag,am;ao=document.createElement("div");ao.className="controls";this._domElementControlBar=ao;af=document.createElement("div");af.style.clear="both";al=document.createElement("div");al.className="play control";ao.appendChild(al);al.onclick=function(ap){if(Y._paused){Y.play()}else{Y.pause()}z.preventBubble()};this._domElementPlay=al;an=document.createElement("div");an.className="scrubContainer";ae=document.createElement("div");ae.className="scrub";this._domElementScrub=ae;this._domElementScrub.onclick=function(ap){var aq;if(!_videoComponent._paused){if(ap.offsetX){ag=ap.offsetX}else{ag=ap.layerX-this.offsetLeft}aq=(ag/this.offsetWidth)*F.duration;Y.seek(aq)}z.preventBubble()};ak=document.createElement("div");ak.className="scrub-elapsed";ae.appendChild(ak);this._domElementScrubElapsed=ak;Z=document.createElement("div");Z.className="scrub-head";ae.appendChild(Z);Z.innerHTML="&nbsp;";this._domElementScrubHead=Z;an.appendChild(ae);ao.appendChild(an);an.style.width=(W.width-147)+"px";am=document.createElement("div");am.className="controls-right";ad=document.createElement("div");ad.className="time";ac=document.createElement("span");ac.className="elapsed-time";ac.innerHTML="0.00";ad.appendChild(ac);this._domElementTimeElapsed=ac;ab=document.createElement("span");ab.className="duration";ab.innerHTML=":0.00";ad.appendChild(ab);this._domElementTotalTime=ab;am.appendChild(ad);ai=document.createElement("div");ai.className="volume-on control";am.appendChild(ai);ai.onclick=function(){if(Y._muted){Y.unmute()}else{Y.mute()}z.preventBubble()};this._domElementVolume=ai;X=document.createElement("div");X.className="full-screen control";am.appendChild(X);X.onclick=function(){if(Y._fullscreen){Y.gotoNormalSize();X.className="full-screen control";ao.webkitRequestFullScreen()}else{Y.gotoFullScreen();X.className="normal-dimensions control"}z.preventBubble()};ao.appendChild(am);var aj=(1*W.width);ao.style.left=(W.width-aj)/2+"px";return ao}function B(){F.controls=false;Q.appendChild(y.call(this));F.style.width="100%";F.style.height="100%";if(W.poster){F.setAttribute("poster",W.poster)}F.appendChild(k(H,"video/mp4"));F.autobuffer=false;if(W.mute){_videoComponent.mute()}else{_videoComponent.unmute()}q();F.load();if(W.autoplay&&W.autoshow){_videoComponent.play()}}function u(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]=="object"){return true}else{if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(X){}}}return false}function m(){n.call(this)}function n(){var Y=new YCP.Components.FlashComponent();Y.addListener(YCP.Components.FlashComponent.FLASH_READY_EVENT,function(){F=Y.getFlashObject()});Y.init({domId:W.domId,id:W.id,scale:"exactfit",allowFullScreen:true,allowScriptAccess:"always",menu:"false",wmode:"transparent",height:W.height,width:W.width,type:"application/x-shockwave-flash",src:(location.protocol==="https:"?"https://s.yimg.com":"http://l.yimg.com")+"/tt/ycreativeapi/components/assets/video/default/InlineVidPlayer.swf",flashvars:{adxid:W.id,adxvol:100,adxmute:W.mute?1:0,adxshowcontrol:W.scrub,adxbuf:1,adxplay:W.autoplay,adxvcom:"track",zestvideotimer:"zestVideoTimer",video:encodeURIComponent(H)}});YCP.Components.Glue.register(W,_videoComponent);var X=window.setInterval(function(Z){var aa;if(F.readyState>0){aa=Math.round(F.duration);_videoComponent._domElementTotalTime.innerHTML=":"+J(aa);clearInterval(X)}},500)}function k(Z,X){var Y=document.createElement("source");Y.src=Z;Y.type=X;return Y}function R(){return F.canPlayType}function T(){return F}function j(X){}function q(){F.addEventListener("start",b);F.addEventListener("timeupdate",A);F.addEventListener("progress",U);F.addEventListener("ended",C);var X=window.setInterval(function(Y){var Z;if(F.readyState>0){Z=Math.round(F.duration);_videoComponent._domElementTotalTime.innerHTML=":"+J(Z);clearInterval(X)}},500);YCP.Utils.addEventListener(Q,"mouseEnter",function(Y){_videoComponent._domElementControlBar.style.opacity=1});YCP.Utils.addEventListener(Q,"mouseLeave",function(Y){_videoComponent._domElementControlBar.style.opacity=0});F.addEventListener("webkitfullscreenchange",j);YCP.Utils.addEventListener(F,"click",function(Y){if(_videoComponent._paused){_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_CLICK_ON_LAST_FRAME_EVENT,{config:W})}})}function b(){_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_STARTED_EVENT,{config:W})}function A(){var aa=_videoComponent._domElementScrub.offsetWidth,Z=(F.currentTime/F.duration)*(aa),Y,X;progressId=Math.floor((F.currentTime/F.duration)*10);Y=Math.ceil(Z)+"px";X=Math.ceil(Z)-12;_videoComponent._domElementScrubElapsed.style.width=Y;_videoComponent._domElementScrubHead.style.left=X+"px";_videoComponent._domElementTimeElapsed.innerHTML=J(F.currentTime);if(progressId<1||progressId>9){progressEvents={};return}if(!progressEvents[progressId]){switch(progressId){case 1:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK10_EVENT,{config:W});break;case 2:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK20_EVENT,{config:W});break;case 3:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK30_EVENT,{config:W});break;case 4:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK40_EVENT,{config:W});break;case 5:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK50_EVENT,{config:W});break;case 6:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK60_EVENT,{config:W});break;case 7:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK70_EVENT,{config:W});break;case 8:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK80_EVENT,{config:W});break;case 9:_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYBACK90_EVENT,{config:W});break}progressEvents[progressId]=true}}function U(Y){try{var X=(F.buffered.end(0)/F.duration)*100}catch(Y){}}function C(){_videoComponent._paused=true;if(_videoComponent._domElementPlay){_videoComponent._domElementPlay.className="play control"}setTimeout(function(){W.onVideoEnd=W.onVideoEnd||0;if(W.onVideoEnd==0){}else{if(W.onVideoEnd==1){if(_videoComponent._replayButton){}if(_videoComponent._lastFrame){_videoComponent._lastFrame.style.display="block";setTimeout(function(){_videoComponent._lastFrameImage.style.left=((_videoComponent._lastFrame.offsetWidth-_videoComponent._lastFrameImage.offsetWidth)/2)+"px";_videoComponent._lastFrameImage.style.top=((_videoComponent._lastFrame.offsetHeight-_videoComponent._lastFrameImage.offsetHeight)/2)+"px"},0)}}else{if(W.onVideoEnd==2){F.currentTime=0;_videoComponent.pause();_videoComponent.play()}}}},1);_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_ENDED_EVENT,{config:W})}function D(){V.call(this,"play");_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAY_EVENT,{config:W})}function d(){V.call(this,"pause");_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PAUSE_EVENT,{config:W})}function o(){V.call(this,"muteon");_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_MUTE_EVENT,{config:W})}function N(){V.call(this,"muteoff");_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_UNMUTE_EVENT,{config:W})}function h(){V.call(this,"rewind");_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_REWIND_EVENT,{config:W})}function O(X){V("fullscreen");_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_FULLSCREEN_EVENT,{config:W})}function G(Y){var Z=_videoComponent._domElementScrub.offsetWidth,X=(Y/F.duration)*(Z-4);_videoComponent._domElementScrubElapsed.style.width=X+"px";_videoComponent._domElementTimeElapsed.innerHTML=J(Y);_videoComponent._domElementScrubHead.style.left=(X-12)+"px"}function w(X){V("scrubto",X)}function s(){this._playerReady=true;_videoComponent.fireEvent(YCP.Components.VideoComponent.VIDEO_PLAYER_READY_EVENT,{})}function E(X){F.duration=X;_videoComponent._domElementTotalTime.innerHTML=":"+J(X)}var I={init:S,show:K,play:D,pause:d,rewind:h,mute:o,unmute:N,seek:w,setAvailableBandwidth:r,getVideoObject:T,updateScrubBar:G,setPlayerReady:s,setVideoDuration:E,gotoFullScreen:O};YCP.Components.VideoComponent.VIDEO_PLAYER_READY_EVENT="videoPlayerReady";YCP.Components.VideoComponent.VIDEO_PLAY_EVENT="videoPlay";YCP.Components.VideoComponent.VIDEO_PAUSE_EVENT="videoPause";YCP.Components.VideoComponent.VIDEO_FULLSCREEN_EVENT="videoFullscreen";YCP.Components.VideoComponent.VIDEO_MUTE_EVENT="videoMute";YCP.Components.VideoComponent.VIDEO_UNMUTE_EVENT="videoUnmute";YCP.Components.VideoComponent.VIDEO_REWIND_EVENT="videoRewind";YCP.Components.VideoComponent.VIDEO_STARTED_EVENT="VIDEO_STARTED_EVENT";YCP.Components.VideoComponent.VIDEO_ENDED_EVENT="videoEnded";YCP.Components.VideoComponent.VIDEO_PLAYBACK10_EVENT="VIDEO_PLAYBACK10_EVENT";YCP.Components.VideoComponent.VIDEO_PLAYBACK25_EVENT="playback25";YCP.Components.VideoComponent.VIDEO_PLAYBACK50_EVENT="playback50";YCP.Components.VideoComponent.VIDEO_PLAYBACK75_EVENT="playback75";YCP.Components.VideoComponent.VIDEO_CLICK_ON_LAST_FRAME_EVENT="lastframevideoclick";YCP.Components.VideoComponent.VIDEO_PLAYBACK20_EVENT="VIDEO_PLAYBACK20_EVENT";YCP.Components.VideoComponent.VIDEO_PLAYBACK30_EVENT="VIDEO_PLAYBACK30_EVENT";YCP.Components.VideoComponent.VIDEO_PLAYBACK40_EVENT="VIDEO_PLAYBACK40_EVENT";YCP.Components.VideoComponent.VIDEO_PLAYBACK60_EVENT="VIDEO_PLAYBACK60_EVENT";YCP.Components.VideoComponent.VIDEO_PLAYBACK70_EVENT="VIDEO_PLAYBACK70_EVENT";YCP.Components.VideoComponent.VIDEO_PLAYBACK80_EVENT="VIDEO_PLAYBACK80_EVENT";YCP.Components.VideoComponent.VIDEO_PLAYBACK90_EVENT="VIDEO_PLAYBACK90_EVENT";z.extend(YCP.Components.VideoComponent,YCP.Components.VisualComponent,I)}();var _cu=YCP.Utils;YCP.Components.Listener.VideoEventListener=function(a){YCP.Components.Listener.VideoEventListener.superclass.constructor.call(this,a)};_cu.extend(YCP.Components.Listener.VideoEventListener,YCP.Components.Listener.EventListener);YCP.Components.Listener.VideoEventListener.prototype.attachListeners=function(){var e=ycp.ad.util.beacon.Constants.FIELD,k=ycp.ad.util.beacon.Constants.EVENT.TYPE,j=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,g=ycp.ad.util.beacon.Constants.OTHER,a=ycp.ad.util.beacon.Utils,h=ycp.ad.util.JSON;function d(){var o=arguments[1];var m=o.populateBeaconData(arguments[0].config);if(m==null){return}var p={};p[e.COMPONENT_IDS]=arguments[0].config.id;p[e.YCP_CREATIVE_ID]=arguments[0].config.crtv;var n=o.serializeData(m,p);return n}var b=this._component;this._component.addListener(YCP.Components.VideoComponent.SHOW_EVENT,function(){var l=d(arguments);return ycp.ad.util.beacon.fireEvent(l,k.IMPRESSION)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAY_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAY_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PAUSE_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PAUSE_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_FULLSCREEN_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_FULLSCREEN_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_MUTE_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_MUTE_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_UNMUTE_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_UNMUTE_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_REWIND_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_REWIND_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_STARTED_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_STARTED_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_ENDED_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_ENDED_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK10_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK10_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK20_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK20_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK30_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK30_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK40_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK40_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK50_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK50_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK60_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK60_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK70_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK70_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK80_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK80_EVENT)},this);this._component.addListener(YCP.Components.VideoComponent.VIDEO_PLAYBACK90_EVENT,function(){YCP.Components.Beacon.fireInteraction(b.getComponentId(),YCP.Components.VideoComponent.VIDEO_PLAYBACK90_EVENT)},this);return this};YCP.BwDetection=function(){var s=YCP.Utils,a,j,g,d=41621,n,k="userDownloadBw",q,l={LOW:"0",MEDIUM:"1",HIGH:"2"},u={LOCAL_HTML5:"0",LOCAL_PC_COOKIE:"1",SERVER:"2"};function r(A){a=0;A.src=(location.protocol==="https:"?"https://s.yimg.com":"http://l.yimg.com")+"/tt/ycreativeapi/components/assets/video/default/yahooadtech3.jpg";imgSize=d;imgSize=imgSize*8;A.src=A.src+"?=rand="+Math.random()}function h(){q=w()?u.LOCAL_HTML5:u.LOCAL_PC_COOKIE;var A=l.LOW;if(p(q,k)){A=p(q,k)}var B=new Image();r(B);j=(new Date()).getTime();B.onload=y(B,m);return A}function w(){return(s.ua.mobile!="undefined"&&s.ua.mobile!=null)}function y(A,B){return function(){return B.apply(A,arguments)}}function o(){return(typeof(Storage)!=="undefined")}function m(){g=(new Date()).getTime();imgSize=imgSize*8;n=(g-j)/1000;speedKbps=(imgSize/n)/1024;speedKbps=Math.round(speedKbps);var B=(speedKbps/1024).toFixed(2);var A=l.LOW;if(speedKbps>100&&speedKbps>1000){A=l.MEDIUM}else{if(speedKbps>=1000){A=l.HIGH}}v(q,k,A)}function v(B,A,C){if(B===u.LOCAL_HTML5){localStorage.setItem(A,C)}else{if(B===u.LOCAL_PC_COOKIE){z(A,C)}else{if(B===u.SERVER){console.log("_store non supported DETECTION_TYPES.SERVER")}}}}function p(C,B){var A="";if(C===u.LOCAL_HTML5){A=localStorage.getItem(B)}else{if(C===u.LOCAL_PC_COOKIE){A=b(B)}}return A}function e(B,A){if(B===u.LOCAL_HTML5){localStorage.clear()}else{if(B===u.LOCAL_PC_COOKIE){}}return false}function z(B,E){var A=1;var D=new Date();D.setDate(D.getDate()+A);var C=escape(E)+((A==null)?"":"; expires="+D.toUTCString());document.cookie=B+"="+E}function b(C){var B,A,E,D=document.cookie.split(";");for(B=0;B<D.length;B++){A=D[B].substr(0,D[B].indexOf("="));E=D[B].substr(D[B].indexOf("=")+1);A=A.replace(/^\s+|\s+$/g,"");if(A==C){return unescape(E)}}}return{getUserBandwidth:h,BANDWIDTH_TYPES:l}}();window.DOM=(function(){var r={},m=document.getElementById("baseDivId"),j=null;r.document=window.document;!function(aN){function aM(I,H,G,F){var E,D,C,B,A,z,y,w,v,u;if((H?H.ownerDocument||H:a3)!==bd&&bf(H),H=H||bd,G=G||[],!I||"string"!=typeof I){return G}if(1!==(B=H.nodeType)&&9!==B){return[]}if(ba&&!F){if(E=bs.exec(I)){if(C=E[1]){if(9===B){if(D=H.getElementById(C),!D||!D.parentNode){return G}if(D.id===C){return G.push(D),G}}else{if(H.ownerDocument&&(D=H.ownerDocument.getElementById(C))&&a5(H,D)&&D.id===C){return G.push(D),G}}}else{if(E[2]){return aP.apply(G,H.getElementsByTagName(I)),G}if((C=E[3])&&an.getElementsByClassName&&H.getElementsByClassName){return aP.apply(G,H.getElementsByClassName(C)),G}}}if(an.qsa&&(!a9||!a9.test(I))){if(w=y=a4,v=H,u=9===B&&I,1===B&&"object"!==H.nodeName.toLowerCase()){for(z=aA(I),(y=H.getAttribute("id"))?w=y.replace(aO,"\\$&"):H.setAttribute("id",w),w="[id='"+w+"'] ",A=z.length;A--;){z[A]=w+az(z[A])}v=br.test(I)&&H.parentNode||H,u=z.join(",")}if(u){try{return aP.apply(G,v.querySelectorAll(u)),G}catch(s){}finally{y||H.removeAttribute("id")}}}}return ap(I.replace(aD,"$1"),H,G,F)}function aL(){function u(w,v){return s.push(w+=" ")>al.cacheLength&&delete u[s.shift()],u[w]=v}var s=[];return u}function aK(s){return s[a4]=!0,s}function aI(u){var s=bd.createElement("div");try{return !!u(s)}catch(v){return !1}finally{s.parentNode&&s.parentNode.removeChild(s),s=null}}function aH(u,s){for(var w=u.split("|"),v=u.length;v--;){al.attrHandle[w[v]]=s}}function aG(u,s){var w=s&&u,v=w&&1===u.nodeType&&1===s.nodeType&&(~s.sourceIndex||aT)-(~u.sourceIndex||aT);if(v){return v}if(w){for(;w=w.nextSibling;){if(w===s){return -1}}}return u?1:-1}function aF(s){return function(u){var v=u.nodeName.toLowerCase();return"input"===v&&u.type===s}}function aE(s){return function(u){var v=u.nodeName.toLowerCase();return("input"===v||"button"===v)&&u.type===s}}function aC(s){return aK(function(u){return u=+u,aK(function(A,z){for(var y,w=s([],A.length,u),v=w.length;v--;){A[y=w[v]]&&(A[y]=!(z[y]=A[y]))}})})}function aB(){}function aA(D,C){var B,A,z,y,w,v,u,s=aY[D+" "];if(s){return C?0:s.slice(0)}for(w=D,v=[],u=al.preFilter;w;){(!B||(A=ah.exec(w)))&&(A&&(w=w.slice(A[0].length)||w),v.push(z=[])),B=!1,(A=ad.exec(w))&&(B=A.shift(),z.push({value:B,type:A[0].replace(aD," ")}),w=w.slice(B.length));for(y in al.filter){!(A=ai[y].exec(w))||u[y]&&!(A=u[y](A))||(B=A.shift(),z.push({value:B,type:y,matches:A}),w=w.slice(B.length))}if(!B){break}}return C?w.length:w?aM.error(D):aY(D,v).slice(0)}function az(u){for(var s=0,w=u.length,v="";w>s;s++){v+=u[s].value}return v}function ay(u,s,z){var y=s.dir,w=z&&"parentNode"===y,v=a1++;return s.first?function(A,C,B){for(;A=A[y];){if(1===A.nodeType||w){return u(A,C,B)}}}:function(A,G,F){var E,D,C,B=a2+" "+v;if(F){for(;A=A[y];){if((1===A.nodeType||w)&&u(A,G,F)){return !0}}}else{for(;A=A[y];){if(1===A.nodeType||w){if(C=A[a4]||(A[a4]={}),(D=C[y])&&D[0]===B){if((E=D[1])===!0||E===am){return E===!0}}else{if(D=C[y]=[B],D[1]=u(A,G,F)||am,D[1]===!0){return !0}}}}}}}function aw(s){return s.length>1?function(u,y,w){for(var v=s.length;v--;){if(!s[v](u,y,w)){return !1}}return !0}:s[0]}function av(D,C,B,A,z){for(var y,w=[],v=0,u=D.length,s=null!=C;u>v;v++){(y=D[v])&&(!B||B(y,A,z))&&(w.push(y),s&&C.push(v))}return w}function au(u,s,z,y,w,v){return y&&!y[a4]&&(y=au(y)),w&&!w[a4]&&(w=au(w,v)),aK(function(L,K,J,I){var H,G,F,E=[],D=[],C=K.length,B=L||aq(s||"*",J.nodeType?[J]:J,[]),A=!u||!L&&s?B:av(B,E,u,J,I),M=z?w||(L?u:C||y)?[]:K:A;if(z&&z(A,M,J,I),y){for(H=av(M,D),y(H,[],J,I),G=H.length;G--;){(F=H[G])&&(M[D[G]]=!(A[D[G]]=F))}}if(L){if(w||u){if(w){for(H=[],G=M.length;G--;){(F=M[G])&&H.push(A[G]=F)}w(null,M=[],H,I)}for(G=M.length;G--;){(F=M[G])&&(H=w?a0.call(L,F):E[G])>-1&&(L[H]=!(K[H]=F))}}}else{M=av(M===K?M.splice(C,M.length):M),w?w(null,K,M,I):aP.apply(K,M)}})}function at(E){for(var D,C,B,A=E.length,z=al.relative[E[0].type],y=z||al.relative[" "],w=z?1:0,v=ay(function(F){return F===D},y,!0),u=ay(function(F){return a0.call(D,F)>-1},y,!0),s=[function(F,H,G){return !z&&(G||H!==bh)||((D=H).nodeType?v(F,H,G):u(F,H,G))}];A>w;w++){if(C=al.relative[E[w].type]){s=[ay(aw(s),C)]}else{if(C=al.filter[E[w].type].apply(null,E[w].matches),C[a4]){for(B=++w;A>B&&!al.relative[E[B].type];B++){}return au(w>1&&aw(s),w>1&&az(E.slice(0,w-1).concat({value:" "===E[w-2].type?"*":""})).replace(aD,"$1"),C,B>w&&at(E.slice(w,B)),A>B&&at(E=E.slice(B)),A>B&&az(E))}s.push(C)}}return aw(s)}function ar(s,z){var y=0,w=z.length>0,v=s.length>0,u=function(K,J,I,H,G){var F,E,D,C=[],B=0,A="0",P=K&&[],O=null!=G,N=bh,M=K||v&&al.find.TAG("*",G&&J.parentNode||J),L=a2+=null==N?1:Math.random()||0.1;for(O&&(bh=J!==bd&&J,am=y);null!=(F=M[A]);A++){if(v&&F){for(E=0;D=s[E++];){if(D(F,J,I)){H.push(F);break}}O&&(a2=L,am=++y)}w&&((F=!D&&F)&&B--,K&&P.push(F))}if(B+=A,w&&A!==B){for(E=0;D=z[E++];){D(P,C,J,I)}if(K){if(B>0){for(;A--;){P[A]||C[A]||(C[A]=aQ.call(H))}}C=av(C)}aP.apply(H,C),O&&!K&&C.length>0&&B+z.length>1&&aM.uniqueSort(H)}return O&&(a2=L,bh=N),P};return w?aK(u):u}function aq(s,y,w){for(var v=0,u=y.length;u>v;v++){aM(s,y[v],w)}return w}function ap(D,C,B,A){var z,y,w,v,u,s=aA(D);if(!A&&1===s.length){if(y=s[0]=s[0].slice(0),y.length>2&&"ID"===(w=y[0]).type&&an.getById&&9===C.nodeType&&ba&&al.relative[y[1].type]){if(C=(al.find.ID(w.matches[0].replace(aj,af),C)||[])[0],!C){return B}D=D.slice(y.shift().value.length)}for(z=ai.needsContext.test(D)?0:y.length;z--&&(w=y[z],!al.relative[v=w.type]);){if((u=al.find[v])&&(A=u(w.matches[0].replace(aj,af),br.test(y[0].type)&&C.parentNode||C))){if(y.splice(z,1),D=A.length&&az(y),!D){return aP.apply(B,A),B}break}}}return bi(D,s)(A,C,!ba,B,br.test(D)),B}var ao,an,am,al,ak,bk,bi,bh,bg,bf,bd,bc,ba,a9,a8,a6,a5,a4="sizzle"+-new Date,a3=aN.document,a2=0,a1=0,aZ=aL(),aY=aL(),aX=aL(),aW=!1,aV=function(u,s){return u===s?(aW=!0,0):0},aU=typeof void 0,aT=1<<31,aS={}.hasOwnProperty,aR=[],aQ=aR.pop,bo=aR.push,aP=aR.push,bl=aR.slice,a0=aR.indexOf||function(u){for(var s=0,v=this.length;v>s;s++){if(this[s]===u){return s}}return -1},ax="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ag="[\\x20\\t\\r\\n\\f]",ac="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",bq=ac.replace("w","w#"),bm="\\["+ag+"*("+ac+")"+ag+"*(?:([*^$|!~]?=)"+ag+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+bq+")|)|)"+ag+"*\\]",a7=":("+ac+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+bm.replace(3,8)+")*)|.*)\\)|)",aD=new RegExp("^"+ag+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ag+"+$","g"),ah=new RegExp("^"+ag+"*,"+ag+"*"),ad=new RegExp("^"+ag+"*([>+~]|"+ag+")"+ag+"*"),br=new RegExp(ag+"*[+~]"),bn=new RegExp("="+ag+"*([^\\]'\"]*)"+ag+"*\\]","g"),be=new RegExp(a7),aJ=new RegExp("^"+bq+"$"),ai={ID:new RegExp("^#("+ac+")"),CLASS:new RegExp("^\\.("+ac+")"),TAG:new RegExp("^("+ac.replace("w","w*")+")"),ATTR:new RegExp("^"+bm),PSEUDO:new RegExp("^"+a7),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ag+"*(even|odd|(([+-]|)(\\d*)n|)"+ag+"*(?:([+-]|)"+ag+"*(\\d+)|))"+ag+"*\\)|)","i"),bool:new RegExp("^(?:"+ax+")$","i"),needsContext:new RegExp("^"+ag+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ag+"*((?:-\\d)?\\d*)"+ag+"*\\)|)(?=[^-]|$)","i")},ae=/^[^{]+\{\s*\[native \w/,bs=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bp=/^(?:input|select|textarea|button)$/i,bj=/^h\d$/i,aO=/'|\\/g,aj=new RegExp("\\\\([\\da-f]{1,6}"+ag+"?|("+ag+")|.)","ig"),af=function(u,s,w){var v="0x"+s-65536;return v!==v||w?s:0>v?String.fromCharCode(v+65536):String.fromCharCode(55296|v>>10,56320|1023&v)};try{aP.apply(aR=bl.call(a3.childNodes),a3.childNodes),aR[a3.childNodes.length].nodeType}catch(aa){aP={apply:aR.length?function(u,s){bo.apply(u,bl.call(s))}:function(u,s){for(var w=u.length,v=0;u[w++]=s[v++];){}u.length=w-1}}}bk=aM.isXML=function(u){var s=u&&(u.ownerDocument||u).documentElement;return s?"HTML"!==s.nodeName:!1},an=aM.support={},bf=aM.setDocument=function(u){var s=u?u.ownerDocument||u:a3,v=s.defaultView;return s!==bd&&9===s.nodeType&&s.documentElement?(bd=s,bc=s.documentElement,ba=!bk(s),v&&v.attachEvent&&v!==v.top&&v.attachEvent("onbeforeunload",function(){bf()}),an.attributes=aI(function(w){return w.className="i",!w.getAttribute("className")}),an.getElementsByTagName=aI(function(w){return w.appendChild(s.createComment("")),!w.getElementsByTagName("*").length}),an.getElementsByClassName=aI(function(w){return w.innerHTML="<div class='a'></div><div class='a i'></div>",w.firstChild.className="i",2===w.getElementsByClassName("i").length}),an.getById=aI(function(w){return bc.appendChild(w).id=a4,!s.getElementsByName||!s.getElementsByName(a4).length}),an.getById?(al.find.ID=function(y,w){if(typeof w.getElementById!==aU&&ba){var z=w.getElementById(y);return z&&z.parentNode?[z]:[]}},al.filter.ID=function(y){var w=y.replace(aj,af);return function(z){return z.getAttribute("id")===w}}):(delete al.find.ID,al.filter.ID=function(y){var w=y.replace(aj,af);return function(z){var A=typeof z.getAttributeNode!==aU&&z.getAttributeNode("id");return A&&A.value===w}}),al.find.TAG=an.getElementsByTagName?function(y,w){return typeof w.getElementsByTagName!==aU?w.getElementsByTagName(y):void 0}:function(y,w){var C,B=[],A=0,z=w.getElementsByTagName(y);if("*"===y){for(;C=z[A++];){1===C.nodeType&&B.push(C)}return B}return z},al.find.CLASS=an.getElementsByClassName&&function(y,w){return typeof w.getElementsByClassName!==aU&&ba?w.getElementsByClassName(y):void 0},a8=[],a9=[],(an.qsa=ae.test(s.querySelectorAll))&&(aI(function(w){w.innerHTML="<select><option selected=''></option></select>",w.querySelectorAll("[selected]").length||a9.push("\\["+ag+"*(?:value|"+ax+")"),w.querySelectorAll(":checked").length||a9.push(":checked")}),aI(function(w){var y=s.createElement("input");y.setAttribute("type","hidden"),w.appendChild(y).setAttribute("t",""),w.querySelectorAll("[t^='']").length&&a9.push("[*^$]="+ag+"*(?:''|\"\")"),w.querySelectorAll(":enabled").length||a9.push(":enabled",":disabled"),w.querySelectorAll("*,:x"),a9.push(",.*:")})),(an.matchesSelector=ae.test(a6=bc.webkitMatchesSelector||bc.mozMatchesSelector||bc.oMatchesSelector||bc.msMatchesSelector))&&aI(function(w){an.disconnectedMatch=a6.call(w,"div"),a6.call(w,"[s!='']:x"),a8.push("!=",a7)}),a9=a9.length&&new RegExp(a9.join("|")),a8=a8.length&&new RegExp(a8.join("|")),a5=ae.test(bc.contains)||bc.compareDocumentPosition?function(y,w){var A=9===y.nodeType?y.documentElement:y,z=w&&w.parentNode;return y===z||!(!z||1!==z.nodeType||!(A.contains?A.contains(z):y.compareDocumentPosition&&16&y.compareDocumentPosition(z)))}:function(y,w){if(w){for(;w=w.parentNode;){if(w===y){return !0}}}return !1},aV=bc.compareDocumentPosition?function(w,z){if(w===z){return aW=!0,0}var y=z.compareDocumentPosition&&w.compareDocumentPosition&&w.compareDocumentPosition(z);return y?1&y||!an.sortDetached&&z.compareDocumentPosition(w)===y?w===s||a5(a3,w)?-1:z===s||a5(a3,z)?1:bg?a0.call(bg,w)-a0.call(bg,z):0:4&y?-1:1:w.compareDocumentPosition?-1:1}:function(w,E){var D,C=0,B=w.parentNode,A=E.parentNode,z=[w],y=[E];if(w===E){return aW=!0,0}if(!B||!A){return w===s?-1:E===s?1:B?-1:A?1:bg?a0.call(bg,w)-a0.call(bg,E):0}if(B===A){return aG(w,E)}for(D=w;D=D.parentNode;){z.unshift(D)}for(D=E;D=D.parentNode;){y.unshift(D)}for(;z[C]===y[C];){C++}return C?aG(z[C],y[C]):z[C]===a3?-1:y[C]===a3?1:0},s):bd},aM.matches=function(s,u){return aM(s,null,null,u)},aM.matchesSelector=function(s,w){if((s.ownerDocument||s)!==bd&&bf(s),w=w.replace(bn,"='$1']"),!(!an.matchesSelector||!ba||a8&&a8.test(w)||a9&&a9.test(w))){try{var v=a6.call(s,w);if(v||an.disconnectedMatch||s.document&&11!==s.document.nodeType){return v}}catch(u){}}return aM(w,bd,null,[s]).length>0},aM.contains=function(u,s){return(u.ownerDocument||u)!==bd&&bf(u),a5(u,s)},aM.attr=function(u,s){(u.ownerDocument||u)!==bd&&bf(u);var w=al.attrHandle[s.toLowerCase()],v=w&&aS.call(al.attrHandle,s.toLowerCase())?w(u,s,!ba):void 0;return void 0===v?an.attributes||!ba?u.getAttribute(s):(v=u.getAttributeNode(s))&&v.specified?v.value:null:v},aM.error=function(s){throw new Error("Syntax error, unrecognized expression: "+s)},aM.uniqueSort=function(u){var s,y=[],w=0,v=0;if(aW=!an.detectDuplicates,bg=!an.sortStable&&u.slice(0),u.sort(aV),aW){for(;s=u[v++];){s===u[v]&&(w=y.push(v))}for(;w--;){u.splice(y[w],1)}}return u},ak=aM.getText=function(u){var s,y="",w=0,v=u.nodeType;if(v){if(1===v||9===v||11===v){if("string"==typeof u.textContent){return u.textContent}for(u=u.firstChild;u;u=u.nextSibling){y+=ak(u)}}else{if(3===v||4===v){return u.nodeValue}}}else{for(;s=u[w];w++){y+=ak(s)}}return y},al=aM.selectors={cacheLength:50,createPseudo:aK,match:ai,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(s){return s[1]=s[1].replace(aj,af),s[3]=(s[4]||s[5]||"").replace(aj,af),"~="===s[2]&&(s[3]=" "+s[3]+" "),s.slice(0,4)},CHILD:function(s){return s[1]=s[1].toLowerCase(),"nth"===s[1].slice(0,3)?(s[3]||aM.error(s[0]),s[4]=+(s[4]?s[5]+(s[6]||1):2*("even"===s[3]||"odd"===s[3])),s[5]=+(s[7]+s[8]||"odd"===s[3])):s[3]&&aM.error(s[0]),s},PSEUDO:function(u){var s,v=!u[5]&&u[2];return ai.CHILD.test(u[0])?null:(u[3]&&void 0!==u[4]?u[2]=u[4]:v&&be.test(v)&&(s=aA(v,!0))&&(s=v.indexOf(")",v.length-s)-v.length)&&(u[0]=u[0].slice(0,s),u[2]=v.slice(0,s)),u.slice(0,3))}},filter:{TAG:function(u){var s=u.replace(aj,af).toLowerCase();return"*"===u?function(){return !0}:function(v){return v.nodeName&&v.nodeName.toLowerCase()===s}},CLASS:function(u){var s=aZ[u+" "];return s||(s=new RegExp("(^|"+ag+")"+u+"("+ag+"|$)"))&&aZ(u,function(v){return s.test("string"==typeof v.className&&v.className||typeof v.getAttribute!==aU&&v.getAttribute("class")||"")})},ATTR:function(s,v,u){return function(y){var w=aM.attr(y,s);return null==w?"!="===v:v?(w+="","="===v?w===u:"!="===v?w!==u:"^="===v?u&&0===w.indexOf(u):"*="===v?u&&w.indexOf(u)>-1:"$="===v?u&&w.slice(-u.length)===u:"~="===v?(" "+w+" ").indexOf(u)>-1:"|="===v?w===u||w.slice(0,u.length+1)===u+"-":!1):!0}},CHILD:function(u,s,B,A,z){var y="nth"!==u.slice(0,3),w="last"!==u.slice(-4),v="of-type"===s;return 1===A&&0===z?function(C){return !!C.parentNode}:function(N,M,L){var K,J,I,H,G,F,E=y!==w?"nextSibling":"previousSibling",D=N.parentNode,C=v&&N.nodeName.toLowerCase(),O=!L&&!v;if(D){if(y){for(;E;){for(I=N;I=I[E];){if(v?I.nodeName.toLowerCase()===C:1===I.nodeType){return !1}}F=E="only"===u&&!F&&"nextSibling"}return !0}if(F=[w?D.firstChild:D.lastChild],w&&O){for(J=D[a4]||(D[a4]={}),K=J[u]||[],G=K[0]===a2&&K[1],H=K[0]===a2&&K[2],I=G&&D.childNodes[G];I=++G&&I&&I[E]||(H=G=0)||F.pop();){if(1===I.nodeType&&++H&&I===N){J[u]=[a2,G,H];break}}}else{if(O&&(K=(N[a4]||(N[a4]={}))[u])&&K[0]===a2){H=K[1]}else{for(;(I=++G&&I&&I[E]||(H=G=0)||F.pop())&&((v?I.nodeName.toLowerCase()!==C:1!==I.nodeType)||!++H||(O&&((I[a4]||(I[a4]={}))[u]=[a2,H]),I!==N));){}}}return H-=z,H===A||0===H%A&&H/A>=0}}},PSEUDO:function(s,w){var v,u=al.pseudos[s]||al.setFilters[s.toLowerCase()]||aM.error("unsupported pseudo: "+s);return u[a4]?u(w):u.length>1?(v=[s,s,"",w],al.setFilters.hasOwnProperty(s.toLowerCase())?aK(function(z,y){for(var C,B=u(z,w),A=B.length;A--;){C=a0.call(z,B[A]),z[C]=!(y[C]=B[A])}}):function(y){return u(y,0,v)}):u}},pseudos:{not:aK(function(u){var s=[],w=[],v=bi(u.replace(aD,"$1"));return v[a4]?aK(function(z,y,E,D){for(var C,B=v(z,null,D,[]),A=z.length;A--;){(C=B[A])&&(z[A]=!(y[A]=C))}}):function(y,A,z){return s[0]=y,v(s,null,z,w),!w.pop()}}),has:aK(function(s){return function(u){return aM(s,u).length>0}}),contains:aK(function(s){return function(u){return(u.textContent||u.innerText||ak(u)).indexOf(s)>-1}}),lang:aK(function(s){return aJ.test(s||"")||aM.error("unsupported lang: "+s),s=s.replace(aj,af).toLowerCase(),function(u){var v;do{if(v=ba?u.lang:u.getAttribute("xml:lang")||u.getAttribute("lang")){return v=v.toLowerCase(),v===s||0===v.indexOf(s+"-")}}while((u=u.parentNode)&&1===u.nodeType);return !1}}),target:function(s){var u=aN.location&&aN.location.hash;return u&&u.slice(1)===s.id},root:function(s){return s===bc},focus:function(s){return s===bd.activeElement&&(!bd.hasFocus||bd.hasFocus())&&!!(s.type||s.href||~s.tabIndex)},enabled:function(s){return s.disabled===!1},disabled:function(s){return s.disabled===!0},checked:function(u){var s=u.nodeName.toLowerCase();return"input"===s&&!!u.checked||"option"===s&&!!u.selected},selected:function(s){return s.parentNode&&s.parentNode.selectedIndex,s.selected===!0},empty:function(s){for(s=s.firstChild;s;s=s.nextSibling){if(s.nodeName>"@"||3===s.nodeType||4===s.nodeType){return !1}}return !0},parent:function(s){return !al.pseudos.empty(s)},header:function(s){return bj.test(s.nodeName)},input:function(s){return bp.test(s.nodeName)},button:function(u){var s=u.nodeName.toLowerCase();return"input"===s&&"button"===u.type||"button"===s},text:function(u){var s;return"input"===u.nodeName.toLowerCase()&&"text"===u.type&&(null==(s=u.getAttribute("type"))||s.toLowerCase()===u.type)},first:aC(function(){return[0]}),last:aC(function(u,s){return[s-1]}),eq:aC(function(u,s,v){return[0>v?v+s:v]}),even:aC(function(u,s){for(var v=0;s>v;v+=2){u.push(v)}return u}),odd:aC(function(u,s){for(var v=1;s>v;v+=2){u.push(v)}return u}),lt:aC(function(u,s,w){for(var v=0>w?w+s:w;--v>=0;){u.push(v)}return u}),gt:aC(function(u,s,w){for(var v=0>w?w+s:w;++v<s;){u.push(v)}return u})}},al.pseudos.nth=al.pseudos.eq;for(ao in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){al.pseudos[ao]=aF(ao)}for(ao in {submit:!0,reset:!0}){al.pseudos[ao]=aE(ao)}aB.prototype=al.filters=al.pseudos,al.setFilters=new aB,bi=aM.compile=function(u,s){var z,y=[],w=[],v=aX[u+" "];if(!v){for(s||(s=aA(u)),z=s.length;z--;){v=at(s[z]),v[a4]?y.push(v):w.push(v)}v=aX(u,ar(w,y))}return v},an.sortStable=a4.split("").sort(aV).join("")===a4,an.detectDuplicates=aW,bf(),an.sortDetached=aI(function(s){return 1&s.compareDocumentPosition(bd.createElement("div"))}),aI(function(s){return s.innerHTML="<a href='#'></a>","#"===s.firstChild.getAttribute("href")})||aH("type|href|height|width",function(u,s,v){return v?void 0:u.getAttribute(s,"type"===s.toLowerCase()?1:2)}),an.attributes&&aI(function(s){return s.innerHTML="<input/>",s.firstChild.setAttribute("value",""),""===s.firstChild.getAttribute("value")})||aH("value",function(u,s,v){return v||"input"!==u.nodeName.toLowerCase()?void 0:u.defaultValue}),aI(function(s){return null==s.getAttribute("disabled")})||aH(ax,function(u,s,w){var v;return w?void 0:(v=u.getAttributeNode(s))&&v.specified?v.value:u[s]===!0?s.toLowerCase():null}),"function"==typeof j&&j.amd?j(function(){return aM}):aN.Sizzle=aM}(r);function q(){var u=m,v,s;if(arguments.length===1){v=arguments[0]}if(arguments.length>1){u=arguments[0];v=arguments[1]}s=r.Sizzle(v,u);if(s.length>0){return s[0]}else{return null}}r.select=q;r.selectOne=function(s,u){if(u){return q(u,s)}else{return q(s)}};function g(){var s=m,u;if(arguments.length===1){u=arguments[0]}if(arguments.length>1){s=arguments[0];u=arguments[1]}return r.Sizzle(u,s)}r.selectAll=g;function b(){var u,s=[];for(u=0;u<arguments.length;u+=1){s.push(arguments[u])}var v=q.apply(r,s);return h.create(v)}r.selectWrapped=b;r.one=b;function e(){var v,u=[];for(v=0;v<arguments.length;v+=1){u.push(arguments[v])}var s=g.apply(r,u);var w=[];for(v=0;v<s.length;v+=1){w.push(h.create(s[v]))}return w}r.selectAllWrapped=e;r.all=e;function k(s){if(typeof s==="string"){s=d(s)}else{if(s instanceof h){return s}}return h.create(s)}r.create=k;function p(s,u){Object.keys(u).forEach(function(w){var z=w,y=u[w],A=z.split("-"),v,B;if(A.length>1){B=A[0];for(v=1;v<A.length;v+=1){B+=A[v].charAt(0).toUpperCase()+A[v].substr(1)}z=B}if(typeof y==="number"){y=y.toString(10)+"px"}s.style[z]=y});return s}r.setStyles=p;r.css=p;function h(u,v){var s=this;s.opts=v||{};s.init(u,s.opts)}h.prototype={init:function(u,v){var s=this;s.element=u;s.node=s.element},css:function(u){var s=this;p(s.element,u);return s},select:function(u){var s=this;return q(s.node,u)},selectAll:function(u){var s=this;return g(s.node,u)},appendTo:function(u){var s=this;if(n(u)){u.node.appendChild(s.node)}else{u.appendChild(s.node)}return s},append:function(u){var s=this;if(n(u)){s.node.appendChild(u.node)}else{s.node.appendChild(u)}return s},rect:function(){var s=this;return o.apply(null,[s.node,arguments[0],arguments[1]])},on:function(){var u=this,w=arguments[1],v,s;if(u.node.addEventListener){u.node.addEventListener.apply(u.node,[arguments[0],function(y){w.call(u,y)},arguments[2]||false])}else{if(u.node.attachEvent){u.node.attachEvent.apply(u.node,["on"+arguments[0],function(y){w.call(u,y)}])}else{v=u.node["on"+arguments[0]];if(v){s=function(y){v.call(this,y);w.call(this,y)}}else{s=w}u.node["on"+arguments[0]]=function(y){s.call(u.node,y)}}}return u}};h.create=function(s,u){return new h(s,u)};r.WrappedElement=h;function n(s){return s instanceof h}r.isWrappedElement=n;function o(y,v,u){var w,z,s;if(typeof v==="string"){w=v.split("x"),z={width:parseInt(w[0],10),height:parseInt(w[1],10)}}else{z=v}s=u;p(y,{position:"absolute",left:s.x,top:s.y,width:z.width,height:z.height});return y}r.rect=o;var a=/^\s*</;function d(u){if(a.test(u)){var s=document.createElement("span");s.innerHTML=u;return s.firstChild}else{return document.createElement(u)}}r.createHtmlElement=d;function l(u,v,z){var y=r.create(u),w,s=false;y.on("mouseover",function(){w=setTimeout(function(){s=true},v)});y.on("mouseout",function(){clearTimeout(w);w=null;if(s){z.call(y);s=false}});y.on("mousedown",function(){clearTimeout(w);w=null;s=false})}r.captureMouseover=l;return r})();window.Utils=(function(){var e={};function a(){var m=window.navigator.userAgent,l=[{browser:"ie",version:"",ver:0,rgx:/MSIE (\d{1,}\.\d{1,})/,parse:function(n){return this}},{browser:"firefox",version:"",ver:0,rgx:/Firefox\/(\d{1,}\.\d{1,})/,parse:function(n){return this}},{browser:"chrome",version:"",ver:0,rgx:/Chrome\/(\d{1,}\.\d{1,})/,parse:function(n){return this}},{browser:"safari",version:"",ver:0,rgx:/AppleWebKit\/(\d{1,}\.\d{1,})/,parse:function(n){var o;this["AppleWebKit_version"]=n[1];this["AppleWebKit_ver"]=parseFloat(n[1],10);if(this["AppleWebKit_ver"]<=419){this.version="older than 3.0";this.ver=0}else{o=(/Version\/((\d{1,}\.\d{1,})\.\d{1,})/).exec(this.ua);this.version=o[1];this.ver=parseFloat(o[2],10)}return this}}],j,h;try{for(j=0;j<l.length;j+=1){h=l[j].rgx.exec(m);if(h!==null){l[j].version=h[1];l[j].ver=parseFloat(h[1],10);l[j].ua=m;return l[j].parse(h)}}}catch(k){}return null}e.uaTest=a;function d(l,n){var p,j,h,k,o;for(h in n){if(n.hasOwnProperty(h)){if(typeof n[h]==="number"){o=n[h]+"px"}else{o=n[h]}try{if(h.indexOf("-")!==-1){j=h.split("-");p=j[0];for(k=1;k<j.length;k++){p+=j[k].substr(0,1).toUpperCase()+j[k].substr(1)}l.style[p]=o}else{l.style[h]=o}}catch(m){if(window.console){window.console.error("Unsupported style property '"+h+"'")}}}}return l}e.setStyle=d;function g(j,l,k,h){if(j.addEventListener){j.addEventListener(l,k,h||false)}else{j["on"+l]=function(m){m=m||window.event;k.apply(j,[m])}}}e.setEvent=g;var b={parse:function(l){var h,m=l.split("&"),j,k={};for(h=0;h<m.length;h++){j=m[h].split("=");k[decodeURIComponent(j[0])]=decodeURIComponent(j[1])}return k},stringify:function(j){var h,k=[];for(h in j){if(j.hasOwnProperty(h)){k.push(encodeURIComponent(h)+"="+encodeURIComponent(j[h]))}}return k.join("&")}};e.QueryString=b;(function(h){function m(o){var n=o.match(/[0-9]+.?[0-9]*/);if(n&&n[0]){return parseFloat(n[0])}return 0}var l=navigator.userAgent.toString(),j={html:h,os:function(){var p="other",n=null,o;if((/windows|win32/i).test(l)){p="windows"}else{if((/macintosh|mac_powerpc/i).test(l)){p="macintosh"}else{if((/iphone|ipod|ipad/i).test(l)){p="ios";o=(/CPU OS ([0-9_]+)/i).exec(l);if(o&&o[1]){n=o[1].replace("_",".")}}else{if((/android/i).test(l)){p="android";o=(/Android\s*([0-9.]+)/).exec(l);if(o&&o[1]){n=o[1]}}else{if((/linux/i).test(l)){p="linux"}}}}}return{name:p,version:n}}(),isIE:function(){var n=l.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);if(n&&(n[1]||n[2])){return m(n[1]||n[2])}return 0}(),isFireFox:function(){var n=l.match(/Firefox\/([0-9.]+)/);if(n&&n[1]){return m(n[1])}return 0}(),isSafari:function(){var n=l.match(/Version\/([0-9.]+)\s?Safari/);if(n&&n[1]){return m(n[1])}return 0}(),isChrome:function(){var n=l.match(/Chrome\/([0-9.]+)/);if(n&&n[1]){return parseInt(n[1])}return 0}(),isWebKit:function(){var n=l.match(/AppleWebKit\/([0-9.]+)/);if(n&&n[1]){return m(n[1])}return 0}(),isFlash:function k(){var p="0",o=false;if(navigator.plugins&&typeof navigator.plugins["Shockwave Flash"]=="object"){p=navigator.plugins["Shockwave Flash"].description;if(typeof(p)!=undefined){p=(p.replace(/^.*\s+(\S+\s+\S+$)/,"$1")).replace(" ",".")}}else{if(window.ActiveXObject){try{oActiveX=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(n){try{oActiveX=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(n){try{oActiveX=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");oActiveX.AllowScriptAccess="always"}catch(n){try{oActiveX=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(n){o=true}}}}if(typeof oActiveX=="object"){p=oActiveX.GetVariable("$version");if(typeof p!=undefined){p=p.replace(/^\S+\s+(.*)$/,"$1").replace(/,/g,".")}}if(o===true){return 0}}}return parseInt(p.split(".")[0])}(),isNarrow:function(){if(document.documentElement.className.toString().match(/lite-page/)){return true}return false}()};e.ua=j})(document.documentElement);return e})();window.Beacon=(function(a,b){var o={};o.log=false;var h=false,q={},u={},I={},k={},e={},d=d||{},j={};function m(F){if(console!==undefined){console.log(F)}}o.type={impression:"impression",interaction:"interaction",prod_interaction:"prodIntr",click:"click",close:"close",orientation:"orientation",load:"load",error:"error",container_load:"container-load",container_success:"container-success",container_error:"container-error",container_timeout:"container-timeout",prod_impression:"prodImpression"};o.ref={mouseover:"mouseOver",collapse:"collapse",expand:"expand",swipe:"swipe",tap:"tag",scroll:"scroll",pagination:"pagination",slideshow:"slideshow",mouseout:"mouseOut"};function y(){return window.location.href.indexOf("https:")!=-1}function g(F){return encodeURIComponent(F)}function J(M,N,O,P){var L=YCP.Components.Glue.getAd(),K=document.createElement("img");L.bs=L.bs.replace(/^https\:\/\//,"");var F={server:L.bs,adId:L.ad,impId:L.imp,type:M||"impression",timestamp:new Date().getTime(),ref:N,data:O,secure:P||y()},Q="";if(F.secure){Q+="https://"}else{Q+="http://"}Q+=F.server+"/TrackingMonkey";Q+="?impressionId="+g(F.impId);Q+="&adId="+g(F.adId);Q+="&type="+g(F.type);Q+="&timeStamp="+g(F.timestamp.toString(10));if(F.ref){Q+="&ref="+g(F.ref)}if(F.data){Q+="&ycp_data="+g(window.JSON.stringify(F.data))}F.url=Q;K.src=Q;if(o.log){m("Beacon.fire: "+window.JSON.stringify(F))}return F}o.fire=J;function s(L,M,N,P,O){var K=YCP.Components.Glue.getAd();K.bs=K.bs.replace(/^https\:\/\//,"");var F={server:K.bs,adId:K.ad,impId:K.imp,type:L||"impression",timestamp:new Date().getTime(),ref:M,data:N,secure:P||y()},Q="";if(F.secure){Q+="https://"}else{Q+="http://"}Q+=F.server+"/TrackingMonkey";Q+="?impressionId="+g(F.impId);Q+="&adId="+g(F.adId);Q+="&type="+g(F.type);if(O){Q+="&timeStamp={{TIMESTAMP}}"}else{Q+="&timeStamp="+g(F.timestamp.toString(10))}if(F.ref){Q+="&ref="+g(F.ref)}if(F.data){Q+="&ycp_data="+g(window.JSON.stringify(F.data))}F.url=Q;return F}o.track=s;function A(){if(h){return h}else{try{q=ycp.ad.util.beacon.Constants.FIELD}catch(F){return h}}q=ycp.ad.util.beacon.Constants.FIELD,u=ycp.ad.util.beacon.Constants.EVENT.TYPE,I=ycp.ad.util.beacon.Constants.EVENT.INTERACTION,k=ycp.ad.util.beacon.Constants.OTHER,e=ycp.ad.util.beacon.Utils,d=ycp.ad.util.JSON,j=YCP.Components.Glue.getAd();h=true;return h}function p(L){A();if(h){var F=YCP.Components.Listener.EventListener.prototype.populateBeaconData(YCP.Components.Glue.getAd())||{},N={},M;N[q.YCP_CREATIVE_ID]=j.crtv;N.impressiontype=L;M=YCP.Components.Listener.EventListener.prototype.serializeData(F,N);var K=document.createElement("img");K.src=M.trackingServerUrl+"?impressionId="+encodeURIComponent(M.impressionId)+"&adId="+encodeURIComponent(M.adId)+"&type=impression&timeStamp="+(new Date().getTime().toString())+"&ref="+encodeURIComponent(L)+"&ycp_data="+encodeURIComponent(M.ycp_data)}if(o.log){m("Beacon.fireImpressionBeacon("+L+")")}}o.fireImpression=p;function C(M){A();if(h){var F=YCP.Components.Listener.EventListener.prototype.populateBeaconData(YCP.Components.Glue.getAd()),O={},N,L="jserror";O[q.YCP_CREATIVE_ID]=j.crtv;O.err_name=M.name;O.err_message=M.message;O.err_stack=M.stack;N=YCP.Components.Listener.EventListener.prototype.serializeData(F,O);var K=document.createElement("img");K.src=N.trackingServerUrl+"?impressionId="+encodeURIComponent(N.impressionId)+"&adId="+encodeURIComponent(N.adId)+"&type=error&timeStamp="+(new Date().getTime().toString())+"&ref="+encodeURIComponent(L)+"&ycp_data="+encodeURIComponent(N.ycp_data)}if(o.log){if(M===undefined){M={name:"Unknown Error"}}m("Beacon.fireErrorBeacon("+M.name+")")}}o.fireError=C;function B(L,K){A();if(h){var F=YCP.Components.Listener.EventListener.prototype.populateBeaconData(YCP.Components.Glue.getAd()),N={},M;F[q.REF]=L;N[q.YCP_CREATIVE_ID]=j.crtv;if(K){N[q.COMPONENT_IDS]=[K]}M=YCP.Components.Listener.EventListener.prototype.serializeData(F,N);ycp.ad.util.beacon.fireEvent(M,u.INTERACTION)}if(o.log){m("Beacon.fireInteractionBeaconWithRef("+L+","+K+")")}}o.fireInteractionWithRef=B;function w(){return J(o.type.interaction,o.ref.expand,{ex:1})}o.fireExpand=w;function r(){return J(o.type.interaction,o.ref.collapse,{ex:0})}o.fireCollapse=r;function z(){return J(o.type.interaction,o.ref.scroll)}o.fireScroll=z;function G(K,F,L,P){A();if(h){var R=YCP.Components.Glue.getComponentByDomId(K),M=R.getConfig(),N=YCP.Components.Listener.EventListener.prototype.populateBeaconData(M),Q={},O;if(L){N[q.REF]=L}Q[q.YCP_CREATIVE_ID]=j.crtv;Q[q.COMPONENT_IDS]=[M.id];if(typeof P==="object"){for(x in P){Q[x]=P[x]}}O=YCP.Components.Listener.EventListener.prototype.serializeData(N,Q);ycp.ad.util.beacon.fireEvent(O,F)}if(o.log){m("Beacon.fireComponentBeaconByDomId("+K+","+F+","+L+","+(P||"")+")")}}o.fireComponentByDomId=G;function E(F){return G(F.id,o.type.interaction||"interaction",o.ref.mouseover||"mouseOver")}o.fireMouseoverImageByEl=E;function l(M,L,N,K){A();if(h){if(M===undefined||L===undefined){throw new Error("product beacon needs a product and type specified")}var F=YCP.Components.Listener.EventListener.prototype.populateBeaconData(YCP.Components.Glue.getAd());if(N){F[q.REF]=N}var P={};P[q.PRODUCT_IDS]=[M];P[q.YCP_CREATIVE_ID]=j.crtv;if(K){for(x in K){P[x]=K[x]}}var O=YCP.Components.Listener.EventListener.prototype.serializeData(F,P);ycp.ad.util.beacon.fireEvent(O,L)}if(o.log){m("Beacon.fireProductBeacon("+M+","+L+","+N+","+(K||"")+")")}}o.fireProduct=l;function v(F){A();return J(o.type.prod_interaction,o.ref.mouseover,{productIds:[F]})}o.fireMouseoverProduct=v;function H(K){A();if(h){try{K=K||YCP.Components.Glue.getComponent("productList"),pListConfig=K.getConfig();K.fireEvent(YCP.Components.ProductListComponent.PRODUCT_IMPRESSION_EVENT,{products:pListConfig.products,config:pListConfig})}catch(F){throw new Error("No ProductList Component given to fire prod impression")}}if(o.log){K=K||"";m("Beacon.fireProductImpression("+K+")")}}o.fireProductImpression=H;function D(F){a.onDwell(F||document.getElementById("baseDivId"),function(K){J(o.type.interaction,o.ref.mouseover,{tw:K.toString(10)});if(o.log){m("Beacon.captureDwell: "+K+"ms")}})}o.captureDwell=D;function n(F){this.init(F)}n.create=function(F){return new n(F)};n.prototype={init:function(F){this.url=F;this.loadURL()},toString:function(){return this.url},loadURL:function(L){if(L){this.url=L}var F=this.url.indexOf("?")+1,N=this.url.substr(F),M=b.QueryString.parse(N),K=window.atob(M.data);this.impressionId=M.impressionId;this.data=b.QueryString.parse(K);this.baseURL=this.url.substr(0,F)},updateURL:function(){var K={impressionId:this.impressionId,data:""},F=b.QueryString.stringify(this.data);K.data=window.btoa(F);queryStr=b.QueryString.stringify(K);this.url=this.baseURL+queryStr},setData:function(F,K){this.data[F]=K.toString();this.updateURL();return this.url},removeData:function(F){delete this.data[F];this.updateURL();return this.url}};o.RedirectClickThruEditor=n;return o})();YCP.Components.TwitterComponent=function(b){var a=this;a.init(b)};YCP.Components.TwitterComponent.prototype={init:function(b){var a=this;a.config=b;a.createTwitterView();a.DOMCache={tweetTxtArea:DOM.one("#tweetTxtArea"),tweetToolsSecId:DOM.one("#tweetToolsSecId"),postTweetWrapperId:DOM.one("#postTweetWrapperId"),tweetsContainer:DOM.one("#tweetsContainer"),tweetTextCount:DOM.one("#tweetTextCount"),sponsorlink:DOM.one("#sponsorLnk"),searchLink:DOM.one("#searchTerm"),followButton:DOM.one("#followBtn")};a.BeaconsObj={hasScrolled:false};a.twitterAdObj={refreshRate:1,numTimelineTweets:b.count,numSearchTweets:0,host:"https://mojo.creative.yahoo.com",methodPath:"/twitter/v2/getall?",xhrResponse:null,tweetPostedMsg:"Your tweet has been posted!",popUpBlockedMsg:"Please disable pop-up blocker to submit tweet!",sponsorAccount:b.sponsorAccount,searchTerm:b.searchTerm,domId:b.domId,id:b.id};a.twitterAdObj.getURL=function(){var d="creativeid=34344&description=TwitterComponent&refresh_rate="+this.refreshRate+"&num_timeline_tweets="+this.numTimelineTweets+"&num_search_tweets="+this.numSearchTweets+"&query_string=%23"+encodeURIComponent(this.searchTerm)+"&twitter_account="+encodeURIComponent(this.sponsorAccount);return(this.host+this.methodPath+d)}},createTwitterView:function(){var g=document.createElement("div"),a='<link rel="stylesheet" type="text/css" href="../css/ycp_twitter.css" />',d='<li class="hide" id="feedForCloning">\r\n        <div class="profilePicWrapper">\r\n            <a href="#" target="_blank" class="lnkToProfile">\r\n                <img src="" alt="user pic" class="profilePicSmall" />\r\n            </a>\r\n        </div>\r\n        <div class="tweetWrapper">\r\n            <div>\r\n                <a class="twitterDisplayName"></a>\r\n                <a class="twitterHandle"></a>\r\n                <a class="dimText tweetDateTime"></a>\r\n            </div>\r\n            <p class="tweetText"></p>\r\n            <span class="ellipsis hide">&#8230;</span>\r\n        </div>\r\n    </li>\r\n    <div class="header" id="header">\r\n        <a id="sponsorLnk" class="sponsorSec" href="https://www.flickr.com/" target="_blank">\r\n            <img src="https://s.yimg.com/tt/ycreativeapi/bd9743123df04461aced386c51f37732/flickr_logo_twitter.png" alt="sponsor logo" />\r\n        </a>\r\n\r\n        <div class="custom-follow-button">\r\n            <a id="followBtn" class="follow" href="http://twitter.com/" target="_blank">\r\n                <i class="btn-icon"></i>\r\n                <span class="btn-text">follow</span>\r\n            </a>\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n    <div id="postTweetWrapperId" class="postTweetWrapper">\r\n        <div id="noteParentId" class="noteParent">\r\n            <p id="note"></p>\r\n        </div>\r\n        <div id="tweetBox">\r\n\r\n            <div id="fakePH">\r\n                <span class="tweetTo">Tweet to</span>\r\n                <span class="tweetToWho"></span>\r\n            </div>\r\n\r\n            <textarea id="tweetTxtArea" maxlength="140"></textarea>\r\n            <div id="tweetToolsSecId" class="tweetToolsSec">\r\n                <div id="signInSec">\r\n                    <p id="signedInAs" class="dimText signedInAsNote"></p>\r\n                    <a id="signInBtn" href="http://www.twitter.com" target="_blank"></a>\r\n                </div>\r\n                <button id="postTweetBtn" class="submitTweet disabledBtn right" value="Submit Tweet" disabled="disabled"></button>\r\n                <span id="tweetTextCount" class="">140</span>\r\n            </div>\r\n        </div>\r\n        <div id="errOverlay" class="hide"></div>\r\n    </div>\r\n\r\n    <ul class="tweetsContainer" id="tweetsContainer">\r\n        <div id="throbber">\r\n            <div id="throbberHtml">Connecting&#8230;</div>\r\n        </div>\r\n    </ul>',e="";g.className="twitter-body";g.innerHTML=a+d+e;var b=document.getElementById("baseDivId");if(b){b.appendChild(g)}else{document.body.appendChild(g)}},formatDateStr:function(b){var a=b.split(" ");return[a[0],a[2],a[1],a[5],a[3],a[4]].join(" ")},twitterDateFormatter:function(g){if(Utils.ua.isIE){g=formatDateStr(g)}var a=new Date(g),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d="",b="",e=0,j=0;e=(new Date().getTime()-a.getTime())/(1000*60);j=(new Date().getTime()-a.getTime())/(1000*3600);if(j<1){if(Math.round(e)===0){b="now"}else{b=" "+Math.round(e)+"m"}}else{if(j<24){b=" "+Math.round(j)+"h"}else{b=" "+h[a.getMonth()]+" "+a.getDate()}}return b},makeAjaxCall:function(k,b,j,d){var h,a=null;if(window.XMLHttpRequest){h=new XMLHttpRequest()}else{h=new ActiveXObject("Microsoft.XMLHTTP")}try{h.open(k,b);h.withCredentials=true;h.onreadystatechange=function(){if(h.readyState==4&&h.status==200){a=JSON.parse(h.responseText);if(d===null){j(a)}else{j(a,d)}}}}catch(e){h=new XDomainRequest();h.open(k,b);h.withCredentials=true;h.onload=function(){a=JSON.parse(h.responseText);if(d===null){j(a)}else{j(a,d)}}}h.send(null);var g=setTimeout(function(){if(!h.responseText){self.showErrorMsg()}else{clearTimeout(g)}},2000)},showErrorMsg:function(){var g=document.getElementById("throbber"),e=document.getElementById("throbberHtml"),d=document.createElement("div"),b=document.createElement("p"),a=document.createElement("p"),h=document.createElement("button");DOMCache.postTweetWrapperId.node.style.position="relative";document.getElementById("errOverlay").className="";g.removeChild(e);b.innerHTML="Sorry!";a.innerHTML="Error Connecting";h.innerHTML="";h.id="retryBtn";d.id="throbberHtml";d.appendChild(b);d.appendChild(a);d.appendChild(h);g.className="error "+g.className;g.innerHTML="";g.appendChild(d);DOM.one("#"+h.id).on("click",function(){initTwitterAd()})},initTwitterAd:function(){var b=document.getElementById("throbber"),a=this;a.twitterAdObj.defaultTweetText=" @"+a.twitterAdObj.sponsorAccount;a.twitterAdObj.searchTermURL="https://twitter.com/search?q=%23"+a.twitterAdObj.searchTerm;a.DOMCache.tweetTxtArea.node.innerHTML=a.twitterAdObj.defaultTweetText;a.DOMCache.tweetTxtArea.node.value=a.twitterAdObj.defaultTweetText;DOM.one("#fakePH .tweetToWho").node.innerHTML=a.twitterAdObj.defaultTweetText;a.DOMCache.tweetTextCount.innerHTML=140-a.twitterAdObj.defaultTweetText.length;a.makeAjaxCall("GET",a.twitterAdObj.getURL(),function(d){a.twitterAdObj.xhrResponse=d;if(d.error){a.showErrorMsg()}if(d.result&&d.result.crumb!==null){a.twitterAdObj.crumb=d.result.crumb;a.initAuth()}else{}b.className=b.className+" hide";a.addUserTweetsToDom(d,"@");if(Utils.ua.isFireFox){styleScrollBarinFF()}},null)},addUserTweetsToDom:function(k,l){var y=document.getElementById("feedForCloning"),h=null,o="",A=document.createDocumentFragment(),p="",B=null,j="",b="",g="https://twitter.com/",s=0,d=null,e=null,n=null,v=document.createElement("a"),w=null,r=this;B=k.result.twitter_data.timeline_data;s=B.length;for(var u=0;u<s;u++){n=tempImage=null;b=B[u].user.screen_name;j=B[u].text;o="tweet"+parseInt((Math.random()*8487298),10)+"";h=y.cloneNode(true);h.id=o;h.className="";w=DOM.one(h,".twitterDisplayName").node;w.innerHTML=B[u].user.name;if(l==="@"){w.href=g+b;w.target="_blank"}if(l==="#"){w.className=w.className+" displayNameInSearch"}w=DOM.one(h,".twitterHandle").node;w.innerHTML="@"+b;w.href=g+b;w.target="_blank";w=DOM.one(h,".tweetDateTime").node;w.innerHTML=r.twitterDateFormatter(B[u].created_at);w.href=g+b+"/status/"+B[u].id_str;w.target="_blank";d=j.match(/\B[@#]([\w-]+)/gm);e=B[u].entities.urls.concat(B[u].entities.media);if(e){for(var q=e.length-1;q>=0;q--){if(e[q]===undefined){continue}n=v.cloneNode(true);n.href=e[q].url;n.target="_blank";n.innerHTML=e[q].display_url;j=j.replace(e[q].url,n.outerHTML)}}if(d!==null){var a="";for(var m=d.length-1;m>=0;m--){if(d[m].indexOf("#")===0){a=g+"search?q=%23"+d[m].replace("#","")+"&src=hash"}else{a=g+d[m].replace("@","")}j=j.replace(d[m],"<a target='_blank' href="+a+">"+d[m]+"</a>")}}DOM.one(h,".tweetText").node.innerHTML=j;DOM.one(h,".profilePicSmall").node.src=B[u].user.profile_image_url_https;DOM.one(h,".lnkToProfile").node.href=g+b;A.appendChild(h)}r.DOMCache.tweetsContainer.node.appendChild(A);var z=DOM.one("#feedForCloning.hide").node;z.parentNode.removeChild(z);r.checkOverflow()},initAuth:function(){var b="select * from credstore.signandcall where guid=me and spid='1ce67640-113b-11df-a7d6-001b784d35e1' and url='https://api.twitter.com/1.1/account/verify_credentials.json'",a=this;JSONP("https://social.query.yahoo.com/v1/console/yql?q="+encodeURIComponent(b)+"&diagnostics=true&format=json&callback={{cbfunc}}&crumb="+a.twitterAdObj.crumb,function(d){if(d.query&&(twitterAdObj.username=d.query.results.json.screen_name)){a.showUserName(twitterAdObj.username)}else{a.showUserName(null)}})},authHandler:function(b){var d="select * from credstore.init where guid=me and spid='1ce67640-113b-11df-a7d6-001b784d35e1' and authorizeURL='https://www.yahoo.com'",a=this;JSONP("https://social.query.yahoo.com/v1/console/yql?q="+encodeURIComponent(d)+"&format=json&callback={{cbfunc}}&diagnostics=true&crumb="+twitterAdObj.crumb,function(e){if(e.error){popupwindow("https://twitter.com/intent/tweet?text="+b+"&url=","Send a Tweet",700,650,function(){a.DOMCache.tweetTxtArea.node.value=a.twitterAdObj.defaultTweetText})}else{a.showUserName.userAuthApp=true;a.submitTweet.autoSubmit=true;popupwindow(e.query.results.authorizeURL,"give Yahoo! access to your twitter info",700,650,submitTweet)}})},showUserName:function(a){var g=document.getElementById("signedInAs"),h=document.getElementById("signInBtn"),b=this;if(a){g.style.display="block";g.style.color="#868686";if(arguments.callee.userAuthApp){var e=window.setTimeout(function(){g.style.color="#000";window.clearTimeout(e)},500);var d=window.setTimeout(function(){g.style.color="#868686";window.clearTimeout(d)},1100)}g.innerHTML="Signed in as "+a;h.style.display="none";b.twitterAdObj.username=a}},userTweeting:function(){var a=document.getElementById("postTweetBtn"),d=DOMCache.tweetTxtArea.node.value.trim(),b="disabledBtn";tweetBoxMouseOut.hasOpened=true;if(d.length>140){DOMCache.tweetTxtArea.node.value=d.substring(0,140)}if(d===twitterAdObj.defaultTweetText.trim()||d.length===0){a.setAttribute("disabled","disabled");a.className=a.className+" "+b}else{a.className=a.className.split(" "+b).join("");a.removeAttribute("disabled")}DOMCache.tweetTextCount.innerHTML=140-(DOMCache.tweetTxtArea.node.value.length)},submitTweet:function(){BeaconHanlder(Beacon.type.interaction,"click",["postTweetBtn"]);var b=encodeURIComponent(DOMCache.tweetTxtArea.node.value),d="",a="";d="select * from credstore.signandcall where guid=me and spid='1ce67640-113b-11df-a7d6-001b784d35e1' and url='https://api.twitter.com/1.1/statuses/update.json' and httpMethod='POST' and content='status="+b+"' and headers='[\"Content-Type:application/x-www-form-urlencoded\"]'";a="https://social.query.yahoo.com/v1/console/yql?crumb="+twitterAdObj.crumb+"&q="+encodeURIComponent(d)+"&format=json&callback={{cbfunc}}&diagnostics=true";if(twitterAdObj.username!==undefined||arguments.callee.autoSubmit!==undefined){JSONP(a,function(g){if(!g.error){showNotification(twitterAdObj.tweetPostedMsg,true);DOMCache.tweetTxtArea.node.value=twitterAdObj.defaultTweetText;var e=document.getElementById("postTweetBtn");e.setAttribute("disabled","disabled");e.className=e.className+" disabledBtn";window.setTimeout(function(){collapseTweetBox()},1500)}})}else{authHandler(b)}},checkOverflow:function(){var g=DOM.all("#tweetsContainer li"),d=null,j=[],a=null,h=0,b=0;for(var e=g.length-1;e>=0;e--){a=g[e].node.id;d=DOM.one(("#"+a+" .tweetText")).node;j[0]=DOM.one(("#"+a+" .twitterDisplayName")).node;j[1]=DOM.one(("#"+a+" .twitterHandle")).node;h=j[0].innerHTML.length;b=j[1].innerHTML.length;if((h+b)>28){if(h>=b){j[0].innerHTML=j[0].innerHTML.slice(0,10)+"\u2026"}else{j[1].innerHTML=j[1].innerHTML.slice(0,6)+"\u2026"}}if(d.scrollHeight>d.offsetHeight){DOM.one(("#"+g[e].node.id+" .ellipsis")).node.className="ellipsis"}}},resetCursor:function(d,e){var a=d.value.length-e.defaultTweetText.length;if(d.setSelectionRange){d.focus();d.setSelectionRange(a,a)}else{if(d.createTextRange){var b=d.createTextRange();b.moveStart("character",0);b.select()}}},expandTweetBox:function(b,a){window.setTimeout(function(){var e=b?b:window.event;var j=e.target||e.srcElement,h=a.DOMCache;if(j.id==="fakePH"){BeaconHanlder(Beacon.type.interaction,"mouseover",["tweetTextBox"]);var d=document.getElementById("postTweetBtn"),g=h.tweetTxtArea.node.value;document.getElementById("fakePH").style.display="none";h.tweetTxtArea.node.style.height="4em";a.resetCursor(h.tweetTxtArea.node,a.twitterAdObj);h.tweetsContainer.node.style.height="132px";h.tweetToolsSecId.node.style.display="block";stopPropagation(e)}},200)},collapseTweetBox:function(a){var b=a.DOMCache;b.tweetToolsSecId.node.style.display="none";setTimeout(function(){DOM.one("#fakePH").node.style.display="block"},200);b.tweetTxtArea.node.style.height=0;b.tweetsContainer.node.style.height="178px"},tweetBoxMouseOut:function(d,a){var b=d?d:window.event;var e=b.target||b.srcElement;if((arguments.callee.hasOpened===false)&&e&&e.id==="tweetBox"){if(a.DOMCache.tweetTxtArea.node.value.length!==a.twitterAdObj.defaultTweetText.length){return}a.collapseTweetBox(a);stopPropagation(b)}},showNotification:function(b,a){DOM.one("#note").node.innerHTML=b;DOM.one("#note").node.className=(!!a)?"anim":"";DOM.one("#noteParentId").node.style.display="block";DOM.one("#noteParentId").node.style.height="100%";window.setTimeout(function(){DOM.one("#note").node.innerHTML="";DOM.one("#noteParentId").node.style.height=0;DOM.one("#note").node.className=""},1000)},styleScrollBarinFF:function(){self.DOMCache.tweetsContainer.node.style.width=300+(self.DOMCache.tweetsContainer.node.offsetWidth-self.DOMCache.tweetsContainer.node.scrollWidth-3)+"px"},hookUpConfig:function(){var a=this;if(!DOM.one(".sponsoraccount.ycp-comp-text").node){a.DOMCache.sponsorAccount="flickr";a.DOMCache.searchTerm="photo"}else{a.DOMCache.sponsorAccount=DOM.one(".sponsoraccount.ycp-comp-text").node.innerHTML;a.DOMCache.searchTerm=DOM.one(".searchterm.ycp-comp-text").node.innerHTML}a.twitterAdObj.sponsorAccount=a.DOMCache.sponsorAccount;a.twitterAdObj.sponsorAccountURL="https://twitter.com/"+a.DOMCache.sponsorAccount;a.twitterAdObj.searchTerm=a.DOMCache.searchTerm;a.twitterAdObj.searchTermURL="https://twitter.com/search?q=%23"+a.twitterAdObj.searchTerm},registerEventListeners:function(){var b=this;b.DOMCache.tweetsContainer.on("scroll",function(){if(!BeaconsObj.hasScrolled){BeaconHanlder(Beacon.type.interaction,"scroll",["tweetsList"]);BeaconsObj.hasScrolled=true}});DOM.one("#postTweetBtn").on("click",b.submitTweet);b.DOMCache.tweetTxtArea.on("keyup",b.userTweeting);DOM.one("#tweetsContainer").on("click",function(){var d=event.target||event.srcElement;if(d.className.indexOf("twitterHandle")!==-1){BeaconHanlder(Beacon.type.interaction,"click",["twitterHandle"])}else{if(d.className.indexOf("twitterDisplayName")!==-1){BeaconHanlder(Beacon.type.interaction,"click",["twitterDisplayName"])}else{if(d.tagName.toLowerCase()==="a"){BeaconHanlder(Beacon.type.interaction,"click",["otherLinksInTweets"])}}}});var a=this;DOM.one("#tweetBox").on("mouseover",function(d){a.expandTweetBox(d,a)});DOM.one("#tweetBox").on("mouseout",function(d){a.tweetBoxMouseOut(d,a)});a.tweetBoxMouseOut.hasOpened=false}};function node(a){return document.createElement(a)}function stopPropagation(a){if(typeof a.stopPropagation!="undefined"){a.stopPropagation()}else{a.cancelBubble=true}}function popupwindow(b,m,n,j,a){var g=parseInt((window.screen.availWidth-n)/2,10),e=parseInt(((window.screen.availHeight-j)/2)-j,10),o=null,l=0,k=0;l=(window.outerWidth/2)-(n/2);k=(window.outerHeight/2)-(j/2);o=window.open(b,m,"toolbar=no, location=no, directories=no, status=no, menubar=no, resizable=yes, copyhistory=no,width="+n+",height="+j);if(o){var p=10;o.moveTo(l,k)}else{showNotification(twitterAdObj.popUpBlockedMsg,false)}var d=window.setInterval(function(){try{if(!o||o.closed){window.clearInterval(d);initAuth();if(a){a()}}}catch(h){}},1000);return o}function JSONP(b,e){var d="jsonpcb"+Math.random().toString(36).replace("0.","");window[d]=e||function(g){log(g)};var a=document.createElement("script");a.setAttribute("type","text/javascript");a.src=b.replace("{{cbfunc}}",d);document.body.appendChild(a)}function BeaconHanlder(b,a,d){Beacon.fire(b,a,{componentIds:d})}var f=function(){YCP.Components.Three60DegreeViewComponent=function(){YCP.Components.Three60DegreeViewComponent.superclass.constructor.call(this);this.counter=0};var d=YCP.Utils;function a(o){o.preventDefault();this.isMouseDown=true;this.initialX=o.pageX}function m(o){if(this.isMouseDown){this.isMouseDown=false}this.finalX=o.pageX}function e(p){var q,o,r;if(this.isMouseDown){q=p.pageX;o=p.pageY;r=parseInt((q-this.initialX));if(r<=-1){this.initialX=p.pageX;this.gotoNext()}else{if(r>=1){this.initialX=p.pageX;this.gotoPrevious()}}}}function b(){this.counter--;if(this.counter==-1){this.counter=this.numSlots-1}this.innerContainer.style.left=(-this.counter*this.slotWidth)+"px"}function l(){++this.counter;if(this.counter==this.numSlots){this.counter=0}this.innerContainer.style.left=(-1*this.counter*this.slotWidth)+"px"}function g(o){o.gotoPrevious();o._timer=setTimeout(function(p){return function(){g(p)}}(o),100)}function n(o){o.gotoNext();o._timer=setTimeout(function(p){return function(){n(p)}}(o),100)}function k(o){var p,r;YCP.Components.Three60DegreeViewComponent.superclass.init.call(this,o);this._config=o;this.numSlots=o.numSlots;this.slotWidth=o.slotWidth;this.width=o.width;this.height=o.height;this._container=d.getDomElement(this._config.domId);this._container.style.width=this.width+"px";this._container.style.height=this.height+"px";this._container.style.overflow="hidden";try{this.innerContainer=(d.getElementsByClassName("ycp-360-inner","div",this._container))[0];this.innerContainer.style.width=(this.slotWidth*(this.numSlots-1))+"px";this.innerContainer.style.position="absolute"}catch(q){}view=this;this._container.addEventListener("mousedown",function(s){a.call(view,s)},false);this._container.addEventListener("mousemove",function(s){e.call(view,s)},false);this._container.addEventListener("mouseup",function(s){m.call(view,s)},false);p=d.getElementsByClassName("left",null,this._container);p=(p&&p.length>0)?p[0]:null;r=d.getElementsByClassName("right",null,this._container);r=(r&&r.length>0)?r[0]:null;if(p&&r){d.addEventListener(r,"mouseEnter",function(s){return function(){g(s)}}(this));d.addEventListener(r,"mouseLeave",function(s){return function(u){clearTimeout(s._timer);d.preventBubble(u)}}(this));d.addEventListener(p,"mouseEnter",function(s){return function(){n(s)}}(this));d.addEventListener(p,"mouseLeave",function(s){return function(u){clearTimeout(s._timer);d.preventBubble(u)}}(this))}if((o.scene&&o.scene.autoshow&&o.autoshow)||(!o.scene&&o.autoshow)){this.show()}if(o.scene&&!o.scene.autoshow&&o.autoshow){YCP.Components.Glue.getComponentByDomId(o.scene.id).addListener(YCP.Components.VisualComponent.SHOW_EVENT,function(s){return function(u){s.show()}}(this))}}function h(o){YCP.Components.Three60DegreeViewComponent.superclass.show.call(this,o);this.fireEvent(YCP.Components.Three60DegreeViewComponent.IMPRESSION_EVENT,{config:this._config})}var j={init:k,gotoPrevious:b,gotoNext:l,show:h};YCP.Components.Three60DegreeViewComponent.IMPRESSION_EVENT="impression";d.extend(YCP.Components.Three60DegreeViewComponent,YCP.Components.VisualComponent,j)}();var f=function(){YCP.Components.ProductSelectorComponent=function(){YCP.Components.ProductSelectorComponent.superclass.constructor.call(this);if(YCP.Components.Listener.ProductSelectorEventListener){new YCP.Components.Listener.ProductSelectorEventListener(this).attachListeners()}};function b(e){this.carousel=YCP.Components.Glue.getComponentByDomId(e.carousel);this.template=new t(e.template);this.panel=_cu.getDomElement(e.panel);_cu.getDomElement(e.domId).appendChild(this.panel);this.carousel.addListener(YCP.Components.CarouselComponent.PRODUCT_IMPRESSION_EVENT,function(l){var g=this.template,k=this.panel,h=l.products[0],j;j=this.config.products[h];setTimeout(function(){k.innerHTML=g.render(j)},300)},{},this);if(e.event==="mouseover"){this.carousel.addListener(YCP.Components.CarouselComponent.PRODUCT_MOUSEOVER_EVENT,function(l){var g=this.template,k=this.panel,h=l.product,j;j=this.config.products[h];setTimeout(function(){k.innerHTML=g.render(j)},300)},{},this)}YCP.Components.ProductSelectorComponent.superclass.init.call(this,e)}function d(h){var e=this.template,j=this.panel,g;YCP.Components.ProductSelectorComponent.superclass.show.call(this,h);g=this.config.p;setTimeout(function(){j.innerHTML=e.render(g)},300)}var a={init:b,show:d};_cu.extend(YCP.Components.ProductSelectorComponent,YCP.Components.SceneComponent,a)}();