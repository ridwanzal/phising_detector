var MG_Utils={addClass:function(b,a){if(!this.hasClass(b,a)){b.className?b.className+=" "+a:b.className+=a}},addClassMultiple:function(e,d){var c,a,b=this;for(c=0,a=e.length;c<a;c++){if(!b.hasClass(e[c],d)){e[c].className?e[c].className+=" "+d:e[c].className+=d}}},addEventHandler:function(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){c.attachEvent("on"+a,b)}else{c["on"+a]=b}}},docHeight:function(){var a=document.body,b=document.documentElement;return Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight)},extendSimple:function(c,a){var b;for(b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c},extendDefaults:function(e,c,f){var d=Object.prototype.hasOwnProperty;for(var g in c){if(d.call(c,g)){if(!(g==="constructor"&&e===window)){if(c[g]===undefined){delete e[g]}else{if(!(f&&typeof e[g]!=="undefined")){e[g]=c[g]}}}}}return e},hasClass:function(b,a){return b.className&&new RegExp("(\\s|^)"+a+"(\\s|$)").test(b.className)},isElementInViewport:function(a){var b=a.getBoundingClientRect();return(b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth))},isRbga:function(){var a=null;if(document.createElement){var d="rgba(1, 1, 1, 0.5)",c=document.createElement("p"),b=/^rgba/;if(c&&c.style&&typeof b.test=="function"){try{c.style.color=d;a=b.test(c.style.color)}catch(f){a=false}}}return a},removeClass:function(b,a){var c=" "+b.className.replace(/[\t\r\n]/g," ")+" ";if(this.hasClass(b,a)){while(c.indexOf(" "+a+" ")>=0){c=c.replace(" "+a+" "," ")}b.className=c.replace(/^\s+|\s+$/g,"")}},removeClassMultiple:function(f,d){var c,a,b=this;for(c=0,a=f.length;c<a;c++){var e=" "+f[c].className.replace(/[\t\r\n]/g," ")+" ";if(b.hasClass(f[c],d)){while(e.indexOf(" "+d+" ")>=0){e=e.replace(" "+d+" "," ")}f[c].className=e.replace(/^\s+|\s+$/g,"")}}},removeEventHandler:function(c,a,b){if(c.removeEventListener){c.removeEventListener(a,b,false)}else{if(c.detachEvent){c.detachEvent("on"+a,b)}else{c["on"+a]=null}}},children:function(c){var d=c.childNodes,b=[],a=d.length;while(a--){if(d[a].nodeType==1){b.unshift(d[a])}}return b},triggerEvent:function(b,a){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(a,true,false);b.dispatchEvent(c)}else{b.fireEvent("on"+a)}},ajaxGet:function(a){var d="";for(var b in a.data){if(d!=""){d+="&"}d+=b+"="+encodeURIComponent(a.data[b])}var c=new XMLHttpRequest();c.open("GET",a.url+"?"+d,true);c.onreadystatechange=function(){if(this.readyState===4){if(this.status>=200&&this.status<400){if(a.success&&typeof a.success==="function"){a.success(JSON.parse(this.responseText))}}else{console.error("Ajax error occured.")}}};c.send();c=null},map:function(b,e){var d,a,c=[];for(d=0,a=b.length;d<a;d++){c.push(e(b[d],d))}return c},appendString:function(c,b){var a=document.createElement("div");a.innerHTML=b;while(a.firstChild){c.appendChild(a.firstChild)}},nextElementSibling:function(a){do{a=a.nextSibling}while(a&&a.nodeType!==1);return a},previousElementSibling:function(a){do{a=a.previousSibling}while(a&&a.nodeType!==1);return a},nextDivSibling:function(a){do{a=a.nextSibling}while(a&&a.nodeType!==1&&a.tagName&&a.tagName.toLowerCase()==="div");return a},closest:function(b,a){var c;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(d){if(typeof document.body[d]=="function"){c=d;return true}return false});while(b!==null){parent=b.parentElement;if(parent!==null&&parent[c](a)){return parent}b=parent}return null},setText:function(a,b){if(a.textContent){a.textContent=b}else{a.innerText=b}},setData:function(b,a,c){if(b.dataset){a=a.replace(/[-_]([a-z])/g,function(d){return d[1].toUpperCase()});b.dataset[a]=c}else{b.setAttribute("data-"+a,c)}},getData:function(b,a){var c=null;if(b.dataset){a=a.replace(/[-_]([a-z])/g,function(d){return d[1].toUpperCase()});c=b.dataset[a]}else{c=b.getAttribute("data-"+a)}return c},isElement:function(a){return(typeof HTMLElement==="object"?a instanceof HTMLElement:a&&typeof a==="object"&&a!==null&&a.nodeType===1&&typeof a.nodeName==="string")},domReady:function(c){var b=false;var g=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",a);window.removeEventListener("load",a)}else{document.detachEvent("onreadystatechange",a);window.detachEvent("onload",a)}};var a=function(){if(!b&&(document.addEventListener||event.type==="load"||document.readyState==="complete")){b=true;g();c()}};if(document.readyState==="complete"){c()}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",a);window.addEventListener("load",a)}else{document.attachEvent("onreadystatechange",a);window.attachEvent("onload",a);var f=false;try{f=window.frameElement==null&&document.documentElement}catch(d){}if(f&&f.doScroll){(function h(){if(b){return}try{f.doScroll("left")}catch(i){return setTimeout(h,50)}b=true;g();c()})()}}}},firstChild:function(c){if(c.children.length){if(c.firstElementChild){return c.firstElementChild}else{var b,a;for(b=0,a=c.children.length;b<=a;b++){var d=c.children[b];if(1===d.nodeType){return d}}}}else{return null}},lastChild:function(b){if(b.children.length){if(b.lastElementChild){return b.lastElementChild}else{var a;for(a=b.children.length-1;a>=0;--a){var c=b.children[a];if(1===c.nodeType){return c}}}}else{return null}},offset:function(c){var j=c.getBoundingClientRect(),g=document.body,a=document.documentElement;var b=window.pageYOffset||a.scrollTop||g.scrollTop;var e=window.pageXOffset||a.scrollLeft||g.scrollLeft;var f=a.clientTop||g.clientTop||0;var h=a.clientLeft||g.clientLeft||0;var i=j.top+b-f;var d=j.left+e-h;return{left:Math.round(d),top:Math.round(i)}},wrap:function(b,d){var a=document.createElement("div");a.innerHTML=d;while(a.firstChild){var c=a.firstChild;b.parentNode.insertBefore(c,b);c.appendChild(b)}},empty:function(a){while(a.firstChild){a.removeChild(a.firstChild)}},preventDefault:function(a){a.preventDefault?a.preventDefault():(a.returnValue=false)},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():(a.cancelBubble=true)}};