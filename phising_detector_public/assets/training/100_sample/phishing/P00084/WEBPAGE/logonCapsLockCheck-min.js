/*Copyright (c) 2012 United Services Automobile Association All Rights Reserved logonCapsLockCheck.js*/
USAA.namespace("USAA.ec.logon");USAA.ec.logon.LogonCapsLockCheck=function(){var E=false;var H=false;var M=97;var J=122;var N=65;var K=90;var I=20;var D=YAHOO.util.Event;var G=YAHOO.util.Dom;var B=YAHOO.lang;var O=null;var L=null;var A=null;var P=null;var F=false;var C=function(){O=G.get("messageLoginErrorDiv");L=G.getElementsByClassName("messageLoginError basicmessageLoginError")[0];A=G.getElementsByClassName("shortContentLoginError")[0];P=G.get("capsMessageDIV");F=(B.isObject(L)||B.isObject(A))?true:false};return{init:function(){C();if(P){YAHOO.util.Event.addListener("usaaNum","keypress",USAA.ec.logon.LogonCapsLockCheck.checkCapsLock,this);YAHOO.util.Event.addListener("usaaNum","keydown",USAA.ec.logon.LogonCapsLockCheck.capsLockHandler,this);YAHOO.util.Event.addListener("usaaPass","keypress",USAA.ec.logon.LogonCapsLockCheck.checkCapsLock,this);YAHOO.util.Event.addListener("usaaPass","keydown",USAA.ec.logon.LogonCapsLockCheck.capsLockHandler,this);YAHOO.util.Event.addFocusListener("usaaPass",USAA.ec.logon.LogonCapsLockCheck.passwordFocusHandler);YAHOO.util.Event.addBlurListener("usaaPass",USAA.ec.logon.LogonCapsLockCheck.hideErrorMessageDiv)}},capsLockHandler:function(S){var Q=D.getCharCode(S);var R=D.getTarget(S,true);if(Q==I){if(E){E=false}else{E=true}}if(B.isObject(R)&&R.name=="j_password"&&E){USAA.ec.logon.LogonCapsLockCheck.showCapsLockWarning()}else{USAA.ec.logon.LogonCapsLockCheck.hideErrorMessageDiv()}},checkCapsLock:function(T){var Q=D.getCharCode(T);var R=D.getTarget(T,true);var S=false;if(T.shiftKey){S=T.shiftKey}else{if(T.modifiers){S=!!(T.modifiers&4)}}if(((Q>=M&&Q<=J)&&S)||((Q>=N&&Q<=K)&&!S)){E=true;H=true}else{if((Q>=M&&Q<=J)||(Q>=N&&Q<=K)){E=false;H=true}}if(B.isObject(R)&&R.name=="j_password"){if(E==true&&H==true){USAA.ec.logon.LogonCapsLockCheck.showCapsLockWarning()}else{USAA.ec.logon.LogonCapsLockCheck.hideErrorMessageDiv()}}},showCapsLockWarning:function(){if(F){O.style.top="400px"}var Q="<h4 class='capsLockmessageHeading'>Caps Lock Key is on. </h4>";Q=Q+"<p class='notice_logonError'> Please remember your password is case sensitive.</p>";O.style.height="auto";P.innerHTML=Q;O.style.display=""},passwordFocusHandler:function(){if(E){USAA.ec.logon.LogonCapsLockCheck.showCapsLockWarning()}else{USAA.ec.logon.LogonCapsLockCheck.hideErrorMessageDiv()}},hideErrorMessageDiv:function(){if(O!=null){O.style.display="none"}}}}();YAHOO.util.Event.onDOMReady(USAA.ec.logon.LogonCapsLockCheck.init);