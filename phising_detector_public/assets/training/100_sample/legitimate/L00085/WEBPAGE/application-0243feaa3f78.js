/*
 * Copyright 2016 Disney
 * All Rights Reserved
 *
 * Underscore.js 1.3.3
 * Copyright 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * MIT License
 *
 * Backbone.js 1.0.0
 * Copyright 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * MIT License
 *
 * Hogan.js 2.0.0
 * Copyright 2012 Twitter Inc.
 * Apache License, Version 2.0
 */
(function(){function e(t,i,a){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t._chain&&(t=t._wrapped),i._chain&&(i=i._wrapped),t.isEqual&&x.isFunction(t.isEqual))return t.isEqual(i);if(i.isEqual&&x.isFunction(i.isEqual))return i.isEqual(t);var n=c.call(t);if(n!=c.call(i))return!1;switch(n){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:0==t?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if("object"!=typeof t||"object"!=typeof i)return!1;for(var r=a.length;r--;)if(a[r]==t)return!0;a.push(t);var s=0,o=!0;if("[object Array]"==n){if(s=t.length,o=s==i.length)for(;s--&&(o=s in t==s in i&&e(t[s],i[s],a)););}else{if("constructor"in t!="constructor"in i||t.constructor!=i.constructor)return!1;for(var l in t)if(x.has(t,l)&&(s++,!(o=x.has(i,l)&&e(t[l],i[l],a))))break;if(o){for(l in i)if(x.has(i,l)&&!s--)break;o=!s}}return a.pop(),o}var t=this,i=t._,a={},n=Array.prototype,r=Object.prototype,s=Function.prototype,o=n.slice,l=n.unshift,c=r.toString,d=r.hasOwnProperty,u=n.forEach,h=n.map,f=n.reduce,p=n.reduceRight,m=n.filter,g=n.every,b=n.some,v=n.indexOf,y=n.lastIndexOf,k=Array.isArray,_=Object.keys,w=s.bind,x=function(e){return new R(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.3.3";var C=x.each=x.forEach=function(e,t,i){if(null!=e)if(u&&e.forEach===u)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,r=e.length;r>n;n++)if(n in e&&t.call(i,e[n],n,e)===a)return}else for(var s in e)if(x.has(e,s)&&t.call(i,e[s],s,e)===a)return};x.map=x.collect=function(e,t,i){var a=[];return null==e?a:h&&e.map===h?e.map(t,i):(C(e,function(e,n,r){a[a.length]=t.call(i,e,n,r)}),e.length===+e.length&&(a.length=e.length),a)},x.reduce=x.foldl=x.inject=function(e,t,i,a){var n=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return a&&(t=x.bind(t,a)),n?e.reduce(t,i):e.reduce(t);if(C(e,function(e,r,s){n?i=t.call(a,i,e,r,s):(i=e,n=!0)}),!n)throw new TypeError("Reduce of empty array with no initial value");return i},x.reduceRight=x.foldr=function(e,t,i,a){var n=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return a&&(t=x.bind(t,a)),n?e.reduceRight(t,i):e.reduceRight(t);var r=x.toArray(e).reverse();return a&&!n&&(t=x.bind(t,a)),n?x.reduce(r,t,i,a):x.reduce(r,t)},x.find=x.detect=function(e,t,i){var a;return A(e,function(e,n,r){return t.call(i,e,n,r)?(a=e,!0):void 0}),a},x.filter=x.select=function(e,t,i){var a=[];return null==e?a:m&&e.filter===m?e.filter(t,i):(C(e,function(e,n,r){t.call(i,e,n,r)&&(a[a.length]=e)}),a)},x.reject=function(e,t,i){var a=[];return null==e?a:(C(e,function(e,n,r){t.call(i,e,n,r)||(a[a.length]=e)}),a)},x.every=x.all=function(e,t,i){var n=!0;return null==e?n:g&&e.every===g?e.every(t,i):(C(e,function(e,r,s){return(n=n&&t.call(i,e,r,s))?void 0:a}),!!n)};var A=x.some=x.any=function(e,t,i){t||(t=x.identity);var n=!1;return null==e?n:b&&e.some===b?e.some(t,i):(C(e,function(e,r,s){return n||(n=t.call(i,e,r,s))?a:void 0}),!!n)};x.include=x.contains=function(e,t){var i=!1;return null==e?i:v&&e.indexOf===v?-1!=e.indexOf(t):i=A(e,function(e){return e===t})},x.invoke=function(e,t){var i=o.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t||e:e[t]).apply(e,i)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.max=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var a={computed:-1/0};return C(e,function(e,n,r){var s=t?t.call(i,e,n,r):e;s>=a.computed&&(a={value:e,computed:s})}),a.value},x.min=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var a={computed:1/0};return C(e,function(e,n,r){var s=t?t.call(i,e,n,r):e;s<a.computed&&(a={value:e,computed:s})}),a.value},x.shuffle=function(e){var t,i=[];return C(e,function(e,a){t=Math.floor(Math.random()*(a+1)),i[a]=i[t],i[t]=e}),i},x.sortBy=function(e,t,i){var a=x.isFunction(t)?t:function(e){return e[t]};return x.pluck(x.map(e,function(e,t,n){return{value:e,criteria:a.call(i,e,t,n)}}).sort(function(e,t){var i=e.criteria,a=t.criteria;return void 0===i?1:void 0===a?-1:a>i?-1:i>a?1:0}),"value")},x.groupBy=function(e,t){var i={},a=x.isFunction(t)?t:function(e){return e[t]};return C(e,function(e,t){var n=a(e,t);(i[n]||(i[n]=[])).push(e)}),i},x.sortedIndex=function(e,t,i){i||(i=x.identity);for(var a=0,n=e.length;n>a;){var r=a+n>>1;i(e[r])<i(t)?a=r+1:n=r}return a},x.toArray=function(e){return e?x.isArray(e)?o.call(e):x.isArguments(e)?o.call(e):e.toArray&&x.isFunction(e.toArray)?e.toArray():x.values(e):[]},x.size=function(e){return x.isArray(e)?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,i){return null==t||i?e[0]:o.call(e,0,t)},x.initial=function(e,t,i){return o.call(e,0,e.length-(null==t||i?1:t))},x.last=function(e,t,i){return null==t||i?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},x.rest=x.tail=function(e,t,i){return o.call(e,null==t||i?1:t)},x.compact=function(e){return x.filter(e,function(e){return!!e})},x.flatten=function(e,t){return x.reduce(e,function(e,i){return x.isArray(i)?e.concat(t?i:x.flatten(i)):(e[e.length]=i,e)},[])},x.without=function(e){return x.difference(e,o.call(arguments,1))},x.uniq=x.unique=function(e,t,i){var a=i?x.map(e,i):e,n=[];return e.length<3&&(t=!0),x.reduce(a,function(i,a,r){return(t?x.last(i)===a&&i.length:x.include(i,a))||(i.push(a),n.push(e[r])),i},[]),n},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=x.intersect=function(e){var t=o.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=x.flatten(o.call(arguments,1),!0);return x.filter(e,function(e){return!x.include(t,e)})},x.zip=function(){for(var e=o.call(arguments),t=x.max(x.pluck(e,"length")),i=new Array(t),a=0;t>a;a++)i[a]=x.pluck(e,""+a);return i},x.indexOf=function(e,t,i){if(null==e)return-1;var a,n;if(i)return a=x.sortedIndex(e,t),e[a]===t?a:-1;if(v&&e.indexOf===v)return e.indexOf(t);for(a=0,n=e.length;n>a;a++)if(a in e&&e[a]===t)return a;return-1},x.lastIndexOf=function(e,t){if(null==e)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);for(var i=e.length;i--;)if(i in e&&e[i]===t)return i;return-1},x.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var a=Math.max(Math.ceil((t-e)/i),0),n=0,r=new Array(a);a>n;)r[n++]=e,e+=i;return r};var S=function(){};x.bind=function(e,t){var i,a;if(e.bind===w&&w)return w.apply(e,o.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return a=o.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,a.concat(o.call(arguments)));S.prototype=e.prototype;var n=new S,r=e.apply(n,a.concat(o.call(arguments)));return Object(r)===r?r:n}},x.bindAll=function(e){var t=o.call(arguments,1);return 0==t.length&&(t=x.functions(e)),C(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var i={};return t||(t=x.identity),function(){var a=t.apply(this,arguments);return x.has(i,a)?i[a]:i[a]=e.apply(this,arguments)}},x.delay=function(e,t){var i=o.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(o.call(arguments,1)))},x.throttle=function(e,t){var i,a,n,r,s,o,l=x.debounce(function(){s=r=!1},t);return function(){i=this,a=arguments;var c=function(){n=null,s&&e.apply(i,a),l()};return n||(n=setTimeout(c,t)),r?s=!0:o=e.apply(i,a),l(),r=!0,o}},x.debounce=function(e,t,i){var a;return function(){var n=this,r=arguments,s=function(){a=null,i||e.apply(n,r)};i&&!a&&e.apply(n,r),clearTimeout(a),a=setTimeout(s,t)}},x.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments))}},x.wrap=function(e,t){return function(){var i=[e].concat(o.call(arguments,0));return t.apply(this,i)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)x.has(e,i)&&(t[t.length]=i);return t},x.values=function(e){return x.map(e,x.identity)},x.functions=x.methods=function(e){var t=[];for(var i in e)x.isFunction(e[i])&&t.push(i);return t.sort()},x.extend=function(e){return C(o.call(arguments,1),function(t){for(var i in t)e[i]=t[i]}),e},x.pick=function(e){var t={};return C(x.flatten(o.call(arguments,1)),function(i){i in e&&(t[i]=e[i])}),t},x.defaults=function(e){return C(o.call(arguments,1),function(t){for(var i in t)null==e[i]&&(e[i]=t[i])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isEqual=function(t,i){return e(t,i,[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!=e.nodeType)},x.isArray=k||function(e){return"[object Array]"==c.call(e)},x.isObject=function(e){return e===Object(e)},x.isArguments=function(e){return"[object Arguments]"==c.call(e)},x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),x.isFunction=function(e){return"[object Function]"==c.call(e)},x.isString=function(e){return"[object String]"==c.call(e)},x.isNumber=function(e){return"[object Number]"==c.call(e)},x.isFinite=function(e){return x.isNumber(e)&&isFinite(e)},x.isNaN=function(e){return e!==e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},x.isDate=function(e){return"[object Date]"==c.call(e)},x.isRegExp=function(e){return"[object RegExp]"==c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return d.call(e,t)},x.noConflict=function(){return t._=i,this},x.identity=function(e){return e},x.times=function(e,t,i){for(var a=0;e>a;a++)t.call(i,a)},x.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},x.result=function(e,t){if(null==e)return null;var i=e[t];return x.isFunction(i)?i.call(e):i},x.mixin=function(e){C(x.functions(e),function(t){O(t,x[t]=e[t])})};var T=0;x.uniqueId=function(e){var t=T++;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/.^/,E={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var I in E)E[E[I]]=I;var L=/\\|'|\r|\n|\t|\u2028|\u2029/g,M=/\\(\\|'|r|n|t|u2028|u2029)/g,D=function(e){return e.replace(M,function(e,t){return E[t]})};x.template=function(e,t,i){i=x.defaults(i||{},x.templateSettings);var a="__p+='"+e.replace(L,function(e){return"\\"+E[e]}).replace(i.escape||P,function(e,t){return"'+\n_.escape("+D(t)+")+\n'"}).replace(i.interpolate||P,function(e,t){return"'+\n("+D(t)+")+\n'"}).replace(i.evaluate||P,function(e,t){return"';\n"+D(t)+"\n;__p+='"})+"';\n";i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+a+"return __p;\n";var n=new Function(i.variable||"obj","_",a);if(t)return n(t,x);var r=function(e){return n.call(this,e,x)};return r.source="function("+(i.variable||"obj")+"){\n"+a+"}",r},x.chain=function(e){return x(e).chain()};var R=function(e){this._wrapped=e};x.prototype=R.prototype;var B=function(e,t){return t?x(e).chain():e},O=function(e,t){R.prototype[e]=function(){var e=o.call(arguments);return l.call(e,this._wrapped),B(t.apply(x,e),this._chain)}};x.mixin(x),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];R.prototype[e]=function(){var i=this._wrapped;t.apply(i,arguments);var a=i.length;return"shift"!=e&&"splice"!=e||0!==a||delete i[0],B(i,this._chain)}}),C(["concat","join","slice"],function(e){var t=n[e];R.prototype[e]=function(){return B(t.apply(this._wrapped,arguments),this._chain)}}),R.prototype.chain=function(){return this._chain=!0,this},R.prototype.value=function(){return this._wrapped}}).call(this),function(){var e,t=this,i=t.Backbone,a=[],n=a.push,r=a.slice,s=a.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var o=t._;o||"undefined"==typeof require||(o=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,i){if(!d(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var a=this._events[e]||(this._events[e]=[]);return a.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,i){if(!d(this,"once",e,[t,i])||!t)return this;var a=this,n=o.once(function(){a.off(e,n),t.apply(this,arguments)});return n._callback=t,this.on(e,n,i)},off:function(e,t,i){var a,n,r,s,l,c,u,h;if(!this._events||!d(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(s=e?[e]:o.keys(this._events),l=0,c=s.length;c>l;l++)if(e=s[l],r=this._events[e]){if(this._events[e]=a=[],t||i)for(u=0,h=r.length;h>u;u++)n=r[u],(t&&t!==n.callback&&t!==n.callback._callback||i&&i!==n.context)&&a.push(n);a.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!d(this,"trigger",e,t))return this;var i=this._events[e],a=this._events.all;return i&&u(i,t),a&&u(a,arguments),this},stopListening:function(e,t,i){var a=this._listeners;if(!a)return this;var n=!t&&!i;"object"==typeof t&&(i=this),e&&((a={})[e._listenerId]=e);for(var r in a)a[r].off(t,i,this),n&&delete this._listeners[r];return this}},c=/\s+/,d=function(e,t,i,a){if(!i)return!0;if("object"==typeof i){for(var n in i)e[t].apply(e,[n,i[n]].concat(a));return!1}if(c.test(i)){for(var r=i.split(c),s=0,o=r.length;o>s;s++)e[t].apply(e,[r[s]].concat(a));return!1}return!0},u=function(e,t){var i,a=-1,n=e.length,r=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++a<n;)(i=e[a]).callback.call(i.ctx);return;case 1:for(;++a<n;)(i=e[a]).callback.call(i.ctx,r);return;case 2:for(;++a<n;)(i=e[a]).callback.call(i.ctx,r,s);return;case 3:for(;++a<n;)(i=e[a]).callback.call(i.ctx,r,s,o);return;default:for(;++a<n;)(i=e[a]).callback.apply(i.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};o.each(h,function(e,t){l[t]=function(t,i,a){var n=this._listeners||(this._listeners={}),r=t._listenerId||(t._listenerId=o.uniqueId("l"));return n[r]=t,"object"==typeof i&&(a=this),t[e](i,a,this),this}}),l.bind=l.on,l.unbind=l.off,o.extend(e,l);var f=e.Model=function(e,t){var i,a=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},o.extend(this,o.pick(t,p)),t.parse&&(a=this.parse(a,t)||{}),(i=o.result(this,"defaults"))&&(a=o.defaults({},a,i)),this.set(a,t),this.changed={},this.initialize.apply(this,arguments)},p=["url","urlRoot","collection"];o.extend(f.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var a,n,r,s,l,c,d,u;if(null==e)return this;if("object"==typeof e?(n=e,i=t):(n={})[e]=t,i||(i={}),!this._validate(n,i))return!1;r=i.unset,l=i.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),u=this.attributes,d=this._previousAttributes,this.idAttribute in n&&(this.id=n[this.idAttribute]);for(a in n)t=n[a],o.isEqual(u[a],t)||s.push(a),o.isEqual(d[a],t)?delete this.changed[a]:this.changed[a]=t,r?delete u[a]:u[a]=t;if(!l){s.length&&(this._pending=!0);for(var h=0,f=s.length;f>h;h++)this.trigger("change:"+s[h],this,u[s[h]],i)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,i=!1,a=this._changing?this._previousAttributes:this.attributes;for(var n in e)o.isEqual(a[n],t=e[n])||((i||(i={}))[n]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(a){return t.set(t.parse(a,e),e)?(i&&i(t,a,e),void t.trigger("sync",t,a,e)):!1},F(this,e),this.sync("read",this,e)},save:function(e,t,i){var a,n,r,s=this.attributes;if(null==e||"object"==typeof e?(a=e,i=t):(a={})[e]=t,!(!a||i&&i.wait||this.set(a,i)))return!1;if(i=o.extend({validate:!0},i),!this._validate(a,i))return!1;a&&i.wait&&(this.attributes=o.extend({},s,a)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=s;var t=l.parse(e,i);return i.wait&&(t=o.extend(a||{},t)),o.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},F(this,i),n=this.isNew()?"create":i.patch?"patch":"update","patch"===n&&(i.attrs=a),r=this.sync(n,this,i),a&&i.wait&&(this.attributes=s),r},destroy:function(e){e=e?o.clone(e):{};var t=this,i=e.success,a=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&a(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;F(this,e);var n=this.sync("delete",this,e);return e.wait||a(),n},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||O();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,o.extend(t||{},{validationError:i})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];o.each(m,function(e){f.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var g=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},v={add:!0,merge:!1,remove:!1};o.extend(g.prototype,l,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.defaults(t||{},v))},remove:function(e,t){e=o.isArray(e)?e.slice():[e],t||(t={});var i,a,n,r;for(i=0,a=e.length;a>i;i++)r=this.get(e[i]),r&&(delete this._byId[r.id],delete this._byId[r.cid],n=this.indexOf(r),this.models.splice(n,1),this.length--,t.silent||(t.index=n,r.trigger("remove",r,this,t)),this._removeReference(r));return this},set:function(e,t){t=o.defaults(t||{},b),t.parse&&(e=this.parse(e,t)),o.isArray(e)||(e=e?[e]:[]);var i,a,r,l,c,d=t.at,u=this.comparator&&null==d&&t.sort!==!1,h=o.isString(this.comparator)?this.comparator:null,f=[],p=[],m={};for(i=0,a=e.length;a>i;i++)(r=this._prepareModel(e[i],t))&&((l=this.get(r))?(t.remove&&(m[l.cid]=!0),t.merge&&(l.set(r.attributes,t),u&&!c&&l.hasChanged(h)&&(c=!0))):t.add&&(f.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(t.remove){for(i=0,a=this.length;a>i;++i)m[(r=this.models[i]).cid]||p.push(r);p.length&&this.remove(p,t)}if(f.length&&(u&&(c=!0),this.length+=f.length,null!=d?s.apply(this.models,[d,0].concat(f)):n.apply(this.models,f)),c&&this.sort({silent:!0}),t.silent)return this;for(i=0,a=f.length;a>i;i++)(r=f[i]).trigger("add",r,this,t);return c&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var i=0,a=this.models.length;a>i;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,i){t||(t=this.comparator);var a=o.isFunction(t)?t:function(e){return e.get(t)};return o.sortedIndex(this.models,e,a,i)},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(a){var n=e.reset?"reset":"set";i[n](a,e),t&&t(i,a,e),i.trigger("sync",i,a,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,a=t.success;return t.success=function(n){t.wait&&i.add(e,t),a&&a(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof f)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var i=new this.model(e,t);return i._validate(e,t)?i:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,a){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,a),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(y,function(e){g.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var k=["groupBy","countBy","sortBy"];o.each(k,function(e){g.prototype[e]=function(t,i){var a=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,a,i)}});var _=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];o.extend(_.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(o.isFunction(i)||(i=this[e[t]]),i){var a=t.match(w),n=a[1],r=a[2];i=o.bind(i,this),n+=".delegateEvents"+this.cid,""===r?this.$el.on(n,i):this.$el.on(n,r,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=o.extend({},o.result(this,"options"),e)),o.extend(this,o.pick(e,x)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t["class"]=o.result(this,"className"));var i=e.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,a){var n=C[t];o.defaults(a||(a={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var r={type:n,dataType:"json"};if(a.url||(r.url=o.result(i,"url")||O()),null!=a.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(a.attrs||i.toJSON(a))),a.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),a.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){r.type="POST",a.emulateJSON&&(r.data._method=n);var s=a.beforeSend;a.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",n),s?s.apply(this,arguments):void 0}}"GET"===r.type||a.emulateJSON||(r.processData=!1),"PATCH"!==r.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=a.xhr=e.ajax(o.extend(r,a));return i.trigger("request",i,l,a),l};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,P=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(A.prototype,l,{initialize:function(){},route:function(t,i,a){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(i)&&(a=i,i=""),a||(a=this[i]);var n=this;return e.history.route(t,function(r){var s=n._extractParameters(t,r);a&&a.apply(n,s),n.trigger.apply(n,["route:"+i].concat(s)),n.trigger("route",i,s),e.history.trigger("route",n,i,s)}),this},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(S,"(?:$1)?").replace(T,function(e,t){return t?e:"([^/]+)"}).replace(P,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return o.map(i,function(e){return e?decodeURIComponent(e):null})}});var I=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,M=/^\/+|\/+$/g,D=/msie [\w.]+/,R=/\/$/;I.started=!1,o.extend(I.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(R,"");e.indexOf(i)||(e=e.substr(i.length))}else e=this.getHash();return e.replace(L,"")},start:function(t){if(I.started)throw new Error("Backbone.history has already been started");I.started=!0,this.options=o.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),a=document.documentMode,n=D.exec(navigator.userAgent.toLowerCase())&&(!a||7>=a);this.root=("/"+this.root+"/").replace(M,"/"),n&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var r=this.location,s=r.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&r.hash&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),I.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!I.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var i=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,i){if(i){var a=e.href.replace(/(javascript:|#).*$/,"");e.replace(a+"#"+t)}else e.hash="#"+t}}),e.history=new I;var B=function(e,t){var i,a=this;i=e&&o.has(e,"constructor")?e.constructor:function(){return a.apply(this,arguments)},o.extend(i,a,t);var n=function(){this.constructor=i};return n.prototype=a.prototype,i.prototype=new n,e&&o.extend(i.prototype,e),i.__super__=a.prototype,i};f.extend=g.extend=A.extend=_.extend=I.extend=B;var O=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var i=t.error;t.error=function(a){i&&i(e,a,t),e.trigger("error",e,a,t)}}}.call(this),function(e){"use strict";var t=e.jQuery,i=e._,a=e.Backbone,n=i.sortedIndex,r=a.Events,s=a.View,o=s.prototype.remove,l="breakpoints",c=function(e,t,i){var a=n(i,e+1),r=n(i,t+1);return a!==r?i.slice(Math.min(a,r),Math.max(a,r)):[]},d=a.Resize={trigger:r.trigger,width:function(){return e.Math.max(t(e).width(),e.innerWidth||0)}};d[l]=[],i.each(["on","off","bind","unbind"],function(t){d[t]=function(a,n,s){r[t].call(this,a,n,s),this[l]=i.compact(i.map(i.keys(this._events||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),a.View=s.extend({constructor:function(e){s.call(this,e),this[l]&&d.on(this[l],this.resize,this)},resize:function(){this.render()},remove:function(){return this[l]&&d.off(this[l],this.resize,this),o.call(this)}}),t(function(){var i=d.width();t(e).resize(function(){var e,t=d.width();t!==i&&(e=c(i,t,d[l]),e.length&&d.trigger(e.join(" "),t,t>i?"up":"down"),i=t)})})}(this),function(e){"use strict";var t=e.Spatula={},i=e.jQuery,a=e._,n=e.Backbone,r=a.isFunction,s=a.map,o=t.whenAll=function(e){return i.when.apply(i,e||[])},l=t.tryCall=function(e,t){var i=e&&e[t];return r(i)?i.apply(e,a.rest(arguments,2)):void 0},c={},d={},u={model:!0,collection:!0},h=[],f=function(e,t,i){c[e]=t,d[e]=i};t.ContainerView=n.View.extend({mod:0,transition:function(e){if(e===this.current)return e.render();var t=this,a=++t.mod,n=t.current,r=e.el.parentNode===t.el,c=o();return t.current=e,t.$el.css("minHeight",t.$el.height()),n||r||t.$el.empty(),t.trigger("begin",e),n&&(n.hide&&(c=i.when(n.hide(),c)),c.done(function(){n.remove()})),c=o(s(this._cb,function(t){return t.call(this,e)}).concat([l(e,"load"),c])),c.fail(function(){var i=Array.prototype.slice.call(arguments);t.mod===a&&(t.current=null,t.$el.empty(),t.trigger.apply(t,["error",e].concat(i)))
}),c=c.pipe(function(){return t.mod===a?(e.render(),(n||!r)&&t.$el.empty().prepend(e.el),l(e,"ready"),t.trigger("ready",e),l(e,"show")):void 0}),c.pipe(function(){return t.mod!==a?i.Deferred().reject():(t.$el.css("minHeight",""),void t.trigger("end",e))})},loader:function(e){(this._cb||(this._cb=[])).push(e)},render:function(){return l(this.current,"render"),this},ready:function(){return l(this.current,"ready"),this}}),t.RichView=n.View.extend({assets:u,load:function(e,t){var i=this;return i._load||(i._load=o(s(i.assets,function(e,t){return c[t].call(i,e).done(function(){i.trigger("load:"+t)})})).done(function(){i.trigger("load")})),i._load.then(e,t)},render:function(){var e=this,t=e.load();return"resolved"===t.state()?e.safeRender():e._render||(e._render=!0,t.then(function(){e.safeRender()})),e},safeRender:function(){},remove:function(){var e=this;return e.destroy(),e.trigger("destroy"),e.off(),a.each(e.assets,function(e,t){l(d,t,e)}),n.View.prototype.remove.apply(e,arguments),e},destroy:function(){}},{assetLoader:f}),f("scripts",function(e){return e=a.difference(e,h),o(s(e,function(e){return h.push(e),i.ajax(e,{dataType:"script",cache:!0,error:function(){h=a.without(h,e)}})}))}),i(function(){h=a.union(h,i("script[src]").not("[async]").map(function(){return i(this).attr("src")}).get())}),f("styles",function(e){return o(s(e,function(e){i("<link/>",{"class":"css-"+this.cid,rel:"stylesheet",type:"text/css",href:e}).appendTo("head")}))},function(){i("link.css-"+this.cid).remove()}),f("templates",function(e,t){return t||(t=this.templates={}),o(s(e,function(e,a){return i.ajax(e,{cache:!0,success:function(e){t[a]=e}})}))}),f("data",function(e){var t=this;return i.ajax(e,{dataType:"json",success:function(e){t.data=e}})}),a.each(u,function(e,t){f(t,function(e){return e=r(e.fetch)?e:this[t],l(e,"fetch")||o()})})}(this),function(e){"use strict";var t=e.Disney,i=e.Spatula,a=e.GOC,n=e.jQuery,r=e._,s=e.Backbone,o=s.sync,l=/^\/(?:[^\/]|$)/,c=t.ajaxBase;n(function(){var e=t.redirect,a=t.top=new i.ContainerView({el:"#main"});e&&a.loader(e.loader)}),a&&a.queue.push(["go",e.document.body]),n.ajaxSetup({timeout:2e4}),c&&(s.sync=function(e,t,i){var a=i.url||t&&t.url;return l.exec(a)&&(i=r.extend({url:c+a.substr(1)},i)),o(e,t,i)})}(this),function(e,t){"use strict";t.support.css3=function(){function t(t,i){var a=e.document.body||e.document.documentElement,n=a.style,r=["Webkit","Moz","ms","O"];if(void 0!==n[t])return i?t:!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var s=0;s<r.length;s++)if(void 0!==n[r[s]+t])return i?r[s]+t:!0}return t}(),t.fn.selectTransitionEnd=function(){var t,i=e.document.createElement("fakeelement"),a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(t in a)if(void 0!==i.style[t])return a[t]}}(this,jQuery);/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(e){"use strict";function t(e,t,i){var a;return t&&"object"==typeof t&&(void 0!==t[e]?a=t[e]:i&&t.get&&"function"==typeof t.get&&(a=t.get(e))),a}function i(e,t,i,a,n,r){function s(){}function o(){}s.prototype=e,o.prototype=e.subs;var l,c=new s;c.subs=new o,c.subsText={},c.buf="",a=a||{},c.stackSubs=a,c.subsText=r;for(l in t)a[l]||(a[l]=t[l]);for(l in a)a.hasOwnProperty(l)&&(c.subs[l]=a[l]);n=n||{},c.stackPartials=n;for(l in i)i.hasOwnProperty(l)&&!n[l]&&(n[l]=i[l]);for(l in n)n.hasOwnProperty(l)&&(c.partials[l]=n[l]);return c}function a(e){return String(null===e||void 0===e?"":e)}function n(e){return e=a(e),d.test(e)?e.replace(r,"&amp;").replace(s,"&lt;").replace(o,"&gt;").replace(l,"&#39;").replace(c,"&quot;"):e}e.Template=function(e,t,i,a){e=e||{},this.r=e.code||this.r,this.c=i,this.options=a||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(){return""},v:n,t:a,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},ep:function(e,t){var a=this.partials[e],n=t[a.name];if(a.instance&&a.base===n)return a.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,a.subs){t.stackText||(t.stackText={});for(var r in a.subs)a.subs.hasOwnProperty(r)&&!t.stackText[r]&&(t.stackText[r]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=i(n,a.subs,a.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n,n},rp:function(e,t,i,a){var n=this.ep(e,i);return n?n.ri(t,i,a):""},rs:function(e,t,i){var a=e[e.length-1];if(!u(a)){if(!this.options.modelGet||"object"!=typeof a||"number"!=typeof a.length||"function"!=typeof a.slice)return void i(e,t,this);a=a.slice(0,a.length)}for(var n=0;n<a.length;n++)e.push(a[n]),i(e,t,this),e.pop()},s:function(e,t,i,a,n,r,s){var o;return u(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ms(e,t,i,a,n,r,s)),o=!!e,!a&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o)},d:function(e,i,a,n){var r,s=e.split("."),o=this.f(s[0],i,a,n),l=this.options.modelGet,c=null;if("."===e&&u(i[i.length-2]))o=i[i.length-1];else for(var d=1;d<s.length;d++)r=t(s[d],o,l),void 0!==r?(c=o,o=r):o="";return n&&!o?!1:(n||"function"!=typeof o||(i.push(c),o=this.mv(o,i,a),i.pop()),o)},f:function(e,i,a,n){for(var r=!1,s=null,o=!1,l=this.options.modelGet,c=i.length-1;c>=0;c--)if(s=i[c],r=t(e,s,l),void 0!==r){o=!0;break}return o?(n||"function"!=typeof r||(r=this.mv(r,i,a)),r):n?!1:""},ls:function(e,t,i,n,r){var s=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(a(e.call(t,n)),t,i)),this.options.delimiters=s,!1},ct:function(e,t,i){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,i)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,i,a,n,r,s){var o,l=t[t.length-1],c=e.call(l);return"function"==typeof c?a?!0:(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,l,i,o.substring(n,r),s)):c},mv:function(e,t,i){var n=t[t.length-1],r=e.call(n);return"function"==typeof r?this.ct(a(r.call(n)),n,i):r},sub:function(e,t,i,a){var n=this.subs[e];n&&(this.activeSub=e,n(t,i,this,a),this.activeSub=!1)}};var r=/&/g,s=/</g,o=/>/g,l=/\'/g,c=/\"/g,d=/[&<>\"\']/,u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),this.Whiskers||!function(e){"use strict";var t=e.Hogan,i=function(e,t){var i,a=this;for(e=e.split(".");e.length>1;)i=e.shift(),a=a.hasOwnProperty(i)?a[i]:a[i]={};a[e[0]]=t},a=e.Whiskers=function(e,n){var r="function"==typeof t.compile?t:null;i.call(a,e,new t.Template(n,"",r,{modelGet:!0}))}}(this),Whiskers("partials.style_elements.module_styles",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("style_options",e,t,1),e,t,0,18,5163,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" <!-- /* "),i.b(i.v(i.f("view",e,t,0))),i.b(" module "),i.b(i.v(i.f("ref",e,t,0))),i.b(" */ --> "),i.s(i.f("bg_color",e,t,1),e,t,0,71,167,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* background color */ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),i.b(" "),i.s(i.f("images",e,t,1),e,t,0,192,742,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_image",e,t,1),e,t,0,214,720,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* background images */ @media screen and (min-width: 680px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-size: 100% auto; "),i.s(i.d("background_image.url",e,t,1),e,t,0,344,392,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-image: url("),i.b(i.v(i.d("background_image.url",e,t,0))),i.b(");")}),e.pop()),i.b(" "),i.s(i.f("alignment",e,t,1),e,t,0,432,472,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-position: "),i.b(i.v(i.f("alignment",e,t,0))),i.b(" left;")}),e.pop()),i.b(" } } "),i.s(i.f("retina_url",e,t,1),e,t,0,506,704,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (-webkit-min-device-pixel-ratio: 1.5) and (min-width: 680px), screen and (min-resolution: 144dpi) and (min-width: 680px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-image: url("),i.b(i.v(i.f("retina_url",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("bg_image_styles",e,t,1),e,t,0,774,1027,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* special config settings for certain background images */ @media screen and (min-width: 680px){ "),i.s(i.f("image_repeat",e,t,1),e,t,0,890,944,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-repeat: "),i.b(i.v(i.f("image_repeat",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("size",e,t,1),e,t,0,971,1015,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ background-size: "),i.b(i.v(i.f("size",e,t,0))),i.b("; } ")}),e.pop()),i.b(" } ")}),e.pop()),i.b(" "),i.s(i.f("overlay_styles",e,t,1),e,t,0,1067,1507,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* overlay styles */ @media screen and (min-width: 680px){ "),i.s(i.f("opacity",e,t,1),e,t,0,1139,1192,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .module_overlay{ opacity: "),i.b(i.v(i.f("opacity",e,t,0))),i.b("; }")}),e.pop()),i.b(" "),i.s(i.f("color",e,t,1),e,t,0,1215,1275,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .module_overlay{ background-color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; }")}),e.pop()),i.b(" "),i.s(i.f("overlay_image",e,t,1),e,t,0,1304,1486,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(' .module_overlay{ background-image: url("'),i.b(i.v(i.f("image",e,t,0))),i.b('"); background-position: '),i.b(i.v(i.f("vertical_position",e,t,0))),i.b(" left; background-repeat: "),i.b(i.v(i.f("image_repeat",e,t,0))),i.b("; background-size: "),i.b(i.v(i.f("size",e,t,0))),i.b("; } ")}),e.pop()),i.b(" } ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("border_image_options",e,t,1),e,t,0,1580,4586,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* border images */ "),i.s(i.f("repeat_border_images",e,t,1),e,t,0,1626,1699,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":after{ background-repeat: repeat-x; } ")}),e.pop()),i.b(" "),i.s(i.f("top_border_images",e,t,1),e,t,0,1747,3012,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop_image",e,t,1),e,t,0,1766,2563,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 680px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":before{ background-image: url("),i.b(i.v(i.d("desktop_image.src",e,t,0))),i.b("); padding-top: "),i.b(i.v(i.f("preserved_space",e,t,0))),i.b("; "),i.s(i.f("repeat_border_images",e,t,1),e,t,0,1931,1995,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("half_width",e,t,1),e,t,0,1946,1980,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-size: "),i.b(i.v(i.f("half_width",e,t,0))),i.b("px;")}),e.pop())}),e.pop()),i.b(" } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ padding-top: calc("),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" + 1.6rem);} "),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ margin-top: calc(-"),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" - 1.6rem) ;} } "),i.b(" "),i.s(i.f("preserved_space_1024_override",e,t,1),e,t,0,2353,2528,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1024px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ padding-top: calc("),i.b(i.v(i.f("preserved_space_1024_override",e,t,0))),i.b(" + 1.6rem);} "),i.b(" } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("mobile_image",e,t,1),e,t,0,2599,2994,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: 679px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ padding-top: calc("),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" + 1.6rem) ;} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ margin-top: calc(-"),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" - 1.6rem) ;} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":before{ background-image: url("),i.b(i.v(i.d("mobile_image.src",e,t,0))),i.b("); padding-top: "),i.b(i.v(i.f("preserved_space",e,t,0))),i.b("; "),i.s(i.f("repeat_border_images",e,t,1),e,t,0,2900,2964,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("half_width",e,t,1),e,t,0,2915,2949,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-size: "),i.b(i.v(i.f("half_width",e,t,0))),i.b("px;")}),e.pop())}),e.pop()),i.b(" } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("bottom_border_images",e,t,1),e,t,0,3060,4560,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop_image",e,t,1),e,t,0,3079,3995,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 680px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":after{ background-image: url("),i.b(i.v(i.d("desktop_image.src",e,t,0))),i.b("); "),i.s(i.f("repeat_border_images",e,t,1),e,t,0,3209,3273,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("half_width",e,t,1),e,t,0,3224,3258,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-size: "),i.b(i.v(i.f("half_width",e,t,0))),i.b("px;")}),e.pop())}),e.pop()),i.b(" } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(", #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":after{ padding-bottom: "),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" ;} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ margin-bottom: -"),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" ;} "),i.b(" html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".peekaboo:not(.expanded):not(.transitioning):hover{ padding-bottom: "),i.b(i.v(i.f("preserved_space_hover",e,t,0))),i.b(" ;} } "),i.b(" "),i.s(i.f("preserved_space_1024_override",e,t,1),e,t,0,3728,3960,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1024px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ padding-bottom: "),i.b(i.v(i.f("preserved_space_1024_override",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".peekaboo:not(.expanded):not(.transitioning):hover{ padding-bottom: "),i.b(i.v(i.f("preserved_space_1024_hover_override",e,t,0))),i.b(" ;} } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("mobile_image",e,t,1),e,t,0,4031,4542,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: 679px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":after{ background-image: url("),i.b(i.v(i.d("mobile_image.src",e,t,0))),i.b("); "),i.s(i.f("repeat_border_images",e,t,1),e,t,0,4160,4224,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("half_width",e,t,1),e,t,0,4175,4209,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-size: "),i.b(i.v(i.f("half_width",e,t,0))),i.b("px;")}),e.pop())}),e.pop()),i.b(" } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(", #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":after{ padding-bottom: "),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" ;} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ margin-bottom: -"),i.b(i.v(i.f("preserved_space",e,t,0))),i.b(" ;} "),i.b(" html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".peekaboo:not(.expanded):not(.transitioning):hover{ padding-bottom: "),i.b(i.v(i.f("preserved_space_hover",e,t,0))),i.b(" ;} } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("peekaboo_options",e,t,1),e,t,0,4676,5141,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" /* peekaboo styles */ "),i.s(i.f("open_text",e,t,1),e,t,0,4713,4859,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" html:not(.no-js)"),i.s(i.f("hide_open_text_on_desktop",e,t,1),e,t,0,4760,4766,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(".touch")}),e.pop()),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(':not(.expanded):before{ content: "'),i.b(i.v(i.f("open_text",e,t,0))),i.b('"} ')}),e.pop()),i.b(" "),i.s(i.f("close_text",e,t,1),e,t,0,4889,5032,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" html:not(.no-js)"),i.s(i.f("hide_close_text_on_desktop",e,t,1),e,t,0,4937,4943,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(".touch")}),e.pop()),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b('.expanded:before{ content: "'),i.b(i.v(i.f("close_text",e,t,0))),i.b('"} ')}),e.pop()),i.b(" "),i.s(i.f("text_alignment",e,t,1),e,t,0,5067,5121,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(":before{ text-align: "),i.b(i.v(i.f("text_alignment",e,t,0))),i.b("; }")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Whiskers,a=e._;a.extend(t.Style,{applyStyleClasses:function(e){var t=e.$el,i=e.model,a=i.get("style_options")||{};a.geo_hidden&&!t.hasClass("geo-accepted")&&t.addClass("geo-hidden")},getModuleStyles:function(e){var t=e.model,a=i.partials.style_elements.module_styles,n=a.render(t);return n}})}(this),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,a=e.Backbone,n=e.jQuery,r=e.Math,s=r.min(e.devicePixelRatio,2);t.LumiereHelpers={sizes:[160,320,480,600,768,960,1200,1536,1920],imgSrc:function(e,t){var i,a,n,r;if(e instanceof Object?(i=e.src,a=e.width):(i=e,r=this.getDimensionsFromSrc(i),a=r&&r.width),t.exact_size){var o=e.half_width||r&&r.half_width||a&&parseInt(a/2,10);n=s>1.5?!1:o}else n=this.optimizedWidth(a,t);var l=n?i+="&width="+n:i;return l},processImgData:function(e,t){var i=this.imgSrc(e,t),a=n.extend({src:i},this.getDimensionsFromSrc(i));return a},optimizedWidth:function(e,t){var n,s=t.rel_width||1,o=t.target_width;if(!o){var l=i.contentMax?r.min(a.Resize.width(),i.contentMax):a.Resize.width();o=s*l*.94}return n=this.getClosestSize(o),e>n?n:!1},getClosestSize:function(e){var t,i=e*s;return n(this.sizes).each(function(e,a){return t=a,a>i?!1:void 0}),t},getDimensionsFromSrc:function(e){var t=e&&e.split("?")[1],i=t&&decodeURIComponent(t).split("region=")[1];if(i){var a=i.split("&")[0].split(","),n=parseInt(a[2],10),s=parseInt(a[3],10),o={width:n,height:s,ratio:s/n,half_width:n&&r.round(n/2)};return o}}}}(this),function(e){"use strict";var t=e.jQuery,i=e.Disney;t(function(){t.fn.extend({loadLazyImages:function(){t("img[data-src]",this).each(function(){var e=t(this);e.closest(".module").hasClass("geo-hidden")||e.parentsUntil(".module",".lazy-deferred").length<1&&e.swapSrc()})},enableLazyLoad:function(){return this.removeClass("lazy-deferred"),this},swapSrc:function(){var e=this[0],a=this.attr("data-src"),n=this.attr("data-width"),r=this.parent(".aspect");if(r.length>0&&n){var s=r.width(),o={src:a,width:n},l={target_width:s};a=i.LumiereHelpers.imgSrc(o,l)}e.src!==a?(this.on("load",function(){t(this).removeClass("no-src").removeAttr("data-src"),t(this).closest(".aspect").removeClass("placeholder")}),this.on("error",function(){t(this).hideBrokenImage()}),e.src=a):(this.removeAttr("data-src"),e.complete&&0===e.naturalWidth&&this.hideBrokenImage())},hideBrokenImage:function(){this.addClass("no-src").closest(".aspect").removeClass("placeholder").addClass("load-failed")}})})}(this),Whiskers("entities.item",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<span class="col item '),a.s(a.f("lastRow",e,t,1),e,t,0,34,42,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),a.s(a.f("hidden",e,t,1),e,t,0,65,79,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" lazy-deferred")}),e.pop()),a.s(a.f("widthClass",e,t,1),e,t,0,105,120,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),a.b('"> '),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,197,422,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.s(i.f("target",e,t,1),e,t,0,228,247,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('target="'),i.b(i.v(i.f("target",e,t,0))),i.b('"')}),e.pop()),i.b(' class="arrow entity-link'),i.s(i.f("age_gate",e,t,1),e,t,0,296,306,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" age-gated")}),e.pop()),i.b('" '),i.s(i.f("age_gate",e,t,1),e,t,0,334,357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('"')}),e.pop()),i.s(i.f("ping",e,t,1),e,t,0,379,407,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),i.b("></a> ")}),e.pop()),a.b(" "),a.b(a.rp("<entity_container0",e,t,"")),a.b(" </span>"),a.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),Whiskers("entities.entity_container",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="entity-container entity-type-'),a.b(a.v(a.f("entity_type",e,t,0))),a.b(" "),a.s(a.f("entity_config",e,t,1),e,t,0,75,515,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" ratio-"),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b(" "),i.s(i.f("href",e,t,1),e,t,0,108,117,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("links-out")}),e.pop()),i.b(" "),i.s(i.f("event_value",e,t,1),e,t,0,143,152,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("links-out")}),e.pop()),i.b(" "),i.s(i.f("rounded_corners",e,t,1),e,t,0,189,216,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("corners-"),i.b(i.v(i.f("rounded_corners",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("title_overlay",e,t,1),e,t,0,255,268,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("title-overlay")}),e.pop()),i.b(" "),i.s(i.f("stack_box",e,t,1),e,t,0,301,317,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("stack-box-entity")}),e.pop()),i.b(" "),i.s(i.f("details_visibility",e,t,1),e,t,0,355,385,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("details_visibility",e,t,0))),i.b("-details")}),e.pop()),i.b(" "),i.s(i.f("skip_hover",e,t,1),e,t,0,424,434,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("skip-hover")}),e.pop()),i.b(" "),i.s(i.f("show_ptitle",e,t,1),e,t,0,466,498,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("ptitle",e,t,1),e,t,0,477,487,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has-ptitle")}),e.pop())}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("item_aspect_ratio_override",e,t,1),e,t,0,565,586,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("aspect-ratio-override")}),e.pop()),a.b('"> <div class="entity-mask"> '),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,688,748,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="entity-link" '),i.b(i.rp("<href_attributes0",e,t,"")),i.b(">")}),e.pop()),a.b(" "),a.b(' <div class="'),a.b(a.v(a.f("entity_type",e,t,0))),a.b("-box entity-box "),a.s(a.f("entity_config",e,t,1),e,t,0,845,942,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("thumb_outline",e,t,1),e,t,0,864,876,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("thumb-border")}),e.pop()),i.b(" "),i.s(i.f("subtle_hover",e,t,1),e,t,0,912,924,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("subtle-hover")}),e.pop()),i.b(" ")}),e.pop()),a.b('"> '),a.s(a.d("entity_config.stack_box",e,t,1),e,t,0,991,1044,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="stack-box"><div class="top-photo-border">')}),e.pop()),a.b(' <div class="aspect '),a.s(a.f("noscript",e,t,1),e,t,1,0,0,"")||a.s(a.d("thumb_data.src",e,t,1),e,t,0,1124,1164,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b(" placeholder")}),e.pop()),a.b('" '),a.s(a.f("event_value",e,t,1),e,t,0,1214,1249,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' data-event-link="'),i.b(i.v(i.f("event_value",e,t,0))),i.b('" ')}),e.pop()),a.b("> "),a.b(" "),a.s(a.f("video_thumbnail_badge",e,t,1),e,t,0,1341,1413,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <span class="video_thumbnail_badge badge_'),i.b(i.v(i.f("type",e,t,0))),i.b('">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span> ")}),e.pop()),a.b(" "),a.s(a.f("thumb_data",e,t,1),e,t,0,1455,1895,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.d("thumb_data.src",e,t,1),e,t,0,1474,1876,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1556,1659,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.d("thumb_data.src",e,t,0))),i.b('" class="thumb" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" '),i.b(i.rp("<image_attributes1",e,t,"")),i.b("></noscript>")}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b(' <img class="thumb '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("no-src"),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("thumb_data.src",e,t,0))),i.b('"'),i.s(i.f("preloaded",e,t,1),e,t,0,1800,1824,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('"')}),e.pop()),i.b(" "),i.b(i.rp("<image_attributes2",e,t,"")),i.b("> ")),i.b(" ")}),e.pop())}),e.pop()),a.b(" "),a.s(a.f("profile_gallery",e,t,1),e,t,0,1931,2107,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <img class="thumb '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("no-src"),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("image.base_url",e,t,0))),i.b('"'),i.s(i.f("preloaded",e,t,1),e,t,0,2045,2069,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('"')}),e.pop()),i.b(" "),i.b(i.rp("<image_attributes3",e,t,"")),i.b("> ")}),e.pop()),a.b(" "),a.s(a.f("badge",e,t,1),e,t,0,2138,2366,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,2152,2215,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="badge" alt=""></noscript>')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="badge '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("no-src"),i.b('" alt="" '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("data-"),i.b('src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('">')),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("duration",e,t,1),e,t,0,2390,2434,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<time aria-hidden="true">'),i.b(i.v(i.f("duration",e,t,0))),i.b("</time>")}),e.pop()),a.b(" "),a.s(a.f("profile_gallery",e,t,1),e,t,0,2468,2722,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="'),i.b(i.v(i.f("entity_type",e,t,0))),i.b('"> <span> '),i.s(i.d("translations.added",e,t,1),e,t,0,2529,2551,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.added",e,t,0)))}),e.pop()),i.b(" "),i.b(i.v(i.f("post_date_diff",e,t,0))),i.b(' </span> <span class="stickerbook-name"> '),i.s(i.d("translations.via",e,t,1),e,t,0,2655,2675,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.via",e,t,0)))}),e.pop()),i.b(" "),i.b(i.v(i.f("title",e,t,0))),i.b(" </span> </div> ")}),e.pop()),a.b(" </div> "),a.s(a.d("entity_config.stack_box",e,t,1),e,t,0,2778,2792,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" </div></div> ")}),e.pop()),a.b(" </div> "),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,2874,2878,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),a.b(" "),a.b(' <div class="entity-details '),a.s(a.f("price",e,t,1),e,t,0,2990,2999,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("has-price")}),e.pop()),a.b(" "),a.s(a.f("duration",e,t,1),e,t,0,3023,3036,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("has-timestamp")}),e.pop()),a.b(" "),a.s(a.f("entity_config",e,t,1),e,t,0,3068,3184,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text_alignment",e,t,1),e,t,0,3088,3111,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_alignment",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("truncate_title",e,t,1),e,t,0,3150,3164,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("truncate-title")}),e.pop()),i.b(" ")}),e.pop()),a.b('"> '),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,3247,3307,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="entity-link" '),i.b(i.rp("<href_attributes4",e,t,"")),i.b(">")}),e.pop()),a.b(' <h3 class="title">'),a.b(a.v(a.f("title",e,t,0))),a.b("</h3> "),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,3396,3400,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),a.b(" "),a.s(a.d("entity_config.show_ptitle",e,t,1),e,t,0,3440,3496,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("ptitle",e,t,1),e,t,0,3451,3485,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<h4 class="ptitle">'),i.b(i.v(i.f("ptitle",e,t,0))),i.b("</h4>")}),e.pop())}),e.pop()),a.b(" "),a.s(a.f("short_desc",e,t,1),e,t,0,3542,3576,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="desc">'),i.b(i.v(i.f("short_desc",e,t,0))),i.b("</p>")}),e.pop()),a.b(" "),a.s(a.f("price",e,t,1),e,t,0,3602,3649,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="price skip-text-styles">'),i.b(i.v(i.f("price",e,t,0))),i.b("</p>")}),e.pop()),a.b(" "),a.s(a.d("translations.images",e,t,1),e,t,0,3684,3776,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("numImages",e,t,1),e,t,0,3698,3762,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="image-count">'),i.b(i.v(i.f("numImages",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.images",e,t,0))),i.b("</p>")}),e.pop())}),e.pop()),a.b(" "),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,3843,4064,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="entity-link cta-link'),i.s(i.f("cta_button_title",e,t,1),e,t,0,3911,3940,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" cta-button blue button large")}),e.pop()),i.b('" '),i.b(i.rp("<href_attributes5",e,t,"")),i.b("> "),i.s(i.f("cta_button_title",e,t,1),e,t,0,4006,4037,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <h4>"),i.b(i.v(i.f("cta_button_title",e,t,0))),i.b("</h4> ")}),e.pop()),i.b(" </a> ")}),e.pop()),a.b(" </div>"),a.b(" </div>"),a.b(" "),a.s(a.f("content_flag",e,t,1),e,t,0,4146,4207,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="content-flag skip-text-styles">'),i.b(i.v(i.f("content_flag",e,t,0))),i.b("</p>")}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}},"<image_attributes1":{name:"image_attributes",partials:{},subs:{}},"<image_attributes2":{name:"image_attributes",partials:{},subs:{}},"<image_attributes3":{name:"image_attributes",partials:{},subs:{}},"<href_attributes4":{name:"href_attributes",partials:{},subs:{}},"<href_attributes5":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),Whiskers("partials.image_attributes",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("width",e,t,1),e,t,0,10,34,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' data-width="'),i.b(i.v(i.f("width",e,t,0))),i.b('" ')}),e.pop()),a.b(" "),a.s(a.f("height",e,t,1),e,t,0,56,81,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('data-height="'),i.b(i.v(i.f("height",e,t,0))),i.b('" ')}),e.pop()),a.b(" "),a.s(a.f("aspect_ratio",e,t,1),e,t,0,110,147,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('data-aspect_ratio="'),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b('" ')}),e.pop()),a.b(" "),a.s(a.f("orientation",e,t,1),e,t,0,181,216,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('data-orientation="'),i.b(i.v(i.f("orientation",e,t,0))),i.b('" ')}),e.pop()),a.b(" "),a.s(a.f("optimal_w",e,t,1),e,t,0,247,278,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('data-optimal_w="'),i.b(i.v(i.f("optimal_w",e,t,0))),i.b('" ')}),e.pop()),a.b(" "),a.s(a.f("lumiere_enabled",e,t,1),e,t,1,0,0,"")||a.b('data-legacy="true"'),a.fl()},partials:{},subs:{}}),Whiskers("partials.href_attributes",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('data-title="'),a.s(a.f("title",e,t,1),e,t,0,22,31,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0)))}),e.pop()),a.s(a.f("title",e,t,1),e,t,1,0,0,"")||a.b(a.v(a.f("ref_title_slug",e,t,0))),a.b('"'),a.s(a.f("target",e,t,1),e,t,0,91,111,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' target="'),i.b(i.v(i.f("target",e,t,0))),i.b('"')}),e.pop()),a.s(a.f("age_gate",e,t,1),e,t,0,135,159,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('"')}),e.pop()),a.s(a.f("ping",e,t,1),e,t,0,181,209,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),a.s(a.f("anchor_link",e,t,1),e,t,0,234,264,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' data-anchor="'),i.b(i.v(i.f("anchor_link",e,t,0))),i.b('"')}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("partials.icon_header",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("icon_type",e,t,1),e,t,0,14,96,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="header_icon"> <div class="icon_'),i.b(i.v(i.f("icon_type",e,t,0))),i.b(' icon_img"></div> </div> ')}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("partials.module_elements.module_header",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("is_ad",e,t,1),e,t,0,10,65,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="ad-module-notice">'),i.b(i.v(i.d("translations.ad",e,t,0))),i.b("</div>")}),e.pop()),a.b(' <div class="module_header_container'),a.s(a.f("has_filters",e,t,1),e,t,0,127,139,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" has-filters")}),e.pop()),a.b('"> '),a.s(a.f("title",e,t,1),e,t,0,168,473,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="module_header'),i.s(i.f("icon_type",e,t,1),e,t,0,208,213,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" icon")}),e.pop()),i.s(i.f("desc",e,t,1),e,t,1,0,0,"")||i.b(" no-desc"),i.s(i.f("is_ad",e,t,1),e,t,0,263,273,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" ad-module")}),e.pop()),i.b('"> '),i.b(i.rp("<iconHeader0",e,t,"")),i.b(' <div class="title"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> "),i.s(i.f("seeAll",e,t,1),e,t,0,352,413,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="all" href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a>")}),e.pop()),i.b(" </div> "),i.s(i.f("desc",e,t,1),e,t,0,441,456,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<p>"),i.b(i.v(i.f("desc",e,t,0))),i.b("</p>")}),e.pop()),i.b(" </div> ")}),e.pop()),a.b(" "),a.s(a.f("has_filters",e,t,1),e,t,0,500,797,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="filters"> <a href="" class="filter"> <span>'),i.b(i.v(i.d("translations.all",e,t,0))),i.b('</span> </a> <div class="filter_mobile"> <span>'),i.b(i.v(i.d("translations.all",e,t,0))),i.b('</span> <select class="mobile_filter_list"> <option value="0" data-filter="All" selected="selected">'),i.b(i.v(i.d("translations.all",e,t,0))),i.b("</option> </select> </div> </div> ")}),e.pop()),a.b(" </div> "),a.s(a.f("has_filters",e,t,1),e,t,0,837,905,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="filter_drawer"> <div class="filter_list"></div> </div> ')}),e.pop()),a.fl()},partials:{"<iconHeader0":{name:"iconHeader",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.console,i=e.Grill={},a=e.Spatula,n=e.jQuery,r=e._,s=e.Backbone,o=e.Whiskers,l=e.Disney,c=a.whenAll,d=s.Model,u=s.Collection,h=s.View,f=a.tryCall,p=function(i){var a=e.onerror;t&&t.error&&t.error(i.stack||i.toString()),a&&a(i.toString())},m=function(e,t){try{return f(e,t)}catch(i){p(i)}},g=function(e){return r.map(this.views,function(t){return m(t,e)})},b=n.support.css3("transition")?function(t){var i=n.Deferred(),a=n(e).selectTransitionEnd()+".grill";return n(".overlay",t).on(a,function(e){this===e.target&&(i.resolve(),t.off(a))}),i}:function(){return!0},v=i.Module=d.extend({initialize:function(){this.data=this.data(this.get("data")),this.on("change:data",function(e,t){e.data.reset(t)})},data:function(e){return new u(e)}}),y=i.Burger=u.extend({model:v,reset:function(e,t){if(e.stack){for(var i in e)i in y.prototype||(this[i]=e[i]);e=e.stack}return u.prototype.reset.call(this,e,t)}}),k=h.extend({initialize:function(e){this.template=e.template,this.render(),this.model.on("change",this.render,this)},render:function(){var e=this.$el;this.setElement(n(this.template.render(this.model))),e.replaceWith(this.$el)}}),_=i.ListView=h.extend({tagName:"ul",initialize:function(e){var t=this,i=t.collection;t.template=e.template,t.reset(),i.on("add",function(e,i){var a=i.indexOf(e),n=t.spawn(e);t.views.splice(a,0,n),0===a?t.$el.prepend(n.el):t.views[a-1].$el.after(n.el)}),i.on("remove",function(e,i,a){t.views.splice(a.index,1)[0].remove()}),i.on("reset",t.reset,t)},reset:function(){var e=this;return e.views&&r.invoke(e.views,"remove"),e.views=e.collection.map(function(t){var i=e.spawn(t);
return e.$el.append(i.el),i}),e},spawn:function(e){return new k({model:e,template:this.template})}}),w={},x=i.ModuleView=a.RichView.extend({assets:{},tagName:"section",className:"module",global_components:{images:{image_attributes:o.partials.image_attributes},links:{href_attributes:o.partials.href_attributes},entities:{item:o.entities.item,entity_container:o.entities.entity_container,image_attributes:o.partials.image_attributes,href_attributes:o.partials.href_attributes},module_header:{module_header:o.partials.module_elements.module_header,iconHeader:o.partials.icon_header}},needsGuestContext:function(){var e=["profile","interests"];return r.any(this.model.data.models,function(t){return r.contains(e,t.get("event_value"))})},ctx_additions:function(){var e={};if(this.required_template_sets){var t=r.pick(this.global_components,this.required_template_sets);r.each(t,function(t){r.extend(e,t)})}return r.extend(e,this.included_components,this.additional_components)},safeRender:function(){var e=this.template;e&&e.render&&this.$el.html(e.render(this.model.toJSON()))},applyStyleClasses:function(){l.Style.applyStyleClasses(this)},renderStyles:function(){return l.Style.getModuleStyles(this)},revealModuleImages:function(){this.$el.loadLazyImages(),this.model.get("styles_rendered")||(this.$el.siblings(".module_styles").append(this.renderStyles()),this.model.set("styles_rendered",!0))},storeModelThumb:function(e,t){t&&!e.get("hidden")&&e.set({preloaded:!0,preloaded_src:t})}},{register:function(e,t,i){return w[e]=this.extend(t,i)},create:function(e,t){var i=w[e]||this,a=new i(t),n=a.style_classes||[],r=a.model&&a.model.get("style_options"),s=a.model&&a.model.get("config_options"),o=r&&r.additional_style_classes||[],l=[e].concat(n,o),c=a.model&&a.model.get("ref"),d=c&&"ref-"+c,u=s&&s.anchor_name,h={id:d,"data-module":e,"data-anchor-name":u};return a.$el.attr(h).addClass(l.join(" ")),a}}),C=_.prototype;i.BurgerView=_.extend({id:"burger",tagName:"article",className:"hidden",subview:x,throttleDelay:1e3,visibilityThreshold:200,initialize:function(e){C.initialize.call(this,e),n("<div/>",{"class":"overlay"}).appendTo(this.el),n("<style/>",{"class":"module_styles",type:"text/css"}).appendTo(this.el)},load:function(){function e(){return c(g.call(t,"load"))}var t=this;return this.collection.url?this.collection.fetch().pipe(e):e()},spawn:function(e){return x.create(e.get("view"),{model:e})},itemOptions:function(){return{}},title:function(){return this.collection.title},url:function(){return this.collection.url},render:function(){g.call(this,"render"),g.call(this,"applyStyleClasses")},ready:function(){c(g.call(this,"ready")),this.views.length&&this.initLazyLoading()},show:function(){return this.$el.hasClass("hidden")?(this.$el.removeClass("hidden"),c([b(this.$el)].concat(g.call(this,"show")))):!0},hide:function(){return this.$el.hasClass("hidden")?!0:(this.$el.addClass("hidden"),c([b(this.$el)].concat(g.call(this,"hide"))))},initLazyLoading:function(){this.catalogModulePositions(),this.checkModuleVisibility(),this.bindToScroll(),this.bindToResize()},catalogModulePositions:function(){var e=[];r.each(this.views,function(t){t.pos=parseInt(t.$el.offset().top,10),e.push(t)}),this.unloaded_modules=e},checkModuleVisibility:function(){var t=n(e).height(),i=n(e).scrollTop(),a=i+t+this.visibilityThreshold,s=[];r.each(this.unloaded_modules,function(e){e.pos<a&&e.revealModuleImages?e.revealModuleImages():s.push(e)}),this.unloaded_modules=s,s.length<1&&this.unbindScroll()},onScroll:function(){this.catalogModulePositions(),this.checkModuleVisibility()},onResize:function(){var e=s.Resize.width();e!==this.currentWidth&&(this.boundToScroll||this.bindToScroll()),this.catalogModulePositions(),this.checkModuleVisibility()},bindToScroll:function(){n(e).on("scroll."+this.cid,r.throttle(r.bind(this.onScroll,this),this.throttleDelay)),this.boundToScroll=!0},unbindScroll:function(){n(e).off("scroll."+this.cid),this.boundToScroll=!1},bindToResize:function(){this.currentWidth=s.Resize.width(),n(e).on("resize."+this.cid,r.throttle(r.bind(this.onResize,this),this.throttleDelay))},remove:function(){g.call(this,"remove"),n(e).off("scroll."+this.cid),n(e).off("resize."+this.cid),C.remove.call(this)}}),i.BunView=x.extend({className:"module bun skip-bottom-border skip-top-border",tagName:"div"})}(this),function(e){"use strict";var t,i=[],a="unknown",n=e.Disney.age=function(e){i?i.push(e):e(a)},r=function(){if(i){for(var n=0;n<i.length;++n)i[n](a);e.clearTimeout(t),i=t=null}};n.known=function(e){a="string"==typeof e&&e||"unknown",r()},t=e.setTimeout(r,5e3)}(this),function(e){"use strict";var t=e.Disney;t.language=t.language||function(e){var t=e&&e[0],i=t&&t.replace(/-.*$/,"");return i||"en"}(t.locales)}(this),function(e){"use strict";var t=e.console,i=e.Disney,a=i.Ads=i.Ads||{},n=e._;a.MessageBus=function(){function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];if(a)try{a.callback(e)}catch(n){d(n)}}}function r(e,t){var i={name:e,body:t},n=(o[e]||[]).slice(0);a(i,n),n=(o["*"]||[]).slice(0),a(i,n)}function s(e,t,i){n.each(c,function(a){if(a!==i)try{a.bus[a.functionName](e,t)}catch(n){}})}var o={},l=this,c={},d=function(i){var a=e.onerror;t&&t.error&&t.error("MessageBus:: "+i.stack||"MessageBus:: "+i.toString()),a&&a("MessageBus:: "+i.toString())};"undefined"==typeof i.Ads.MessageBus.Connections&&(i.Ads.MessageBus.Connections={}),this.addConnection=function(e,t,a){if(!a){var n=e+"_"+Math.round(1e6*Math.random()),o="Disney.Ads.MessageBus.Connections."+n,d=n+"_primarySendMessage",u=n+"_secondarySendMessage",h=function(e,t){r(e,t),s(e,t,p)},f={id:e,bus:l,"function":h,functionName:d,uniqueId:n,globalId:o};i.Ads.MessageBus.Connections[n]={},i.Ads.MessageBus.Connections[n][d]=h,l[d]=h;var p={id:e,bus:{sendMessage:t.sendMessage,addMessageListener:t.addMessageListener,removeMessageListener:t.removeMessageListener,addConnection:t.addConnection,removeConnection:t.removeConnection},functionName:u,uniqueId:n,globalId:o};a={primary:f,secondary:p},i.Ads.MessageBus.Connections[n].connection=a,c[e]=p;try{t.addConnection(e,l,a)}catch(m){}p.bus=t}},this.removeConnection=function(e){var t=c[e];if(t){var a=i.Ads.MessageBus.Connections[t.uniqueId].connection;l[a.primary.functionName]=null,i.Ads.MessageBus.Connections[t.uniqueId]=null,c[e]=null,t&&t.bus&&t.bus.removeConnection&&t.bus.removeConnection(e)}},this.sendMessage=function(e,t){r(e,t),s(e,t)},this.addMessageListener=function(e,t){var i={name:e,callback:t};o[e]||(o[e]=[]),o[e].push(i)},this.removeMessageListener=function(e,t){for(var i=o[e]||[],a=0;a<i.length;a++){var n=i[a];n&&n.name===e&&n.callback===t&&(i[a]=null)}},this.destroy=function(){n.each(c,function(e){l.removeConnection(e)}),c=null,n.each(o,function(e){l.removeMessageListener(e.name,e.callback)}),o=null,l=null}}}(this),function(e){"use strict";var t="http://pubads.g.doubleclick.net/gampad/ads?sz=768x432&iu=/7046/video&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid=604",i=e.Disney,a=i.Ads=i.Ads||{},n=e.jQuery,r=e._,s=r.extend,o=function(){},l=function(e){var t=this,i=function(){t.apply(this,arguments)};return o.prototype=this.prototype,i.prototype=new o,s(i.prototype,e),i.sub=this.sub,i},c=a.AbstractAdPlayer=function(e,i){this.config={adTagUrl:t+a.isMobile?"&m_ast=vast":""},e||this.init(e,i)};c.sub=l,c.prototype={id:null,config:null,messageBus:null,init:function(e,t){this.id=e,n.extend(this.config,t)},destroy:function(){this.messageBus&&(this.messageBus.destroy(),this.messageBus=null)}}}(this),function(e){"use strict";function t(){kt.ajax(mt,{dataType:"script",cache:!0,success:i,error:a})}function i(){et=e.google.ima,et.settings.setLocale(yt.language),n()}function a(){ht.messageBus.sendMessage("adOpportunityEnd")}function n(){r(),s(),wt.mobile||Y()}function r(){var e=kt("#"+ht.id);e.html('<div class="adPlayer"><div class="overlay adStartButton"><img width="100%" src="//img.lum.dolimg.com/v1/game_container/img/playButton.png" /></div><div class="overlay adControls" style="display:none;z-index:6"><div class="adCountdown"><h3>'+ht.config.translations.advertisement+'</h3></div><div class="adSkipButton"><h3>'+ht.config.translations.skip_ad+'</h3></div></div><div class="overlay playControls" style="z-index:3;"><div class="playButton"></div></div><div class="overlay adClickTarget" style="z-index:4;"></div><video style="display:none" class="playerElement" poster="'+ht.config.poster+'" autoplay="true" width="100%" oncontextmenu="return false;"></video><div class="adsContainer"></div></div>')}function s(){o(),c(),_(),y(),u(),f(),C(),v()}function o(){nt=kt("#"+ht.id+" .adControls")[0],ot=kt("#"+ht.id+" .adStartButton")[0]}function l(){nt=null}function c(){ut=kt("#"+ht.id+" .playControls"),ut.bind("click",S)}function d(){ut&&(ut.unbind("click",S),ut=null)}function u(){it=kt("#"+ht.id+" .adClickTarget")[0]}function h(){it&&(it=null)}function f(){kt("#"+ht.id+" .adSkipButton").on("click",m)}function p(){kt("#"+ht.id+" .adSkipButton").off("click",m)}function m(){ct&&ct.skip()}function g(){lt=new et.AdsLoader(st),lt.addEventListener(et.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,X,!1),lt.addEventListener(et.AdErrorEvent.Type.AD_ERROR,K,!1)}function b(){lt&&(lt.removeEventListener(et.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,X,!1),lt.removeEventListener(et.AdErrorEvent.Type.AD_ERROR,K,!1),lt=null)}function v(){wt.mobile&&kt(".adPlayer").addClass("hide-controls")}function y(){wt.mobile&&(kt(ot).addClass("fulloverlay"),kt(ot).on("click",x))}function k(){kt(ot).off("click",x)}function _(){pt=kt("#"+ht.id+" .playerElement")[0],wt.mobile&&(pt.style.display="inline"),pt&&pt instanceof _t&&kt(pt).on("click",x)}function w(){pt&&pt instanceof _t&&(kt(pt).off("click",x),pt.hasOwnProperty("pause")&&pt.pause(),pt=null)}function x(){Y()}function C(){rt=kt("#"+ht.id+" .adsContainer")[0],st=new et.AdDisplayContainer(rt,pt,it)}function A(){rt=null,st=null}function S(){return at?void(at=!1):St&&(St=!1,wt.kindle)?void Y():(P(),L(),void(ct.isCustomPlaybackUsed()?pt.play():ct.resume()))}function T(){b(),J(),l(),d(),h(),p(),A(),w(),k()}function P(){ct.isCustomClickTrackingUsed()&&kt(it).addClass("fulloverlay")}function E(){kt(it).removeClass("fulloverlay")}function I(){kt(ut[0]).addClass("fulloverlay")}function L(){kt(ut[0]).removeClass("fulloverlay")}function M(){nt.style.display="inline"}function D(){nt.style.display="none"}function R(){P()}function B(){dt&&ht.messageBus.sendMessage("adEnd"),ht.messageBus.sendMessage("adOpportunityEnd"),E(),L(),D()}function O(){at=!0,tt=!0,wt.mobile&&(E(),I()),xt(U,0)}function F(){ht.messageBus.sendMessage("paused")}function N(t){var i=t.getAd().getAdPodInfo().getIsBumper(),a=Math.round(t.getAd().getDuration());Tt=!1,z(),!i&&a>gt&&(M(),j(),dt=!0,ht.messageBus.sendMessage("adStart"),ft=e.setInterval(j,1e3),ht.messageBus.sendMessage("played"))}function j(){var e=Math.round(ct.getRemainingTime());kt("#"+ht.id+" .adCountdown h3").html(ht.config.translations.advertisement+": "+e)}function z(){kt("#"+ht.id+" .adSkipButton").toggle(Tt)}function U(){at=!1}function q(){R()}function V(){ft&&e.clearInterval(ft),xt(B,0)}function $(){if(wt.mobile&&!ct.isCustomPlaybackUsed()){pt&&(pt.style.visibility="hidden");var e=rt&&rt.firstChild;e&&(e.style.top=0,e.style.width="100%",e.style.height="100%")}}function H(){}function G(){ct&&(Tt=ct.getAdSkippableState(),z())}function W(e){var t={currentTime:0};try{ct=e.getAdsManager(t)}catch(i){}ct&&(ct.addEventListener(et.AdEvent.Type.CLICK,H),ct.addEventListener(et.AdEvent.Type.LOADED,$),ct.addEventListener(et.AdEvent.Type.CONTENT_PAUSE_REQUESTED,H),ct.addEventListener(et.AdEvent.Type.CONTENT_RESUME_REQUESTED,H),ct.addEventListener(et.AdErrorEvent.Type.AD_ERROR,H),ct.addEventListener(et.AdEvent.Type.FIRST_QUARTILE,H),ct.addEventListener(et.AdEvent.Type.MIDPOINT,H),ct.addEventListener(et.AdEvent.Type.THIRD_QUARTILE,H),ct.addEventListener(et.AdEvent.Type.COMPLETE,H),ct.addEventListener(et.AdEvent.Type.ALL_ADS_COMPLETED,H),ct.addEventListener(et.AdErrorEvent.Type.AD_ERROR,H),ct.addEventListener(et.AdEvent.Type.STARTED,N),ct.addEventListener(et.AdEvent.Type.PAUSED,F),ct.addEventListener(et.AdEvent.Type.CLICK,O),ct.addEventListener(et.AdEvent.Type.CONTENT_PAUSE_REQUESTED,q),ct.addEventListener(et.AdEvent.Type.CONTENT_RESUME_REQUESTED,V),ct.addEventListener(et.AdEvent.Type.SKIPPABLE_STATE_CHANGED,G),ct.addEventListener(et.AdEvent.Type.SKIPPED,H))}function J(){if(ct){ct.removeEventListener(et.AdEvent.Type.CLICK,H),ct.removeEventListener(et.AdEvent.Type.LOADED,$),ct.removeEventListener(et.AdEvent.Type.CONTENT_PAUSE_REQUESTED,H),ct.removeEventListener(et.AdEvent.Type.CONTENT_RESUME_REQUESTED,H),ct.removeEventListener(et.AdErrorEvent.Type.AD_ERROR,H),ct.removeEventListener(et.AdEvent.Type.FIRST_QUARTILE,H),ct.removeEventListener(et.AdEvent.Type.MIDPOINT,H),ct.removeEventListener(et.AdEvent.Type.THIRD_QUARTILE,H),ct.removeEventListener(et.AdEvent.Type.COMPLETE,H),ct.removeEventListener(et.AdEvent.Type.ALL_ADS_COMPLETED,H),ct.removeEventListener(et.AdErrorEvent.Type.AD_ERROR,H),ct.removeEventListener(et.AdEvent.Type.STARTED,N),ct.removeEventListener(et.AdEvent.Type.PAUSED,F),ct.removeEventListener(et.AdEvent.Type.CLICK,O),ct.removeEventListener(et.AdEvent.Type.CONTENT_PAUSE_REQUESTED,q),ct.removeEventListener(et.AdEvent.Type.CONTENT_RESUME_REQUESTED,V),ct.removeEventListener(et.AdEvent.Type.SKIPPABLE_STATE_CHANGED,G),ct.removeEventListener(et.AdEvent.Type.SKIPPED,H);try{ct.destroy()}catch(e){}ct=null}}function X(e){if(W(e),ct)try{ct.init(bt,vt,et.ViewMode.NORMAL),ct.start()}catch(t){}}function K(){B()}function Y(){kt(ot).removeClass("fulloverlay"),Q()}function Q(){lt||(g(),ht.messageBus.sendMessage("adOpportunityStart"),lt.requestAds(Z()),st.initialize(),wt.kindle||(pt.play(),pt.pause()))}function Z(){var e=new et.AdsRequest;return e.adTagUrl=ht.config.adTagUrl,e.adType="video",e.linearAdSlotWidth=bt,e.linearAdSlotHeight=vt,e.nonLinearAdSlotWidth=bt,e.nonLinearAdSlotHeight=vt,e}var et,tt,it,at,nt,rt,st,ot,lt,ct,dt,ut,ht,ft,pt,mt="http://imasdk.googleapis.com/js/sdkloader/ima3.js",gt=6,bt=750,vt=500,yt=e.Disney,kt=e.jQuery,_t=e.HTMLVideoElement,wt=e.Modernizr,xt=e.setTimeout,Ct=yt.Ads=yt.Ads||{},At=Ct.AbstractAdPlayer,St=!0,Tt=!1;Ct.HTMLAdPlayer=At.sub({init:function(e,i){e&&(ht=this,At.prototype.init.call(this,e,i),ht.messageBus.sendMessage("adOpportunityStart"),t())},destroy:function(){T(),J(),b();var e=kt("#"+ht.id);e.empty(),ht=null,At.prototype.destroy.call(this)}})}(this),function(e){"use strict";function t(){var e="#"+r.id;p[s].ready=a,u(e,{src:"//a.dilcdn.com/a/adplayer-d1ce1223b289.swf",version:o,onFail:n,bgcolor:"#000000",width:"100%",height:"100%",wmode:"opaque",menu:"false",id:r.id+"_playerElement"},{adTagUrl:i(r.config.adTagUrl),advertisement:r.config.translations.advertisement,language:l.language,skipAd:r.config.translations.skip_ad,messageBusReady:"Disney.Ads.Players."+s+".ready"})}function i(e){return e=e.replace(/'/g,"%27")}function a(){r.messageBus.addConnection(s,d.getElementById(r.id+"_playerElement"))}function n(){r.messageBus.sendMessage("adOpportunityEnd")}var r,s,o=[10,3],l=e.Disney,c=e.jQuery,d=e.document,u=e.flashembed,h=l.Ads=l.Ads||{},f=h.AbstractAdPlayer,p=h.Players=h.Players||{};h.FlashAdPlayer=f.sub({init:function(e,i){e&&(r=this,f.prototype.init.call(this,e,i),s="axxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)}),p[s]={},r.messageBus.sendMessage("adOpportunityStart"),t())},destroy:function(){p[s]=null;var e=c("#"+r.id);e.empty(),r=null,f.prototype.destroy.call(this)}})}(this),function(e){"use strict";var t=e.Disney,i=e.Modernizr,a=t.Ads=t.Ads||{},n=a.FlashAdPlayer,r=a.HTMLAdPlayer,s=e.location.href.indexOf("html5=true")>-1;t.Ads.AdPlayer=function(e,a){var o;return o=!i.flash||s?new r:new n,o.messageBus=new t.Ads.MessageBus,a&&!a.poster&&(a.poster=""),o.init(e,a),o}}(this),function(e){"use strict";function t(e){return l.Deferred(function(t){n.age(function(i){"unknown"!==i&&e.setTargeting("age",i),t.resolve()})}).promise()}function i(){return e.ActiveXObject&&"undefined"!=typeof u.documentElement.style.opacity}var a,n=e.Disney,r=n.Ads=n.Ads||{},s=e.Modernizr,o=e.Backbone,l=e.jQuery,c=e._,d=e.location.host,u=e.document,h=c.each,f=c.extend,p=e.location.href.indexOf("gameVideoAd=true")>-1,m=function(t){e.googletag.cmd.push(function(){t(e.googletag)})},g=function(){return d.match(/\.diznee.net/)&&(d=d.split(".").slice(0,-3).join(".")),d.replace("www.","")},b=function(){var e=/^(?:[a-z0-9-]+\.)*?([a-z0-9-]+(?:\.com?)?(?:\.[a-z]{2})?)$/;return g().match(e)[1]},v=function(){},y=function(e){var t=this,i=function(){t.apply(this,arguments)};return v.prototype=this.prototype,i.prototype=new v,f(i.prototype,e),i.sub=this.sub,i},k=function(e,t,i,a){var n=this;this.id||(this.id=c.uniqueId("gpt-")),c.isArray(i[0])||(i=[i]),n._w=i[0][0],n._h=i[0][1],n.name||(n.name=e),n._d=i,m(function(e){n.define(e,t,a)})};k.sub=y,k.prototype={define:function(e,t,i){var a=this._s=e.defineSlot(t,this._d,this.id);h(i,function(e,t){a.setTargeting(t,e)}),a.addService(e.pubads())},tag:function(){return'<aside class="gpt '+this.name+'" id="'+this.id+'" style="'+this.style()+'"></aside>'},style:function(){return"width:"+this._w+"px;height:"+this._h+"px"},ready:function(){var e=this;e._$=l("#"+this.id),m(function(i){a(),t(e._s).then(function(){i.display(e.id)})})},restore:function(){this._$&&!this._$.closest("html").length&&l("#"+this.id).remove()},remove:function(){this._$.remove()},refresh:function(){var e=this._s;e&&m(function(t){t.pubads().refresh([e])})},sizes:function(){return c.map(this._d,function(e){return e[0]+"x"+e[1]})}};var _,w,x,C=k.sub({ready:function(){k.prototype.ready.call(this);var t=this._$,i=function(){l.contains(u.body,t[0])?t.children().length?("inline-block"===t.css("display")&&t.css("width",""),t.css("height","")):e.setTimeout(i,100):t=null};i()}}),A="gpt-companion",S="companion",T=k.sub({id:A,name:S,define:function(){},ready:function(){var e=this;m(function(){a(),e._s=_}),k.prototype.ready.call(this)}}),P=k.sub({name:S}),E=T.sub({ready:function(){var e=this;m(function(){a(),e._s=_}),this._$=l("#"+this.id)},refresh:function(){}}),I=k.sub({name:S,refresh:function(){},showVideoCompanion:function(){this._$.addClass("hide"),this._$.after(this.context.tag("gameVideoCompanion")),B.gameVideoCompanion.ready()},hideVideoCompanion:function(){this._$.removeClass("hide"),B.gameVideoCompanion&&B.gameVideoCompanion.remove()}}),L=k.sub({adPlayed:!1,style:function(){return s.mobile?"":"width:"+this._w+"px;height:"+this._h+"px"},tag:function(){return'<aside class="gpt" id="'+this.id+'-container" style="margin:0px auto;'+this.style()+'"><div class="'+this.name+'" id="'+this.id+'" style="'+this.style()+'"></div><div class="'+this.name+'" id="'+this.id+'-video" style="'+this.style()+';display:none"></div></aside>'},ready:function(){var i=this;i._$=l("#"+this.id+"-container"),m(function(n){a(),t(i._s).then(function(){n.display(i.id),p&&e.setTimeout(function(){e.disableAutoUnload(),i.videoMode()},0)})})},remove:function(){!this.adPlayed&&B&&B.gameCompanion&&B.gameCompanion.hideVideoCompanion(),n.Ads.setPlayer(null),this.adPlayer&&(this.adPlayer.messageBus&&this.adPlayer.messageBus.removeMessageListener("adStart",this.onAdStart),this.adPlayer.destroy(),this.adPlayer=null),k.prototype.remove.call(this)},getId:function(){return this.id},videoMode:function(){l("#"+this.id).hide(),l("#"+this.id+"-video").show(),B&&B.gameCompanion&&B.gameCompanion.showVideoCompanion();var e={poster:this.poster,adTagUrl:this.context.getVideoAdTagUrl(),translations:this.context.translations};this.onAdStart=c.bind(function(){this.adPlayed=!0},this),this.adPlayer=new n.Ads.AdPlayer(this.id+"-video",e),this.adPlayer.messageBus.addMessageListener("adStart",this.onAdStart),n.Ads.setPlayer(this.adPlayer)}}),M=[300,60];s.mobile?(x="gpt_mobile.js",w={sponsor:[k,[270,80]],banner:[k,[320,50]],rectAll:[k,[320,50]],gameLoader:[L,[750,500]],gameCompanion:[I,M],gameVideoCompanion:[E,M],modalInterstitial:[k,[300,254]],mobile:[k,[320,50]]},o.Resize.width()>=728&&(l("html").addClass("tablet-ads"),w.videoCompanion=[T,M],w.pushdown=[k,[728,90]],w.rectAll=[k,[300,250]])):(x="gpt.js",w={videoCompanion:[T,M],gameCompanion:[I,M],gameVideoCompanion:[E,M],activitykitCompanion:[P,M],gameLoader:[L,[750,500]],sponsor:[k,[270,80]],pushdown:[C,[[970,90],[970,66],[728,90],[970,250]]],rectangle:[k,[300,250]],rectAll:[k,[300,250]],banner:[k,[320,50]],modalInterstitial:[k,[300,254]]});var D,R,B,O=r.DoubleClickAdContext=function(e){var t=this;t.adData=e,t.slots=B={},t.adCounts={},t.translations={advertisement:"Advertisement",skip_ad:"Skip Ad"},t.unit=D=s.mobile&&t.adData.config.mobile||t.adData.config.web,t._t=R=t.adData.config.targeting,t.adSystem="dfp",t.companion="gpt-companion:300:60",t.ageReady=l.Deferred(function(e){n.age(e.resolve)}).promise(),t.status=function(){return t.ageReady},t.useAdPattern=function(){return!0},t.iterateRegistryName=function(e){var i=t.adCounts[e]||0,a=e;return i>0&&(a=e+"-"+i),t.adCounts[e]=i+1,a}};O.prototype={noAds:function(){return!this.unit},tag:function(e,t,i){var a,n=w[e];return n?(a=n[0],n=new a(e,i||this.unit,n[1],f({},this._t,t)),n.context=this,this.slots[this.iterateRegistryName(e)]=n,n.tag()):""},showCDSAds:function(){return!1},cds:function(){return!!this.adData.cds},refresh:function(){var t=this;m(function(i){n.age(function(){e.setTimeout(function(){i.pubads().refresh(c.pluck(t.slots,"_s"))},0)})})},ready:function(){h(this.slots,function(e){e.ready()}),this.refresh()},helpers:function(e,t,i){var a=this,n={};return h(w,function(e,r){n[r+"Ad"]=function(){return a.tag(r,f({},t,this.adTargeting),i)}}),n},setTranslation:function(e,t){this.translations[e]=t},setTargeting:function(e,t){this._t[e]=t},sizes:function(){return c.union.apply(c,c.invoke(this.slots,"sizes"))},getVideoAdTagUrl:function(e){var t=encodeURIComponent(n.Ads.getAdUnit()),i=encodeURIComponent(n.Ads.getCompanionSizesString()),a=encodeURIComponent(n.Ads.getTargetingString()),r=encodeURIComponent(n.Ads.getAdRule()),o=encodeURIComponent(n.Ads.getDescriptionUrl()),l="http://pubads.g.doubleclick.net/gampad/ads?sz=768x432&adRule="+r+"&iu="+t+"&ciu_szs="+i+"&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=[referrer_url]&correlator=[timestamp]&cmsid=604&cust_params="+a+"&description_url="+o;return e&&e.length>0&&(l+="&vid="+e),s.mobile&&(l+="&m_ast=vast"),l}},h(["restore","remove"],function(e){O.prototype[e]=function(){h(this.slots,function(t){t[e]()})}});var F=function(e){return e.replace(/[^\w\|]/gi,"")},N=function(){return e.location.hostname},j=function(){var t=e.optimizely||{},i=t.data||{},a=i.state||{},n=a.activeExperiments&&a.activeExperiments[0],r=a.variationNamesMap&&a.variationNamesMap[n];return n&&r?F(n+"|"+r):""},z=function(){var e=n.abn&&n.abn.testcase();return e?F(e.id+"|"+e.group):""};e.googletag={cmd:[]},a=c.once(function(){var t=e.googletag,i=t.pubads(),a=j()||z();i.setTargeting("hostname",N()),a&&i.setTargeting("abTest",encodeURIComponent(a)),_=t.defineSlot(D,M,A),_.addService(t.companionAds()).addService(i),t.companionAds().setRefreshUnfilledSlots(!0),i.enableAsyncRendering(),i.collapseEmptyDivs(),i.disableInitialLoad(),t.enableServices()}),l(function(){var e={dataType:"script",cache:!0};l.ajax("//www.googletagservices.com/tag/js/"+x,e)}),e.sendJSEvent=function(e){try{"pauseVideo"===e?n.Ads.getPlayer().messageBus.sendMessage("pause"):"playVideo"===e&&n.Ads.getPlayer().messageBus.sendMessage("resume")}catch(t){}};var U,q=function(e){if(u.createEvent){var t=u.createEvent("Event");t.initEvent(e,!0,!0),u.dispatchEvent(t)}},V=function(){u.attachEvent&&!i()?u.documentElement.fakePlayEvent++:q("DisneyMediaPlayerPlay")},$=function(){u.attachEvent&&!i()?u.documentElement.fakePauseEvent++:q("DisneyMediaPlayerStop")};l("document").ready(function(){u.attachEvent&&!i()&&(u.documentElement.fakePlayEvent=0,u.documentElement.fakePauseEvent=0)}),c.extend(r,{isMobile:s.mobile,setPlayer:function(e){U&&U.messageBus&&(U.messageBus.removeMessageListener("played",V),U.messageBus.removeMessageListener("paused",$)),U=e,U&&U.messageBus&&(U.messageBus.addMessageListener("played",V),U.messageBus.addMessageListener("paused",$))},getPlayer:function(){return U},getAdUnit:function(){return D},getTargeting:function(){return R},getTargetingString:function(){var e="",t=j()||z();return R&&!R.hostname&&(R.hostname=N()),t&&(R.abTest=t),c.each(R,function(t,i){i&&t&&(e+=i+"="+t+"&")}),e.slice(0,e.length-1)},getCompanionSizes:function(){return[M]},getCompanionSizesString:function(){var e=n.Ads.getCompanionSizes(),t="";return c.each(e,function(e){e&&(t+=e[0]+"x"+e[1]+",")}),t.slice(0,t.length-1)},getAdRule:function(){var e=n.Ads.getAdContext(),t=e.adData||{},i=0===t.dfpAdRule?0:1;return i},getDescriptionUrl:function(){return"http://"+b()}})}(this),function(e){"use strict";function t(e,t,i){var a=e.sizes(),n='<aside class="gpt '+e.name+'" id="'+e.id+'" style="'+e.style()+'"><span id="comp_'+a+'" class="_fwph">';return n+='<form id="_fw_form_comp_'+a+'" style="display:none" >',n+='<input type="hidden" name="_fw_input_comp_'+a+'" id="_fw_input_comp_'+a+'" value="'+t+'" /></form>',n+='<span id="_fw_container_comp_'+a+i+"></span></span></aside>"}var i=e.Disney,a=i.Ads=i.Ads||{},n=e.Modernizr,r=e.jQuery,s=e._,o=function(){return{}},l=s.each,c=s.pluck,d=s.extend,u=function(){},h=function(e){var t=this,i=function(){t.apply(this,arguments)};return u.prototype=this.prototype,i.prototype=new u,d(i.prototype,e),i.sub=this.sub,i},f=function(e,t,i){var a=this;this.id||(this.id=s.uniqueId("vevo-")),s.isArray(i[0])||(i=[i]),a._w=s.max(c(i,0)),a._h=s.max(c(i,1)),a.name||(a.name=e),a._d=i};f.sub=h,f.prototype={define:function(){},tag:function(){return t(this,"ptgt=p&envp=g_iframe_js&slau="+this.sizes()+"_Companion1&slid=comp_"+this.sizes()+"&cd="+this._w+","+this._h+"&flag=+fcai+niic",'"')},style:function(){return"width:"+this._w+"px;height:"+this._h+"px"},ready:function(){var e=this;e._$=r("#"+this.id)},restore:function(){this._$&&!this._$.closest("html").length&&r("#"+this.id).remove()},remove:function(){this._$&&this._$.appendTo("body").empty().remove()},refresh:function(){var e=this._s},sizes:function(){return s.map(this._d,function(e){return e[0]+"x"+e[1]})}};var p,m=f.sub({ready:function(){f.prototype.ready.call(this)},tag:function(){return t(this,"ptgt=p&envp=g_iframe_js&slid=comp_"+this.sizes()+"&w="+this._w+"&h="+this._h+"&flag=-cmpn",'" class="_fwac"')}}),g="vevo-companion",b="companion",v=f.sub({id:g,name:b,define:function(){},ready:function(){f.prototype.ready.call(this)},tag:function(){return t(this,"ptgt=p&envp=g_iframe_js&slau="+this.sizes()+"_Companion1&slid=comp_"+this.sizes()+"&cd="+this._w+","+this._h+"&flag=+fcai+niic",'"')}}),y=[300,60];p=n.mobile||!n.flash||e.location.href.indexOf("html5=true")>-1?{}:{videoCompanion:[v,y],pushdown:[m,[[728,90]]],rectangle:[f,[300,250]]};var k,_,w=a.VevoAdContext=function(e,t){function a(){return r.Deferred(function(e){i.age(function(t){n.siteSection="adult"===t||"teen"===t||"unknown"===t?_.config.ads:_.config.coppa,e.resolve()})}).promise()}var n=this;n.slots=k={},_=e,n.adSystem="vevo",n.siteSection=_.config.coppa,n.ageReady=r.Deferred(function(e){i.age(e.resolve)}).promise(),n.status=function(){return n.ageReady},n.cds()===!0||_.disableAds===!0?n.siteSection=_.config.noads:a(),t.on("login",a),t.on("logout",a)};w.prototype={tag:function(e){if(this.cds())return"";var t,i=this.slots[e],a=p[e];return i?i.tag():a?(t=a[0],a=new t(e,"",a[1],d({},this._t,"")),a.context=this,this.slots[e]=a,a.tag()):""},cds:function(){return!!_.cds},noAds:function(){return!1},showCDSAds:function(){return!0},useAdPattern:function(){return!0},removeSlot:function(e){k[e].remove()},helpers:function(e,t,i){var a=this,n={};return l(p,function(e,r){n[r+"Ad"]=function(){return a.tag(r,d({},t,this.adTargeting),i)}}),n},sizes:function(){return s.union.apply(s,s.invoke(this.slots,"sizes"))},setTargeting:o,setTranslation:o},l(["ready","restore","remove","refresh"],function(e){w.prototype[e]=function(){l(this.slots,function(t){t[e]()})}})}(this),function(e){"use strict";var t=e.Disney,i=e.Modernizr,a=t.Ads=t.Ads||{},n=e.jQuery,r=e._,s=r.extend,o=e.location.href.indexOf("gameVideoAd=true")>-1,l=!0,c=function(e,t,i){n.get(e,t).fail(i)},d=function(t){e.googletag.cmd.push(function(){t(e.googletag)})},u=function(){var t=e.location.hostname;return t.match(/\.diznee.net/)&&(t=t.split(".").slice(0,-3).join(".")),t.replace("www.","")},h=function(){var e=r.map(t.locales,function(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}).join("|"),i=new RegExp("^(?:[a-z0-9-]+.)*?((?:(?:"+e+").)?[a-z0-9-]+(?:.com?)?(?:.[a-z]{2})?)$","i");return u().match(i)[1]},f=function(){return u()===h()},p=function(){return u().replace("."+h(),"")},m=function(){return e.location.pathname.split("/")},g=function(){var e=m();return f()?""===e[1]?"homepage":e[1]:p()},b=function(e){return r.find(e,function(e){return["watch","watch_2","sidekick_video","trailer"].indexOf(e.get("view"))>-1})},v=function(e){var t=b(e),i=t?t.get("data"):[],a=i.length>0?i[0]:{},n=a.externals||[],r=n.length>0?n[0]:{};return"kaltura"===r.source?"27176231":"matterhorn-player"},y=function(e,t){return(r.find(t,function(t){return t.kaltura_act_id===e})||{cms_id:604}).cms_id},k=function(e){var t=b(e),i=t?t.get("data"):null;return i&&i[0]?i[0].adId:"unknown"},_=function(e){var t=b(e),i=t?t.get("data"):[],a=i.length>0?i[0]:{},n=a.externals||[],r=n.length>0?n[0]:{};return r.account?r.account:null},w=function(e){var t=m();return t[f()?e:e+1]},x=function(){return w(0)},C=function(){return w(1)},A=function(){return w(2)},S={cmsid:604,disneycms:"MH"},T={manual:!0,position:["oop","overlay","top-mpu","top-head","inline-head","lower-head","rich-head","logo","video-mpu","lower-head","lower-mpu","games-video"].join(",")},P={sdk:1,vid:"vid",output:"vast"},E="http://analytics.disneyinternational.com/ads/tagsv2/",I=function(e){var t=E+"video/";return[t,n.param(r.defaults(e||{},S,P))].join("?")},L=function(e){var t=E+"json/";return[t,n.param(r.defaults(e||{},S,T))].join("?")},M=function(e,t){var i=e.advertisement_placement_id;if(t=t||e.advertisement_type,"leaderboard"===t)switch(i){case"top":return"top-head";case"mid1":return"inline-head";case"rich":return"rich-head";default:return"lower-head"}else{if("mpu"!==t)return"inline-head";switch(i){case"top":return"top-mpu";case"lower":return"lower-mpu";case"video":return"video-mpu";default:return"top-mpu"}}},D=function(){},R=function(e){var t=this,i=function(){t.apply(this,arguments)};return D.prototype=this.prototype,i.prototype=new D,s(i.prototype,e),i.sub=this.sub,i},B=function(e,t){this.id=e,this.element_id=r.uniqueId("am-"),this.type=t};B.sub=R,B.prototype={tag:function(){return'<div class="admaster '+this.id+'-container"><div class="'+this.id+' aside" id="'+this.element_id+'"></div></div>'},ready:function(){this._$=n("#"+this.element_id)},define:function(e){var t=this;d(function(i){var a,r=e.mappingSizes[t.id]||{},s=r.slotSizes||null,o=r.defaults||[],l=r.targeting||{},c=e.viewports||{},d=e.adUnitPath||"",u=["pubads"];if(r.service&&u.push(r.service),a="oop"===t.id?i.defineOutOfPageSlot(d,t.element_id):i.defineSlot(d,o,t.element_id)){var h,f,p,m,g=i.sizeMapping();if(s){for(m in c)null!==(h=c[m])&&(g=g.addSize(h,s[m]));a.defineSizeMapping(g.build())}for(m in l)null!==(f=l[m])&&a.setTargeting(m,[f]);for(m in u)null!==(p=u[m])&&n.isFunction(i[p])&&a.addService(i[p]());t.gptslot=a}})},display:function(){var e=this;d(function(t){t.display(e.element_id)})},restore:function(){this._$.length&&!this._$.closest("html").length&&this._$.remove()},remove:function(){this._$.appendTo("body").empty().remove()},refresh:function(){var e=this;d(function(t){t.pubads().refresh([e.gptslot])})}};var O,F=B.sub({ready:function(){var e=this;e._$=n("#"+e.element_id),d(function(t){n.getJSON(L(r.extend({},e.context.baseParams,{position:e.id}))+"&callback=?",function(i){var a,n,r=i.targetings||{},s=t.pubads();e.define(i);for(a in r)null!==(n=r[a])&&s.setTargeting(a,n);e.display(),t.pubads().refresh([e.gptslot])})})}}),N=B.sub({adPlayed:!1,tag:function(){return'<aside class="admaster" id="'+this.element_id+'-container" style="margin:0px auto;'+this.style()+'"><div class="'+this.id+'" id="'+this.element_id+'" style="'+this.style()+'"></div><div class="'+this.id+'" id="'+this.element_id+'-video" style="'+this.style()+';display:none"></div></aside>'},style:function(){return i.mobile?"":"width:750px;height:500px"},ready:function(){var t=this;t._$=n("#"+this.element_id+"-container"),d(function(){o&&e.setTimeout(function(){e.disableAutoUnload(),t.videoMode()},0)})},remove:function(){t.Ads.setPlayer(null),this.adPlayer&&(this.adPlayer.messageBus&&this.adPlayer.messageBus.removeMessageListener("adStart",this.onAdStart),this.adPlayer.destroy(),this.adPlayer=null),B.prototype.remove.call(this)
},getId:function(){return this.element_id},videoMode:function(){var e=this.context||{},i=e.adTagPreUrl||"",a=r.isEmpty(i)?e.adTagUrl:i,s={adTagUrl:a,translations:e.translations,poster:this.poster},o=this.element_id,l=o+"-video";n("#"+o).hide(),n("#"+l).show(),this.onAdStart=r.bind(function(){this.adPlayed=!0},this),this.adPlayer=new t.Ads.AdPlayer(l,s),this.adPlayer.messageBus.addMessageListener("adStart",this.onAdStart),t.Ads.setPlayer(this.adPlayer)}}),j=n("body"),z=a.AdMasterAdContext=function(){var e=this;e.slots=O||{},e.translations={advertisement:"Advertisement",skip_ad:"Skip Ad"},e.adCounts={},e.adSystem="admaster",e.companion="div-video-mpu:300:250",e.adTagUrl="",e.adTagPreUrl="",e.adTagPostUrl="",e.adTagReady=n.Deferred(),e.status=function(){return e.adTagReady},e.iterateRegistryName=function(e){var t=this.adCounts[e]||0,i=e;return t>0&&(i=e+"-"+t),this.adCounts[e]=t+1,i},d(function(e){var t=e.pubads(),i=e.companionAds();t.collapseEmptyDivs(!0),t.enableVideoAds(!0),t.enableSingleRequest(),i.setRefreshUnfilledSlots(!0),t.disableInitialLoad(),t.enableAsyncRendering(),e.enableServices()})};z.prototype={tag:function(e,t){var i;return"games-video"===e?(e="games-video",t="gameLoader",i=new N(e,t)):"modalInterstitial"===e?(e="top-mpu",t="modalInterstitial",i=new F(e,t)):(t=t||e,i=new B(e,t)),i.context=this,this.slots[this.iterateRegistryName(t)]=i,i.tag()},ready:function(t,i){var a=t?t.collection:{},s=i?i.collection:{},o=s.cto||a.cto||{},u=s.adData||a.adData||{},f=u.adTargeting||{},p=u.cmsIdKalturaMap||[{}],m=0===u.dfpAdRule?0:1,b=this,w={actor:f.actor,bucode:o.buCode,buid:o.buId,character:f.character,characterId:f.characterId,country:o.country,disneycms:o.cmsId,pagename:f.pageName,property:o.property,propertyId:o.propertyId,product:f.product,contenttype:o.contentType,contentid:f.contentId,hub:h(),gamegenre:f.gameGenre,gamename:f.gameTitle,gametype:f.gameType,keywords:f.keywords,moviegenre:f.movieGenre,movierating:f.movieRating,movietitle:f.movieTitle,site:g(),section:x(),slug1:C(),slug2:A(),sitesection:g()},S=r.extend({},w,{vid:k(a.models),sdk:m,cmsid:y(_(a.models),p),player:v(a.models),url:e.location.href,description_url:"http://"+h()});if(b.view=t,b.dfpAdRule=m,b.baseParams=w,"burger"===n(b.view.el).attr("id")&&(u.showOop&&j.append(b.tag("oop")),u.showOverlay&&j.append(b.tag("overlay"))),0===m){var T=[];T.push(c(I(r.extend({},S,{vpos:"preroll"})),function(e){b.adTagPreUrl=e},function(){b.adTagReady.resolve()})),T.push(c(I(r.extend({},S,{vpos:"postroll"})),function(e){b.adTagPostUrl=e},function(){b.adTagReady.resolve()}));var P=n.when(T);P.done(function(){b.adTagReady.resolve()})}else c(I(r.extend({},S)),function(e){b.adTagUrl=e,b.adTagReady.resolve()},function(){b.adTagReady.resolve()});d(function(t){n.getJSON(L(r.extend({},w,{position:r.map(b.slots,function(e){return e.id}).join(",")}))+"&callback=?",function(i){var a,s,o=i.targetings||{},c=t.pubads();r.each(b.slots,function(e){e.ready(),e.define(i)});for(a in o)null!==(s=o[a])&&c.setTargeting(a,s);r.each(b.slots,function(e){e.display()});var d=r.map(b.slots,function(e){return e.gptslot});l?n(e.window).load(function(){l=!1,t.pubads().refresh(d)}):t.pubads().refresh(d)})})},cds:function(){return!1},noAds:function(){return!1},useAdPattern:function(){return!1},setTranslation:function(e,t){this.translations[e]=t},helpers:function(e){var t=this,i=e,a=i?M(i,"mpu"):"top-mpu";return{pushdownAd:function(){return t.tag("top-head","pushdown")},rectangleAd:function(){return t.tag(a,"rectangle")},rectAllAd:function(){return t.tag(a,"rectAll")},companionAd:function(){var e=i&&i.view;return"watch"===e||"play"===e?t.tag("video-mpu","companionAd"):"watch_2"===e?t.tag("video-comp-2","companionAd"):t.tag(a,"companionAd")},gameLoaderAd:function(){return t.tag("games-video","gameLoader")},bannerAd:function(){return i&&"ad_banner"===i.view?t.tag(M(i),"bannerAd-"+M(i)):t.tag("inline-head","bannerAd")}}},remove:function(){r.each(this.slots,function(e){e.remove()})}},r.each(["restore"],function(e){z.prototype[e]=function(){r.each(this.slots,function(t){t[e]()})}})}(this),function(e){"use strict";var t=e.Disney,i=t.Ads=t.Ads||{},a=function(){return{}},n=e.jQuery,r=i.NoAdContext=function(e){var t=n.Deferred().resolve().promise();this.cds=function(){return e.cds},this.noAds=function(){return e.disableAds},this.status=function(){return t}};r.prototype={adSystem:"noads",showCDSAds:function(){return!1},helpers:a,ready:a,refresh:a,restore:a,remove:a,setTargeting:a,setTranslation:a,tag:function(){return""},sizes:function(){return[]}}}(this),function(e){"use strict";var t,i=e.Disney,a=i.Ads,n=e._;i.Ads.AdContext=function(e){var n=e.adData;switch(n.adSystem){case"dfp":t=new a.DoubleClickAdContext(n);break;case"vevo":t=new a.VevoAdContext(n,i.guest);break;case"admaster":t=new a.AdMasterAdContext(n);break;default:t=new a.NoAdContext(n)}return t},n.extend(a,{getAdSlots:function(){return i.top?i.top.current.ads.slots:t},getAdContext:function(){return i.top?i.top.current.ads:t}})}(this),function(e){"use strict";var t=e.Disney,i=t.Cookie,a=e.Backbone,n=e._,r=/^([0-9a-f]+):([^:]+)/,s="dolMttAbn",o=7,l=function(){var e=r.exec(i.get(s)||"");return e&&{id:e[1],group:e[2]}},c=function(e){i.set(s,e.id+":"+e.group,{domain:i.domain(),path:"/",expires:o})},d=t.abn=n.extend({testcase:function(){return l()},parse:function(e){var a,r,s=e.abn,o=s&&s.cases,c=l(),d=-1;return o&&(r=n.pluck(o,"weight"),a=n.keys(o),!i.enabled()||c&&c.id!==s.id||(c?d=n.indexOf(a,c.group):(d=t.randi(r),d>=0&&(c={id:s.id,group:a[d]}))),e=o[a[0>d?0:d]].data,d>=0&&this.trigger("view",c,e)),e}},a.Events);d.on("view",c),t.randi=function(t){var i,a,n=0,r=t.length;for(i=r-1;i>-1;--i)n+=+t[i]||0;for(a=e.Math.random()*n,i=r-1;a>=0&&i>-2;--i)a-=+t[i]||0;return i+1}}(this),function(e){"use strict";var t=e.jQuery,i=e._,a=e.Backbone,n=e.location,r=e.Math,s=a.Collection,o=function(e,t){var i,a=new Array(e);if(t!==a[0])for(i=0;e>i;++i)a[i]=t;return a},l=function(e){return{models:e}};a.LazyCollection=s.extend({params:{limit:"limit",offset:"offset",draft_id:"draft_id"},constructor:function(e,t){t||(t={}),this.count=t.count,this.min=t.min||e&&e.length||1,t.params&&(this.params=i.defaults(t.params,this.params)),s.call(this,e,t)},ensure:function(e){var i,a,s=this,o=s.count,l=s.length,c=s._ensure,d=s.params,u=r.min(e-l,s.min),h=/[&?]draft_id=([^&]+)/.exec(n.search);return o&&(e=r.min(e,o)),l>=e?a=t.when():c?(a=t.Deferred(),c.always(function(){s.ensure(e).then(function(){a.resolveWith(arguments)},function(){a.rejectWith(arguments)})})):(i={},i[d.limit]=u,i[d.offset]=l,h&&(i[d.draft_id]=h[1]),s.trigger("loading",s,!0),a=s._ensure=s.fetch({add:!0,remove:!1,data:i}).then(function(){s.length<l+u&&(s.count=s.length)}).always(function(){s._ensure=null,s.trigger("loading",s,!1)})),a},remaining:function(){var e=this.count;return e?e-this.length:null},loading:function(){return!!this._ensure},pages:function(e,t){var a,n,s=[],c=t&&t.whole,d=t&&t.pad,u=t&&t.nest,h=t&&t.fill;for(e=+e||1,n=0;n<this.length;n+=e)s.push(this.models.slice(n,n+e));if(n=s.length-1,c&&n>0&&s[n].length<e&&(--n,s.pop()),d&&(n>=0&&(s[n]=s[n].concat(o(e-s[n].length,h))),a=o(e,h)),u&&(s=i.map(s,l),a=l(a)),d){for(n=r.floor(this.count/e);s.length<n;)s.push(a);n=this.count-n*e,n>0&&!c&&(a=o(n,h),s.push(u?l(a):a))}return s},peeking:function(){return!0},page:function(e,t){return this.pages(t,{nest:!0})},lastIndex:function(e){return this.pages(e,{nest:!0}).length-1}}),a.LazySliderCollection=a.LazyCollection.extend({constructor:function(e,t){this.loadedPageCounter=[],this.pageOptions={nest:!0},i.each(e,function(e){e.set("hidden",!0)}),a.LazyCollection.call(this,e,t)},startingIndex:0,lastIndex:function(e){return this.pages(e,this.pageOptions).length-1},page:function(e,t,a,n){var r=this.pages(t,this.pageOptions);if(i.each(r[e].models,function(e){e&&e.set("hidden",!1)}),this.nextPeek(e,r)){var s=r[e+1];i(a).times(function(e){var t=s.models[e*n];t&&t.set("hidden",!1)})}return i.contains(this.loadedPageCounter,e)||this.loadedPageCounter.push(e),r},loadedPages:function(){return this.loadedPageCounter.length},peeking:function(e){return this.length>e},nextPeek:function(e,t){return e<t.length-1}}),a.LazyFilterCollection=a.LazyCollection.extend({parse:function(e){return this.count=e.count,this.nextFilter=e.next?e.next:null,e.data},next:function(){this.nextFilter&&(this.url=this.baseUrl+this.nextFilter)}})}(this),function(e){"use strict";function t(e,t){var i=n.guest;i.current?"CHILD"!==i.current.profile.ageBand&&e(t):e(t)}function i(t){var i=new e.Image;i.src=t}function a(t){var i=e.document.createElement("iframe");i.src=t,i.frameborder="0",i.height="1",i.width="1",i.style.display="none",r(e.document.body).prepend(i)}var n=e.Disney,r=e.jQuery,s=e.Math,o=/%%([a-z0-9]+)%%/g,l=function(e,t){return"rng"===t?""+s.floor(1e18*s.random()):""},c=n.ping=function(e){var n=e.toString().replace(o,l);n.match(/\/activityi;/)?t(a,n):t(i,n)};r("body").on("click","a[data-ping]",function(){c(this.getAttribute("data-ping"))})}(this);var CryptoJS=CryptoJS||function(e,t){var i={},a=i.lib={},n=function(){},r=a.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=r.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,a=this.sigBytes;if(e=e.sigBytes,this.clamp(),a%4)for(var n=0;e>n;n++)t[a+n>>>2]|=(i[n>>>2]>>>24-8*(n%4)&255)<<24-8*((a+n)%4);else if(65535<i.length)for(n=0;e>n;n+=4)t[a+n>>>2]=i[n>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-8*(i%4),t.length=e.ceil(i/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],a=0;t>a;a+=4)i.push(4294967296*e.random()|0);return new s.init(i,t)}}),o=i.enc={},l=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],a=0;e>a;a++){var n=t[a>>>2]>>>24-8*(a%4)&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],a=0;t>a;a+=2)i[a>>>3]|=parseInt(e.substr(a,2),16)<<24-4*(a%8);return new s.init(i,t/2)}},c=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],a=0;e>a;a++)i.push(String.fromCharCode(t[a>>>2]>>>24-8*(a%4)&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],a=0;t>a;a++)i[a>>>2]|=(255&e.charCodeAt(a))<<24-8*(a%4);return new s.init(i,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=a.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,a=i.words,n=i.sigBytes,r=this.blockSize,o=n/(4*r),o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0);if(t=o*r,n=e.min(4*t,n),t){for(var l=0;t>l;l+=r)this._doProcessBlock(a,l);l=a.splice(0,t),i.sigBytes-=n}return new s.init(l,n)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=i.algo={};return i}(Math);!function(){var e=CryptoJS,t=e.lib,i=t.WordArray,a=t.Hasher,n=[],t=e.algo.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,a=i[0],r=i[1],s=i[2],o=i[3],l=i[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var d=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=d<<1|d>>>31}d=(a<<5|a>>>27)+l+n[c],d=20>c?d+((r&s|~r&o)+1518500249):40>c?d+((r^s^o)+1859775393):60>c?d+((r&s|r&o|s&o)-1894007588):d+((r^s^o)-899497514),l=o,o=s,s=r<<30|r>>>2,r=a,a=d}i[0]=i[0]+a|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[(a+64>>>9<<4)+14]=Math.floor(i/4294967296),t[(a+64>>>9<<4)+15]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=a._createHelper(t),e.HmacSHA1=a._createHmacHelper(t)}(),function(e){"use strict";function t(){var t=r.Deferred(),a=i.didOptions||{},n=function(){var i=e.DisneyID.get(a);i.init().then(function(){t.resolve(i)})};if(a.clientId)if(e.DisneyID)n();else{var s=e.document.getElementById("disneyid-script");s?s.onload=n:t.reject()}else t.reject();return t}var i=e.Disney,a=e.Backbone,n=e._,r=e.$,s=e.CryptoJS,o="change:watched",l=i.GuestContext=function(e){var t=this,a=function(e){var i=e&&e.profile?e.profile.swid:void 0;t.current=e||{},t.current.userId=i?s.SHA1(i).toString().substr(0,12):""},r=function(){t.current=void 0};n.extend(i.GuestContext.prototype,e),this._h=e||{},this.on("login",a),this.on("update",a),this.on("logout",r)};n.extend(l.prototype,a.Events,{_r:0,updateProfile:function(){var e=this;return i.OneID.then(function(t){var i=function(i){e.trigger("update",i),t.off("update")};t.launchProfile().then(function(e){e.on("update",i)})})},login:function(){var e=r.Deferred(),t=this;return i.OneID.then(function(i){var a=function(n){t.trigger("login",n),e.resolve(n),i.off("login",a)},n=function(){i.getGuest().then(a),i.off("login",a)};i.getLoggedInStatus().then(function(e){e?n():(i.on("login",a),i.launchLogin().fail(n))})}).fail(e.reject),e},logout:function(){var e=r.Deferred(),t=this;return i.OneID.then(function(i){i.logout().then(e.resolve).then(function(){t.trigger("logout")})}).fail(e.reject),e},refresh:function(){var e=r.Deferred(),t=this;return i.OneID.then(function(i){i.getLoggedInStatus().then(function(a){a?i.forceTokenRefresh().then(function(){i.getGuest().then(function(i){t.trigger("login",i),e.resolve(i)})}):e.reject()})}).fail(e.reject),e},retain:function(){0===this._r++&&this.trigger(o,this,!0)},release:function(){this._r>0&&0===--this._r&&this.trigger(o,this,!1)},watched:function(){return this._r>0}}),i.guest=new i.GuestContext,i.OneID=t()}(this),function(e){"use strict";var t=e.Disney;t.gocGuest=function(t,i){function a(e){t.queue.push(e)}function n(){a(i.watched()||i.current?["user",!!i.current]:["user",void 0])}n(),i.on("change:watched",n),i.on("login",n),i.on("logout",n),a(["on","click:login",function(){i.login()}]),a(["on","click:logout",function(){i.logout()}]),a(["on","click:profile",function(){i.updateProfile()}]),a(["on","click:create",function(t){var a=t.target.parentNode.href,n=i.current.userId;e.location=a+"/"+n}])}}(this),function(e){"use strict";function t(e){a.age.known((e.profile.ageBand||"unknown").toLowerCase())}function i(){a.age.known(null)}var a=e.Disney;a.ageGuest=function(e){e.refresh().fail(i),e.on("login",t),e.on("update",t),e.on("logout",i)}}(this),function(e){"use strict";var t=e.Disney,i=e.$;i(function(){t.top.on("ready",function(){t.didOptions.enableTop&&t.guest.retain()})})}(this),function(e){"use strict";function t(){return n.mobile?"mobile":"desktop"}function i(e,t,i){return t&&!r.include(e.disallowed_regions,t)&&!r.include(e.disallowed_regions,i)&&(r.isEmpty(e.allowed_regions)||r.include(e.allowed_regions,t)||r.include(e.allowed_regions,i))}var a=e.Disney,n=e.Modernizr,r=e._,s=e.$;a.vis=function(e){return r.reduce(e,function(e,i){var a=i.visibility||{};return r.contains(a.invisible_device_types,t())||(r.isEmpty(a.allowed_regions)&&r.isEmpty(a.disallowed_regions)||(i.style_options.geo_hidden=!0),e.push(i)),e},[])},s(function(){a.top.on("ready",function(e){r.each(e.views,function(e){var t=e.model.get("visibility");t&&e.$el.hasClass("geo-hidden")?a.geo(function(a,n,r){i(t,a,a+"-"+r)&&(e.$el.removeClass("geo-hidden").addClass("geo-accepted"),e.geoReady&&e.geoReady())}):e.$el.hasClass("geo-hidden")||e.geoReady&&e.geoReady()})})})}(this),function(e){"use strict";var t=e.Grill,i=e.jQuery,a=e._,n=e.Backbone,r=e.Disney,s=t.BurgerView,o=t.Burger,l=e.location,c=/[&?]draft_id=([^&]+)/.exec(l.search);r.Cellophane={};var d=t.ValueAdedBurgerView=s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments)},spawn:function(e){var i=this.collection,a=this.ads;a||(this.ads=a=new r.Ads.AdContext({adData:i.adData,guestContext:r.guest}));var n={model:e,ads:a,cds:a.cds(),noAds:a.noAds()};return t.ModuleView.create(e.get("view"),n)},optimizely:function(){var e=this.collection.optimizely;return e},cto:function(){var t=this.collection.cto,a=this.ads;a&&a.unit&&(t=i.extend({adPageName:a.unit,adSizeList:a.sizes().join(",")},t));var n=e.activeAbTest||r.abn.testcase();return n&&(t=i.extend({abTest:n.id+"|"+n.group},t)),t},url:function(){return this.collection.href},branding:function(){return this.collection.branding}}),u=t.Module.extend({data:function(e){var t=new n.LazyCollection(e,{model:r.Entity,params:{offset:"o",limit:"l"},count:this.get("count")}),a=this.collection.url||l.pathname+l.search,s=a.indexOf("?")>=0?"&":"?";return a="/_grill/more"+a+s+i.param({r:this.get("ref")}),c&&(a+="&draft_id="+c[1]),t.url=a,t},subject:function(){return this.data.first()}}),h=t.MysteryMeat=o.extend({model:u,reset:function(e,t){return e=r.abn.parse(e),e.stack?e.stack=r.vis(e.stack):e=r.vis(e),o.prototype.reset.call(this,e,t)}});e.GOC&&r.gocGuest(e.GOC,r.guest),r.ageGuest(r.guest),i(function(){var e=r.top;e.on("ready",function(e){var t,n=e.ads,s=e.collection,o=i(".nav-local #nav-pushdown").css("min-height","");n&&n.helpers&&(t=n.helpers(),t.pushdownAd&&s&&s.adData.pda&&o.is(":visible")&&(o.html(t.pushdownAd()),e.catalogModulePositions&&(e.catalogModulePositions(),e.checkModuleVisibility())),r.guest&&s&&s.ping&&r.guest.refresh().always(function(){a.defer(r.ping,s.ping.dynamic)}),n.ready(e))}),t.burger&&(r.Cellophane={base_uri:t.burger.cellophane_base_uri,auth_key:t.burger.cellophane_auth_key},a.defer(function(){e.transition(new d({el:i("#burger").empty().removeClass("frozen"),collection:new h(t.burger)}))}))})}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,a=e.Spatula,n=e._,r=e.$,s=i.TopperView=i.ValueAdedBurgerView.extend({className:"topper",id:"topper"});r(function(){var e=t.topper_nav=new a.ContainerView({el:"#topper-nav"});e.on("ready",function(e){var i=e.ads,a=e.collection,n=a&&a.adData,s=r("#topper-nav #nav-pushdown").css("min-height","");if(i&&i.helpers){var o=function(e,r){var o=r.ads||{},l=i.helpers(null,o.adData,o.unit);l.pushdownAd&&n&&s.is(":visible")&&s.html(l.pushdownAd()),a&&a.ping&&t.ping(a.ping),i.ready(e,r)};t.top.current&&o(e,t.top.current),t.top.on("ready",function(t){o(e,t)})}}),i.topper&&n.defer(function(){e.transition(new s({collection:new i.MysteryMeat(i.topper)}))})})}(this),function(e){"use strict";var t=e.Disney;t.Style.AssetPaths={theme_stylesheets:{junior:"//a.dilcdn.com/a/themes/junior/application-11559ff43f22.css",junior_emea:"//a.dilcdn.com/a/themes/junior/emea/application-ef1c3d349f31.css",marvelkids:"//a.dilcdn.com/a/themes/marvelkids/application-b12d1299b448.css",marvelkids_home:"//a.dilcdn.com/a/themes/marvelkids/home/application-b40c99a4be96.css",marvelkids_avengers:"//a.dilcdn.com/a/themes/marvelkids/avengers/application-fd558987be4d.css","marvelkids_spider-man":"//a.dilcdn.com/a/themes/marvelkids/spider-man/application-14adfbb51ed0.css"},supported_videoplayer_skins:{junior:"//a.dilcdn.com/a/videoplayer_assets_junior-1b4f14d040c9.swf"},nav_logos:{light:{non_retina:"//a.dilcdn.com/a/logos/nav_logo-89193ebe6563.png",retina:"//a.dilcdn.com/a/logos/nav_logo@2x-25d10ad375dd.png"},dark:{non_retina:"//a.dilcdn.com/a/logos/nav_logo_dark-fa26a1e2ea84.png",retina:"//a.dilcdn.com/a/logos/nav_logo_dark@2x-8096506f0cde.png"}}}}(this),Whiskers("partials.style_elements.takeover_styles",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<style type="text/css"> /* style-pack-configured takeover styles */ '),a.s(a.f("module_override",e,t,1),e,t,0,88,191,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay.default{ opacity: 0; } #takeover-area .overlay.module-override{ opacity: 1; } ")}),e.pop()),a.b(" "),a.b(" "),a.s(a.f("topper_takeovers",e,t,1),e,t,0,336,703,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: "),i.b(i.v(i.f("max_bp",e,t,0))),i.b("px){ #topper{ background-image: url("),i.b(i.v(i.d("src.non_retina",e,t,0))),i.b("); background-size: "),i.b(i.v(i.f("display_width",e,t,0))),i.b("px "),i.b(i.v(i.f("display_height",e,t,0))),i.b("px; } } @media screen and (-webkit-min-device-pixel-ratio: 1.5) and (max-width: "),i.b(i.v(i.f("max_bp",e,t,0))),i.b("px), screen and (min-resolution: 144dpi) and (max-width: "),i.b(i.v(i.f("max_bp",e,t,0))),i.b("px){ #topper{ background-image: url("),i.b(i.v(i.d("src.retina",e,t,0))),i.b("); } } ")}),e.pop()),a.b(" @media screen and (min-width: 1025px){ "),a.s(a.f("fullscreen_module",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.s(a.f("main_background_color",e,t,1),e,t,0,813,915,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .main-color{ background-color: "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("; } ")}),e.pop()),a.b(" "),a.s(a.f("pushdown_safety_color",e,t,1),e,t,0,968,1084,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .safety-color .color-block{ background-color: "),i.b(i.v(i.f("pushdown_safety_color",e,t,0))),i.b(";} ")}),e.pop()),a.b(" "),a.s(a.f("main_image",e,t,1),e,t,0,1126,1467,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" .site-default-gradient{ display: none; } #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .main-image{ background-image: url("),i.b(i.v(i.d("main_image.src",e,t,0))),i.b("); } "),i.s(i.f("main_background_color",e,t,1),e,t,0,1293,1440,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("repeating_image",e,t,1),e,t,1,0,0,"")||(i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-image{ background-color: "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("; } "))}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("top_gradient",e,t,1),e,t,0,1500,2239,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-color "),i.s(i.f("main_image",e,t,1),e,t,0,1574,1633,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(", #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-image")}),e.pop()),i.b("{ background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("color_stop",e,t,0))),i.b("), to("),i.b(i.v(i.f("main_background_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("color_stop",e,t,0))),i.b(", "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("color_stop",e,t,0))),i.b(", "),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("); "),i.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='"),i.b(i.v(i.f("color",e,t,0))),i.b("', endColorstr='"),i.b(i.v(i.f("main_background_color",e,t,0))),i.b("', GradientType=0)\"; } #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .safety-color .color-block{ background-color: "),i.b(i.v(i.f("color",e,t,0))),i.b(";} ")}),e.pop()),a.b(" "),a.s(a.f("repeating_image",e,t,1),e,t,0,2277,2387,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #takeover-area .overlay."),i.b(i.v(i.f("overlay_type",e,t,0))),i.b(" .repeating-image{ background-image: url("),i.b(i.v(i.d("repeating_image.src",e,t,0))),i.b("); } ")}),e.pop()),a.b(" ")),a.b(" "),a.s(a.f("fullscreen_module",e,t,1),e,t,0,2453,2593,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #nav-local{ height: 0; overflow: visible; } #topper-nav #nav-local{ height: auto; } #nav-pushdown{ max-height: 126px; overflow: visible; } ")}),e.pop()),a.b(" "),a.s(a.f("local_chrome_dark",e,t,1),e,t,1,0,0,"")||a.b(" #nav-logo, #nav-local li a, aside.gpt.pushdown, #chrome-controls{ color: #fff; } #chrome-controls .chrome-controls-icon{ border-color: transparent #fff #fff transparent; } #nav-local li a.active{ color: #b2dfff; } "),a.b(" "),a.s(a.f("local_chrome_dark",e,t,1),e,t,0,2898,3184,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #nav-logo, #nav-local li a, aside.gpt.pushdown, #chrome-controls{ color: #000; } #chrome-controls .chrome-controls-icon{ border-color: transparent #000 #000 transparent; } #nav-local li a.active{ color: #1786eb; } "),i.b(" ")}),e.pop()),a.b(" } "),a.s(a.f("nav_logos",e,t,1),e,t,0,3223,3562,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(" @media screen and (min-width: 1025px){ #nav-logo{ background-image: url("),i.b(i.v(i.f("non_retina",e,t,0))),i.b(");} } @media screen and (-webkit-min-device-pixel-ratio: 1.5) and (min-width: 1025px), screen and (min-resolution: 144dpi) and (min-width: 1025px){ #nav-logo{ background-image: url("),i.b(i.v(i.f("retina",e,t,0))),i.b(");} } ")}),e.pop()),a.b(" </style>"),a.fl()},partials:{},subs:{}}),Whiskers("partials.style_elements.page_styles",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<style type="text/css"> '),a.s(a.f("page_background_styles",e,t,1),e,t,0,51,1785,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" /* base-level page background styles */ #body-bg{ opacity: 1; } "),i.s(i.f("bg_color",e,t,1),e,t,0,129,204,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #body-bg .main, #body-bg .safety-color{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("gradient",e,t,1),e,t,0,231,878,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #body-bg .color-fade{ background-image: -webkit-gradient(linear, left top, left bottom, color-stop("),i.b(i.v(i.f("stop1",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("), color-stop("),i.b(i.v(i.f("stop2",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("), color-stop("),i.b(i.v(i.f("stop3",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b("), color-stop(92%, "),i.b(i.v(i.f("color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop1",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop2",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop3",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop4",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop1",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop2",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop3",e,t,0))),i.b(", "),i.b(i.v(i.f("color",e,t,0))),i.b(" "),i.b(i.v(i.f("stop4",e,t,0))),i.b("); "),i.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='"),i.b(i.v(i.f("bg_color",e,t,0))),i.b("', endColorstr='"),i.b(i.v(i.f("color",e,t,0))),i.b("', GradientType=0)\"; } ")}),e.pop()),i.b(" "),i.s(i.f("background_image",e,t,1),e,t,0,913,1260,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #base-bg{ background-image: url("),i.b(i.v(i.f("image",e,t,0))),i.b("); background-position: "),i.b(i.v(i.f("position",e,t,0))),i.b("; background-repeat: "),i.b(i.v(i.f("repeat",e,t,0))),i.b("; "),i.s(i.f("fixed",e,t,1),e,t,0,1034,1146,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" position: "),i.b(i.v(i.f("fixed",e,t,0))),i.b("; top: 0 !important; /* override positioning below chrome for relative*/ min-height: 100vh; ")}),e.pop()),i.b(" } /* body bg covering base-bg in safari*/ "),i.s(i.f("fixed",e,t,1),e,t,0,1209,1249,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" body{ background-color: transparent; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("footer_inverted",e,t,1),e,t,0,1302,1764,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" @media screen and (min-width: 1025px){ "),i.b(" footer #bottomnav a, footer #bottomnav p, footer #help p, footer #utility p{ color: #fff; } footer #bottomnav .col, footer #utility .divider { border-color: rgba(255, 255, 255, 0.07); } } ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("primary_theme",e,t,1),e,t,0,1831,3412,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" /* primary module-level color theme */ "),i.s(i.f("header_color",e,t,1),e,t,0,1888,2421,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles) h1:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) h1:not(.skip-text-styles) a, .module.primary-theme:not(.skip-styles) h2:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) h2:not(.skip-text-styles) a, .module.primary-theme.list_module_featured:not(.skip-styles) h3:not(.skip-text-styles), .module.primary-theme.list_module_featured:not(.skip-styles) h3:not(.skip-text-styles) a, .module.primary-theme:not(.skip-styles) .accent-color{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("text_color",e,t,1),e,t,0,2454,3035,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles) p:not(.skip-text-styles), .module:not(.skip-text-styles) ul:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) li:not(.skip-text-styles), .module:not(.skip-text-styles) ol:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) .base-color, .module.primary-theme:not(.skip-styles) .entity-container:not(.title-overlay) .entity-details .title, html.no-touch .module.primary-theme:not(.skip-styles) .entity-container.links-out:not(.skip-hover):not(.title-overlay) .entity-details a:hover .title{ color: "),i.b(i.v(i.f("text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("link_color",e,t,1),e,t,0,3066,3245,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles) a:not(.skip-text-styles), .module.primary-theme:not(.skip-styles) a.entity-link:hover h3:not(.skip-text-styles){ color: "),i.b(i.v(i.f("link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,3282,3390,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.primary-theme:not(.skip-styles){ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("secondary_theme",e,t,1),e,t,0,3451,5171,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" /* secondary module-level color theme */ "),i.s(i.f("header_color",e,t,1),e,t,0,3510,4057,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles) h1:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) h1:not(.skip-text-styles) a, .module.secondary-theme:not(.skip-styles) h2:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) h2:not(.skip-text-styles) a, .module.secondary-theme.list_module_featured:not(.skip-styles) h3:not(.skip-text-styles), .module.secondary-theme.list_module_featured:not(.skip-styles) h3:not(.skip-text-styles) a, .module.secondary-theme:not(.skip-styles) .accent-color{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("text_color",e,t,1),e,t,0,4090,4788,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles) p:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) ul:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) li:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) ol:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) .base-color, .module.secondary-theme:not(.skip-styles) .entity-details h3:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) .entity-container:not(.title-overlay) .entity-details .title, html.no-touch .module.secondary-theme:not(.skip-styles) .entity-container.links-out:not(.skip-hover):not(.title-overlay) .entity-details a:hover .title{ color: "),i.b(i.v(i.f("text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("link_color",e,t,1),e,t,0,4819,5002,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles) a:not(.skip-text-styles), .module.secondary-theme:not(.skip-styles) a.entity-link:hover h3:not(.skip-text-styles){ color: "),i.b(i.v(i.f("link_color",e,t,0))),i.b("; } ")
}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,5039,5149,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.secondary-theme:not(.skip-styles){ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("icon_styles",e,t,1),e,t,0,5208,5548,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" /* module-level icon colors */ .module .module_header.icon .header_icon{ background-color: "),i.b(i.v(i.f("bottom",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("top",e,t,0))),i.b("), to("),i.b(i.v(i.f("bottom",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("top",e,t,0))),i.b(", "),i.b(i.v(i.f("bottom",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("top",e,t,0))),i.b(", "),i.b(i.v(i.f("bottom",e,t,0))),i.b("); } ")}),e.pop()),a.b(" </style>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Whiskers,a=e._,n=e.jQuery;a.extend(t.Style,{verifyModuleTakeoverStyles:function(){var e=n("#takeover-styles-module-override");e.hasClass("transitioning")&&e.html("").removeClass("transitioning")},transitionModuleTakeoverStyles:function(){n("#takeover-styles-module-override").addClass("transitioning")},applyTakeoverStyles:function(e,r,s){var o=r?"module-override":"default",l=n("#takeover-styles-"+o),c=e&&e.local_chrome_color||"light",d=t.Style.AssetPaths.nav_logos[c],u=e&&a.extend(e,{overlay_type:o,module_override:r,nav_logos:d}),h=u&&i.partials.style_elements.takeover_styles.render(u)||"";l.hasClass("persistent")||l.html(h),s&&l.addClass("persistent"),r&&l.removeClass("transitioning")},applyPageStyles:function(e){var t=!!(e&&e.page_background_styles&&e.page_background_styles.footer_inverted),a=e&&i.partials.style_elements.page_styles.render(e)||"";n("#style-pack-theming").html(a),n("footer, #goc-ft").toggleClass("inverted",t)},applyStylePackStyles:function(e){e=e||{},this.applyPageStyles(e),this.applyTakeoverStyles(e.takeover_styles),this.verifyModuleTakeoverStyles()},attachCustomThemeStyles:function(e){var i=e&&e.custom_theme_components||{},r={name:i.base,$target:n("#base-theme-styles")},s={name:i.child&&i.name,$target:n("#child-theme-styles")};a.each([r,s],function(e){if(!e.$target.hasClass(e.name)){var i=e.name&&t.Style.AssetPaths.theme_stylesheets[e.name]||"";e.$target.attr("href",i).attr("class",e.name)}})}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){var e=t.top;e.on("begin",function(){t.Style.transitionModuleTakeoverStyles()}),e.on("ready",function(e){if(e.options.collection){var i=e.options.collection.style;t.Style.attachCustomThemeStyles(i),t.Style.applyStylePackStyles(i)}else t.Style.applyStylePackStyles(null)})})}(this),function(e){"use strict";var t=e.jQuery,i=e.GOC||{queue:[]},a=e.Disney;t("#nav-e").click(function(e){e.preventDefault(),i.queue.push(["openMenu"])}),t(function(){t("#nav-local li a[href]").each(function(){t(this).toggleClass("active",this.href===e.location.href)}),a.top.on("ready",function(){var e=a.top.current.collection||{},i=e.local_chrome_and_footer||{},n=i.exclude_local_chrome===!0;t("#nav-local").toggleClass("exclude-local-chrome",n)})})}(this),function(e){"use strict";var t=e.jQuery,i=e.GOC||{queue:[]};t("#nav-e").click(function(e){e.preventDefault(),i.queue.push(["openMenu"])}),t(function(){if(t("#nav-local-channels a[href]").each(function(){t(this).toggleClass("active",this.href===e.location.href)}),t(e).width()>=1024){var i=t("#nav-local-channels .channel-slider"),a=i.hasClass("channel")?.09:.045;i.swipeasaurus({arrows:!0,loop:!0,right:a})}t(".channel-bg > .pages > li > a").each(function(){var e=t(this),i=e.html(),a=i.split(" "),n='<span class="firstWord">'+a[0]+"</span><br />";a.shift(),t.each(a,function(e,t){n+=" "+t}),e.html(n)}),t(".xd-bg > .pages > li > a").each(function(){var e=t(this),i=e.html(),a=i.split(" "),n='<span class="firstWord">'+a[0]+"</span><br />";a.shift(),t.each(a,function(e,t){n+=" "+t}),e.html(n)})})}(this),function(e){"use strict";var t,i=e.jQuery,a=e.navigator,n="https:"===e.location.protocol,r=Array.prototype.slice,s=[],o=function(e){null===s?e(t):s.push(e)},l=e.cto={trackPagination:function(e){for(e+="";e.length<2;)e="0"+e;o(function(t){var i=t.pageName;i&&(t.pageName=i.replace(/\|page_\d+$/,"")+"|page_"+e,t.track())})}};i.each(["resetObj","track","trackApp","trackEvent","trackLink","trackVideo","trackGame"],function(e,t){l[t]=function(){var e=r.call(arguments),i=e[0];i&&i.ctoSrcPath&&c(i.ctoSrcPath),o(function(i){i[t].apply(i,e)})}});var c=function(r){function o(){t=new e.CTO;var i=0,a=function(){i<s.length?(s[i](t),++i,e.setTimeout(a,200)):s=null};a()}a&&"preview"===a.loadPurpose||e.cto.account||(i(e).one("CTOReady",o),i.ajax((n?"https://global":"http://aglobal")+".go.com"+r,{dataType:"script",cache:!0}))}}(this),function(e){"use strict";var t=e.jQuery,i=e.cto,a=e.Tracker={safe_cto:function(t,a){i&&i[t]?i[t].apply(this,a):e.console.log("Undefined method: "+t+" on cto")},page:function(e){var i={pageName:""};t.extend(i,e),a.track({pageName:i.pageName})},event:function(e){var i=e.eventCategory+":"+e.action,n={eventCategory:null,action:null,label:null,value:null,engagementMeta:null,engagementType:i};t.extend(n,e),a.trackEvent(n)},link:function(e){var i={linkName:null,linkPosition:null,isChrome:!1,href:null};t.extend(i,e),i.isChrome&&(i.linkPosition="Chrome: "+i.linkPosition),a.trackLink(i.linkName,i.linkPosition,void 0,i.href)},video:function(e){var i={analyticsData:null};t.extend(i,e),a.trackVideo(i.analyticsData)},setCto:function(e){i=e}},n=["resetObj","track","trackPagination","trackApp","trackLink","trackEvent","trackVideo"];t.map(n,function(e){a[e]=function(){a.safe_cto(e,arguments)}}),t(function(){t("#topper-nav").on("click",".module a",function(i){var a=t(i.currentTarget),n=t.trim(a.attr("data-title")||a.attr("title")||a.text()),r=a.attr("href"),s=a.closest(".module"),o=s.attr("data-module"),l=s.find("a").index(a),c=t("#topper section").index(s),d="nav",u=["nav",o,"mod"+c,"link"+l,n].join("/");e.Tracker.link({linkName:u,linkPosition:d,href:r})}),t("#nav-local ul").on("click","a",null,function(i){var a=t(i.currentTarget),n=t.trim(a.find("img").attr("alt")||a.text()),r=a.attr("href"),s=t("#nav-local a").index(a),o=["sitenav",s,"none","link"].join("/"),l=[o,n].join("/");e.Tracker.link({linkName:l,linkPosition:o,href:r})}),t("#nav-local-channels .pages").on("click","a",null,function(i){var a=t(i.currentTarget),n=t.trim(a.find("a").attr("alt")||a.text()),r=n.replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g,"-"),s=a.attr("href"),o=["Topnav","mainlinks"].join("/"),l=[o,"image",r].join("/");e.Tracker.link({linkName:l,linkPosition:o,href:s})}),t("#nav-local-channels .channel-slider-container").on("click","a",null,function(i){var a=t(i.currentTarget),n=t.trim(a.find("img").attr("alt")||a.text()),r=n.replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g,"-"),s=a.attr("href"),o=["CharacterNav","char"].join("/"),l=[o,"image",r].join("/");e.Tracker.link({linkName:l,linkPosition:o,href:s})}),t("footer a, #goc-ft a").on("click",null,null,function(i){var a=t.trim(t(i.currentTarget).text()),n=t(i.currentTarget).attr("href"),r=t(i.currentTarget).data("module-title");r&&(a=r+"/"+a),e.Tracker.link({linkName:"globalfooter/link/"+a,linkPosition:"globalfooter",href:n})}),t.each(["#searchField_SRP","#searchField_BlogChrome"],function(i,a){t(a).one("input",function(){e.cto.trackEvent({searchFlow:a.replace("#",""),searchEvent:"attempt"})})})})}(this),function(e){"use strict";var t=e.jQuery,i=e.Tracker,a=t("#goc-bar"),n=t("#chrome-controls");t(function(){n.click(function(){var t=n.hasClass("open");a.toggleClass("open"),n.toggleClass("open"),i&&i.event({eventCategory:"navigation",action:"disney-chrome-"+(t?"hide":"show"),label:e.location.href})})})}(this),Whiskers("errors.e404",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<article id="error_page" class="e404 module"> <div class="bound"> <div class="inner"> <img src="'),a.b(a.v(a.f("image",e,t,0))),a.b('"> <div class="message"> <h1>Uh Oh!</h1> <h2>Couldn&rsquo;t find that. <br> Try something else?</h2> <form id="search_404" action="'),a.b(a.v(a.f("search_error",e,t,0))),a.b('" method="GET"> <div class="search-field"> <input id="search_404_input" name="q" type="text" placeholder="Search..."> <input type="submit" class="search-icon" value=""> </div> </form> </div> </div> </div> </article>'),a.fl()},partials:{},subs:{}}),Whiskers("errors.e500",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<article id="error_page" class="e500 module"> <div class="bound"> <div class="inner"> <img src="'),a.b(a.v(a.f("image",e,t,0))),a.b('"> <div class="message"> <h1>Gawrsh!</h1> <h2>Something is not working right.<br> Please try again soon.</h2> </div> </div> </div> </article>'),a.fl()},partials:{},subs:{}}),Whiskers("errors.enet",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<article id="error_page" class="enet module"> <div class="bound"> <div class="inner"> <img src="'),a.b(a.v(a.f("image",e,t,0))),a.b('"> <div class="message"> <h1>Aw Phooey!</h1> <h2>The connection was lost. Please try again.</h2> </div> </div> </div> </article>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Backbone,a=e.jQuery,n=e.Whiskers,r=["//a.dilcdn.com/a/errors/e404_matte-3539f646e0d3.png","//a.dilcdn.com/a/errors/e500_matte-5f40aef5fa77.png","//a.dilcdn.com/a/errors/enet_matte-c4264c3a6186.png"],s=a("#goc-bar .goc-search").attr("action"),o=i.View.extend({initialize:function(){this.guest=e.Disney.guest},render:function(){this.el.innerHTML=this.template.render({image:this.image,search_error:s})},cto:function(){return{cmsId:"MH",account:"wdgdsec",categoryCode:"dcom",pageName:this.error,breadcrumbs:"error",pageType:"errorpage",ctoSrcPath:"/stat/dolWebAnalytics_DEV.js"}}}),l=o.extend({image:r[0],search_error:s,template:n.errors.e404,error:"404"}),c=o.extend({image:r[1],template:n.errors.e500,error:"500"}),d=o.extend({image:r[2],template:n.errors.enet,error:"network"});a(function(){t.top.on("error",function(e,i,a,n){"timeout"===a?t.top.transition(new d):"Not Found"===n?t.top.transition(new l):"abort"!==a&&t.top.transition(new c)})})}(this),function(e){"use strict";e.jQuery(function(t){var i="title",a=t("body");e.Modernizr.touch||a.on("mouseenter","[title]",function(){var e=t(this),a=e.data(i)||e.attr(i);e.data(i,a).attr(i,"")}).on("mouseleave","[title]",function(){var e=t(this),a=e.data(i);a&&e.attr(i,a)})})}(this),function(e){var t=e.document,i=e.jQuery,a=[84,69,65,77,32,77,65,84,84,69,82,72,79,82,78],n=0,r=function(s){s.keyCode===a[n++]?n===a.length&&(i(t).off("keydown",r),i("body").fadeOut(function(){e.location.href="/its/a/secret/to/everybody/index.html"})):n=0};i(t).on("keydown",r)}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,a=e.window,n=e.Tracker;i(function(){var e=i("footer"),r=e.find(".language-picker");t.top.on("ready",function(t){r.length&&(r.find("option").each(function(){i(this).data("url")===a.location.origin&&r.val(this.value)}),r.change(function(){var e=r.find("option:selected"),t=e.data("url");n.link({linkPosition:"globalfooter/lanuage-picker",linkName:"globalfooter/lanuage-picker/"+e.text(),href:t}),t&&(a.location=t)}));var s=t.branding;i.isFunction(s)&&(s=s.call(t)),e.find(".branding").first().text(s)}),e.find("form.search").on("submit",function(){n.link({linkName:"globalfooter/searchbox/search_enter",linkPosition:"globalfooter/searchbox"})}),e.find("form.search input").one("input",function(){n.event({searchAttempt:"y",engagementType:"globalfooter",searchFlow:"searchField_Footer"})})})}(this),function(e){"use strict";function t(){return a()||i("ctoVisitor","visitorId")||i("ctoLocalVisitor","localVisitorId")}function i(e,t){var i=r.get(e),a=JSON.parse(s(i||"{}"));return a[t]}function a(){var t=e.location.search,i=new RegExp(o+"=([^&]*)"),a=i.exec(t);return a?a[1]:null}var n=e.Disney,r=n.Cookie,s=e.decodeURIComponent,o="visitor_id";n.visitorId=t}(this),function(e){"use strict";var t=e.jQuery,i=e._,a=e.Disney,n=e.Tracker,r=a.Recommender=a.Recommender||{};r.getRecommendations=function(e){if(e&&e.type&&"recommendation"===e.type.toLowerCase()){var n=e.recommendation_type,s="disneyxx",o="/_recommendations/"+n+"/"+s+"/",l=e.core_id||"",c=a.visitorId(),d=e.parameters.limit;switch(n){case"recommend":o+=c;break;case"similar":o+=l;break;case"personalizedsimilar":o+=c+"/"+l}return o+=d?"?limit="+d:"",t.ajax({url:o,type:"GET",dataType:"json"}).then(function(e){return i.isArray(e)&&!i.isEmpty(e)?(e.forEach(function(e){e.entity_config.title_overlay=!1}),n="COLDSTART"===e[0].recommendation_type?"coldstart":n,r.track([{recommendation_type:n}]),e):t.Deferred().reject()})}return t.Deferred().reject()},r.track=function(e){for(var t={metadata_match:"metamatch",recommend:"recommended_for_you"},a=i.unique(i.compact(i.map(e,function(e){return t[e.recommendation_type]||e.recommendation_type}))),r=0;r<a.length;r++)a[r]&&n.event({engagementType:"impression-"+a[r]})}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,a=t.Cookie;i(function(){t.top.on("ready",function(){"true"!==a.get("cookies-accepted")&&(i(".regional-cookie-warning").show(),i("#regional-cookie-accept").click(function(){a.set("cookies-accepted","true",{domain:a.domain(),expires:365}),i(".regional-cookie-warning").hide()}))})})}(this),function(e){"use strict";var t=e.Backbone,i=e.Grill,a=e._,n=t.View.extend({},{getInstance:function(){if(void 0===this._instance){var e=this;this._instance=new e}return this._instance}}),r=n.extend({el:"#modal-window",views:[],add:function(e){this.el.appendChild(e.el),this.views.push(e)},contains:function(e){return this.views.indexOf(e)>=0},scrollStart:function(){e.document.documentElement.className=this._htmlClass},scrollStop:function(){this._htmlClass=e.document.documentElement.className,e.document.documentElement.className+=" modal-no-scroll"},show:function(e,t){this.hide();var i=t&&t.render,a=e.options&&e.options.name;(i||!this.contains(e))&&(e.el.innerHTML=e.render(),e.close=new s({closeElement:e.el.querySelector(e.options.closeElement)}),this.add(e),this._bindEvents()),e.close.show(),e.el.className+=" show",e.el.scrollTop=0,e.ready(),this.scrollStop(),a&&(this.el.className=this.el.className+" "+a),this.el.className+=" show"},hide:function(){var t=this,i=e.document.createEvent("Event");this.el.className=this.el.className.replace(" show",""),this.scrollStart(),a.each(t.views,function(e){var a=e.options&&e.options.name;a&&(t.el.className=t.el.className.replace(" "+a,"")),e.el.className=e.el.className.replace(" show",""),e.close.hide(),i.initEvent("hide",!0,!0),e.el.dispatchEvent(i)})},_bindEvents:function(){var e=this;a.each(this.views,function(t){t.close.el.addEventListener("click",function(){e.hide()})})}}),s=n.extend({el:"#modal-close",initialize:function(e){var t=e&&e.closeElement;a.extend(e,{windowView:r.getInstance()}),this.options=e,t&&(this.el=t)},show:function(){this.el.className=this.el.className.replace(" hidden","")},hide:function(){this.el.className+=" hidden"}});i.ModalView=t.View.extend({className:"modal",constructor:function(e){t.View.apply(this,arguments);var i=this,n=e&&e.name;a.extend(e,{windowView:r.getInstance(),keyEvents:[]}),i.options=e,i.el.id=a.uniqueId(n),i.el.className+=" "+n,i._bindEvents()},ready:function(){},show:function(e){this.options.windowView.show(this,e)},hide:function(e){this.options.windowView.hide(e)},_bindEvents:function(){var t=this;t.el.addEventListener("click",function(e){this===e.target&&t.hide()}),a.each(t.options.keyEvents,function(i){var a=t._handleKeyEvent.bind(i);e.document.addEventListener(i.name,a)})},_handleKeyEvent:function(e){var t=this;t.keyCode===e.keyCode&&t.callback()}})}(this),function(e){"use strict";var t=e.Disney,i=e._;t.Browser={showWarning:function(){return this.matchList(t.browser_warning_versions)},matchList:function(e,t){if(!e)return!1;var a=this;return i.any(e,function(e){return a.matches(e.name,e.version,t)})},matches:function(e,t,i){var a=this.getVersion(i);return a.name===e&&a.version===t},getVersion:function(t){var i,a=t||e.navigator.userAgent;if(/Trident.*rv:(\d+\.\d+)/i.test(a))i="i";else if(/Trident.(\d+\.\d+)/i.test(a))i="io";else{if(!/MSIE.(\d+\.\d+)/i.test(a))return{name:"Unknown",version:0};i="i"}var n=parseFloat(RegExp.$1);return"i"===i&&7===n&&e.XDomainRequest&&(n=8),"io"===i&&(n=n>6?11:n>5?10:n>4?9:n>3.1?8:n>3?7:9),{name:"Internet Explorer",version:n}}}}(this),Whiskers("modals.browser_warning",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="modal-info"> <ul id="modal_message"> <h3 class="modal-title" style="text-align:left">'),a.b(a.v(a.f("header",e,t,0))),a.b('</h3> <p class="modal-content">'),a.b(a.v(a.f("body",e,t,0))),a.b('</p> <div class="modal-accept"> <a id="modal_accept" class="button large blue">'),a.b(a.v(a.f("continue_button",e,t,0))),a.b("</a> </div> </ul> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.Cookie,a=e.Grill,n=e.Whiskers,r=e.jQuery;a.BrowserWarningModalView=a.ModalView.extend({events:{"click #modal_accept":function(){this.accept(),this.hide()}},render:function(){return this.options.template.render(this.options.browser_warning)},hasAccepted:function(){return"true"===i.get("accept-browser-warning")},accept:function(){i.set("accept-browser-warning","true",{domain:i.domain(),expires:1})}}),r(function(){t.top.on("ready",function(){if(t.top.current&&t.top.current.collection&&t.Browser.showWarning()){var e=t.top.current.collection.browser_warning||{},i=new a.BrowserWarningModalView({name:"browser-warning",template:n.modals.browser_warning,closeElement:".modal-close",browser_warning:e});i.hasAccepted()||i.show()}})})}(this),function(e){"use strict";e.Disney.FormElements=e.Disney.FormElements||{};var t=e.Disney.FormElements,i=e.Whiskers,a=e._,n=e.jQuery;n(function(){t.dateDropdown={renderTemplate:function(t){for(var r=t||{},s=a.extend({month:"Month",day:"Day",year:"Year",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},r.translations),o=[],l=[],c=[],d=new e.Date,u=d.getFullYear(),h=1;31>=h;h++)o.push(h);for(var f=u;f>=u-100;f--)c.push(f);var p=["january","february","march","april","may","june","july","august","september","october","november","december"];n.each(p,function(e,t){l.push({value:e,month:s[t]})});var m={days:o,months:l,years:c,translations:s};return i.partials.date_dropdown.render(m)}},t.characterCountdown={renderTemplate:function(e){var t={rows:e.rows,maxLength:e.maxLength||140,tag:e.tag,label:e.label,required:e.required};return i.partials.character_countdown.render(t)},onReady:function(e,t,i){e.on("keyup",function(){var e=n(this).val(),a=t-e.length;i.html(a)})}}})}(this),Whiskers("shared.search_navigation",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<span id="search-e" role="button" title="Search"></span> <div id="nav-search" class="goc-nav-search"> <div class="overlay"></div> <div class="search-form"> <form class="goc-search" method="GET" action="'),a.b(a.v(a.f("search_action",e,t,0))),a.b('"> <span id="search-clear" role="button" title="Clear"></span> <span class="search-icon"></span> <input type="text" name="q" class="instant-search-input" placeholder="'),a.b(a.v(a.f("search",e,t,0))),a.b('" autocomplete="off"/> </form> <span id="search-close" role="button" title="Cancel"></span> </div> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.jQuery,n=e.GOC,r=e.Tracker;t.ModuleView.register("search_navigation",{template:i.shared.search_navigation,$navSearch:null,$searchClear:null,$searchInput:null,$searchClose:null,$navLocal:null,open:function(){var e=["sitenav",a("#nav-local a").length,"none","link"].join("/");r.link({linkName:"searchOpen",linkPosition:e}),this.$navLocal.addClass("search-open")},close:function(){return this.$navLocal.removeClass("search-open"),this.clearForm(!0),!0},clearForm:function(e){this.$searchClear.removeClass("show"),a("#search-is").remove();var t=this.$searchInput.val("").focus();e&&t.blur()},initialize:function(){var t=this,i=a("#goc-bar .goc-search"),s=i.attr("action"),o=i.find("input[type=text]").attr("placeholder"),l=this.template.render({search_action:s,search:o});a("#nav-e + ul").after(l),a("form.goc-search input[type='text']").keyup(function(e){""===a(e.target).val()&&t.clearForm(!1)}),t.$navSearch=a("#nav-search"),t.$navLocal=a(".nav-local"),t.$searchClose=a("#search-close"),t.$searchClose.html(a("#search_cancel_text").html()),t.$navSearch.on("click","a[href]",function(){t.close()});var c=e.setInterval(function(){"function"==typeof n.ac&&(n.ac(t.$navSearch,"mtt_chrome"),e.clearInterval(c))},1500);a("#search-e").bind("click touchstart",function(){return a("html.ios").addClass("modal-no-scroll"),t.open(),!1}),t.$searchClear=a("#search-clear"),t.$searchInput=a("#nav-search .search-form form input[type=text]"),t.$searchClose.bind("click touchstart",function(){a("html.ios").removeClass("modal-no-scroll"),r.link({linkName:"searchClose",searchPhraseInput:t.$searchInput.val()})}),t.$searchClear.bind("click touchstart",function(){r.link({linkName:"searchClear",searchPhraseInput:t.$searchInput.val()})}),t.$navSearch.find(".overlay, #search-close").bind("click touchstart",function(){return t.close(),a("html.ios").removeClass("modal-no-scroll"),!1}),t.$searchInput.attr("autocomplete","off").attr("autocorrect","off"),t.$navSearch.find(".search-form").on(a.fn.selectTransitionEnd(),function(){return t.$searchInput.focus(),!1}),t.$searchClear.bind("click touchstart",function(){t.clearForm(!1)}),t.$searchInput.keyup(function(){t.$searchClear.addClass("show")})}}),a(function(){t.ModuleView.create("search_navigation")})}(this),Whiskers("partials.age_gate_modal",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="modal-info'),a.s(a.f("isSocial",e,t,1),e,t,0,35,42,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" hidden")}),e.pop()),a.b('"> <div class="enter-birthday"> <p class="modal-title">'),a.b(a.v(a.d("translations.enter",e,t,0))),a.b("</p> <form>"),a.b(a.t(a.f("date_dropdown",e,t,0))),a.b('</form> <p class="error alert hidden">'),a.b(a.v(a.d("translations.error",e,t,0))),a.b('</p> <a class="submit-button button blue large">'),a.b(a.v(a.d("translations.submit",e,t,0))),a.b('</a> <a class="modal-close button" data-title="close">'),a.b(a.v(a.d("translations.nevermind",e,t,0))),a.b('</a> </div> <div class="too-young"> <p class="modal-title">'),a.b(a.v(a.d("translations.sorry",e,t,0))),a.b("</p> <p>"),a.b(a.v(a.d("translations.too_young",e,t,0))),a.b('</p> <a class="button-close button blue small">'),a.b(a.v(a.d("translations.close",e,t,0))),a.b("</a> </div> </div> "),a.s(a.f("isSocial",e,t,1),e,t,0,589,1491,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div id="social-buttons"> <p>'),i.b(i.v(i.d("translations.share_this_with_your_friends",e,t,0))),i.b('</p> <div id="social-logos"> '),i.s(i.f("socialSharing",e,t,1),e,t,0,711,1252,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("facebook",e,t,1),e,t,0,725,814,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a class="fb-logo" title="Facebook" data-share-url="'),i.b(i.v(i.f("fbsource",e,t,0))),i.b('" href="#">Facebook</a> ')}),e.pop()),i.b(" "),i.s(i.f("twitter",e,t,1),e,t,0,840,984,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a class="tw-logo" title="Twitter" target="_blank" href="https://twitter.com/intent/tweet?url='),i.b(i.v(i.f("twtsource",e,t,0))),i.b("&text="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('">Twitter</a> ')}),e.pop()),i.b(" "),i.s(i.f("pinterest",e,t,1),e,t,0,1011,1237,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("thumbEncoded",e,t,1),e,t,0,1029,1219,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a class="pin-logo" title="Pinterest" target="_blank" href="http://www.pinterest.com/pin/create/button/?url='),i.b(i.v(i.f("pinsource",e,t,0))),i.b("&media="),i.b(i.v(i.f("thumbEncoded",e,t,0))),i.b("&description="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('">Pinterest</a> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(' </div> </div> <div id="share-links"> <p>'),i.b(i.v(i.d("translations.link",e,t,0))),i.b('</p> <input type="text" value="'),i.b(i.v(i.f("source",e,t,0))),i.b('"> '),i.s(i.f("embedCode",e,t,1),e,t,0,1390,1469,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <p>"),i.b(i.v(i.d("translations.embed",e,t,0))),i.b('</p> <textarea rows="2"> '),i.b(i.t(i.f("embedCode",e,t,0))),i.b(" </textarea> ")}),e.pop()),i.b(" </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("partials.date_dropdown",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="date_dropdown"> <div class="input-group month"> <select name="month" required> <option value="" selected disabled>'),a.b(a.v(a.d("translations.month",e,t,0))),a.b("</option> "),a.s(a.f("months",e,t,1),e,t,0,169,215,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.f("value",e,t,0))),i.b('">'),i.b(i.v(i.f("month",e,t,0))),i.b("</option> ")}),e.pop()),a.b(' </select> </div> <div class="input-group day"> <select name="day" required> <option value="" selected disabled>'),a.b(a.v(a.d("translations.day",e,t,0))),a.b("</option> "),a.s(a.f("days",e,t,1),e,t,0,377,415,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")}),e.pop()),a.b(' </select> </div> <div class="input-group year"> <select name="year" required> <option value="" selected disabled>'),a.b(a.v(a.d("translations.year",e,t,0))),a.b("</option> "),a.s(a.f("years",e,t,1),e,t,0,579,617,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")}),e.pop()),a.b(" </select> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";function t(){var e=c.guest.current,t=new Date(e?e.profile.dateOfBirth:decodeURI(h.get(b)));return t.getFullYear()?t:0/0}function i(t){var i=new e.Date;return i.setFullYear(i.getFullYear()-t)}function a(e){h.set(b,encodeURI(e),{domain:h.domain(),expires:1})}function n(t){var i=t.attr("href"),a=t.attr("target");a?e.open(i,a):e.location=i}function r(e){c.FB.load(function(t){t.ui({method:"share",href:e})})}function s(t){e.open(t,"pinterest","height=440,width=750,resizable=1")}function o(t){e.open(t,"twitter","height=440,width=550,resizable=1")}function l(){var t=g(".bun.watch").find("meta[itemprop='name']").attr("content"),i=g("div[itemprop='video']").find("meta[itemprop='embedURL']").attr("content"),a=i?"<iframe width='560' height='315' src='"+i+"' frameborder='0' allowfullscreen scrolling='no'></iframe><br/><a href='"+e.location.href+"'>"+t+" on Disney Video</a>":null;return a}e.Disney.AgeGate=e.Disney.AgeGate||{};var c=e.Disney,d=e.Grill,u=e.Whiskers,h=c.Cookie,f=e.Tracker,p=e.Modernizr,m=e._,g=e.jQuery,b="age-gate-user";d.AgeGateModalView=d.ModalView.extend({events:{"click .submit-button":"checkAge","click .button-close":"hide","age-pass":function(){n(this.options.linkEl),this.options.linkEl.attr("target").length&&this.hide()},hide:"onHide"},initialize:function(){var e={loading:"Loading",enter:"Enter your birthday to continue:",submit:"Submit",close:"Close",error:"Please fill out all fields",sorry:"Sorry",too_young:"You are not eligible.",link:"Link",embed:"Embed",share_this_with_your_friends:"Share this with your friends",month:"Month",day:"Day",year:"Year"},t=m.defaults(this.options.translations,e);m.extend(this.options,{date_dropdown:c.FormElements.dateDropdown.renderTemplate({translations:t}),translations:t})},render:function(){var e=this;return p.touch&&m.defer(function(){e.bodyPosition=g("body").css("position"),g("body").css({position:"fixed"})}),this.options.template.render(this.options)},ready:function(){this.options.isTooYoung&&this.tooYoungText()},onHide:function(){p.touch&&g("body").css({position:this.bodyPosition}),this.remove()},checkAge:function(){var t=this.$(".date_dropdown"),n=t.find(".month option:selected").val(),r=t.find(".day option:selected").val(),s=t.find(".year option:selected").val(),o=new e.Date(s,n,r);""===n||""===r||""===s?this.showError():o<i(this.options.gatedAge)?(a(o),this.$el.trigger("age-pass")):(a(o),this.tooYoungText())},showError:function(){this.$(".error").removeClass("hidden")},tooYoungText:function(){this.$(".modal-info").show().find(".enter-birthday").hide(),this.$(".too-young").delay(100).fadeIn()}}),d.SocialAgeGate=d.AgeGateModalView.extend({events:function(){return m.extend({},d.AgeGateModalView.prototype.events,{"age-pass":"doShare","click #social-logos > a":function(e){e.preventDefault(),this.$clickedEl=g(e.currentTarget),this.options.isOldEnough?this.doShare():this.options.isTooYoung?(this.$("#social-buttons").hide(),this.tooYoungText()):this.revealForm()},"click input[type=text], textarea":function(e){g(e.currentTarget).select()}})},ready:function(){f&&f.event({eventCategory:"socialelement",action:"share",label:e.location.href})},revealForm:function(){this.$("#social-buttons").addClass("hidden"),this.$(".modal-info").removeClass("hidden")},doShare:function(){this.$clickedEl.hasClass("fb-logo")?r(this.$clickedEl.data("share-url")):this.$clickedEl.hasClass("pin-logo")?s(this.$clickedEl.attr("href")):this.$clickedEl.hasClass("tw-logo")&&o(this.$clickedEl.attr("href")),this.hide()}}),d.PortalAgeGate=d.AgeGateModalView.extend({events:function(){return m.extend({},d.AgeGateModalView.prototype.events,{"age-pass":function(){this.hide()}})}}),g(function(){g("body").on("click","a[data-age], .social-link-btn",function(a){a.preventDefault();var r,s=g(this),o=c.top.current,h=o.collection&&o.collection.age_gate_text||{},f=t(),p=o.collection&&o.collection.social_share_min_age,b=parseInt(s.attr("data-age"),10)||p||13,v=s.hasClass("social-link-btn"),y={name:"age-gate",template:u.partials.age_gate_modal,gatedAge:b,linkEl:s,translations:h,isTooYoung:f>i(b),isOldEnough:f<i(b)};if(v){var k=s.data("source")||e.location.href,_=k.match(/\?.+/)?"&":"?",w=o.collection.social_share_networks,x=m.filter(m.keys(w),function(e){return w[e]===!0}),C={isSocial:!0,source:k,fbsource:k+_+"cmp="+encodeURIComponent("GSL|none|natural|fb||social-share-buttons"),twtsource:encodeURIComponent(k+_+"cmp="+encodeURIComponent("GSL|none|natural|twt||social-share-buttons")),pinsource:encodeURIComponent(k+_+"cmp="+encodeURIComponent("GSL|none|natural|pin||social-share-buttons")),thumbEncoded:encodeURIComponent(s.data("thumb")),titleEncoded:encodeURIComponent(s.data("title")),embedCode:l(),socialSharing:m.pick(w,x)};m.extend(y,C),r=new d.SocialAgeGate(y),r.show()}else y.isOldEnough?n(s):(r=new d.AgeGateModalView(y),r.show())})})}(this),function(e){"use strict";function t(e){var t=a('section[data-anchor-name="'+e+'"]');a("html, body").animate({scrollTop:t.offset().top},800)}var i=e.Disney,a=e.jQuery;a(function(){i.top.on("ready",function(){a("#burger").on("click","a[data-anchor]",function(e){var i=a(e.currentTarget),n=i.data("anchor");n&&t(n)})})})}(this),function(e){"use strict";var t,i=e.Disney,a=e.window,n=e.GOC,r=e.$,s=e.DossierProxy={start:function(){r("html").addClass("wait-cursor");var e=i.guest;e.refresh().then(function(e){e&&e.token&&e.token.access_token&&(t=e.token.access_token,a.addEventListener("message",s.messageReceived,!1),s.loadDossier())},function(){r("html").removeClass("wait-cursor"),e.login()})},loadDossier:function(){r.getScript(i.dossierBase+"/js/dossier.js")},messageReceived:function(e){r("html").removeClass("wait-cursor"),"dossier-ready"===e.data&&(s.launchDossier(),this.removeEventListener("message",s.messageReceived,!1))},launchDossier:function(){Dossier.open(t,"",i.dossierBase)}};n.queue.push(["on","click:my_interests",function(){e.DossierProxy.start()}])}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,a=e.DossierProxy;e.EventLinkHandler={launchDossier:function(){a&&a.start()},launchDisid:function(){t.top&&(t.guest.current?t.guest.updateProfile():t.guest.login())},handle:function(e){var t=i(e.currentTarget).data("event-link");switch(t){case"profile":this.launchDisid();break;case"interests":this.launchDossier()}}}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,a=i.isFunction,n=function(t){var i=e.onerror,a=e.console;a&&a.error&&a.error(t.stack||t.toString()),i&&i(t.toString())};i(function(){t.top.on("ready",function(t){var i=e.Tracker,r={};if(a(t.cto)&&(r=t.cto()),r&&r.account)try{i.resetObj(),i.track(r)}catch(s){n(s)}})})}(this),function(e){"use strict";var t=e.Tracker,i=e.jQuery,a="#burger > [data-module]",n=".slides li",r=function(e){return null!=e&&(e=i.trim(e).replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g," ")),e
},s=function(e,t,a){var n=e.closest(t);return n.length?i(t,a).index(n):-1},o=function(e,t,o,l){var c=[],d=i(a).index(t),u=s(e,".entity,.item,.item,.product",t),h=s(e,n,t),f=s(e,".button",e.closest(n+","+a)),p=s(e,".all",t),m=t.find("h1,h2,h3,h4,h5,h6").eq(0),g=!m.closest(".item").length&&m.text(),b=r(g&&i.trim(g)||e.attr("title")||e.data("title")||e.attr("alt"));return 0===d&&b.indexOf("hero")>-1&&(b=e.closest(n).find(".background img[alt]").attr("alt")||b),c.push(b,"mod"+(d+1)),u>=0?c.push("item"+(u+1)):h>=0&&(c.push("slide"+(h+1)),o="full"),l&&c.push(l),f>=0?o="button"+(f+1):s(e,".poster",t)>=0?o="poster":s(e,".trailer-thumb",t)>=0?o="trailer-thumb":s(e,".gallery-item",t)>=0&&(o=null),o&&c.push(o),p>=0&&c.push("viewall"),c.join("/")},l=function(e,t,i){var a=s(e,".suggested",t),n=s(e,".card .next",t);return a>=0?"card/suggested/p"+a+"/"+i:n>=0?"card/next/p"+n+"/"+i:s(e,"#next_container",t)>=0?("link"===i&&(i="details"),"upnext/"+i):o(e,t,i)},c=function(e,t,n){var l=r(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text())),c=i(a).index(t),d=s(e,".modal-window .arrow-next",t),u=s(e,".modal-window .arrow-prev",t),h=s(e,".modal-window .modal-close",t);if(d>=0||u>=0||h>=0){var f=e.data("viewtype"),p=parseInt(e.data("currentitem"),10)+1,m="ad"===f?"ad":"item"+p,g=l+"/mod"+(c+1)+"/"+m+"/modal";return g}return o(e,t,n)};i("body").on("click","#burger a[href], #burger .button, #burger .clicon, #burger .launches-modal",function(e){var n,s,d=i(this),u=i(e.target),h=u.is("img"),f=d.closest(a),p=r(f.data("module")),m=r(d.closest("[data-title]").data("title")||h&&u.attr("alt")||d.text()),g=h?"thumb":"link",b=r(d.closest("[data-convert]").data("convert"));if("buy"===b&&(m=b+"_"+m,s=r(d.closest("[data-retailer]").data("retailer")),s&&(m=s+"/"+m)),"search"!==p&&"voting_multi"!==p&&"radio_player"!==p&&f.length){var v="";if(n=("watch"===p?l:"image_gallery"===p?c:o)(d,f,g,b),"songs"===p){if("like-icon clicon clicked"===d.context.className)v="/like-song",m="like-song/"+d.data("likeinfo").replace(/\s+/g,"_");else if("like-icon clicon"===d.context.className)return;if("buy_song"===b){var y=i(e.currentTarget),k=y.closest(".icon-container").data("buyaylitics").replace(/\s+/g,"_");n=n.replace(/buy_song/,"cart"),m=k,y.data("purchase")&&(m=y.data("retailer")+"/"+k)}}t.link({linkName:p+"/"+n+"/"+m,linkPosition:p+"/"+n+v,href:d.attr("href")})}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,a=e._,n=function(e,t,i){var n=this;a.each(i,function(e,t){n[t]=function(){var t=this,i=arguments;t.load(function(a){e.apply(t,[a].concat(i))})}}),n._u=e,n._c=[],n._i=t};n.prototype={load:function(e){var t=this;return t._p||(t._p=i.ajax(t._u,{dataType:"script",cache:!0}).pipe(function(){var e=t._i();return a.invoke(t._c,"call",t,e),t._c=null,e})),this._p.then(e)},ready:function(e){this._p?this._p.then(e):this._c.push(e)}},t.FB=new n("https://connect.facebook.net/en_US/all.js",function(){var t=e.FB;return t.init({appId:i("meta[property='fb:app_id']").attr("content"),status:!1}),t},{go:function(e){e.XFBML.parse()}}),i(function(){i("<div/>",{id:"fb-root"}).appendTo("body")}),e.___gcfg={parsetags:"explicit"},t.P1=new n("https://apis.google.com/js/plusone.js",function(){return e.gapi.plusone},{go:function(e){e.go()}})}(this),function(e){"use strict";var t=function(t){t="socialelement/"+t,e.Tracker.event({eventCategory:t,action:"like"})};e.Disney.FB.ready(function(e){e.Event.subscribe("edge.create",function(){t("facebook")})}),e.renderPlusone=function(){t("google")}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){t.top.on("ready",function(t){if(t&&t.collection){var a=t.collection.optimizely;if(a&&!i.isEmptyObject(a))if(e.optimizely)e.optimizely.push(["activate"]);else{var n="http://cdn.optimizely.com/js/"+a.project_id+".js";i.getScript([n],function(){e.optimizely&&e.optimizely.push(["activate"])})}}})})}(this),Whiskers("modules.activity_kit_shared",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("kitData",e,t,1),e,t,0,12,28,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<kitStyles0",e,t,"")),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("data",e,t,1),e,t,0,50,283,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="content-container '),i.b(i.v(i.f("type",e,t,0))),i.b("-container "),i.b(i.v(i.f("theme",e,t,0))),i.b('"> <div class="content-wrapper"> '),i.b(i.rp("<container1",e,t,"")),i.b(' </div> </div> <div class="content-toolbar-container"> <div id="toolbar" class="inverted"> <div id="meta"></div> </div> </div> ')}),e.pop()),a.fl()},partials:{"<kitStyles0":{name:"kitStyles",partials:{},subs:{}},"<container1":{name:"container",partials:{},subs:{}}},subs:{}}),Whiskers("partials.activity_kit_content",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="stage"> <div id="activity-kit" class="'),a.b(a.v(a.f("view",e,t,0))),a.b('"></div> <div class="print-footer"> <h2 class="print-title" '),a.s(a.f("kitData",e,t,1),e,t,0,130,192,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("theme_color",e,t,1),e,t,0,146,176,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.f("theme_color",e,t,0))),i.b('"')}),e.pop())}),e.pop()),a.b(">"),a.b(a.v(a.f("title",e,t,0))),a.b('</h1> <div class="print-notice"> &copy; 2015 Disney </div> </div> </div>'),a.fl()},partials:{},subs:{}}),Whiskers("partials.activity_kit_theming",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<style type="text/css"> '),a.s(a.f("theme_color",e,t,1),e,t,0,40,725,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #activity-kit.avatar .finish .back { color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b(";} #activity-kit.avatar .finish .back .icon { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit.avatar .finish .print { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit.avatar .toolbar .tab.done.active { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit.stickerbook .choices, #activity-kit.stickerbook .choices > .progress, #activity-kit.stickerbook .finish, .landscape #activity-kit.stickerbook .toolbar .tabs .tab.active .tab-content, .portrait #activity-kit.stickerbook .toolbar .tabs .tab.active .tab-content { background-color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } #activity-kit .print-footer .print-title { color: "),i.b(i.v(i.f("theme_color",e,t,0))),i.b("; } ")}),e.pop()),a.b(" "),a.s(a.f("theme_arrows",e,t,1),e,t,0,759,1368,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #activity-kit.avatar .toolbar .eye .next{ background-image: url("),i.b(i.v(i.f("next",e,t,0))),i.b("); background-size: 96% auto; } #activity-kit.avatar .toolbar .eye .prev{ background-image: url("),i.b(i.v(i.f("prev",e,t,0))),i.b("); background-size: 96% auto; } #activity-kit.stickerbook .omnislide .next{ background-image: url("),i.b(i.v(i.f("next",e,t,0))),i.b("); background-size: 50px; } #activity-kit.stickerbook .omnislide .prev{ background-image: url("),i.b(i.v(i.f("prev",e,t,0))),i.b("); background-size: 50px; } #activity-kit.dressup .omnislide .next{ background-image: url("),i.b(i.v(i.f("next",e,t,0))),i.b("); background-size: 50px; } #activity-kit.dressup .omnislide .prev{ background-image: url("),i.b(i.v(i.f("prev",e,t,0))),i.b("); background-size: 50px; } ")}),e.pop()),a.b(" </style>"),a.fl()},partials:{},subs:{}}),function(e){e.ActivityKit=e.ActivityKit||{},e.ActivityKit.rule_templates={Background:{zIndex:1,required:!0,min:1,max:1,selfReplace:!0,width:1,height:1},CharacterSticker:{movable:!0,zIndex:2,max:100},PropSticker:{movable:!0,zIndex:4,max:100},DressupCharacter:{zIndex:2,max:1,movable:!0,selfReplace:!0}}}(this),function(e){"use strict";var t=e.ActivityKit,i=e.Disney,a=e._,n=[],r=e.devicePixelRatio||1,s=e.document.documentElement.clientWidth,o=function(){for(var e=0;e<n.length;++e)n[e](s);o=n=null};t.hiRes=function(e){n?n.push(e):e(s)},r>1?i.geo(function(e){a.contains(["dialup","mobile","satellite","wireless"],e)||(s=r*s),o()}):o()}(this),function(e){"use strict";var t,i=e.ActivityKit,a=e.jQuery,n=e.Backbone,r=e._,s=n.Model,o=n.Collection,l=function(){},c=1024,d=function(){t=null},u=i.unload=function(){t||(t=[],r.defer(d,1e3)),t.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAIAOw=="},h=function(t,n){var s=t.prototype;r.each(n,function(e){s[e]=function(){var t=this.get(e),i=r.keys(t||{});return 0===i.length?void 0:t[r.min(i,function(e){var t=e-c;return 0>t?t*t:t})]}}),s.prefetch=r.memoize(function(){var t,s,o,c,d=this,h=a.Deferred(),f=0,p=n.length;return p>0?(o=function(){this.onload=this.onabort=this.onerror=l,u.call(this),h.notify(e.Math.min(++f,p)/p),f>=p&&(t=null,e.clearInterval(s),h.resolve())},c=function(e){e&&e.onload===o&&e.complete&&e.onload()},s=e.setInterval(function(){r.each(t,c)},500),i.hiRes(function(){t=r.map(n,function(t){var i,a=d[t]();return i=new e.Image,i.src=a,i.complete?o.call(i):i.onload=i.onabort=i.onerror=o,i})})):h.resolve(),h.promise()},function(){return this.cid})},f=function(){return a.when.apply(a,this.map(function(e){return e.prefetch()})).pipe(null,null,function(){return r.reduce(arguments,function(e,t){return e+(t||0)},0)/arguments.length})},p=s.extend({});i.GroupList=o.extend({model:p,prefetch:f});var m=s.extend({defaults:{zIndex:0,movable:!1,min:0},applyTo:function(e,t,i){var n,s,o,l,c,d=e.ofRule(this),u=d.length,h=this.get("required"),f=this.get("min"),p=this.get("max");if(u>p){var m=r.first(d.slice(0,u-p));n=m.get("x"),s=m.get("y"),o=m.get("width"),l=m.get("height"),c=m.get("rotation"),i&&(i.set("x",n),i.set("y",s),i.set("width",o),i.set("height",l),i.set("rotation",c)),e.remove(m)}else if(h&&f>u)e.add(r.map(t.ofRule(this).slice(0,f),function(e){return e.clone()}));else if(i&&i.creationEvent){var g;g=i.creationEvent.originalEvent?i.creationEvent.originalEvent:i.creationEvent;var b={x:(g.x-a(g.target).first("img").offset().left)/a(g.target).first("img").width(),y:(g.y-a(g.target).first("img").offset().top)/a(g.target).first("img").height()};i.set("x",(a(g.target).offset().left-a(".scene").offset().left)/a(".scene")[0].offsetWidth-.03),i.set("y",(a(g.target).offset().top-a(".scene").offset().top)/a(".scene")[0].offsetHeight-.5),i.set("relLoc",b)}return e}});i.RuleList=o.extend({model:m,applyTo:function(e,t,i){return this.each(function(a){a.applyTo(e,t,i)}),e},forLayer:function(e){return this.get(e.get("rule"))}});var g=s.extend({defaults:{rotation:0},initialize:function(){var t=this;if((null==this.get("x")||null==this.get("y"))&&this.positionAt(.4,.27),"Background"===this.get("modifier_rule")){this.positionAt(0,0);var n=new e.Image;n.src=this.attributes.max_image,n.onload=function(){i.maxBgWidth=n.naturalWidth,i.maxBgHeight=n.naturalHeight}}var r=new e.Image;r.src=t.src(),a(r).on("load",function(){if(t.set("natural",{width:r.naturalWidth,height:r.naturalHeight}),i.bgSize||"Background"!==t.get("modifier_rule")){if(i.bgSize&&"Background"!==t.get("modifier_rule")){var e=r.naturalWidth/i.maxBgWidth!==1?r.naturalWidth/i.maxBgWidth:.36,a=r.naturalHeight/i.maxBgHeight!==1?r.naturalHeight/i.maxBgHeight:.36,n={width:e,height:a};if(!t.get("width")){var s=1;"PropSticker"===t.get("modifier_rule")?s=.3:"CharacterSticker"===t.get("modifier_rule")?s=.5:"DressupCharacter"===t.get("modifier_rule")&&(s=.6),t.set("width",n.width*s),t.set("height",n.height*s)}}}else i.bgSize=t.get("natural")})},positionAt:function(e,t){this.set("x",e),this.set("y",t)},groups:function(){var e=this.get("group");return this.get("groups")||(e?[e]:[])},isRule:function(e){return this.get("rule")===e},inGroup:function(e){return e.id&&(e=e.id),r.contains(this.groups(),e)}}),b=i.LayerList=o.extend({model:g,prefetch:f,ofRule:function(){var e=r.map(arguments,function(e){return e.id&&(e=e.id),e});return this.select(function(t){return r.include(e,t.get("rule"))})},ofGroup:function(e){return this.filter(function(t){return t.inGroup(e)})}}),v=s.extend({rules:function(){var e=this.get("rule");return this.get("rules")||(e?[e]:[])},findChoices:function(e,t,i){if(this.get("group"))return t.toArray();var a=new b(i.ofGroup(e));return a.ofRule.apply(a,this.rules())}});i.TabList=o.extend({model:v,prefetch:f}),h(p,["icon"]),h(g,["src"]),i.hiRes(function(e){c=e})}(this),function(e,t,i){"use strict";var a="swipeasaurus",n="."+a,r={effect:"slide",loop:!0,index:0,speed:300,delay:0,rtl:!1},s=Math.abs,o=Math.min,l=e.setTimeout,c=e.clearTimeout,d=["Webkit","Moz","ms","O"],u=e.document.documentElement,h=function(e){var t,a=0;if(u.style[e]!==i)return e;for(t=e.charAt(0).toUpperCase()+e.substr(1);a<d.length;a++)if(u.style[d[a]+t]!==i)return d[a]+t},f=!!h("perspective"),p=!!h("transition"),m=!!h("transform"),g=(h("transform")||"transform").replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),b=function(){return(new Date).getTime()},v=function(e,i){return t("<span/>",{"class":e,title:i,role:"button",onclick:""})},y={slide:{c:{overflow:"hidden"},s:{opacity:1,transitionProperty:g+", visibility"},a:p&&m?function(e,t,i){i=i?i+"ms":"0ms";var a=s(t)<(this.visibility_offset||2),n=this.rtl?-100:100;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(a?"0ms":i),visibility:a?"visible":"hidden",transform:f?"translate3d("+t*n+"%,0,0)":"translateX("+t*n+"%)"})}:function(e,t,i){var a=this,n=a.rtl?"right":"left",r=function(){e.css(n,100*(t*(1-a._r-a._l)+a._l)+"%")},s=e.width();if(i&&s){var o={};o[n]=t*s+"px",e.stop().css(n,e.position()[n]).animate(o,i,r)}else r()}},fade:{c:{overflow:""},s:{transform:"translate3d(0,0,0)",transitionProperty:"opacity, visibility"},a:p?function(e,t,i){i=i?i+"ms":"0";var a=s(t),n=1>a,r=.5>a;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(n?"0ms":i),visibility:n?"visible":"hidden",opacity:1-o(1,a),zIndex:r?1:0})}:function(e,t,i){var a=s(t),n=1>a;n&&e.css({visibility:"visible"}),e.stop().animate({opacity:1-o(1,a)},i,function(){n||e.css({visibility:"hidden"})})}}},k={scroll:function(){t(this.$el).scrollLeft(this.rtl?this.length*this.$el.width():0)}},_=function(e,t){var i=e[t]||e.peek;return i>0&&.5>i?i:0},w=function(e,i){var a,r=this,s=r.rtl=!!i.rtl||"rtl"===e.css("direction"),o=r.$slides=e.children(),l=r.length=o.length,c=r._w=!!i.loop,d=r._l=_(i,"left"),u=r._r=_(i,"right"),h=1-d-u;r.visibility_offset=i.visibility_offset,r._s=+i.speed,r.index=i.index,r.$el=e,t.each(k,function(t,a){var s=e;"mouse"===t.substr(0,5)&&i.arrows&&(s=e.parent()),s.on(t+n,function(e){a.call(r,e)})}),o.on("focusin",function(){r.slide(t(this).index())}),i.dots&&l>1&&(a=o.map(function(e){return v("dot",e)[0]}),a.on("click",function(e){var i=t(e.currentTarget).index();r.slide(i)}),e.on("slide",function(e,t){a.removeClass("active").eq(t).addClass("active")}),e.after(t("<div/>",{"class":"dots","aria-hidden":"true"}).append(a))),t.each({prev:["Previous",0],next:["Next",l-1]},function(a,n){var s;i[a]?s=t(i[a]):i.arrows&&(s=e.siblings("."+a),!s.length&&l>1&&e.after(s=v(a,n[0]))),s&&(s.on("click",t.proxy(r[a],r)),c||e.on("slide",function(e,t){s.toggleClass("disabled",t===n[1])}))}),e.css({zIndex:1,position:"relative"}),o.each(function(e){var i=r.index;t(this).css({display:"block",position:e===i?"relative":"absolute",width:100*h+"%",left:s?"auto":100*d+"%",right:s?100*d+"%":"auto",top:0})}),r.effect(i.effect),r.start(i.delay)};w.prototype={_c:0,effect:function(e){var i=y[e]||r.effect;this._a=function(e,a){for(var n=0,r=this.length,s=this.$slides;r>n;++n)i.a.call(this,t(s[n]),n-e,a)},this.$el.css(i.c),this.$slides.css(i.s),this.slide(this.index,!0)},slide:function(e,t){var i=this,a=t?0:i._s;0>e&&(e=0),e>=i.length&&(e=i.length-1),i._c++&&i.index===e||(i.$el.trigger("slide",i.index=e),c(i._t),i._t=l(function(){i.$el.trigger("slideEnd",e)},a)),i._a(i.index,a),i.resume()},prev:function(){var e=this.index;0===e?this._w&&this.slide(this.length-1):this.slide(e-1)},next:function(){var e=this.index;e===this.length-1?this._w&&this.slide(0):this.slide(e+1)},resume:function(){var e=this;e.pause(),e._d>0&&(e._i=l(function(){t(e.$el).data(a)===e&&e.next()},e._d+e._s))},pause:function(){c(this._i)},start:function(e){this._d=e||this._d,this.resume()},stop:function(){this._d=0,this.pause()}},t.extend(k,e.Modernizr.touch?{touchstart:function(e){var t=e.originalEvent.touches;return t.length>1?k.touchcancel.call(this,e):void(this.touch={x:t[0].pageX,y:t[0].pageY,delta:0,dist:0,test:!0,time:b(),width:this.$el.width()})},touchmove:function(e){var t,i,a=this.touch,n=e.originalEvent.touches,r=this.index,o=this.length;if(a){if(t=n[0].pageX-a.x,a.dist+=s(t-a.delta),a.delta=t,a.test&&(i=n[0].pageY-a.y,a.test=!1,s(t)<s(i)))return k.touchcancel.call(this,e);e.preventDefault(),this.pause();var l=this.rtl?0>t:t>0,c=this.rtl?0>t:t>0;(0===r&&l||r===o-1&&c)&&(t/=s(t)/a.width+1),this._a(r+(this.rtl?t:-t)/a.width)}},touchcancel:function(){this.touch=null,this.slide(this.index)},touchend:function(e){var t=this.touch,i=0;t&&((2*s(t.delta)>t.width||b()-t.time<250&&t.dist>20)&&(i=(this.rtl?-1:1)*(t.delta<0?1:-1)),t.dist>20&&(e.preventDefault(),this.bust=b()),this.touch=null,this.slide(this.index+i))},click:function(e){this.bust&&b()-this.bust<250&&e.preventDefault()}}:{mouseenter:function(){this.pause()},mouseleave:function(){this.resume()}}),t.fn[a]=function(e){var i=arguments;return this.each(function(){var n,s=t(this);"string"==typeof e?(n=s.data(a),n[e].apply(n,Array.prototype.slice.call(i,1))):(e=t.extend({},r,e),s.data(a,new w(s,e)))})}}(this,jQuery),function(e){"use strict";var t=e.ActivityKit,i=e.jQuery,a=e.Backbone,n=e.Math,r=e.Disney,s=e.Tracker,o=e._,l=a.View,c=function(e){s.link({linkName:"activity_kit",linkPosition:"activity_kit/"+e})},d=function(){this.removeAttribute("width"),this.removeAttribute("height")},u=t.ProgressView=l.extend({className:"progress",percent:0,initialize:function(e){var t=this,a=o.bind(t.remove,t);t.promise=i.when(e.promise).then(function(){a()},a,o.bind(t.progress,t)),t.render()},progress:function(e){this.percent=e,this.$(".bar").css("width",100*e+"%")},render:function(){var e=i("<div/>",{"class":"track"});e.append(i("<div/>",{"class":"bar"})),this.$el.empty().append(e),this.progress(this.percent)}},{forPromise:function(e,t){e=i.when(e),"pending"===e.state()&&i(t).prepend(new u({promise:e}).el)}}),h=l.extend({tagName:"div",className:"layer",transformControl:'<div class="transformers-container"><div class="transformers"><div class="rotate handle"><div class="handle-aspect"></div></div><div class="resize handle"><div class="handle-aspect"></div></div></div></div>',endPos:{},events:{mousedown:"mousedown",touchstart:"touchstart",dragstart:function(e){e.preventDefault()}},initialize:function(){var t=new e.Image,a=this.$el,n=this;t.src=this.model.src(),this.render(),a.append(t),this.options.rule.get("selfReplace")?a.css("z-index",this.options.rule.get("zIndex")):(this.options.old=!1,a.css("z-index",10)),t.loaded?n.assignOrientation(t,a):i(t).on("load",function(){n.assignOrientation(t,a)}),this.options.rule.get("movable")&&a.append(this.transformControl),this.$el.append('<div class="glow" />'),this.model.on("change",this.render,this)},assignOrientation:function(e,t){var i=e.naturalHeight/e.naturalWidth,a=i>2.25?"ultra-portrait":i>1?"portrait":i>.75?"square":"landscape";t.addClass(a+"-image")},startgesture:function(e,t,a){var n=this;if(this.movable()){var r=this.model,s=this.$el.closest(".scene"),l=s.offset();l.width=s.outerWidth(),l.height=s.outerHeight(),this.gesture={offset:o.extend({},l),initial:{x:r.get("x"),y:r.get("y"),width:r.get("width"),rotation:r.get("rotation")},start:{x:e-l.left,y:t-l.top,target:a,direction:0}}}this.options.rule.get("min")>0&&this.options.trash.toggleVisible(!1);var c=[];i.each(this.$el.siblings(),function(e,t){c.push({el:t,index:parseInt(i(t).css("z-index"),10)})}),c=c.sort(function(e,t){return e.index-t.index}),i.each(c,function(e,t){t.index=e+1,e>0&&i(t.el).css("z-index",t.index)}),!this.options.rule.get("selfReplace")&&this.options.old&&this.$el.css("z-index",o.last(c).index+1),i.each(this.model.collection.models,function(e,t){t===n.model?n.model.inFocus=!n.model.inFocus:t.inFocus=!1}),i(a).hasClass("handle-aspect")||(i(".layer.focus").removeClass("focus"),i(a).closest(".layer").hasClass("background-rule-type")||this.$el.closest(".scene").removeClass("focus-on-layer"))},movegesture:function(e,t){var a=this.model,r=this.gesture,s=this.options.trash;if(r){var o={x:e-r.offset.left,y:t-r.offset.top},l=o.x-r.start.x,c=o.y-r.start.y,d=i(r.start.target).closest(".layer"),u={top:d.position().top+d.height()/2,left:d.position().left+d.width()/2},h=n.atan2(o.y-u.top,o.x-u.left)-n.atan2(r.start.y-u.top,r.start.x-u.left),f=r.start.x-u.left,p=o.x-u.left,m=n.abs(p)-n.abs(f);i(r.start.target).parent().hasClass("rotate")?this.$el.hasClass("rotating")||this.$el.addClass("rotating"):this.$el.addClass(i(r.start.target).parent().hasClass("resize")?"resizing":"dragging"),i(r.start.target).parent().hasClass("rotate")?(a.set("rotation",r.initial.rotation+h),this.$el.find(".transformers").css({transform:"rotate("+h+"rad)"})):i(r.start.target).parent().hasClass("resize")?a.set("width",r.initial.width+m/r.offset.width):(a.set("x",r.initial.x+l/r.offset.width),a.set("y",r.initial.y+c/r.offset.height)),0!==l&&0!==c&&(this.model.inFocus=!0)}this.options.rule.get("required")||s.toggleVisible(!0),s.toggleHover(s.inHitZone(e,t)&&!this.options.rule.get("required")),this.endPos={left:e,top:t}},cancelgesture:function(){var e=this.gesture;e&&this.endgesture(e.start.x,e.start.y)},endgesture:function(e,t){var a=this.options.trash,n=this.$el;null!=e&&null!=t&&(t>i(".choices").offset().top&&(t=i("#activity-kit").height()/3*2),this.movegesture(e,t)),this.options.old||(n.css("z-index",10),this.options.old=!0),this.gesture=null,n.closest("#activity-kit").off("."+this.cid),n.removeClass("dragging rotating resizing"),this.toggleFocus(this.model.inFocus),this.$el.find(".transformers").css({transform:"rotate(0rad)"}),a.inHitZone(e,t)&&!this.options.rule.get("required")&&this.throwOut()},mousedown:function(e){var t=this.cid;this.startgesture(e.pageX,e.pageY,e.target),this.$el.closest("#activity-kit").on("mousemove."+t,o.bind(this.mousemove,this)).on("mouseup."+t+" mouseleave."+t,o.bind(this.mouseup,this))},mousemove:function(e){e.preventDefault(),this.movegesture(e.pageX,e.pageY)},mouseup:function(e){this.endgesture(e.pageX,e.pageY)},touchstart:function(e){var t,a,n=this.cid;if(a=e.originalEvent?e:i.Event(e,{target:this.el}),t=a.originalEvent.touches,t.length>1)this.cancelgesture();else if(this.movable()){this.startgesture(t[0].pageX,t[0].pageY,t[0].target);var r=this.$el.closest(".scene");r.on("touchmove."+n,o.bind(this.touchmove,this)).on("touchend."+n,o.bind(this.touchend,this)).on("touchcancel."+n,o.bind(this.cancelgesture,this))}},touchmove:function(e){var t;t=e.originalEvent?e.originalEvent.touches:e.touches,this.gesture&&(e.preventDefault(),this.movegesture(t[0].pageX,t[0].pageY))},touchend:function(){this.endgesture(this.endPos.left,this.endPos.top),this.endPos={}},render:function(){var e=this.model,t=this.$el;t.addClass(e.attributes.rule+" "+e.attributes.modifier_rule.toLowerCase()+"-rule-type"),t.attr("data-linkedTo",this.options.rule.get("linkedTo")),this.$el.css({width:100*e.get("width")+"%",top:100*e.get("y")+"%",left:100*e.get("x")+"%",position:"absolute"}).each(d),this.$el.find("img").css({transform:"rotate("+e.get("rotation")+"rad)"})},movable:function(){return this.options.editable&&this.options.rule.get("movable")},toggleFocus:function(t){var i=this,a=this.options.trash,n=!this.options.rule.get("required");e.clearInterval(a.focusInterval),t?(i.$el.addClass("focus"),a.toggleVisible(n),a.targetLayer=n?this:null,a.focusInterval=e.setTimeout(function(){i.$el.removeClass("focus"),a.toggleVisible(!1)},5e3)):(i.$el.removeClass("focus"),a.toggleVisible(!1),a.targetLayer=null)},throwOut:function(){this.options.model.collection.remove(this.model),e.clearInterval(this.options.trash.focusInterval),this.options.trash.toggleHover(!1),this.options.trash.toggleVisible(!1)},remove:function(){l.prototype.remove.call(this),t.unload.call(this.el)}});t.SceneView=l.extend({className:"scene",events:{save:function(){this.save()},"finish:hide":function(){this.$(".save-mask").remove()}},initialize:function(){var e=this,t=e.collection;e.render(),i("#activity-kit").addClass(this.options.activityType),t.on("add",function(t,a){var n=a.indexOf(t),r=e.layer(t),s=r.el;if(0===n?e.$el.prepend(s):e.items().eq(n-1).after(s),t.creationEvent){var o;o=t.creationEvent.originalEvent?t.creationEvent.originalEvent:t.creationEvent,e.options.rules.forLayer(t).get("selfReplace")||(t.set("x",(i(o.target).offset().left-i(".scene").offset().left)/i(".scene")[0].offsetWidth-.03),t.set("y",(i(o.target).offset().top-i(".scene").offset().top)/i(".scene")[0].offsetHeight-.5))}}),t.on("remove",function(t,i,a){e.items().eq(a.index).remove()}),t.on("reset",e.render,e),i("#activity-kit").on("touchmove",function(e){e.preventDefault()})},render:function(){var e=this;return e.items().remove(),e.collection.each(function(t){var a=e.layer(t).el;e.options.rules.forLayer(t).get("movable")&&i(a).append(e.transformControl),e.$el.append(a),i(a).css("z-index",e.options.rules.forLayer(t).get("zIndex"))}),e},layer:function(e){var t=e;t.inFocus=!1;var i=new h({model:t,old:!0,rule:this.options.rules.forLayer(e),editable:this.options.editable,trash:this.options.trash});return i.render(),{el:i.el,layer:i}},items:function(){return this.$el.children()},save:function(){var e=this,a=r.guest;this.$el.trigger("finish:hide"),a.login().then(function(){e.$el.prepend(i("<div/>",{"class":"save-mask"}).append(i("<h1/>",{text:t.translations.save_text||"Added To Creations"})).append(i("<h4/>",{text:t.translations.save_support||"Please contact Disney Support if you have problems"})))})}}),t.ChoicesView=l.extend({className:"choices",choicesPerRow:function(){return 5},transitionEffect:function(){return"slide"},events:{"mousedown .layer":function(e){e.preventDefault();var t=e.currentTarget;this.applyChoice(this.$(".layer").index(t),e)},"touchstart .layer":function(e){e.preventDefault();var t=e.currentTarget;this.applyChoice(this.$(".layer").index(t),e)},"touchmove .layer":function(e){e.preventDefault()},"mousemove .layer":function(e){e.preventDefault()}},initialize:function(e){var t=this.scene=e.scene,i=this.collection;i.on("reset",this.render,this),this.render(),t.on("add",this.selection,this),t.on("remove",this.selection,this),t.on("reset",this.selection,this)},selection:function(){var e=this.scene;this.$(".layer").each(function(){var t=i(this),a=t.data("id");t.toggleClass("selected",!!e.get(a))})},render:function(){var e,a=this,n=i("<div/>"),r=this.collection;n.css("display","none"),r.each(function(t,r){r%a.choicesPerRow()===0&&(e=i("<ul/>",{"class":t.get("rule")+" "+t.get("modifier_rule").toLowerCase()+"-rule-type"}).appendTo(n));var s=i("<img/>",{"class":"icon",src:t.get("src")[768]}),o=i("<div/>",{"class":"layer "+t.get("rule")+" "+t.get("modifier_rule").toLowerCase()+"-rule-type",data:{id:t.id}}).append(s);e.append(i("<li/>").append(o))}),this.$("img").each(t.unload),this.$el.empty().append(n),this.$("img").each(d),n.swipeasaurus({arrows:!0,right:0,loop:!1,effect:this.transitionEffect()}),this.selection(),n.fadeIn(),u.forPromise(r.prefetch(),this.$el)},applyChoice:function(e,t){var i,a,n=this.options,r=this.collection,s=r.at(e),o=this.options.rules,l=this.scene;if(n.groups.include(s)){var d=n.toolbar.options;n.scenes[d.active.id].reset(l.toArray()),l.reset(n.scenes[s.id].toArray()),n.active=d.active=s}else i=o.forLayer(s),l.get(s.id)?i.get("min")<l.ofRule(i).length&&l.remove(s):(a=s.clone(),i.get("selfReplace")||(a.creationEvent=t),l.add(a)),o.applyTo(l,s,a);c("img/"+r.title+(e+1))}}),t.ToolbarView=l.extend({index:0,className:"toolbar",events:{"click .tabs li":function(e){var t=e.currentTarget;this.switchToTab(i(t).prevAll().length,!0),this.options.canvas.$el.trigger("finish:hide")},"click .next":function(){this.activeTab?i(this.activeTab).find(".next").trigger("click"):i(".omnislide .choices.selected").find(".next").trigger("click")},"click .prev":function(){this.activeTab?i(this.activeTab).find(".prev").trigger("click"):i(".omnislide .choices.selected").find(".prev").trigger("click")}},initialize:function(e){this.index=e.index||this.index,this.render()},render:function(){var e=i("<ul/>",{"class":"tabs tabs-"+this.options.tabs.length}),t=i("<div/>",{"class":"eye"}).append(i("<div/>",{"class":"next",role:"button",title:"Next"})).append(i("<div/>",{"class":"prev",role:"button",title:"Prev"}));this.options.tabs.each(function(t){var a=t.get("icon").base,n=t.get("active_icon").base||a;e.append(i("<li/>",{"class":"tab "+t.get("rule")}).append(i("<div/>",{"class":"tab-content"}).append(i("<img/>",{"class":"lit",src:n})).append(i("<img/>",{"class":"dim",src:a})).append(i("<span/>",{text:t.get("title"),"class":"title"}))))}),e.find("li").first().addClass("active"),this.$el.empty().append(t).append(e),this.$("img").each(d),this.switchToTab(this.index)},switchToTab:function(i,a){var r=this.options,s=this.index=+i,o=r.tabs.at(s),l=o.get("title").toLowerCase(),d=100,u=1.5,h=96,f=n.max(this.options.tabs.length,5);o.get("finish")?(r.omnislide&&r.omnislide.children(".choices").removeClass("selected"),this.options.finish.$el.delay(d).fadeIn(),this.$(".eye").css("top",80+u+"%")):(this.options.finish.$el.fadeOut(150),"stickerbook"===t.data.activityType&&this.collection.reset(o.findChoices(r.active,r.groups,r.choices)),this.$(".eye").css("top",s*h/f+u+"%")),this.$(".eye").attr("class","eye "+o.get("rule")),this.$el.attr("class","toolbar "+o.get("rule")+" tab-"+s),e.setTimeout(function(){this.$(".tabs li").removeClass("active").eq(s).addClass("active")},100),a&&c("button/"+l),this.collection.title=l}}),t.TrashView=l.extend({className:"trash",tagName:"div",focusInterval:null,targetLayer:null,events:{click:function(){var e=this.targetLayer;e&&(e.throwOut(),this.toggleVisible(!1))}},inHitZone:function(e,t){var i={};return i.left=this.$el.offset().left,i.right=i.left+this.$el.width(),i.top=this.$el.offset().top,i.bottom=i.top+this.$el.height(),e>i.left&&t>i.top&&e<i.right&&t<i.bottom},toggleVisible:function(e){this.$el.toggleClass("active",e)},toggleHover:function(e){e?(this.$el.addClass("hovering"),i(".dragging").css("opacity","0.15")):(this.$el.removeClass("hovering"),i(".dragging").css("opacity","1"))}}),t.FinishView=l.extend({className:"finish-container",events:{"click .print":function(){c("button/print"),e.print()},"click .save":function(){this.options.canvas&&this.options.canvas.$el.trigger("save")},"click .back":function(){c("button/back");var e=this.options.toolbar.$el.find("ul li").get(0);i(e).trigger("click"),this.options.canvas&&this.options.canvas.$el.trigger("finish:hide")}},initialize:function(){var a=this.$el.empty(),n=this.options.show_save,r=i("<div/>",{"class":n?"finish saving":"finish"}),s=i("<div/>",{"class":"print",role:"button",title:t.translations.print,text:t.translations.print}),o=i("<div/>",{"class":"reload back",role:"button",title:t.translations.back,text:t.translations.back}),l=i("<div/>",{"class":"save",role:"button",title:t.translations.save,text:t.translations.save});r.append(o),e.print&&r.append(s),n&&r.append(l),a.append(r)}}),i(e).on("touchstart",function(){})}(this),function(e){"use strict";var t=e.ActivityKit,i=e.jQuery,a=e._,n=e.Disney.LumiereHelpers,r=e.Backbone;t.data={};var s=function(e){var t=0,i=function(){t<e.length&&e[t++].prefetch().then(i)};e=e.slice(),i(),i()};t.init=function(o,l,c,d){a.extend(t.data,{activityType:c,hasPrimary:!1,orientation:"landscape"}),t.translations={print:"Print",done:"Done",back:"Back",save:"Add to Gallery"},a.extend(t.translations,d);var u,h=l,f=[],p=[];o.rules=[],i.each(o.categories,function(e,a){a.rule=a.title.replace(/ /g,"-").replace(/'/g,"").toLowerCase(),o.rules.push({id:a.rule,template:a.modifier_rule}),a.primary&&(t.data.hasPrimary=!0,i.each(a.assets,function(e,t){p.push(t.id)}))}),t.data.hasPrimary||(u=new t.GroupList({id:"emptyPrimary"}),p.push("emptyPrimary")),i.each(o.rules,function(e,t){a.extend(t,h[t.template])}),i.each(o.categories,function(e,r){i.each(r.assets,function(e,t){t.groups=r.primary?[t.id]:p,t.id=t.id.toString(),t.src=t.version2?a.reduce([320,640,768,1024,1536,2048],function(e,i){return e[i.toString()]=n.imgSrc(t.base,{target_width:i}),e},{}):{320:t.iphone_image_fog,640:t.iphone_retina_image_fog,768:t.ipad_image_fog,1024:t.desktop_image_fog,1536:t.ipad_retina_image_fog,2048:t.desktop_retina_image_fog},t.rule=r.title.replace(/ /g,"-").replace(/'/g,"").toLowerCase(),t.modifier_rule=r.modifier_rule,f.push(t)}),r.primary&&(r.group=!0,u=new t.GroupList(r.assets))}),o.categories.push({title:t.translations.done,rule:"done",finish:!0,icon:{base:"//a.dilcdn.com/a/modules/activity_kit_app/icon-done-864a26cc55a8.png"},active_icon:{base:"//a.dilcdn.com/a/modules/activity_kit_app/icon-done_active-ed56d02b0135.png"}});
var m=/(?:\?|&)group=([^&]*)/.exec(e.location.search),g=new t.RuleList(o.rules),b=new t.TabList(o.categories),v=new t.LayerList(f,{comparator:function(e){return e.groups().length}}),y=new t.LayerList,k=u.reduce(function(e,i){var a=e[i.id]=new t.LayerList;return g.applyTo(a,new t.LayerList(v.ofGroup(i))),y.add(a.models),e},{}),_=m&&u.get(m[1])||(m=null)||u.first(),w=k[_.id].clone(),x=new t.LayerList,C=new t.TrashView({scene:w}),A=new t.SceneView({activityType:t.data.activityType,collection:w,rules:g,editable:!0,trash:C}),S=new t.FinishView({canvas:A,choices:v,tabs:b,show_save:o.show_save}),T=new t.ToolbarView({activityType:t.data.activityType,collection:x,active:_,scene:w,tabs:b,index:m?1:0,choices:v,groups:u,finish:S,canvas:A}),P=[];"stickerbook"===t.data.activityType&&(P[0]=new t.ChoicesView({activityType:t.data.activityType,collection:x,active:_,scene:w,scenes:k,rules:g,groups:u,toolbar:T,trash:C}));var E=[];i.each(P,function(e,t){E.push(t.el)});var I=i("<div/>",{"class":"omnislide"}).append(S.el);i.each(E,function(e,t){I.append(t)}),a.extend(S.options,{toolbar:T}),a.extend(T.options,{omnislide:I});var L=i("<div/>",{"class":"scaler"}).append(A.el),M=i("<div/>",{"class":"controls"}).prepend(C.el).prepend(T.el).prepend(I),D=function(){var a=i(".stage"),n=i(e).height()-a.offset().top,s=r.Resize.width(),o=n/s,l=o>1?"portrait":"landscape";s>1024&&(l="landscape"),l!==t.data.orientatation&&(a.removeClass(t.data.orientation).addClass(l),t.data.orientation=l),i(".loading-spacer").addClass("complete")},R=y.add(b).prefetch().then(function(){i("#activity-kit").prepend(M).prepend(L),D(),i(e).on("resize",a.throttle(D,100)),s(v)});S.$el.hide(),t.ProgressView.forPromise(R,L),i(e.document).on("keydown",function(e){var t=C.targetLayer;if(8===e.keyCode&&e.preventDefault(),t){var i=t.model.get("rotation"),a=t.model.get("width");8===e.keyCode?(e.preventDefault(),t.throwOut()):27===e.keyCode?(t.model.inFocus=!1,t.toggleFocus(!1)):38===e.keyCode?(a+=.03,t.model.set("width",a)):40===e.keyCode?a>.1&&(a-=.03,t.model.set("width",a)):37===e.keyCode?(i=void 0===i?0:i-.04,t.model.set("rotation",i)):39===e.keyCode&&(i=void 0===i?0:i+.04,t.model.set("rotation",i))}})}}(this),Whiskers("shared.contenttoolbar",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="toolbar"> <div id="metadata" class="bound '),a.b(a.v(a.f("adSystem",e,t,0))),a.b('"> <div class="module_body"> <div class="contentarea col-container"> <div class="content"> <div class="item"> '),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,201,341,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,226,316,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </a> ')}),e.pop()),i.b(" ")}),e.pop()),a.b(' <div class="productlink"> <h1>'),a.b(a.v(a.f("title",e,t,0))),a.b("</h1> "),a.s(a.f("badge",e,t,1),e,t,0,425,504,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <span class="watch_icon"> <img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="watchpageicon"> </span> ')}),e.pop()),a.b(" "),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,543,574,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a>")}),e.pop()),a.b(' </div> </div> <p itemprop="description">'),a.b(a.v(a.f("description",e,t,0))),a.b(a.v(a.f("rating",e,t,0))),a.b("</p> "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.s(a.f("use_deprecated_social",e,t,1),e,t,0,708,846,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <ul id="social-links"'),i.s(i.f("linksInverted",e,t,1),e,t,0,748,765,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' class="inverted"')}),e.pop()),i.b("> "),i.s(i.f("socialLinks",e,t,1),e,t,0,801,823,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("<socialLinkPartial0",e,t,""))}),e.pop()),i.b(" </ul> ")}),e.pop()),a.b(" "),a.s(a.f("use_deprecated_social",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.s(a.f("suppress_social",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.b(a.rp("<socialLinkPartial1",e,t,"")),a.b(" ")),a.b(" ")),a.b(" ")),a.b(" "),a.s(a.f("contentToolbarPromoLink",e,t,1),e,t,0,1029,1386,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="watch_icon item" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="messageLink"> '),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,1139,1224,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch-icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </div> ')}),e.pop()),i.b(' <div class="copy'),i.s(i.f("asset_desktop_image",e,t,1),e,t,1,0,0,"")||i.b(" noImage "),i.b('"> <p aria-hidden="true">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </a> ")}),e.pop()),a.b(" "),a.s(a.f("purchase",e,t,1),e,t,0,1428,1526,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div id="purchase" class="bound"> <p> <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" target="_blank">'),i.b(i.v(i.f("text",e,t,0))),i.b("</a> </p> </div> ")}),e.pop()),a.b(" </div> </div> "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="ad-container"> '),a.s(a.f("showCompanion",e,t,1),e,t,0,1608,1656,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="companionad">'),i.b(i.t(i.f("companionAd",e,t,0))),i.b("</div>")}),e.pop()),a.b(" "),a.s(a.f("showCompanion",e,t,1),e,t,1,0,0,"")||a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div> ")),a.b(" </div> </div> </div>"),a.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}},"<socialLinkPartial1":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("shared.contenttoolbar2",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(' <div id="toolbar"> <div id="metadata" class="bound"> <div class="module_body '),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,150,162,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("has-prodlink")}),e.pop()),a.b(" "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||a.s(a.f("suppress_social",e,t,1),e,t,1,0,0,"")||a.b("has-social"),a.b(" "),a.s(a.f("purchase",e,t,1),e,t,0,271,283,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("has-purchase")}),e.pop()),a.b(' "> <div class="contentarea col-container"> <div class="content"> <h1>'),a.b(a.v(a.f("title",e,t,0))),a.b('</h1> <p itemprop="description">'),a.b(a.v(a.f("description",e,t,0))),a.b(a.v(a.f("rating",e,t,0))),a.b('</p> </div> </div> <div class="secondary-content"> <div class="promo-social-wrapper"> <div class="meta-content"> <div class="productlink"> '),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,599,739,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,624,714,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </a> ')}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("badge",e,t,1),e,t,0,778,857,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <span class="watch_icon"> <img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="watchpageicon"> </span> ')}),e.pop()),a.b(" "),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,896,948,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a class="icon_title" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),a.b(" </div> "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||a.s(a.f("suppress_social",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.b(a.rp("<socialLinkPartial0",e,t,"")),a.b(" ")),a.b(" "),a.s(a.f("purchase",e,t,1),e,t,0,1078,1160,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div id="purchase"> <p><a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" target="_blank">'),i.b(i.v(i.f("text",e,t,0))),i.b("</a></p> </div> ")}),e.pop()),a.b(" </div> </div> </div> </div> "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="ad-container"> '),a.s(a.f("showCompanion",e,t,1),e,t,0,1256,1304,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="companionad">'),i.b(i.t(i.f("companionAd",e,t,0))),i.b("</div>")}),e.pop()),a.b(" "),a.s(a.f("showCompanion",e,t,1),e,t,1,0,0,"")||a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div> ")),a.b(" </div> </div>"),a.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("partials.social_link",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<li class="social-dropdown-btn '),a.b(a.v(a.f("share_type",e,t,0))),a.b('"> <div class="label" role="button">'),a.b(a.v(a.f("share_text",e,t,0))),a.b('</div> <!-- dropdown area --> <div class="dropdown-panel"> <span class="dropdown-label">'),a.b(a.v(a.f("output_label",e,t,0))),a.b(':</span> <textarea rows="1" class="text-output"></textarea> </div> </li>'),a.fl()},partials:{},subs:{}}),Whiskers("partials.social_btn",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<button type="button" class="social-link-btn'),a.s(a.f("social_btn_text_lightness",e,t,1),e,t,0,74,109,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" text-"),i.b(i.v(i.f("social_btn_text_lightness",e,t,0)))}),e.pop()),a.b('" data-source="'),a.s(a.f("shareOverrides",e,t,1),e,t,0,173,196,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.d("shareOverrides.href",e,t,0)))}),e.pop()),a.s(a.f("shareOverrides",e,t,1),e,t,1,0,0,"")||a.b(a.v(a.f("href",e,t,0))),a.b('" data-thumb="'),a.b(a.v(a.f("thumb",e,t,0))),a.b('" data-title="'),a.s(a.f("shareOverrides",e,t,1),e,t,0,317,341,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.d("shareOverrides.title",e,t,0)))}),e.pop()),a.s(a.f("shareOverrides",e,t,1),e,t,1,0,0,"")||a.b(a.v(a.f("title",e,t,0))),a.b('"> <span class="icon-social"></span> <span class="social-share-title">'),a.b(a.v(a.d("translations.share",e,t,0))),a.b("</span> </button>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.jQuery,i=e.document,a=e.Tracker;t(function(){var n=e.location;t(i).on("click",".social-dropdown-btn .label",function(){var i=t(this).closest(".social-dropdown-btn"),r=function(e){var i=t(e).closest(".bun.watch").find('meta[itemprop="name"]').attr("content"),a=t(e).closest('div[itemprop="video"]').find('meta[itemprop="embedURL"]').attr("content");t(e).find(".text-output").text('<iframe width="560" height="315" src="'+a+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+n.href+'">'+i+" on Disney Video</a>")},s=function(e){t(e).removeClass("active"),t("body").off("click.watch"),t(e).hasClass("active")&&(t(e).removeClass("active"),o(e))},o=function(i){a&&a.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t(i).hasClass("share")?t(i).find(".text-output").text(n.href):t(i).hasClass("embed")&&r(i),t(i).addClass("active"),t("body").on("click.watch",function(e){var a=t(e.target);0===a.closest(".dropdown-panel").length&&0===a.closest(".social-dropdown-btn").length&&s(i)})};i.hasClass("active")?s(i):(t.each(t(".social-dropdown-btn.active"),function(e,t){s(t)}),n=e.location,o(i))});var r=t(".dropdown-panel");t(i).on("click",r,function(){t(this).find(".text-output").select()})})}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone,a=e.jQuery,n=e._,r=e.Whiskers,s=e.Tracker;t.ContentToolbarView=i.View.extend({initialize:function(){this.render(),this.init()},render:function(){var e=this.options.ads,a=this.options.use_deprecated_social,s=a?r.partials.social_link:r.partials.social_btn,o=this.model.get("translations")||{},l=this.options.template||r.shared.contenttoolbar,c=this.model.get("data"),d=n.extend({use_deprecated_social:a,translations:o,disclaimer_copy:this.options.disclaimer_copy,cds:this.options.cdsMode&&!e.showCDSAds(),socialLinks:this.options.socialLinks,adSystem:e.adSystem,showCompanion:i.Resize.width()>t.Style.breakpoints.midHigh,companionAd:function(){return e.tag(this.type.toLowerCase()+"Companion")}},"activitykit"===this.model.get("type")&&c[1]?c[1]:c[0],e?e.helpers(this.model.toJSON()):{});this.$el.html(l.render(d,{socialLinkPartial:s}))},init:function(){var t=this;t.$(".share-embed-btn").on("click",function(){var i=function(){t.$("#share_embed").removeClass("active"),a("body").off("click.watch"),t.$("#share_link").hasClass("active")&&(t.$("#share_link").removeClass("active"),n())},n=function(){s&&s.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t.$("#share_embed").addClass("active"),a("body").on("click.watch",function(e){var t=a(e.target);0===t.closest("#share_embed").length&&0===t.closest(".share-embed-btn").length&&i()})};t.$("#sharing .active").length?i():n()}),t.$(".share-link-btn").on("click",function(){var i=function(){t.$("#share_link").removeClass("active"),a("body").off("click.watch"),t.$("#share_embed").hasClass("active")&&(t.$("#share_embed").removeClass("active"),n())},n=function(){s&&s.event({eventCategory:"socialelement",action:"share",label:e.location.href}),t.$("#share_link").addClass("active"),a("body").on("click.watch",function(e){var t=a(e.target);0===t.closest("#share_link").length&&0===t.closest(".share-link-btn").length&&i()})};t.$("#sharing .active").length?i():n()});var i=a("#share_embed");a(".code",i).on("click",function(){a(this).select()});var r=a("#share_link");a(".link",r).on("click",function(){a(this).select()});var o=n.first(this.model.get("data")),l=e.location,c="http://"+l.host+"/embed/"+o.id;t.$("#share_embed .code").text('<iframe width="560" height="315" src="'+c+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+l.href+'">'+o.title+" on Disney Video</a>"),t.$(".quick_link input[type=text]").val(l.href)},remove:function(){a("body").off("click.watch");var e=a("#share_embed"),t=a("#share_link");a(".code",e).off("click"),a(".link",t).off("click"),a("#sharing").appendTo("body").remove()}})}(this),function(e){"use strict";var t=e.ActivityKit,i=e.Disney,a=e.Grill,n=e._,r=e.jQuery,s=e.Math,o=e.Whiskers,l=a.ModuleView.extend({bodyClassName:"content-page",style_classes:["skip-top-border"],template:o.modules.activity_kit_shared,initialize:function(){var e=this,i=n.first(e.model.get("data")),a=e.model.get("view"),r=t.rule_templates,s=e.model.get("config_options");e.translations=e.model.get("translations"),n.defaults(e.translations,{print:"Print",done:"Done",back:"Back"}),i.show_save=s&&s.show_save;var o=n.last(this.model.get("data")).pslug,l=n.last(this.model.get("data")).ptitle;!o&&l&&(o=l.replace(/ /g,"-").replace(/'/g,"").toLowerCase()),o&&(this.bodyClassName+=" "+o),t.init(i,r,a,e.translations)},render:function(){var e=this,t=n.last(e.model.get("data")),i=n.first(e.model.get("data")),a=n.extend({data:t,kitData:i,cds:e.options.cds,theme:e.model.get("style_options").default_color_theme,view:e.model.get("view"),upNext:this.upNext&&this.upNext(),translations:e.translations},this.options.ads.helpers());e.options.cds&&(a.allurl+="?cds"),e.$el.html(e.template.render(a,{kitStyles:o.partials.activity_kit_theming,container:o.partials.activity_kit_content})),r("#body-wrapper").attr("class",e.bodyClassName)},ready:function(){var t=this,a=t.options,s=n.last(t.model.get("data")),o=t.translations,l=e.Tracker;r("html").addClass("single-page-print"),this.tb=new i.ContentToolbarView({el:this.$("#meta"),model:this.model,socialLinks:[{share_type:"embed",share_text:o.embed,output_label:o.embed},{share_type:"share",share_text:o.share,output_label:o.quick_link}],cdsMode:a.cds,ads:a.ads}),e.setTimeout(function(){var e=s.ptitle||"",i=s.slug.replace(/-/g,"")||"",a=s.id||"",n=t.generateUUID()||"",r=(new Date).getTime()||"";l.trackApp({assetTypeCode:"app",appEvent:"load",appBuCode:"dcom",appPropertyCode:e,appOwnerName:"dcom",appTypeCode:"misc",appGenreCode:"",appName:i,assetId:a,assetName:"app|dcom|"+e+"|dcom|misc||"+a+"|"+i||"",appTime:r,appSessionId:n})},1e3)},containerType:function(){return n.contains(["stickerbook","avatar"],this.model.get("view"))?"activity_kit":n.last(this.model.get("data")).type.toLowerCase()},generateUUID:function(){var e=function(){return(65536*(1+s.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},remove:function(){a.ModuleView.prototype.remove.call(this),r("#body-wrapper").removeClass(this.bodyClassName),r("html").removeClass("single-page-print"),this.tb.remove()}});l.register("stickerbook",{})}(this),Whiskers("modules.add_to_home_screen",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="popup-bookmark"> <div class="popup-bookmark-contain"> <p class="title">'),a.b(a.v(a.f("title",e,t,0))),a.b('</p> <p class="description">'),a.b(a.v(a.f("desc",e,t,0))),a.b("</p> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.jQuery,i=e.Disney,a=i.Cookie,n=e.Grill,r=e.Whiskers;n.ModuleView.register("add_to_home_screen",{template:r.modules.add_to_home_screen,cookie_name:"popup-bookmark-tip",cookie_duration:30,display_time:6e3,render:function(){var i=this;if(this.canShowTip()){var a=this.model.get("header_data"),n={title:a.title,desc:a.desc};this.$el.html(this.template.render(n)),this.setCookie(),e.setTimeout(function(){t("#popup-bookmark").hide()},i.display_time)}},setCookie:function(){a.set(this.cookie_name,"true",{domain:a.domain(),expires:this.cookie_duration})},canShowTip:function(){var t=a.get(this.cookie_name),i=e.navigator.userAgent;return-1!==i.indexOf("iPhone")&&!!i.match(/Safari/i)&&!i.match(/ChriOS/i)&&"true"!==t}})}(this),Whiskers("modules.banner",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.b(a.t(a.f("bannerAd",e,t,0))),a.b(" </div>"),a.fl()},partials:{},subs:{}}),Whiskers("modules.sponsor",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.b(a.t(a.f("sponsorAd",e,t,0))),a.b(" </div>"),a.fl()},partials:{},subs:{}}),Whiskers("modules.pushdown",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="nav-pushdown"> '),a.s(a.f("showPushdown",e,t,1),e,t,0,41,57,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.t(i.f("pushdownAd",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("showPushdown",e,t,1),e,t,1,0,0,"")||a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Backbone,a=e.Disney,n=e.Whiskers,r=e._,s=t.ModuleView.extend({render:function(){var e=this.model.toJSON(),t=r.extend(this.options.ads.helpers(e),this.model);this.$el.html(this.template.render(t))}});s.register("ad_banner",{style_classes:["full-width","full-height"],template:n.modules.banner}),s.register("sponsor",{style_classes:["full-width","full-height"],template:n.modules.sponsor});var o=t.ModuleView.extend({render:function(){var e=r.extend({showPushdown:i.Resize.width()>a.Style.breakpoints.midHigh},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(e))}});o.register("pushdown",{template:n.modules.pushdown})}(this),Whiskers("modules.all",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.s(a.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,100,118,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div id="stream_items"> '),a.b(a.t(a.f("list",e,t,0))),a.b(" </div> "),a.s(a.f("hasMore",e,t,1),e,t,0,189,389,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.placeSwap=function(e,t){return t?(t.render(),void e.$("#"+t.cid).replaceWith(t.el)):function(t){t&&i(e,t)}};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,a=t.Style.breakpoints,n=e._,r=e.Backbone;t.GridModuleDimensions={cols:function(e,t){switch(e){case"poster":case"dvd_case":case"letter":case"baseball_card":return t>=a.max?5:t>=a.midHigh?4:t>=a.midLow?3:2;case"square":return t>=a.max?4:t>=a.midHigh?3:2;case"16x9":return t>=a.midHigh?3:t>=a.midLow?2:1;case"widescreen":return t>=a.midHigh?2:1;case"4x3":return t>=a.max?4:t>=a.midHigh?3:t>=a.midLow?2:1;default:return t>=a.max?4:t>=a.midHigh?3:1}},rows:function(e){return e>=a.max?4:e>=a.midHigh?4:5}},i.GridModuleBaseView=i.ModuleView.extend({cols:function(){var e=r.Resize.width(),i=n.first(this.model.get("data")),s=i&&i.entity_config&&i.entity_config.aspect_ratio,o=this.model.get("style_options");return o.items_per_row_override&&e>=a.midHigh?o.items_per_row_override:t.GridModuleDimensions.cols(s,e)},rows:function(){var e=r.Resize.width();return t.GridModuleDimensions.rows(e)}})}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,a=e.Backbone,n=e.Whiskers,r=e.Math,s=e.encodeURIComponent,o=e._,l=e.jQuery,c=t.Style.breakpoints,d=o.values(c);i.GridModuleBaseView.register("all",{style_classes:["stream-view","grid-view","filters-view"],required_template_sets:["module_header","entities"],template:n.modules.all,breakpoints:d.join(" "),page:1,events:{"click .show_more":function(e){var t=this,i=++t.page*t.cols()*this.rows();e.preventDefault(),t.model.data.ensure(i).then(function(){t.fit()})},"click .filters a.filter":function(e){var t=this;e.preventDefault(),t.$(".filters a.filter").toggleClass("active");var i=l(".filter_list").height()+44;t.$(".filter_drawer").hasClass("active")?t.$(".filter_drawer").css("height","0").removeClass("active"):t.$(".filter_drawer").css("height",i).addClass("active")}},initialize:function(){var e=this,t=e.model,a=t.data,r=o.first(a.models),s=r.get("entity_config");e.entity_type=r.get("entity_type")||t.get("type"),this.list=new i.ListView({collection:a,template:{render:function(t){return o.extend(t,{translations:e.model.get("translations"),entity_config:s}),n.entities.item.render(t,e.global_components.entities)}}}),a.on("loading",function(t,i){e.updateButton(i)})},render:function(){var e=this.list,i=this.model.data,a=o.extend({entity_type:this.entity_type,list:t.placeHtml(e),hasMore:i.remaining()>0,singleRow:i.count<=this.cols()},this.model);this.$el.html(this.template.render(a,this.ctx_additions())),t.placeSwap(this,e),this.updateButton(!1)},getPlatforms:function(){var e=this,t=e.model,i=t.data,a=[];return o.each(i.models,function(e){l.merge(a,e.attributes.platforms||[])},this),o.uniq(a).sort()},getGameTypes:function(){var e=this,i=e.model,a=i.data,n=[];return o.each(a.models,function(e){n.push(e.attributes.game_type)},this),1===o.uniq(n).length&&"games.disney.com"===t.portal?n[0]:"All"},ready:function(){this.gameFilterType=this.getGameTypes(),this.createUI(),this.$el.loadLazyImages()},createUI:function(){var e=this,i=e.model.get("filters"),a=this.model.get("all_button_text"),n=e.getPlatforms();if(i="games.disney.com"===t.portal?n:i,i&&i.length){var r=this.$(".filter_list"),s=this.$(".mobile_filter_list");r.append('<a class="active" href="" data-filter="All"><span>All '+a+"</span></a>"),this.$(".filters a.filter span").replaceWith("<span>All "+a+"</span>"),this.$(".filter_mobile span").replaceWith("<span>All "+a+"</span>"),l.each(i,function(e){var t=i[e];r.append('<a href="" data-filter="'+t+'"><span>'+t+"</span></a>"),s.append('<option value="'+(e+1)+'" data-filter="'+t+'">'+t+"</option>")}),this.$(".filter_drawer a").click(function(t){t.preventDefault(),e.$(".filter_drawer a").removeClass("active"),l(this).addClass("active"),e.$(".filter_drawer").css("height","0").removeClass("active"),e.$(".filters a.filter").removeClass("active"),"All"===l(this).data("filter")?(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+" "+a+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+" "+a+"</span>")):(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+"</span>")),e.hideStreamItems()}),this.$(".mobile_filter_list").change(function(){e.$(".mobile_filter_list option:selected").each(function(){"All"===l(this).data("filter")?(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+" "+a+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+" "+a+"</span>")):(e.$(".filters a.filter span").replaceWith("<span>"+l(this).data("filter")+"</span>"),e.$(".filter_mobile span").replaceWith("<span>"+l(this).data("filter")+"</span>")),e.$(".mobile_filter_list").blur(),e.hideStreamItems()})}),r.css("display","")}this.resize()},hideStreamItems:function(){var t=this,i=this.$("#stream_items ul"),a=this.$("#stream_items"),n=i.outerHeight(),r=l(e).selectTransitionEnd()+".stream_items";i.css("height",n).addClass("hide"),a.addClass("load"),l.support.css3("transition")?i.on(r,function(e){this===e.target&&(t.fetch(),i.off(r))}):t.fetch()},fetch:function(){var e,i=this,n=a.Resize.width(),r=i.list.collection,o=this.$(".filter_drawer a.active").data("filter")||"All",l=this.$("select.mobile_filter_list option:selected").data("filter")||"All";n<c.midHigh?e="/all-filter.json?f="+s(l):(o.replace(/'?'/g,""),e="/all-filter.json?f="+s(o)),"games.disney.com"===t.portal&&(e=e+"&g="+i.gameFilterType),i.page=1,r.reset(),r.url=e,r.count=this.model.get("count");var d=i.page*i.cols()*this.rows();r.ensure(d).then(function(){i.$("#stream_items").removeClass("load"),i.$("#stream_items ul").css("height","auto").removeClass("hide"),i.$el.loadLazyImages()})},updateButton:function(e){var t=this.$el,i=this.model.data;t.toggleClass("loading",e),t.toggleClass("has-more",i.remaining()>0)},resize:function(){var e=this.cols(),t=e>1?"grid-layout":"list-layout";this.page=r.floor(this.model.data.length/this.rows()/e)||1,this.list.$el.attr("class","col-container cols-"+e+" "+t),this.fit()},fit:function(){var e=this.list.collection.count,t=this.page*this.cols()*this.rows();this.model.data.remaining()>0?e>t?(this.list.$el.children().show().slice(t).hide(),this.$(".col").removeClass("last-row"),this.list.$el.children().slice(t-this.cols()).addClass("last-row")):this.list.$el.children().show():(this.list.$el.children().show(),this.$(".col").removeClass("last-row")),this.$el.loadLazyImages()}})}(this),Whiskers("modules.answer_reveal",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("style_options",e,t,1),e,t,0,18,801,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.d("setup_options.text_color",e,t,1),e,t,0,72,227,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .setup, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .setup p, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .setup a, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .setup h3, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .setup h4{ color: "),i.b(i.v(i.d("setup_options.text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("reveal_options.text_color",e,t,1),e,t,0,287,448,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .reveal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .reveal p, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .reveal a, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .reveal h3, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .reveal h4{ color: "),i.b(i.v(i.d("reveal_options.text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("transition_options",e,t,1),e,t,0,502,768,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("duration",e,t,1),e,t,0,515,755,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .content-container .reveal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .content-container .wrapper.replay, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .content-container .wrapper.asset .images, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .content-container .wrapper.asset .images img{ transition: all "),i.b(i.v(i.f("duration",e,t,0))),i.b("s; } ")}),e.pop())}),e.pop()),i.b(" </style> ")}),e.pop()),a.b(' <div class="bound content-container '),a.s(a.f("style_options",e,t,1),e,t,0,874,1137,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("transition_options",e,t,1),e,t,0,897,1114,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("animation_type",e,t,1),e,t,0,917,935,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("animation_type",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("animation_type_fade",e,t,1),e,t,0,979,983,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("fade")}),e.pop()),i.b(" "),i.s(i.f("is_touch",e,t,1),e,t,1,0,0,"")||i.s(i.f("start",e,t,1),e,t,0,1031,1049,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("start-on-"),i.b(i.v(i.f("start",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("is_touch",e,t,1),e,t,0,1086,1100,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("start-on-click")}),e.pop()),i.b(" ")}),e.pop())}),e.pop()),a.b('"> '),a.s(a.f("reveal_config",e,t,1),e,t,0,1176,1254,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("href",e,t,1),e,t,0,1185,1245,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="reveal-link" '),i.b(i.rp("<href_attributes0",e,t,"")),i.b(">")}),e.pop())}),e.pop()),a.b(' <div class="wrapper asset '),a.s(a.d("setup_config.sized_image.image_full_width",e,t,1),e,t,1,0,0,"")||a.b("maxed-asset"),a.b('" '),a.s(a.f("setup_config",e,t,1),e,t,0,1421,1560,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("sized_image",e,t,1),e,t,0,1437,1544,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("image_full_width",e,t,1),e,t,1,0,0,"")||i.s(i.f("half_width",e,t,1),e,t,0,1473,1508,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="max-width:'),i.b(i.v(i.f("half_width",e,t,0))),i.b('px"')}),e.pop())}),e.pop())}),e.pop()),a.b('> <div class="images"> '),a.s(a.f("setup_config",e,t,1),e,t,0,1617,1811,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("sized_image",e,t,1),e,t,0,1633,1795,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" class="setup" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"'),i.s(i.f("image_full_width",e,t,1),e,t,1,0,0,"")||i.s(i.f("half_width",e,t,1),e,t,0,1720,1756,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="max-width: '),i.b(i.v(i.f("half_width",e,t,0))),i.b('px"')}),e.pop()),i.b(" />")}),e.pop())}),e.pop()),a.b(" "),a.s(a.f("reveal_config",e,t,1),e,t,0,1847,2042,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("sized_image",e,t,1),e,t,0,1863,2026,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" class="reveal" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"'),i.s(i.f("image_full_width",e,t,1),e,t,1,0,0,"")||i.s(i.f("half_width",e,t,1),e,t,0,1951,1987,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="max-width: '),i.b(i.v(i.f("half_width",e,t,0))),i.b('px"')}),e.pop()),i.b(" />")}),e.pop())}),e.pop()),a.b(" </div> </div> "),a.s(a.f("text_options",e,t,1),e,t,0,2092,2520,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="wrapper text rich-text-enabled text-options '),i.s(i.d("config_options.text_alignment",e,t,1),e,t,0,2183,2227,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-align-"),i.b(i.v(i.d("config_options.text_alignment",e,t,0)))}),e.pop()),i.b('"> '),i.s(i.f("setup_config",e,t,1),e,t,0,2281,2369,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("hide_text",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="setup text-'),i.b(i.v(i.f("text_sizing",e,t,0))),i.b('">'),i.b(i.t(i.f("text",e,t,0))),i.b("</div> ")),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("reveal_config",e,t,1),e,t,0,2405,2494,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("hide_text",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="reveal text-'),i.b(i.v(i.f("text_sizing",e,t,0))),i.b('">'),i.b(i.t(i.f("text",e,t,0))),i.b("</div> ")),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),a.b(" "),a.s(a.f("reveal_config",e,t,1),e,t,0,2556,2578,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("href",e,t,1),e,t,0,2565,2569,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop())}),e.pop()),a.b(' <div class="wrapper replay-button-container reveal-replay"> '),a.s(a.d("translations.replay",e,t,1),e,t,0,2681,2724,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="text">'),i.b(i.v(i.d("translations.replay",e,t,0))),i.b("</p>")}),e.pop()),a.b(' <div class="button transparent replay"></div> </div> </div>'),a.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(e){return u(e).text()}var i=e.Grill,a=e.Disney,n=a.Style.breakpoints,r=n.midHigh.toString(),s=e.Whiskers,o=e.Backbone,l=e.Tracker,c=e.Modernizr,d=e._,u=e.jQuery,h=i.ModuleView.extend({required_template_sets:["entities"],template:s.modules.answer_reveal,breakpoints:r,reveal:!0,imageFullSize:!1,events:{"click .content-container.start-on-click":function(e){var t=u(e.currentTarget);
e.preventDefault(),t.addClass("show"),this.reveal&&this.trackReveal("Click"),this.reveal=!1},"mouseenter .content-container.start-on-hover":function(e){var t=u(e.currentTarget);e.preventDefault(),t.addClass("show"),this.trackReveal("Hover")},"mouseleave .content-container.start-on-hover":function(e){var t=u(e.currentTarget);t.removeClass("show")},"click .content-container.show":function(t){var i=u(t.currentTarget),a=i.find(".reveal-link").attr("href");a&&(e.location=a)},"click .replay-button-container":function(e){e.stopPropagation(),this.$(".content-container").removeClass("show"),this.trackReset(),this.reveal=!0}},initialize:function(){var e=this,i=this.model,a=i.get("style_options"),n=i.get("text_options"),r=i.get("config_options");this.style_classes=["text-"+r.text_positioning],"over"===r.text_positioning&&this.style_classes.push("full-width full-height skip-bottom-border skip-top-border"),this.configs=["setup","reveal"],this.data_namespace="_data",d.each(this.configs,function(i){var r=i+"_options",s=a&&a[r],o=s&&s.image||{},l=i+e.data_namespace;e.model.set(l,o);var c=i+"_config",d=n&&n[i],u=d&&d.text;e.model.set(c,{text:u,hide_text:d&&d.hide_text,alt_text:t(u),text_sizing:s&&s.text_size,href:s&&s.href&&s.href[0]})})},render:function(){var e=this,t=o.Resize.width()>=n.midHigh,i=this.model.get("style_options"),r=i&&i.additional_style_classes,s=t?"desktop":"mobile";r.indexOf("span-full-screen")>-1&&r.indexOf("content-span-full-screen")>-1&&(this.imageFullSize=!0);var l=this.imageFullSize?{rel_width:1}:{exact_size:!0};d.each(this.configs,function(t){var i=e.model,n=t+e.data_namespace,r=i.get(n),o=r[s];o&&(o=u.extend(a.LumiereHelpers.processImgData(o,l),{image_full_width:e.imageFullSize}));var c=t+"_config",h=i.get(c);d.extend(h,{sized_image:o}),i.set(c,h)});var h=d.extend(this.model,{is_touch:c.touch});this.$el.html(this.template.render(h,this.ctx_additions()))},trackReveal:function(e){l&&l.event({engagementType:"mattAnswer_reveal",engagementMeta:"answer_visible",action:"Trigger Reveal "+e})},trackReset:function(){l&&l.event({engagementType:"mattAnswer_reveal_reset",engagementMeta:"reset",action:"Replay Button Select (Click)"})}});h.register("answer_reveal",{})}(this),function(e){"use strict";function t(t,i){var a=n(e),r=a.scrollTop(),s=a.scrollTop()+a.height(),o=t.offset().top+(i||0),l=o+t.height(),c=o>=r&&s>=o,d=l>=r&&s>=l,u=c||d;u?t.data("visibility","visible"):u||t.removeData("visibility")}var i=e.Disney,a=e.document,n=e.jQuery,r=e._;i.Utilities=i.Utilities||{},r.extend(i.Utilities,{toggleFullScreen:function(e,t){var i=this.isFullScreen();e&&t&&!i?e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen():!t&&i&&(a.exitFullscreen?a.exitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitCancelFullScreen?a.webkitCancelFullScreen():a.msExitFullscreen&&a.msExitFullscreen())},onFullScreenChange:function(e){n(a).on("fullscreenchange",function(){e()}),n(a).on("webkitfullscreenchange",function(){e()}),n(a).on("mozfullscreenchange",function(){e()}),n(a).on("msfullscreenchange",function(){e()})},offFullScreenChange:function(){n(a).off("fullscreenchange"),n(a).off("webkitfullscreenchange"),n(a).off("mozfullscreenchange"),n(a).off("msfullscreenchange")},isFullScreen:function(){return!!(a.fullScreen||a.webkitIsFullScreen||a.mozFullScreen||a.msFullscreenElement||a.fullscreenElement)},selectAnimationEnd:function(){var e,t=a.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},setElementVisibility:function(e,i){if(e.length>1){var a=e;r.each(a,function(e){var a=n(e);t(a,i)})}else t(e,i)}})}(this),Whiskers("partials.ant_man",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="ant-man-assets"> <div class="ants"></div> <div class="legal"></div> <div class="ant-man"></div> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";function t(){c.addClass("small"),d.on(o+l,function(t){2===t.eventPhase&&(t.stopPropagation(),d.off(o+l),c.removeClass("small"),e.setTimeout(function(){c.removeClass("ant_man")},600))})}function i(e){c.removeClass("ant_man"),s(e).off("load"+l),s(e).off("error"+l)}var a=e.Disney,n=e.Grill,r=e.Whiskers,s=e.jQuery,o=a.Utilities.selectAnimationEnd(),l=".antman",c=s("html"),d=s("body");n.ModuleView.register("ant_man",{startDelay:2e3,initialize:function(){var t=r.partials.ant_man.render();c.addClass("ant_man").append(t),this.sprite_asset=new e.Image,this.sprite_asset.src=["//a.dilcdn.com/a/antman/animation-sprite-02788e25d87e.png"]},render:function(){var n=this;a.top.on("ready",function(){e.setTimeout(function(){n.sprite_asset.complete?t():(s(n.sprite_asset).on("load"+l,t),s(n.sprite_asset).on("error"+l,i))},n.startDelay)})},remove:function(){i(this.sprite_asset),d.off(o+l),s(".ant-man-assets").remove()}})}(this),Whiskers("modules.article",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,2533,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="article_container '),i.s(i.f("hide_publish_date",e,t,1),e,t,0,82,99,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("hide-publish-date")}),e.pop()),i.b(" "),i.s(i.d("style_options.noAds",e,t,1),e,t,0,146,151,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("noAds")}),e.pop()),i.b('" itemscope="" itemtype="http://schema.org/BlogPosting"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" class="no-src article_mobile_image" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,342,421,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" class="article_mobile_image" /></noscript>')}),e.pop()),i.b(' <div class="article_text"> '),i.s(i.d("style_options.noAds",e,t,1),e,t,0,486,805,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="article_image_container"> <div class="caption_img"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" class="no-src" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,640,690,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" /></noscript>')}),e.pop()),i.b(" "),i.s(i.f("image_caption",e,t,1),e,t,0,722,772,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="image_caption">'),i.b(i.v(i.f("image_caption",e,t,0))),i.b("</div>")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(' <div class="header module_header"><h2 class="blog_title title" itemprop="name headline">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2></div> "),i.s(i.f("author_name",e,t,1),e,t,0,955,1458,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="author_info"> <span class="author_img"> <div class="scaler"></div> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" class="no-src" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1125,1176,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" /></noscript>')}),e.pop()),i.b(' </span> <div class="author"> <p class="posted_by">'),i.b(i.v(i.d("translations.posted_by",e,t,0))),i.b('</p> <div class="author_date"> <p class="author_name">'),i.b(i.v(i.f("author_name",e,t,0))),i.b('</p> <time class="post_date" datetime="'),i.b(i.v(i.f("schema_date",e,t,0))),i.b('" itemprop="datePublished">'),i.b(i.v(i.f("post_date",e,t,0))),i.b("</time> </div> </div> </div> ")}),e.pop()),i.b(' <div class="article_body rich-text-enabled" itemprop="articleBody"> '),i.b(i.t(i.f("article_text",e,t,0))),i.b(" </div> "),i.s(i.f("allow_social_sharing",e,t,1),e,t,0,1594,1612,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("<social_button0",e,t,""))}),e.pop()),i.b(' </div> <div class="author_info_mobile"> <span class="author_img"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" class="no-src" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1794,1844,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('"/></noscript>')}),e.pop()),i.b(' </span> <div class="author"> <p class="posted_by">'),i.b(i.v(i.d("translations.posted_by",e,t,0))),i.b('</p> <p class="author_name">'),i.b(i.v(i.f("author_name",e,t,0))),i.b('</p> </div> <div class="post_date">'),i.b(i.v(i.f("post_date",e,t,0))),i.b("</div> </div> "),i.s(i.d("style_options.noAds",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="article_image_container"> <div class="caption_img"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" class="no-src" />')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,2217,2267,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('" /></noscript>')}),e.pop()),i.b(" "),i.s(i.f("image_caption",e,t,1),e,t,0,2299,2349,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="image_caption">'),i.b(i.v(i.f("image_caption",e,t,0))),i.b("</div>")}),e.pop()),i.b(' </div> <div class="artAd_medRect ad-container"> '),i.b(i.t(i.f("rectangleAd",e,t,0))),i.b(" </div> </div> ")),i.b(" </div> "),i.b(" "),i.b(i.t(i.f("mobileAd",e,t,0))),i.b(" </div> ")}),e.pop()),a.fl()},partials:{"<social_button0":{name:"social_button",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._,n=t.ModuleView.extend({partials:{social_button:i.partials.social_btn},render:function(){var e=this.model.get("data")||[],t=(e[0]||{}).asset_image,i=a.extend({},this.options.ads.helpers(this.model.toJSON()),{thumb:t},this.model);this.$el.html(this.template.render(i,this.partials))}});n.register("article",{template:e.Whiskers.modules.article})}(this),Whiskers("modules.article_stream",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class ="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,37,55,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(" <ul>"),a.s(a.f("data",e,t,1),e,t,0,85,94,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<list1",e,t,""))}),e.pop()),a.b("</ul> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<list1":{name:"list",partials:{},subs:{}}},subs:{}}),Whiskers("partials.article_stream_list",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<li class="article_container"> <div class="image_container"> <a href="'),a.b(a.v(a.f("href",e,t,0))),a.b('"> <div class="placeholder"> '),a.s(a.f("noscript",e,t,1),e,t,1,0,0,"")||(a.b('<img class="no-src" data-src="'),a.b(a.v(a.f("asset_image",e,t,0))),a.b('"></img>')),a.b(" "),a.s(a.f("noscript",e,t,1),e,t,0,200,254,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("asset_image",e,t,0))),i.b('"></img></noscript>')}),e.pop()),a.b(' </div> </a> </div> <div class="article_text_container"> <div class="header_article"> <a href = "'),a.b(a.v(a.f("href",e,t,0))),a.b('"> <h2>'),a.b(a.v(a.f("title",e,t,0))),a.b('</h2> </a> </div> <p class="articletext"> '),a.s(a.f("show_full_article",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.b(a.t(a.f("article_excerpt",e,t,0))),a.b(' <a href = "'),a.b(a.v(a.f("href",e,t,0))),a.b('">'),a.b(a.v(a.d("translations.continue_reading",e,t,0))),a.b("</a> ")),a.b(" "),a.s(a.f("show_full_article",e,t,1),e,t,0,579,599,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.t(i.f("article_text",e,t,0))),i.b(" ")}),e.pop()),a.b(' </p> <div class ="articlefooter"> '),a.s(a.f("hide_publish_date",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="author_info"> '),a.s(a.f("noscript",e,t,1),e,t,1,0,0,"")||(a.b('<img class="no-src circle" data-src="'),a.b(a.v(a.f("author_image",e,t,0))),a.b('">')),a.b(" "),a.s(a.f("noscript",e,t,1),e,t,0,800,864,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("author_image",e,t,0))),i.b('" class="circle"></noscript>')}),e.pop()),a.b(' </div> <p class ="postdate">'),a.b(a.v(a.d("translations.posted",e,t,0))),a.b(" "),a.b(a.v(a.f("post_date_diff",e,t,0))),a.b("</p> ")),a.b(" "),a.b(" "),a.s(a.d("style_options.show_social_buttons",e,t,1),e,t,0,1151,1223,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("allow_social_sharing",e,t,1),e,t,0,1177,1197,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<social_button0",e,t,"")),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" </div> </div> </li>"),a.fl()},partials:{"<social_button0":{name:"social_button",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e._,a=e.Whiskers,n=t.ModuleView.extend({required_template_sets:["module_header"],included_components:{list:a.partials.article_stream_list,social_button:a.partials.social_btn},initialize:function(){var e=this.model.get("translations"),t={continue_reading:"Continue Reading",posted:"Posted"};i.defaults(e,t),i.extend(this,{translations:e})},render:function(){var e=i.extend(this.model,{translations:this.translations});this.$el.html(this.template.render(e,this.ctx_additions()))}});n.register("article_stream",{style_classes:["full-height"],template:a.modules.article_stream})}(this),Whiskers("modules.artist",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,475,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound skip-styles"> <div class="container"> <div class="branding"> <img src="'),i.b(i.v(i.f("hero",e,t,0))),i.b('"> </div> <div class="details right'),i.s(i.f("style_options",e,t,1),e,t,0,160,182,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("module_font_color",e,t,0)))}),e.pop()),i.b('" style="background-color: '),i.b(i.v(i.f("bgColor",e,t,0))),i.b(';"> <h1>'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <div class="headshot"> <div class="personality-box entity-box"> <div class="aspect ratio-square"> <img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </div> </div> </div> <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e.Backbone,o=e._,l=t.ModuleView.extend({style_classes:["personality_hero","skip-bottom-border","skip-top-border","skip-styles","full-height","full-width"],render:function(){var e=o.first(this.model.get("data")),t=s.Resize.width()>=a.midHigh,i=o.extend({posterClass:t&&"wide",posterImg:t?e.poster:e.poster_mobile},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(i))},resize:function(){this.render(),this.options.ads.restore()}});l.register("artist",{breakpoints:n,template:r.modules.artist})}(this),Whiskers("modules.catalog",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,3656,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound '),i.b(i.v(i.f("type",e,t,0))),i.b('"> '),i.s(i.d("header_data.is_ad",e,t,1),e,t,0,61,116,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="ad-module-notice">'),i.b(i.v(i.d("translations.ad",e,t,0))),i.b("</div>")}),e.pop()),i.b(' <div class="container" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="title"> <h1>'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <p class="desc"> '),i.b(i.v(i.f("desc",e,t,0))),i.b(" "),i.s(i.f("price",e,t,1),e,t,0,261,297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="price">'),i.b(i.v(i.f("price",e,t,0))),i.b("</span>")}),e.pop()),i.b(" </p> "),i.s(i.f("watch_message",e,t,1),e,t,0,331,423,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch_message"> <div class="watch_message_text">'),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</div> </div> ")}),e.pop()),i.b(" "),i.s(i.f("meta",e,t,1),e,t,0,451,934,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,479,551,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("rating",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,575,794,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.s(i.f("reRelease",e,t,1),e,t,0,615,633,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reReleasedText",e,t,0)))}),e.pop()),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||(i.b(i.v(i.d("translations.released",e,t,0))),i.b(":")),i.b("</span> "),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("release",e,t,0))),i.s(i.f("reRelease",e,t,1),e,t,0,762,775,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reRelease",e,t,0)))}),e.pop()),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("platform_data",e,t,1),e,t,0,825,911,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.available_on",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("platform_data",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" </p>")}),e.pop()),i.b(" "),i.b(' <div class="movie-actions-alt"> '),i.s(i.f("is_printable",e,t,1),e,t,0,1040,1144,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank" class="button blue large print">'),i.b(i.v(i.d("translations.print",e,t,0))),i.b("</a>")}),e.pop()),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("buttons",e,t,1),e,t,0,1192,1324,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,1270,1297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" ")),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,0,1372,1405,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="retail-link"></div> ')}),e.pop()),i.b(' </div> </div> <div class="poster-container'),i.s(i.f("watch_message",e,t,1),e,t,0,1483,1497,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" watch-padding")}),e.pop()),i.b('"> <div class="poster-inner poster-box"> <div class="poster '),i.s(i.f("isMobile",e,t,1),e,t,0,1588,1596,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("isMobile")}),e.pop()),i.b('"> '),i.s(i.f("is_printable",e,t,1),e,t,0,1629,1675,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank">')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("catalogImage",e,t,0))),i.b('" class="no-src" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1810,1888,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("catalogImage",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"></noscript>')}),e.pop()),i.b(" "),i.s(i.f("is_printable",e,t,1),e,t,0,1919,1923,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" "),i.s(i.f("sponsor_banner",e,t,1),e,t,0,1960,2216,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="sponsor-banner no-src" data-src="'),i.b(i.v(i.f("sponsor_banner",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,2097,2202,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="sponsor-banner" src="'),i.b(i.v(i.f("sponsor_banner",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> </div> "),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("suppress_social",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(i.rp("<socialLinkPartial0",e,t,"")),i.b(" ")),i.b(" ")),i.b(" </div> "),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="desc-alt"> <p class="desc'),i.s(i.f("watch_message",e,t,1),e,t,0,2405,2419,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" watch-padding")}),e.pop()),i.b('"> '),i.b(i.v(i.f("desc",e,t,0))),i.b(" "),i.s(i.f("price",e,t,1),e,t,0,2459,2496,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="price">$'),i.b(i.v(i.f("price",e,t,0))),i.b("</span>")}),e.pop()),i.b(" </p> "),i.s(i.f("watch_message",e,t,1),e,t,0,2530,2622,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch_message"> <div class="watch_message_text">'),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</div> </div> ")}),e.pop()),i.b(" "),i.s(i.f("meta",e,t,1),e,t,0,2650,3133,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,2678,2750,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("rating",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,2774,2993,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.s(i.f("reRelease",e,t,1),e,t,0,2814,2832,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reReleasedText",e,t,0)))}),e.pop()),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||(i.b(i.v(i.d("translations.released",e,t,0))),i.b(":")),i.b("</span> "),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("release",e,t,0))),i.s(i.f("reRelease",e,t,1),e,t,0,2961,2974,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reRelease",e,t,0)))}),e.pop()),i.b("<br> ")}),e.pop()),i.b(" "),i.s(i.f("platform_data",e,t,1),e,t,0,3024,3110,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="meta-title">'),i.b(i.v(i.d("translations.available_on",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("platform_data",e,t,0))),i.b("<br> ")}),e.pop()),i.b(" </p>")}),e.pop()),i.b(" </div> ")),i.b(" "),i.b(' <div class="movie-actions"> '),i.s(i.f("is_printable",e,t,1),e,t,0,3252,3356,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank" class="button blue large print">'),i.b(i.v(i.d("translations.print",e,t,0))),i.b("</a>")}),e.pop()),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("buttons",e,t,1),e,t,0,3404,3536,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,3482,3509,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" ")),i.b(" "),i.s(i.f("retailerData",e,t,1),e,t,0,3584,3617,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="retail-link"></div> ')}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),a.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("shared.productbutton",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="purchase_product"> '),a.s(a.f("single_link",e,t,1),e,t,1,0,0,"")||(a.b(' <a class="button large green '),a.s(a.f("retail_links",e,t,1),e,t,1,0,0,"")||a.b("clear"),a.b('"> '),a.s(a.f("retail_links",e,t,1),e,t,1,0,0,"")||a.b('<div class="arrow-left"></div>'),a.b(" "),a.s(a.f("purchase_cta",e,t,1),e,t,0,201,217,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("purchase_cta",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("purchase_cta",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.s(a.f("retail_links",e,t,1),e,t,0,270,287,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("pre_order_now",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("retail_links",e,t,1),e,t,1,0,0,"")||a.b(a.v(a.f("coming_soon",e,t,0))),a.b(" ")),a.b(" "),a.s(a.f("retail_links",e,t,1),e,t,1,0,0,"")||a.b('<div class="arrow-right"></div>'),a.b(' </a> <div class="buy '),a.s(a.f("retail_links",e,t,1),e,t,1,0,0,"")||a.b("no_flyout"),a.b('" data-convert="buy"> <ul> '),a.s(a.f("retail_links",e,t,1),e,t,0,547,754,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" '),i.s(i.f("age_gate",e,t,1),e,t,0,607,649,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' class="age-gated" data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('"')}),e.pop()),i.b(' data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,697,725,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),a.b(" </ul> </div> ")),a.b(" "),a.s(a.f("single_link",e,t,1),e,t,0,818,1138,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a class="button large green" href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" '),i.s(i.f("age_gate",e,t,1),e,t,0,901,943,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' class="age-gated" data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('"')}),e.pop()),i.b(' data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,991,1019,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),i.b("> "),i.s(i.f("purchase_cta",e,t,1),e,t,0,1047,1063,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("purchase_cta",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("purchase_cta",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("pre_order_now",e,t,0))),i.b(" </a> ")}),e.pop()),a.b(" </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Backbone,a=e._,n=e.Whiskers;t.ProductButtonView=i.View.extend({_flyoutVisible:!1,flyoutVisible:function(e){return"undefined"==typeof e?this._flyoutVisible:(this._flyoutVisible=e,void this.renderFlyout())},initialize:function(e){this.translations=e.translations,this.age_gate=e.age_gate,this.render()},render:function(){var e=this,t=e.model.retail_links||[],i=a.extend(e.model,e.translations);i.age_gate=this.age_gate,1===t.length&&(i.single_link=t[0]),this.$el.html(n.shared.productbutton.render(i)),this.$el.click(function(){e.flyoutVisible(!e.flyoutVisible()),e.trigger("change",e)})},renderFlyout:function(){var e=this.$(".buy");this.flyoutVisible()?e.addClass("active"):e.removeClass("active")}})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e._,o=t.BunView.extend({style_classes:["catalog"],breakpoints:n,template:r.modules.catalog,render:function(){var t,a=this,n=a.model.data.first(),o=a.model.get("data")[0],l=a.model.get("translations"),c=new Date,d=c.getUTCDate(),u=c.getUTCMonth()+1,h=c.getUTCFullYear(),f=!1;10>d&&(d="0"+d),10>u&&(u="0"+u),c=h+"-"+u+"-"+d;var p=(o.re_release_date<=c?l.re_released:l.re_releasing)+":";if("Game"===o.type&&(t=o.platforms,t&&t.length>0&&(t=t.join(", "))),(t||o.rating||o.release)&&(f=!0),o.href&&-1===o.href.indexOf(e.location.hostname)){var m=/[^\/]+?:\/\/[^/]+/.exec(e.location.href)+o.href;n.set("href",m)}var g=s.extend({platform_data:t,meta:f,reReleasedText:p,linksInverted:!0,cds:!!this.options.cds},a.options.ads.helpers(),a.model);a.$el.html(a.template.render(g,{socialLinkPartial:r.partials.social_btn}));var b=n.get("retailerData");b&&b.retail_links.length&&new i.ProductButtonView({el:a.$(".retail-link"),model:b,translations:l})},resize:function(){this.options.ads.restore()}});o.register("catalog"),i.CatalogFloatView=o.register("catalog_float",{initialize:function(){var e=this.options.el;this.render(),e&&(e.addClass(this.className),e.find(".bound").addClass("noAd"))}})}(this),Whiskers("modules.character_bio",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,52,70,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="character-bio-list"> <ul> '),a.s(a.f("data",e,t,1),e,t,0,134,181,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="item"> '),i.b(i.rp("<entity_container1",e,t,"")),i.b(" </li> ")}),e.pop()),a.b(" </ul> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._,n=t.ModuleView.extend({style_classes:["list_module_featured"],required_template_sets:["module_header","entities"],template:i.modules.character_bio,initialize:function(){var t=this.model.data.models,i=e.location,n=i.protocol+"//"+i.hostname+i.pathname;a.each(t,function(e){e.set("skip_hover",!0);var t=e.get("href");(t===n||"#"===t)&&e.set("href",null)})},render:function(){var e=a.extend({},this.model);this.$el.html(this.template.render(e,this.ctx_additions()))}});n.register("character_bio",{}),n.register("character_bio_left_align",{})}(this),Whiskers("modules.countdown",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("style_options",e,t,1),e,t,0,18,1412,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("description_text_color",e,t,1),e,t,0,70,304,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.countdown.primary-theme:not(.skip-styles) h1:not(.skip-text-styles), .module.countdown.primary-theme:not(.skip-styles) p:not(.skip-text-styles), .module.countdown h1, .module.countdown p{ color: "),i.b(i.v(i.f("description_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("time_text_color",e,t,1),e,t,0,352,736,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.countdown.primary-theme:not(.skip-styles) p:not(.skip-text-styles).time-text, .module.countdown.primary-theme:not(.skip-styles) p:not(.skip-text-styles).days-text, .module.countdown.primary-theme:not(.skip-styles) p:not(.skip-text-styles).time-label, .module.countdown p.time-text, .module.countdown p.days-text, .module.countdown p.time-label{ color: "),i.b(i.v(i.f("time_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("accent_color",e,t,1),e,t,0,774,989,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.countdown div.days-container{ border-bottom: 2px solid "),i.b(i.v(i.f("accent_color",e,t,0))),i.b("; } .module.countdown.primary-theme:not(.skip-styles) .countdown-colon, .module.countdown .countdown-colon{ color: "),i.b(i.v(i.f("accent_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("time_section_background_image",e,t,1),e,t,0,1041,1156,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.countdown section.countdown-time-section{ background-image: url("),i.b(i.v(i.d("time_section_background_image.src",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("description_section_background_image",e,t,1),e,t,0,1232,1361,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.countdown section.countdown-description-section{ background-image: url("),i.b(i.v(i.d("description_section_background_image.src",e,t,0))),i.b("); } ")}),e.pop()),i.b(" </style> ")}),e.pop()),a.b(' <div class="bound '),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> <section class="countdown-time-section"> <div class="time-container"> <div class="days-container"> <p class="time-text days">'),a.b('</p> <p class="days-text">'),a.b('</p> </div> <span class="integer-container"> <p class="time-text hours">'),a.b('</p> <p class="time-label hours">'),a.b('</p> </span> <span class="countdown-colon"> : </span> <span class="integer-container"> <p class="time-text minutes">'),a.b('</p> <p class="time-label minutes">'),a.b('</p> </span> <span class="countdown-colon"> : </span> <span class="integer-container"> <p class="time-text seconds">'),a.b('</p> <p class="time-label seconds">'),a.b('</p> </span> </div> <div class="countdown-overlay '),a.b(a.v(a.d("style_options.background_overlay",e,t,0))),a.b('"></div> </section> <section class="countdown-description-section message-container"> <h1> '),a.b(a.v(a.f("title",e,t,0))),a.b(" </h1> <p>"),a.b(a.v(a.f("desc",e,t,0))),a.b("</p> </section> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=e.Whiskers,n=e.Backbone,r=e._,s=i.Style.breakpoints,o=r.values(s),l=n.Model.extend({defaults:{timeData:{total:0,days:0,hours:0,minutes:0,seconds:0}}});t.ModuleView.register("countdown",{style_classes:["skip-top-border","full-width","full-height"],template:a.modules.countdown,breakpoints:o.join(" "),render:function(){this.$el.html(this.template.render(this.model))},initialize:function(){this.countdownModel=new l},ready:function(){function t(t,a,n,r,s,o){var l,c,d,u,h,f=i.timeData(a),p=r;o.find(".time-text.hours").html(("0"+f.hours).slice(-2)),o.find(".time-text.minutes").html(("0"+f.minutes).slice(-2)),o.find(".time-text.seconds").html(("0"+f.seconds).slice(-2)),h=f.days<=0?o.find(".days-container").css("display","none"):o.find(".time-text.days").html(f.days),l=o.find(".days-text").html(1===f.days?p.day:p.days),c=o.find(".time-label.hours").html(1===f.hours?p.hour:p.hours),d=o.find(".time-label.minutes").html(1===f.minutes?p.minute:p.minutes),u=o.find(".time-label.seconds").html(1===f.seconds?p.second:p.seconds),f.total<=0&&(e.clearInterval(t),o.find(".time-text.hours, .time-text.minutes, .time-text.seconds").html("0"))
}var i=this,a=i.model.get("config_options"),n=a.deadline,r=i.model.get("translations"),s=this.countdownModel,o=this.$el,l=this.timeData(n,s),c=e.setInterval(t,1e3,c,n,s,r,l,o);t(c,n,s,r,l,o)},timeData:function(e){var t=new Date,i=t.getTimezoneOffset(),a=Date.parse(t)-6e4*i,n=Date.parse(e+"Z")-a,r=Math.floor(n/1e3%60),s=Math.floor(n/1e3/60%60),o=Math.floor(n/36e5%24),l=Math.floor(n/864e5);this.countdownModel.set("currentLocalTime",a);var c={total:n,days:l,hours:o,minutes:s,seconds:r};return this.countdownModel.set("timeData",c),c},resize:function(){this.$(".time-container").fadeIn()}})}(this),Whiskers("modules.credits",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("noAd",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.b(a.t(a.f("rectangleAd",e,t,0))),a.b(" "),a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" ")),a.b(" "),a.b(a.t(a.f("movie_json_ld",e,t,0))),a.b(' <div class="content container"> '),a.s(a.f("header_data",e,t,1),e,t,0,141,159,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="credits-list"> <div class="role_contain"> <div class="credit_contain"> '),a.s(a.f("roles",e,t,1),e,t,0,269,554,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="role_group"> <h3 class="accent-color">'),i.b(i.v(i.f("role",e,t,0))),i.b('</h3> <div class="cast_list"> '),i.s(i.f("cast",e,t,1),e,t,0,367,530,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="cast"> <span class="talent">'),i.b(i.v(i.f("person",e,t,0))),i.b('</span> <span class="character '),i.b(i.v(i.f("role",e,t,0))),i.b('"> '),i.s(i.f("title",e,t,1),e,t,0,468,477,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("title",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("role",e,t,0))),i.b(" </span> </p> ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),a.b(" </div> </div> </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e.Backbone,o=e._,l=t.ModuleView.extend({breakpoints:n,template:r.modules.credits,required_template_sets:["module_header"],getRoles:function(){var e={};return o.each(this.model.get("data"),function(t){var i=t.role;i&&(e[i]||(e[i]={role:i,cast:[]}),e[i].cast.push({person:t.person,title:t.title||i}))}),o.values(e)},render:function(){var e=s.Resize.width()>=a.midHigh,t=this.getRoles(),i=o.extend({roles:t,creditsClass:e&&"wide",noAd:"credits_no_ad"===this.model.get("view")},this.options.ads.helpers(this.model.toJSON()),this.model);this.$el.html(this.template.render(i,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}});l.register("credits",{}),l.register("credits_no_ad",{})}(this),Whiskers("modules.dcom_filters",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.s(a.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,100,118,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div id="stream_items"> '),a.b(a.t(a.f("list",e,t,0))),a.b(' </div> <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),a.b(a.v(a.d("translations.show_more",e,t,0))),a.b('</span> <span class="spinner"></span> </div> </div> </div>'),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),Whiskers("modules.col",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<span class="col item '),a.s(a.f("lastRow",e,t,1),e,t,0,34,42,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),a.b('">'),a.b(a.rp("<entity_container0",e,t,"")),a.b('<span class="arrow"></span></span>'),a.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,a=e.Backbone,n=e.Whiskers,r=e.Math,s=e._,o=e.jQuery,l=t.Style.breakpoints,c=s.values(l);i.GridModuleBaseView.register("dcom_filters",{style_classes:["stream-view","filters-view"],required_template_sets:["module_header"],template:n.modules.dcom_filters,breakpoints:c.join(" "),page:1,events:{"click .show_more":function(e){var t=this,i=t.list.collection,a=++t.page*t.rpp;e.preventDefault(),i.next(),i.ensure(a).then(function(){t.filterCache[t.activeFilter]={models:i.models,count:i.count},t.fit(),t.updateUI()})},"click .filters a.filter":function(e){var t=this;e.preventDefault(),t.$(".filters a.filter").toggleClass("active");var i=t.$(".filter_list").height()+44;t.$(".filter_drawer").hasClass("active")?t.$(".filter_drawer").css("height","0").removeClass("active"):t.$(".filter_drawer").css("height",i).addClass("active")}},initialize:function(){var t,r=this,o=r.model,l=o.get("filters");if(l&&l.length>0){var c=l[0];if(s.extend(r,{filters:l,filterRoot:"/_grill/filter"+e.location.pathname,activeFilter:c.title,filterCache:{}}),r.entity_type=c.items.data[0].type.toLowerCase(),t=new a.LazyFilterCollection(o.data.models,{min:40}),t.baseUrl=r.filterRoot,t.nextFilter=c.items.next,t.count=c.items.count_estimate,r.filterCache[c.title]={models:o.data.models,count:t.count},t.remaining()>0&&t.nextFilter){var d=t.nextFilter.split("offset=")[1];r.rpp=Number(d)}else r.rpp=t.count}this.list=new i.ListView({collection:t,template:{render:function(e){return n.entities.item.render(e,r.global_components.entities)}}}),this.list.collection.on("loading",function(e,t){r.updateButton(t)})},render:function(){var e=this,i=e.list,a=i.collection.remaining()>0,n=e.model.data,r=s.extend({entity_type:this.entity_type,list:t.placeHtml(i),hasMore:a,singleRow:n.count<=this.cols()},this.model);this.$el.html(e.template.render(r,this.ctx_additions())),a?this.$(".show_more_container").show():this.$(".show_more_container").hide(),t.placeSwap(this,i),this.updateButton(!1)},ready:function(){this.createUI(),this.$el.loadLazyImages()},createUI:function(){var e=this,t=e.model.get("filters");if(t&&t.length){var i=this.$(".filter_list"),a=this.$(".mobile_filter_list"),n=this.$(".filter-label");n.text(t[0].title),o.each(t,function(e,t){var n=t.items.next?t.items.next:"?filter="+encodeURIComponent(t.title);i.append('<a href="" data-filter-next="'+n+'" data-filter="'+t.title+'"><span>'+t.title+"</span></a>"),a.append('<option value="'+n+'" data-filter="'+t.title+'">'+t.title+"</option>")}),this.$(".filter_drawer a").click(function(t){t.preventDefault(),e.filter_name=o(this).data("filter"),e.filter_nextparams=o(this).data("filter-next"),e.$(".filter_drawer a").removeClass("active"),o(this).addClass("active"),e.$(".filter_drawer").css("height","0").removeClass("active"),e.$(".filters a.filter").removeClass("active"),e.$(".filters a.filter span").replaceWith("<span>"+e.filter_name+"</span>"),e.hideStreamItems()}),a.change(function(){e.$(".mobile_filter_list option:selected").each(function(){e.filter_name=o(this).data("filter");var t=e.$('.filter_drawer a[data-filter="'+e.filter_name+'"]');e.filter_nextparams=t.data("filter-next"),e.$(".filter_drawer a").removeClass("active"),t.addClass("active"),e.$(".filter_mobile span").replaceWith("<span>"+e.filter_name+"</span>"),e.$(".mobile_filter_list").blur(),e.hideStreamItems()})}),i.css("display","")}this.resize()},hideStreamItems:function(){var t=this,i=this.$("#stream_items ul"),a=this.$("#stream_items"),n=i.outerHeight(),r=o(e).selectTransitionEnd()+".stream_items";i.css("height",n).addClass("hide"),a.addClass("load"),o.support.css3("transition")?i.on(r,function(e){this===e.target&&(t.fetch(),i.off(r))}):t.fetch()},fetch:function(){var e=this,t=e.list.collection;if(e.activeFilter=e.filter_name,e.page=1,e.rpp=40,t.count=e.rpp,t.reset(),t.nextFilter=e.filter_nextparams,t.next(),e.filterCache[e.activeFilter]){var i=e.filterCache[e.activeFilter];return o.when().then(function(){t.reset(i.models),t.count=i.count,e.updateUI()})}var a=e.page*e.rpp;t.ensure(a).then(function(){e.filterCache[e.activeFilter]={models:t.models,count:t.count},e.updateUI()})},updateButton:function(e){var t=this.$el,i=this.model.data;t.toggleClass("loading",e),t.toggleClass("has-more",i.remaining()>0)},resize:function(){var e=this.cols(),t=e>1?"grid-layout":"list-layout";this.page=r.floor(this.model.data.length/this.rows()/e)||1,this.list.$el.attr("class","col-container cols-"+e+" "+t),this.fit()},fit:function(){var e=this.list.collection.count,t=this.page*this.cols()*this.rows();this.list.collection.remaining()>0?e>t?(this.list.$el.children().show().slice(t).hide(),this.$(".col").removeClass("last-row"),this.list.$el.children().slice(t-this.cols()).addClass("last-row")):this.list.$el.children().show():(this.list.$el.children().show(),this.$(".col").removeClass("last-row"))},updateUI:function(){var e=this,t=e.list.collection;e.$("#stream_items").removeClass("load"),e.$("#stream_items ul").css("height","auto").removeClass("hide"),e.$el.loadLazyImages(),t.remaining()<=0?e.$(".show_more_container").hide():e.$(".show_more_container").show()}})}(this),Whiskers("modules.disclaimer",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="links"> '),a.s(a.f("data",e,t,1),e,t,0,49,125,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button blue small" target="_blank">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),a.b(" </div> "),a.s(a.f("desc",e,t,1),e,t,0,151,186,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("desc",e,t,0))),i.b("</p>")}),e.pop()),a.b(" </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e._,a=e.Whiskers;t.ModuleView.register("disclaimer",{template:a.modules.disclaimer,render:function(){var e=i.extend({},this.model);this.$el.html(this.template.render(e))}})}(this),function(e){"use strict";var t=e.Grill.BunView,i=e.jQuery,a=e._,n=e.Math,r=function(){var t=i(e),a=t.height(),r=t.width(),s=n.min(1.3333,n.max(a/r,.5625));a=n.round(r*s),a!==this.h&&(this.h=a,this.$("iframe.stage").height(a))};t.register("dressup",{initialize:function(){i(e).on("resize."+this.cid,a.throttle(a.bind(r,this),100))},render:function(){var t=i("<iframe/>",{"class":"stage",src:"/apps/dressup/princess"+e.location.search,frameborder:0,scrolling:"no"});this.$el.empty().append(t)},ready:r,remove:function(){t.prototype.remove.call(this),i(e).off("resize."+this.cid)}}),i(e).on("touchstart",function(){})}(this),Whiskers("modules.empty_example",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(' <div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> '),a.b(" "),a.b(" "),a.s(a.f("header_data",e,t,1),e,t,0,381,399,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(" "),a.b(" "),a.s(a.f("displayImages",e,t,1),e,t,0,631,880,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="entity-box"><div class="aspect"><img src="'),i.b(i.v(i.f("starterKitteh",e,t,0))),i.b('"></div></div> '),i.b(" ")}),e.pop()),a.b(" "),a.b(' <div class="text-container"> <h2 class="hello_world skip-text-styles">'),a.b(a.v(a.d("translations.hello_world",e,t,0))),a.b("</h2> "),a.b(" "),a.b(" "),a.s(a.f("displayImages",e,t,1),e,t,0,1515,1899,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(' <div class="surprise large button '),i.b(i.v(i.f("buttonColor",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.surprise_me",e,t,0))),i.b("</div> "),i.b(" ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(e,t){return l.floor(l.random()*(t-e)+e)}function i(e,i){var a=e,n=e>=u.max?.32*e:e>=u.midHigh?.36*e:e>=u.midLow?.44*e:.5*e,r=t(a,a+20),s=t(n,n+20),o=i+r+"/"+s;return o}function a(e,t){t.find(".aspect").html(e),t.removeClass("loading")}var n=e.Grill,r=e.Disney,s=e.Whiskers,o=e.Backbone,l=e.Math,c=e._,d=e.jQuery,u=r.Style.breakpoints,h=c.values(u),f=n.ModuleView.extend({style_classes:["empty-view"],required_template_sets:["module_header"],template:s.modules.empty_example,breakpoints:h.join(" "),initialize:function(){var e=this.model.get("translations"),t={hello_world:"Oh haiiiiii world!",surprise_me:"Surprise Me!"};c.defaults(e,t),c.extend(this,{translations:e})},render:function(){var e=c.extend(this.model,{translations:this.translations});this.extendContext&&c.extend(e,this.extendContext()),this.$el.html(this.template.render(e,this.ctx_additions()))}}),p=f.extend({style_classes:["empty-view","empty-image-view"],rootUrl:"http://placekitten.com/",buttonColor:"blue",displayImages:!0,extendContext:function(){var e=this,t={starterKitteh:function(){var t=l.min(o.Resize.width(),920);return i(t,e.rootUrl)},buttonColor:e.buttonColor,displayImages:e.displayImages};return t},events:{"click .surprise":function(){var t=this.$(".entity-box"),n=new e.Image;t.addClass("loading"),n.src=i(t.width(),this.rootUrl),n.complete?a(n,t):d(n).on("load",function(){a(n,t)})}}});f.register("empty_example",{}),p.register("empty_example_image",{}),p.register("empty_example_image_extension",{rootUrl:"http://placepuppy.it/",buttonColor:"green"})}(this),Whiskers("modules.error",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="error_page" class="e'),a.b(a.v(a.f("error_code",e,t,0))),a.b(' module"> <div class="bound"> <div class="inner"> '),a.b(" "),a.s(a.f("style_options",e,t,1),e,t,0,207,368,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("images",e,t,1),e,t,0,219,356,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("foreground_image",e,t,1),e,t,0,241,334,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_image '),i.b(i.v(i.f("alignment",e,t,0))),i.b('_align"><img src="'),i.b(i.v(i.d("foreground_image.url",e,t,0))),i.b('"></div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),a.b(' <div class="message"> <h1>'),a.b(a.v(a.f("title",e,t,0))),a.b("</h1> <h2>"),a.b(a.v(a.f("desc",e,t,0))),a.b('</h2> <form id="error_search" action="'),a.b(a.v(a.f("search_error",e,t,0))),a.b('" method="GET"> <div class="search-field"> <input id="search_404_input" name="q" type="text" placeholder="'),a.b(a.v(a.f("search_placeholder",e,t,0))),a.b('"> <input type="submit" class="search-icon" value=""> </div> </form> </div> </div> </div> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.jQuery,a=e.Whiskers,n=e._;t.ModuleView.register("error",{template:a.modules.error,initialize:function(){var e=i("#goc-bar .goc-search"),t=this.model.get("config_options"),a=t&&t.suppress_search,n=404===this.model.get("error_code");this.search_error=e.attr("action"),this.search_placeholder=e.find("input[type=text]").attr("placeholder"),this.search_form=n&&!a},render:function(){var e=n.extend({search_error:this.search_error,search_placeholder:this.search_placeholder},this.model);this.$el.html(this.template.render(e))},ready:function(){this.search_form&&this.$("#error_search").show()}})}(this),Whiskers("modules.featured_media",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("layout",e,t,0))),a.b('"> '),a.s(a.f("data",e,t,1),e,t,0,40,63,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<entity_container0",e,t,"")),i.b(" ")}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e._,o=t.ModuleView.extend({breakpoints:n,template:r.modules.featured_media,style_classes:["featured_media","list_module_featured"],required_template_sets:["entities"],render:function(){var e=this,t=e.model,a=s.first(e.model.get("data")),n=this.$el,r=t.get("type"),o=i.rtl?"right":"left",l=t.get("style_options"),c=l&&l.layout||o;"game"===r&&a.isConsole&&(r="movie");var d=s.extend({layout:c,seeAll:t.get("seeAll")},this.options.ads.helpers(),e.model);n.html(e.template.render(d,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}});o.register("featured_media",{style_classes:["featured_media","list_module_featured","parent_featured"]}),o.register("featured_game",{}),o.register("featured_movie",{}),o.register("featured_gallery",{})}(this),Whiskers("modules.flex_hero",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("style_options",e,t,1),e,t,0,18,526,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("fullscreen",e,t,1),e,t,0,34,510,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> #ref-'),i.b(i.v(i.f("ref",e,t,0))),i.b("{ z-index: 0; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(", #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ overflow: visible; } "),i.s(i.f("content_overlap",e,t,1),e,t,0,163,376,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1025px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .hero-content-wrapper{ margin-bottom: -"),i.b(i.v(i.f("content_overlap",e,t,0))),i.b(";} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ padding-bottom: "),i.b(i.v(i.f("content_overlap",e,t,0))),i.b("; margin-bottom: -"),i.b(i.v(i.f("content_overlap",e,t,0))),i.b("; } } ")}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,410,487,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("first_module",e,t,1),e,t,0,427,470,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#nav-local{ height: 0; overflow: visible; }")}),e.pop())}),e.pop()),i.b(" </style> ")}),e.pop()),i.b(" ")}),e.pop()),a.b(' <div class="bound"> <div class="carousel"> '),a.s(a.d("data.length",e,t,1),e,t,0,604,2744,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <ul class="slides"> '),i.s(i.f("data",e,t,1),e,t,0,634,2728,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> "),i.s(i.f("hero_content",e,t,1),e,t,0,657,2704,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="hero-content-wrapper" '),i.s(i.d("background_options.background_color",e,t,1),e,t,0,732,800,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="background-color: '),i.b(i.v(i.d("background_options.background_color",e,t,0))),i.b(';" ')}),e.pop()),i.b("> "),i.s(i.f("background_options",e,t,1),e,t,0,865,1466,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image",e,t,1),e,t,0,876,1360,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,1008,1091,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="aspect background-image" style="padding-bottom: '),i.b(i.v(i.f("aspect_ratio_pct",e,t,0))),i.b(';">')}),e.pop()),i.b(' <img class="background-image '),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,1,0,0,"")||i.b("relative"),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||i.b(" no-src"),i.b('" '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||i.b("data-"),i.b('src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" '),i.b(i.rp("<image_attributes0",e,t,"")),i.b("> "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,1332,1338,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</div>")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("video_options",e,t,1),e,t,0,1430,1447,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("<inline_video1",e,t,""))}),e.pop()),i.b(" ")}),e.pop()),i.b(' <div class="foreground-content-wrapper'),i.s(i.d("foreground_options.full_width_content",e,t,1),e,t,0,1570,1581,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" full-width")}),e.pop()),i.b('"> '),i.s(i.f("foreground_options",e,t,1),e,t,0,1649,2666,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("main_image",e,t,1),e,t,0,1665,2650,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("modal_options",e,t,1),e,t,0,1684,1716,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="open-flex-hero-modal">')}),e.pop()),i.b(" "),i.s(i.f("modal_options",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,1762,1823,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="foreground-link" href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' <div class="image-wrapper foreground-image bound-padding '),i.b(i.v(i.f("horizontal_alignment",e,t,0))),i.b(" "),i.b(i.v(i.f("vertical_alignment",e,t,0))),i.b('" style="width: '),i.b(i.v(i.f("half_width",e,t,0))),i.b('px;"> '),i.b(" "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,2122,2221,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="aspect'),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||i.b(" no-src"),i.b('" style="padding-bottom: '),i.b(i.v(i.f("aspect_ratio_pct",e,t,0))),i.b(';">')}),e.pop()),i.b(" <img "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('data-src="'),i.b(i.v(i.f("flex_src",e,t,0))),i.b('"')),i.s(i.f("noscript",e,t,1),e,t,0,2310,2323,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('src="'),i.b(i.v(i.f("src",e,t,0))),i.b('"')}),e.pop()),i.b(' alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" '),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,1,0,0,"")||i.b('class="relative"'),i.b("> "),i.s(i.f("aspect_ratio_pct",e,t,1),e,t,0,2434,2440,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</div>")}),e.pop()),i.b(" "),i.s(i.f("caption",e,t,1),e,t,0,2474,2530,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="caption '),i.b(i.v(i.f("caption_text_size",e,t,0))),i.b('">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")}),e.pop()),i.b(" </div> "),i.s(i.f("modal_options",e,t,1),e,t,0,2568,2572,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" "),i.s(i.f("modal_options",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,2618,2622,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" </ul> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<image_attributes0":{name:"image_attributes",partials:{},subs:{}},"<inline_video1":{name:"inline_video",partials:{},subs:{}}},subs:{}}),Whiskers("partials.inline_video",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="video-wrapper"> <video '),a.s(a.d("mute_button_options.start_muted",e,t,1),e,t,0,71,76,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("muted")}),e.pop()),a.b(" "),a.s(a.f("loop_video",e,t,1),e,t,0,128,132,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("loop")}),e.pop()),a.b(" "),a.s(a.f("fallback_image",e,t,1),e,t,0,167,198,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('poster="'),i.b(i.v(i.d("fallback_image.src",e,t,0))),i.b('"')}),e.pop()),a.s(a.f("disable_tracking",e,t,1),e,t,0,238,267,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' data-disable-tracking="true"')}),e.pop()),a.b('> <source src="'),a.b(a.v(a.f("mp4_url",e,t,0))),a.b('" type="video/mp4"> </video> '),a.s(a.f("mute_button_options",e,t,1),e,t,0,367,623,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("show_mute_button",e,t,1),e,t,0,389,601,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="mute-button '),i.s(i.f("start_muted",e,t,1),e,t,0,430,438,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mute-on ")}),e.pop()),i.b(" "),i.s(i.f("start_muted",e,t,1),e,t,1,0,0,"")||i.b("mute-off "),i.b(" "),i.b(i.v(i.f("horizontal_alignment",e,t,0))),i.b(" "),i.b(i.v(i.f("vertical_alignment",e,t,0))),i.b('" '),i.s(i.f("alt_text",e,t,1),e,t,0,559,579,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('title="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"')}),e.pop()),i.b("> </div> ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" </div>"),a.fl()},partials:{},subs:{}}),Whiskers("modals.flex_hero",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="modal-info"> <h3 class="modal-title">'),a.b(a.v(a.f("title",e,t,0))),a.b('</h3> <div class="modal-content"> <div class="content-container"> <ul class="row-'),a.b(a.v(a.f("items_per_row",e,t,0))),a.b('"> '),a.s(a.f("items",e,t,1),e,t,0,169,544,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" data-link-count="'),i.b(i.v(i.f("link_count",e,t,0))),i.b('" '),i.b(i.rp("<href_attributes0",e,t,"")),i.b("> "),i.s(i.f("thumb_data",e,t,1),e,t,0,264,517,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,278,313,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b(' <img alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" src="'),i.b(i.v(i.f("src",e,t,0))),i.s(i.f("retina",e,t,1),e,t,1,0,0,"")||i.s(i.f("half_width",e,t,1),e,t,0,400,421,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("&width="),i.b(i.v(i.f("half_width",e,t,0)))}),e.pop()),i.b('" '),i.s(i.f("half_width",e,t,1),e,t,0,464,486,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('width="'),i.b(i.v(i.f("half_width",e,t,0))),i.b('"')}),e.pop()),i.b("> ")),i.b(" ")}),e.pop()),i.b(" </a> </li> ")}),e.pop()),a.b(" </ul> </div> </div> </div>"),a.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Tracker,a=e.jQuery;t.VideoTrackingHelper=function(e){function t(){var e={eventCategory:"loop_start",engagementMeta:c+"|"+d};r(e)}function n(){var e={eventCategory:"loop_end",engagementMeta:c+"|"+d};r(e)}function r(e){var t={eventCategory:null,action:null,label:null,value:null};a.extend(t,e),t.engagementType=t.eventCategory,i.event(t)}function s(e){var i=a(e);i.data("disable-tracking")||(i.on("play",function(){t()}),i.on("timeupdate",function(){var e=this.currentTime;e<o.lastTime&&(n(),t()),o.lastTime=e}))}var o=this,l=e.videoElement,c=e.id,d=e.slug;o.lastTime=0,s(l)}}(this),function(e){"use strict";function t(e,t){var i=e.model.get("data")[t],a=i.hero_content_config&&i.hero_content_config.desktop,r=a&&a.background_options,s={fullscreen_module:!0,local_chrome_dark:r&&"light"!==r.local_chrome_color};n.Style.applyTakeoverStyles(s,!0)}var i,a,n=e.Disney,r=e.Grill,s=e.Whiskers,o=e.Modernizr,l=e._,c=e.$,d=e.window,u=e.Backbone,h=e.Tracker,f=e.devicePixelRatio>1.5,p=n.Style.breakpoints,m=p.midHigh.toString()+" "+p.chromeMax.toString(),g=r.ModuleView.extend({style_classes:["skip-styles","skip-top-border","full-height","full-width","flex_hero"],template:s.modules.flex_hero,breakpoints:m,required_template_sets:["images","links"],included_components:{inline_video:s.partials.inline_video},events:{"click .open-flex-hero-modal":function(){if(void 0===this.modal){var e=this.model.get("data")[0].modal_options;this.modal=new r.FlexHeroModalView({template:s.modals.flex_hero,name:"flex-hero",title:e.title,items:e.items,ctx_additions:this.ctx_additions()})}this.trackForegroundLink(),this.modal.show()},"click a.foreground-link":function(e){this.trackForegroundLink(e.currentTarget.href)},"click .mute-button":function(e){var t=this.el.querySelector("video"),i=c(e.currentTarget);t&&(t.muted=!t.muted,i.toggleClass("mute-on",t.muted),i.toggleClass("mute-off",!t.muted))}},initialize:function(){var e=this.model,t=e.data.models,i=e.get("style_options"),a=e.get("config_options"),n=e.get("ref"),r=this;this.first_in_stack="1-0"===n||a&&a.top_of_page,this.videotrackinghelper=null,l.each(t,function(e){if("FlexHero"===e.get("type")){var t=e.get("hero_content_config"),i=["mobile","desktop"];l.each(i,function(e){if(t&&t[e]){var i=t[e].foreground_options&&t[e].foreground_options.main_image;if(i){var a=i.half_width&&!f?i.src+"&width="+i.half_width:i.src;t[e].foreground_options.main_image.flex_src=a}}}),t.nonlooping_video_image&&(r.nonLoopingHasImage=!0)}else"List"!==e.get("type")||r.model.get("list_object")||r.model.set("list_object",e)}),i&&i.fullscreen&&this.style_classes.push("transparent"),this.first_in_stack&&this.style_classes.push("top-module")},render:function(){var e=u.Resize.width(),t=u.Resize.width()>=p.midHigh,i=e>=p.chromeMax,a=t&&!i,n=o.video&&!o.mobile,r=l.extend({hero_content:function(){if("FlexHero"!==this.get("type"))return null;var e=this.get("hero_content_config"),i=t?e.desktop:e.mobile,r=a&&i.background_options&&i.background_options.tablet_override_image?i.background_options.tablet_override_image:i.background_options.main_image,s=e.nonlooping_video_image,o=n&&t&&e.video_options;if(o)i.background_options.video_options=o,s&&(i.background_options.image=s);else{if(!r)return!1;i.background_options.image=r}return i}},this.model);this.$el.html(this.template.render(r,this.ctx_additions())),this.first_in_stack&&this.$el.loadLazyImages()},ready:function(){this.first_in_stack&&t(this,0);var e=this.el.querySelector("video");!this.videotrackinghelper&&e&&(this.videotrackinghelper=new n.VideoTrackingHelper(this.getVideoObject(e))),e&&(e.play(),this.nonLoopingHasImage&&!e.loop&&e.addEventListener("ended",function(){c(this).parent().addClass("video-end")},!1))},getVideoObject:function(e){var t,i;l.each(this.model.data.models,function(e){"FlexHero"===e.get("type")&&(t=e.get("id"),i=e.get("slug"))});var a={videoElement:e,id:t,slug:i};return a},resize:function(){this.render(),this.ready()},trackForegroundLink:function(e){var t,n,r=this.model.get("ref"),s="item1";if(a=Number(r.split("-")[1])+1,l.each(this.model.data.models,function(e){if("FlexHero"===e.get("type")){var a=e.get("hero_content_config");t=i=e.get("title"),n=a.desktop.foreground_options.alt_text}}),h){var o={linkName:"FlexHero/"+t+"/mod"+a+"/"+s+"/link/"+n,linkPosition:"FlexHero/"+t+"/mod"+a+"/"+s+"/link"};e&&(o.href=e),h.link(o)}}});g.register("fullscreen_hero",{}),g.register("flex_hero",{}),r.FlexHeroModalView=r.ModalView.extend({events:{"click .modal-info":function(e){var t=c(e.target),i=t.hasClass("modal-title"),a=t.is("a")||t.parent().is("a");i||a||this.close(),a&&this.trackModalLink(t.parent())},scroll:l.debounce(function(e){var t=e.target,i=t.scrollTop,a=t.scrollHeight,n=i+t.offsetHeight;0===i?t.scrollTop=1:n===a&&(t.scrollTop=i-1)},100)},initialize:function(){var e=this;c(d).on("orientationchange",function(){if(e.$el.hasClass("show")){var t=c("#modal-window,#modal-overlay");t.width(d.innerWidth),t.height(d.innerHeight),t.offset({top:0,left:0}),t.offset({top:0,left:0})}})},close:function(){i=void 0,a=void 0,this.hide()},render:function(){var e,t=this.options.items,i=t.length;e=i%4===0?4:i%3===0?3:i%3>i%4?3:4;var a={items:t,title:this.options.title,items_per_row:e,link_count:function(){return l.indexOf(t,this)+1}};return this.options.template.render(a,this.options.ctx_additions)},show:function(e){r.ModalView.prototype.show.apply(this,e),this.el.scrollTop=0,this.el.querySelectorAll(".modal-info")[0].scrollTop=0},trackModalLink:function(e){var t="item"+e.data("link-count"),n=e.data("title");h&&h.link({linkName:"FlexHero/"+i+"/mod"+a+"/"+t+"/link/"+n,linkPosition:"FlexHero/"+i+"/mod"+a+"/"+t+"/link",href:e.attr("href")})}})}(this),Whiskers("modules.flex_image_modules",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.s(a.f("style_config",e,t,1),e,t,0,35,194,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image_alignment",e,t,1),e,t,0,56,82,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" image-"),i.b(i.v(i.f("image_alignment",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,124,172,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('" style="background-color: '),i.b(i.v(i.f("background_color",e,t,0))),i.b(";")}),e.pop()),i.b(" ")}),e.pop()),a.b('"> '),a.s(a.f("sized_image",e,t,1),e,t,0,230,258,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<preserved_ratio_image0",e,t,"")),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("data",e,t,1),e,t,0,284,302,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<bio_overlay1",e,t,"")),i.b(" ")}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<preserved_ratio_image0":{name:"preserved_ratio_image",partials:{},subs:{}},"<bio_overlay1":{name:"bio_overlay",partials:{},subs:{}}},subs:{}}),Whiskers("partials.preserved_ratio_image",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="image-wrapper '),a.s(a.f("image_type",e,t,1),e,t,0,41,66,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("image-type-"),i.b(i.v(i.f("image_type",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("image_full_width",e,t,1),e,t,0,103,113,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("image-full")}),e.pop()),a.b('" '),a.s(a.f("image_full_width",e,t,1),e,t,1,0,0,"")||(a.b('style="width: '),a.b(a.v(a.f("half_width",e,t,0))),a.b('px;"')),a.b('> <div class="aspect" style="padding-bottom: '),a.b(a.v(a.f("aspect_ratio_pct",e,t,0))),a.b(';"> '),a.s(a.f("noscript",e,t,1),e,t,1,0,0,"")||(a.b('<img data-src="'),a.b(a.v(a.f("src",e,t,0))),a.b('" alt="'),a.b(a.v(a.f("title",e,t,0))),a.b('">')),a.b(" "),a.s(a.f("noscript",e,t,1),e,t,0,359,415,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),a.b(" </div> </div> "),a.s(a.f("allow_foreground_content",e,t,1),e,t,0,472,557,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="min-height-spacer" style="padding-bottom: '),i.b(i.v(i.f("aspect_ratio_pct",e,t,0))),i.b(';"></div> ')
}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("partials.bio_overlay",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound bio-overlay '),a.s(a.f("style_options",e,t,1),e,t,0,48,311,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("wide",e,t,1),e,t,0,58,223,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("desktop_config",e,t,1),e,t,0,77,204,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" content-"),i.b(i.v(i.f("horizontal_content_position",e,t,0))),i.b(" content-"),i.b(i.v(i.f("vertical_content_position",e,t,0))),i.b(" text-"),i.b(i.v(i.f("text_alignment",e,t,0))),i.b(" text-"),i.b(i.v(i.f("text_lightness",e,t,0))),i.b(" ")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||i.s(i.f("mobile_config",e,t,1),e,t,0,260,283,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b(" ")}),e.pop()),a.b('"> <div class="bio-content details"> <h1 class="title" '),a.s(a.f("wide",e,t,1),e,t,0,393,570,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.d("style_options.desktop_config.title_color_override",e,t,1),e,t,0,447,516,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.d("style_options.desktop_config.title_color_override",e,t,0))),i.b(';"')}),e.pop())}),e.pop()),a.b('> <span class="name">'),a.b(a.v(a.f("title",e,t,0))),a.b('</span> </h1> <p class="desc '),a.b(a.v(a.f("contentPosition",e,t,0))),a.b('">'),a.b(a.v(a.f("description",e,t,0))),a.b('</p> <p class="short-desc '),a.b(a.v(a.f("contentPosition",e,t,0))),a.b('">'),a.b(a.v(a.f("short_desc",e,t,0))),a.b("</p> "),a.s(a.f("include_social",e,t,1),e,t,0,759,774,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<social_btn0",e,t,""))}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<social_btn0":{name:"social_btn",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,a=i.midHigh.toString(),n=e.Grill,r=e.Whiskers,s=e.Backbone,o=e._,l=n.ModuleView.extend({breakpoints:a,style_classes:["image_module","full-height","full-width","skip-styles"],template:r.modules.flex_image_modules,included_components:{bio_overlay:r.partials.bio_overlay,preserved_ratio_image:r.partials.preserved_ratio_image,social_btn:r.partials.social_btn},initialize:function(){var e=this.model.get("style_options"),t=e&&e.image_assets||{},i=this.model.get("style_options"),a=i&&i.include_social,n=a&&!this.options.cds;this.model.set({image_data:t,include_social:n})},render:function(){var e=s.Resize.width()>=i.midHigh,a=e?"desktop":"mobile",n=this.model.get("style_options"),r=n&&n[a+"_config"],l=this.model.get("image_data"),c=l[a],d=this.imageFullSize?{rel_width:1}:{exact_size:!0},u=this.imageTypeBackground&&this.imageFullSize;o.extend(c,{src:t.LumiereHelpers.imgSrc(c.src,d),image_full_width:this.imageFullSize,image_type:u?"background":"foreground",allow_foreground_content:u}),this.model.set("sized_image",c);var h=o.extend({wide:e,style_config:r},this.model);this.$el.html(this.template.render(h,this.included_components))}});l.register("flex_image",{imageTypeBackground:!1,imageFullSize:!1}),l.register("rich_bio",{imageTypeBackground:!0,imageFullSize:!0})}(this),Whiskers("modules.fta_catchup",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound video"> <div class="header"> '),a.s(a.f("title",e,t,1),e,t,0,57,75,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h2>")}),e.pop()),a.b(" "),a.s(a.f("desc",e,t,1),e,t,0,95,123,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="desc">'),i.b(i.v(i.f("desc",e,t,0))),i.b("</p>")}),e.pop()),a.b(' <div class="filters"> <div class="filter"> '),a.s(a.f("days",e,t,1),e,t,0,185,290,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a class="day-toggle '),i.s(i.f("selected",e,t,1),e,t,0,220,228,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("selected")}),e.pop()),i.b('" href="#" data-filter="'),i.b(i.v(i.f("date",e,t,0))),i.b('"> '),i.b(i.v(i.f("name",e,t,0))),i.b(" </a> ")}),e.pop()),a.b(' </div> <div class="filter_mobile"> <span>'),a.b(a.v(a.d("translations.Today",e,t,0))),a.b('</span> <select class="mobile_filter_list"> '),a.s(a.f("days",e,t,1),e,t,0,416,503,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" <option "),i.s(i.f("selected",e,t,1),e,t,0,438,446,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("selected")}),e.pop()),i.b(' data-filter="'),i.b(i.v(i.f("date",e,t,0))),i.b('"> '),i.b(i.v(i.f("name",e,t,0))),i.b(" </option> ")}),e.pop()),a.b(' </select> </div> </div> </div> <br/> <div id="stream_items"> '),a.b(a.t(a.f("list",e,t,0))),a.b(' <div class="zero_case"> <h3>'),a.b(a.v(a.d("translations.no_videos",e,t,0))),a.b('</h3> </div> <div class="show_more_container"> <div class="show_more blue button large" role="button"> <span class="label">'),a.b(a.v(a.d("translations.show_more",e,t,0))),a.b('</span> <span class="spinner"></span> </div> </div> </div> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.jQuery,i=e._,a=e.Disney,n=e.Grill,r=e.Backbone,s=e.Modernizr,o=e.Whiskers,l=a.Style.breakpoints,c=i.values(l),d=r.LazyCollection.extend({parse:function(e){return this.count=e.data.total_found,(e.data||{}).results}}),u=n.ModuleView.extend({compatibility:s.canvas&&s.flash?"html5,flash":s.canvas&&!s.flash?"html5":"flash",style_classes:["stream-view","grid-view"],page:1,events:{"click .show_more":function(t){t.preventDefault();var i=this;this.$el.addClass("loading"),this.getMoreItems().then(function(){i.$el.removeClass("loading"),e.Tracker.trackPagination(++i.page),i.$el.loadLazyImages()})},"click a.day-toggle":function(e){this.selectDay(e,t(e.target).html())},"change select.mobile_filter_list":function(e){this.selectDay(e,t(e.target).find(":selected").html())}},selectDay:function(e,t){e.preventDefault();var i=this.$el,a=i.find(".zero_case"),n=i.find("a.day-toggle"),r=i.find(".filter_mobile span"),s=i.find(".mobile_filter_list"),o=i.find('a.day-toggle:contains("'+t+'")'),l=s.find('.option[value="'+t+'"]');a.hide(),n.removeClass("selected"),o.addClass("selected"),r.html(t),l.prop("selected",!0),s.blur(),this.resetAndGetMoreItems()},initialize:function(){var e=this,t=this.model,i=t.data=new d(null,{min:6}),a=this.translations=this.model.get("translations");this.videoThumbnailBadge=t&&t.get("video_thumbnail_badge"),this.list=new n.ListView({collection:i,template:{render:function(t){return o.entities.item.render(t,e.global_components.entities)}}}),this.dayMap=[a.sunday||"Sunday",a.monday||"Monday",a.tuesday||"Tuesday",a.wednesday||"Wednesday",a.thursday||"Thursday",a.friday||"Friday",a.saturday||"Saturday"]},getMoreItems:function(){var e,i,a=this,n=this.list.collection,s=r.Resize.width(),o=this.$("a.day-toggle.selected"),c=this.$(".mobile_filter_list");e=s<l.midHigh?c.find(":selected").data("filter"):o.attr("data-filter");var d={q:"video",filter:{type:"Video",start_date_s:e},video_thumbnail_badge:this.videoThumbnailBadge};return n.url="/_fta_stream/search.json?"+t.param(d),this.itemCount+=this.cols()*this.rows(),i=this.model.data.ensure(this.itemCount),i.then(function(){a.hideLoader(),a.$el.loadLazyImages(),a.updateButton()}),i},showLoader:function(){var e=this.$el,t=this.$("#stream_items"),i=t.find("ul"),a=i.outerHeight()||100;i.css("height",a).addClass("hide"),t.addClass("load"),e.addClass("loading")},hideLoader:function(){var e=this.$el,i=t("#stream_items"),a=i.find("ul");i.removeClass("load"),a.css("height","auto").removeClass("hide"),e.removeClass("loading")},render:function(){var e=i.extend({days:this.dates(),list:a.placeHtml(this.list),sortOptions:!0},this.model.toJSON());this.$el.html(this.template.render(e)),a.placeSwap(this,this.list)},ready:function(){this.resize(),this.resetAndGetMoreItems()},updateButton:function(){var e=this.$el,t=this.model.data.count,i=e.find("#stream_items .item").length;e.toggleClass("has-more",t>i)},resize:function(){var e=this.cols();this.list.$el.removeClass().addClass("cols-"+e),this.fit()},fit:function(){var e=this.list,t=e.$el,i=e.collection.count,a=e.collection.length,n=this.page*this.cols()*this.rows();i>n&&i>a?t.children().show().slice(n).hide():t.children().show()},formatDate:function(e){var t=String(e.getMonth()+1),i=String(e.getDate()),a=String(e.getFullYear());return 1===t.length&&(t="0"+t),1===i.length&&(i="0"+i),[a,t,i].join("-")},dates:function(){for(var e,t,i,a=new Date,n=[],r=0;8>r;r++)i=!1,a.setDate(a.getDate()-(0===r?0:1)),e=this.formatDate(a),0===r?(t=this.translations.today||"Today",i=!0):t=1===r?this.translations.yesterday||"Yesterday":this.dayMap[a.getDay()],n.push({name:t,date:e,selected:i});return n.reverse()},resetAndGetMoreItems:function(){return this.list.collection.reset(),this.showLoader(),this.page=1,this.itemCount=0,this.getMoreItems()}});u.register("fta_catchup",{breakpoints:c.join(" "),template:o.modules.fta_catchup,rows:function(){var e=r.Resize.width();return e<l.midHigh?4:e<l.max?3:2},cols:function(){var e=r.Resize.width(),t=parseInt(this.model.get("style_options").items_per_row_override,10);return e<l.midHigh?1:t||3}})}(this),Whiskers("modules.full_schedule",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> <div class="whats-on"> <div class="title"> <h2>'),a.b(a.v(a.d("translations.whats_on",e,t,0))),a.b('</h2> </div> <div class="buttons" > '),a.s(a.f("href",e,t,1),e,t,0,162,240,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large blue">'),i.b(i.v(i.d("translations.watch_live",e,t,0))),i.b("</a> ")}),e.pop()),a.b(" "),a.s(a.f("download_href",e,t,1),e,t,0,268,360,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("download_href",e,t,0))),i.b('" class="button large blue">'),i.b(i.v(i.d("translations.download_button",e,t,0))),i.b("</a> ")}),e.pop()),a.b(' </div> </div> <div id="fixed-container"> <div id="fixed"> <div class="header"> <div class="filters '),a.s(a.f("suppress_catch_up",e,t,1),e,t,0,500,517,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("suppress-catch-up")}),e.pop()),a.b('" data-title="filters"> <div class="sort-label"> '),a.s(a.f("suppress_catch_up",e,t,1),e,t,1,0,0,"")||(a.b("<span>"),a.b(a.v(a.d("translations.catch_up",e,t,0))),a.b("</span>")),a.b(" <span>"),a.b(a.v(a.d("translations.today",e,t,0))),a.b("</span> <span>"),a.b(a.v(a.d("translations.coming_up",e,t,0))),a.b('</span> </div> <div class="sort"> '),a.s(a.f("localized_dates",e,t,1),e,t,0,793,926,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a class="'),i.b(i.v(i.f("day",e,t,0))),i.b(" "),i.b(i.v(i.f("class",e,t,0))),i.b(' belt" data-date="'),i.b(i.v(i.f("data_date",e,t,0))),i.b('" href="javascript:void(0)"><span>'),i.b(i.v(i.f("day",e,t,0))),i.b("</span><span>"),i.b(i.v(i.f("date",e,t,0))),i.b("</span></a> ")}),e.pop()),a.b(' </div> <div class="filter_mobile"> <div id="anchor-links" class="sort"> <a class="morning" href="#morning">'),a.b(a.v(a.d("translations.morning_button",e,t,0))),a.b('</a> <a class="afternoon" href="#afternoon">'),a.b(a.v(a.d("translations.afternoon_button",e,t,0))),a.b('</a> </div> <div class="filter_mobile_list"> <span>'),a.b(a.v(a.f("localized_date",e,t,0))),a.b('</span> <select class="filter_mobile_select"> '),a.s(a.f("localized_dates",e,t,1),e,t,0,1297,1360,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.f("data_date",e,t,0))),i.b('" '),i.b(i.v(i.f("selected",e,t,0))),i.b(">"),i.b(i.v(i.f("label",e,t,0))),i.b("</option> ")}),e.pop()),a.b(' </select> </div> </div> </div> </div><!-- div.fixed --> </div> </div> <div id="schedule" class="container clear"> '),a.s(a.f("schedule",e,t,1),e,t,0,1508,1739,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("schedule_items.length",e,t,1),e,t,0,1535,1712,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="header"> <div class="title"> <h2>'),i.b(i.v(i.f("time_period_label",e,t,0))),i.b('</h2> </div> </div> <div class="schedule-time-group" id="'),i.b(i.v(i.f("time_period",e,t,0))),i.b('"> '),i.b(i.rp("<scheduleTimeGroupItems0",e,t,"")),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("schedule",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="title"> <h2 class="no-data">'),a.b(a.v(a.f("no_epg_data",e,t,0))),a.b("</h2> </div> ")),a.b(" </div><!-- div#schedule --> </div>"),a.fl()},partials:{"<scheduleTimeGroupItems0":{name:"scheduleTimeGroupItems",partials:{},subs:{}}},subs:{}}),Whiskers("partials.schedule_time_group_items",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(' <ul class="schedule-items"> '),a.s(a.f("schedule_items",e,t,1),e,t,0,87,1440,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="schedule-entry entry container indent closed '),i.s(i.f("show_buttons",e,t,1),e,t,0,161,174,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("buttons-shown")}),e.pop()),i.b(" "),i.s(i.f("primary_image_url",e,t,1),e,t,0,214,225,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("thumb-shown")}),e.pop()),i.b('"> <div class="inner-entry"> <div class="meta"> <p class="gamma time">'),i.b(i.v(i.f("time",e,t,0))),i.b('</p> </div> <div class="entry-details"> '),i.s(i.f("primary_image_url",e,t,1),e,t,0,387,506,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="show-thumb"> <img class="show-thumb thumb" alt="'),i.b(i.v(i.f("show_title",e,t,0))),i.b('" src="'),i.b(i.v(i.f("primary_image_url",e,t,0))),i.b('"></img> </div> ')}),e.pop()),i.b(' <div class="entry-buttons"> '),i.s(i.f("url",e,t,1),e,t,0,565,658,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="button small blue more-info-button">'),i.b(i.v(i.d("translations.more_info",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" "),i.s(i.f("full_episode_url",e,t,1),e,t,0,688,800,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("full_episode_url",e,t,0))),i.b('" class="button small blue full-episode-button">'),i.b(i.v(i.d("translations.full_episode",e,t,0))),i.b("</a> ")}),e.pop()),i.b(' </div> <div class="show-text"> '),i.s(i.f("url",e,t,1),e,t,0,861,970,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <h2 class="show-title title regular light beta"><a class="show-link" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("show_title",e,t,0))),i.b("</a></h2> ")}),e.pop()),i.b(" "),i.s(i.f("url",e,t,1),e,t,1,0,0,"")||(i.b(' <h2 class="show-title title regular light beta"><a class="show-link-inactive" href="#">'),i.b(i.v(i.f("show_title",e,t,0))),i.b("</a></h2> ")),i.b(" "),i.s(i.f("classification",e,t,1),e,t,0,1127,1235,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="classification classification-'),i.b(i.v(i.f("classification_class",e,t,0))),i.b('">&nbsp;'),i.b(i.v(i.f("classification",e,t,0))),i.b("&nbsp;</span> ")}),e.pop()),i.b(' </div> <div class="extra"> <h2 class="gamma regular book episode-title title">'),i.b(i.v(i.f("episode_title",e,t,0))),i.b('</h2> <p class="delta episode-description">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </div> </li> ")}),e.pop()),a.b(" </ul> "),a.fl()},partials:{},subs:{}}),function(e){"use strict";function t(){var e=new Date,t=-(e.getTimezoneOffset()/60);return t}var i=e.Grill,a=e.jQuery,n=e._,r=e.Whiskers,s="/_schedule/full/",o="/_schedule/download/full/",l=i.ModuleView.extend({template:r.modules.full_schedule,schedule:null,events:{"click .sort .belt":function(e){var t=a(e.currentTarget);return this.fetchData(t.data("date")),this.$(".sort .belt.active").removeClass("active"),t.addClass("active"),e.preventDefault(),e.stopPropagation(),!1},"change .filter_mobile_select":function(e){var t=a(e.currentTarget);this.fetchData(t.val())},"click .sort a.morning":function(e){return this.$(".morning").addClass("active"),this.$(".afternoon").removeClass("active"),e.preventDefault(),!1},"click .sort a.afternoon":function(e){return e.preventDefault(),this.$(".afternoon").addClass("active"),this.$(".morning").removeClass("active"),!1},"click .entry-buttons .button":function(e){e.stopPropagation()},"click div#schedule .schedule-entry":function(e){var t=a(e.currentTarget);return t.hasClass("closed")?t.find("div.entry-details").find(".episode-description").toggleClass("opened").slideDown():t.hasClass("open")&&t.find("div.entry-details").find(".opened").toggleClass("opened").slideUp(),t.toggleClass("open closed"),e.preventDefault(),!1},"click a.show-link":function(e){e.stopPropagation()},"click div#anchor-links a":function(t){var i=a(t.currentTarget),n=i.prop("hash"),r=this.$(n);a("html, body").stop().animate({scrollTop:r.offset().top-275},800,"swing",function(){e.location.hash=i.prop("hash")})}},render:function(){var t=new Date,i=t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2);this.fetchData(i),a(e).on("scroll."+this.cid,n.throttle(n.bind(this.toggleFixedControls,this),300))},toggleFixedControls:function(){var t=this.$("#fixed-container");if(t.length>0){var i=t.offset().top;a(e).scrollTop()<i?t.find("#fixed").removeClass("fixed-controls"):t.find("#fixed").addClass("fixed-controls")}},remove:function(){i.ModuleView.prototype.remove.call(this),a(e).off("scroll."+this.cid)},fetchData:function(e){var t=this;this.$("#schedule").empty(),a.getJSON(t.buildUrl(e),function(i){var a,s=t.model.get("translations"),o=t.model.get("page_level_options"),l=o.watch_live_link||"",c=o.suppress_catch_up,d=o.download_printable_schedule||!1,u={download_button:"Download"};n.defaults(s,u),a=[s.morning,s.afternoon,s.evening,s.night],n.each(i.schedule,function(e,t){e.time_period_label=a[t],n.each(e.schedule_items,function(e){e.show_buttons=e.url||e.full_episode_url})});var h=n.extend({suppress_catch_up:c,translations:s,href:l,download_href:d&&t.buildDownloadUrl(e)},i);t.$el.html(t.template.render(h,{scheduleTimeGroupItems:r.partials.schedule_time_group_items})),t.toggleFixedControls()})},buildUrl:function(i){var a=encodeURIComponent(e.location.pathname),n=e.location.search;return s+i+"/"+t()+"/"+a+n},buildDownloadUrl:function(i){var a=encodeURIComponent(e.location.pathname),n=e.location.search;return o+i+"/"+t()+"/"+a+n}});l.register("full_schedule");var c=l.extend({className:"module full_schedule",buildUrl:function(e){return s+e},buildDownloadUrl:function(e){return o+e}});c.register("emea_full_schedule")}(this),Whiskers("modules.fun_door",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="container'),a.s(a.f("door_count",e,t,1),e,t,0,56,77,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" doors-"),i.b(i.v(i.f("door_count",e,t,0)))}),e.pop()),a.b('"> '),a.s(a.f("door_config",e,t,1),e,t,0,111,635,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="door-container"'),i.s(i.f("count",e,t,1),e,t,0,149,177,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-door-count="'),i.b(i.v(i.f("count",e,t,0))),i.b('"')}),e.pop()),i.b('> <div class="outer-wrapper"> <div class="wrapper'),i.s(i.f("add_platform",e,t,1),e,t,0,253,262,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" platform")}),e.pop()),i.b('"> <div class="aspect"> '),i.s(i.f("href",e,t,1),e,t,0,312,352,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.b(i.rp("<href_attributes0",e,t,"")),i.b(">")}),e.pop()),i.b(' <div class="inside"'),i.s(i.f("sized_image",e,t,1),e,t,0,397,446,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" style=\"background-image: url('"),i.b(i.v(i.f("sized_image",e,t,0))),i.b("')\"")}),e.pop()),i.b("></div> "),i.s(i.f("href",e,t,1),e,t,0,479,483,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(' <div class="door '),i.b(i.v(i.f("design_class",e,t,0))),i.b('"'),i.s(i.f("door_color",e,t,1),e,t,0,542,584,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="background-color: '),i.b(i.v(i.f("door_color",e,t,0))),i.b(';"')}),e.pop()),i.b("></div> </div> </div> </div> </div> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(e,t){var i=t.closest(".wrapper"),n=t.closest(".door-container"),r=n.attr("data-door-count");i.addClass("show"),a(e,r)}function i(e){var t=e.length,i=u.floor(u.random()*t);return e[i]}function a(e,t){d&&d.event({engagementType:"mattFun_door",engagementMeta:"door_open_"+t,action:"Trigger Door Open ("+e+")"})}var n=e.Grill,r=e.Disney,s=r.Style.breakpoints,o=s.midHigh.toString(),l=e.Whiskers,c=e.Backbone,d=e.Tracker,u=e.Math,h=e.jQuery,f=e._,p=n.ModuleView.extend({template:l.modules.fun_door,required_template_sets:["entities"],breakpoints:o,doorFixed:!1,events:{"click .touch .wrapper":function(e){var i=h(e.target),a=i.closest(".door-container"),n=i.hasClass("wrapper")||i.hasClass("door"),r=i.hasClass("inside")&&i.closest("a").length;!a.data("doorOpen")&&n?(a.data("doorOpen",!0),t("Click",i)):r||(this.$(".door-container").removeData("doorOpen"),this.closeDoor())},"mouseenter .wrapper":function(e){var i=h(e.target);t("Hover",i)},"mouseleave .wrapper":function(){this.closeDoor()}},initialize:function(){var e=this.model.get("config_options"),t=[],a=["orange","green","pink","blue","fuchsia"],n=["one","two","three"];f.each(e&&e.door,function(e,r){var s=e&&e.image||{},o=i(a),l=i(n),c={count:r+1,href:e&&e.href&&e.href[0],image:s,design_class:"door-"+o+" door-design-"+l,add_platform:e&&e.add_platform,door_color:e&&e.door_color};t.push(c)}),this.model.set({door_config:t,door_count:t.length}),e&&e.position&&e.position.indexOf("door-fixed")>-1&&(this.style_classes=[e.position,"transparent"],this.doorFixed=!0)},render:function(){var e=c.Resize.width()>=s.midHigh,t=e?"desktop":"mobile",i=this.model.get("door_config");f.each(i,function(e){var i=e&&e.image,a=i[t];a&&(a=r.LumiereHelpers.imgSrc(a,{exact_size:!0})),f.extend(e,{sized_image:a})}),this.model.set("door_config",i),this.$el.html(this.template.render(this.model,this.ctx_additions()))},ready:function(){this.doorFixed&&(this.toggleDoorVisibility(),this.bindToScroll())},bindToScroll:function(){h(e).on("scroll."+this.cid,f.debounce(f.bind(this.onScroll,this),300))},onScroll:function(){this.toggleDoorVisibility()},toggleDoorVisibility:function(){var t=h(e).scrollTop();this.$el.toggleClass("show-door",300>t)},closeDoor:function(){this.$(".wrapper").removeClass("show")}});p.register("fun_door",{})}(this),Whiskers("modules.game_logos",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="container"> <div class="logo-container"> <span class="esrb"> '),a.s(a.f("game_rating",e,t,1),e,t,0,109,184,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("game_rating",e,t,0))),i.b('">')),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("noscript",e,t,1),e,t,0,214,282,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<noscript><img class="no-src" data-src="'),i.b(i.v(i.f("game_rating",e,t,0))),i.b('"></noscript>')}),e.pop()),a.b(" </span> "),a.s(a.f("data",e,t,1),e,t,0,313,587,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" target="_blank"> <span class="game-logo-box"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("icon",e,t,0))),i.b('" class="no-src game-logo" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,485,560,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("icon",e,t,0))),i.b('" class="game-logo" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </span> </a> ")}),e.pop()),a.b(' </div> <div class="game_legal"> '),a.b(a.v(a.f("legal_text",e,t,0))),a.b(" </div> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._;t.ModuleView.register("game_logos",{template:i.modules.game_logos,render:function(){var e=a.extend({},this.model);this.$el.html(this.template.render(e))},resize:function(){this.render()}})}(this),Whiskers("modules.glance",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(" "),a.s(a.f("data",e,t,1),e,t,0,80,1195,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="item" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="poster"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"><span class="poster-box"><img src="'),i.b(i.v(i.f("poster",e,t,0))),i.b('" width="100%"></span></a> </div><div class="details"> <h3><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</a></h3> <p class="desc">'),i.b(i.v(i.f("short_desc",e,t,0))),i.b('</p> <div class="meta"> '),i.s(i.f("reRelease",e,t,1),e,t,0,373,459,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rerelease"><strong>'),i.b(i.v(i.d("translations.re_release",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("reRelease",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,486,557,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="release"><strong>'),i.b(i.v(i.f("release_text",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("release",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("rating",e,t,1),e,t,0,581,656,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rating"><strong>'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("rating",e,t,0))),i.b("</p> ")}),e.pop()),i.b(' </div> <div class="actions"> '),i.s(i.f("buttons",e,t,1),e,t,0,709,852,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,792,819,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a></div> ")}),e.pop()),i.b(' </div> </div><div class="trailer-thumb"> <a href="'),i.b(i.v(i.f("thref",e,t,0))),i.b('"> <span class="thumb-box"><span class="aspect"> <img src="'),i.b(i.v(i.f("tthumb",e,t,0))),i.b('" class="thumb" alt="'),i.b(i.v(i.f("ttitle",e,t,0))),i.b('"> <span class="thumb-title"> <h3 class="title" aria-hidden="true">'),i.b(i.v(i.f("ttitle",e,t,0))),i.b('</h3> <time aria-hidden="true">'),i.b(i.v(i.f("tduration",e,t,0))),i.b("</time> </span> </span></span> </a> </div> </div> ")}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e._;t.ModuleView.register("glance",{breakpoints:n,template:r.modules.glance,render:function(){var e=this.model.get("translations"),t=s.extend({release_text:e.release},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(t));var i=this.$el;i.find(".divide:last").css("display","none")},resize:function(){this.render(),this.options.ads.restore()}})}(this),Whiskers("modules.glimpse",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="col-container container cols-2">'),a.s(a.f("data",e,t,1),e,t,0,124,852,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="col item" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> '),i.b(i.rp("<entity_container1",e,t,"")),i.b(' <div class="details"> <div class="meta"> '),i.s(i.f("reRelease",e,t,1),e,t,0,247,333,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rerelease"><strong>'),i.b(i.v(i.d("translations.re_release",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("reRelease",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,360,439,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="release"><strong>'),i.b(i.v(i.d("translations.release",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("release",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("rating",e,t,1),e,t,0,463,538,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="rating"><strong>'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</strong> "),i.b(i.v(i.f("rating",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("albumShortDesc",e,t,1),e,t,0,569,614,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="shortdesc">'),i.b(i.v(i.f("albumShortDesc",e,t,0))),i.b("</p> ")}),e.pop()),i.b(' </div> <div class="actions"> '),i.s(i.f("buttons",e,t,1),e,t,0,675,818,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,758,785,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a></div> ")}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),a.b("</div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._;t.ModuleView.register("glimpse",{template:i.modules.glimpse,required_template_sets:["module_header","entities"],render:function(){var e=this.model,t=a.extend({albumShortDesc:function(){return"album"===e.get("type")&&this.get("short_desc")}},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(t,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}})}(this),Whiskers("modules.grid",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.s(a.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,100,118,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="cols-'),a.b(a.v(a.f("rpp",e,t,0))),a.b(" "),a.b(a.v(a.f("layoutType",e,t,0))),a.b(' col-container"> '),a.s(a.f("visible_data",e,t,1),e,t,0,208,217,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<item1",e,t,""))}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<item1":{name:"item",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=e.Whiskers,n=e._,r=i.Style.breakpoints,s=n.values(r),o=n.contains(["disneychannel.disney.com","disneyxd.disney.com"],i.portal),l=t.GridModuleBaseView.extend({breakpoints:s.join(" "),style_classes:["grid-view"],required_template_sets:["module_header","entities"],template:a.modules.grid,initialize:function(){var e=this.model,t=e.data;this.entity_type=n.first(t.models).get("entity_type")||e.get("type")},render:function(){var e=this.cols(),t=this.model,i=t.data.models.slice(0,this.limit(e));this.model.set("visible_data",i);var a=n.extend({rpp:e,layoutType:e>1?"grid-layout":"list-layout",channelSite:o,entity_type:this.entity_type,singleRow:i.length<=e},this.model);this.$el.html(this.template.render(a,this.ctx_additions()))},limit:function(e){var t=this.model.get("type"),i=this.model.data.length;return"character"===t?i:i>e?i-i%e:i}});l.register("browse",{}),l.register("recommended",{limit:function(e){return o?this.model.data.length:e}}),l.register("enchilada",{style_classes:["browse"],limit:function(){return this.model.data.length}})}(this),Whiskers("modules.grid_interactive",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<style type="text/css"> '),a.s(a.f("data",e,t,1),e,t,0,33,946,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" #object-ref-"),i.b(i.v(i.f("id",e,t,0))),i.b(" .wrapper{ "),i.s(i.f("image_assets",e,t,1),e,t,0,80,143,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("background",e,t,1),e,t,0,95,128,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.b("');")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("image_assets",e,t,1),e,t,1,0,0,"")||i.s(i.f("thumb_data",e,t,1),e,t,0,193,226,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.b("');")}),e.pop()),i.b(" } #object-ref-"),i.b(i.v(i.f("id",e,t,0))),i.b(" .bg-color-fill{ "),i.s(i.f("object_background_styles",e,t,1),e,t,0,325,537,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,347,386,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b(";")}),e.pop()),i.b(" "),i.s(i.f("gradient_color",e,t,1),e,t,0,427,517,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: "),i.b(i.v(i.f("gradient_style",e,t,0))),i.b("-gradient("),i.b(i.v(i.f("background_color",e,t,0))),i.b(", "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b("); ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" } #object-ref-"),i.b(i.v(i.f("id",e,t,0))),i.b(" .content-container .image{ "),i.s(i.f("image_assets",e,t,1),e,t,0,632,695,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("foreground",e,t,1),e,t,0,647,680,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("background-image: url('"),i.b(i.v(i.f("src",e,t,0))),i.b("');")
}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("sprite_options",e,t,1),e,t,0,732,924,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("animation_duration",e,t,1),e,t,0,756,800,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("animation-duration: "),i.b(i.v(i.f("animation_duration",e,t,0))),i.b("s;")}),e.pop()),i.b(" "),i.s(i.f("animation_iteration",e,t,1),e,t,0,848,899,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("animation-iteration-count: "),i.b(i.v(i.f("animation_iteration",e,t,0))),i.b(";")}),e.pop()),i.b(" ")}),e.pop()),i.b(" } ")}),e.pop()),a.b(' </style> <div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,1010,1028,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="col-container'),a.s(a.f("num_items",e,t,1),e,t,0,1084,1104,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" items-"),i.b(i.v(i.f("num_items",e,t,0)))}),e.pop()),a.b('"> '),a.s(a.f("data",e,t,1),e,t,0,1130,2976,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="col item '),i.s(i.f("sprite_options",e,t,1),e,t,0,1171,1236,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("animation_start",e,t,1),e,t,0,1191,1216,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("animation_start",e,t,0))),i.b("-start")}),e.pop())}),e.pop()),i.b('" id="object-ref-'),i.b(i.v(i.f("id",e,t,0))),i.b('"> <div class="entity-container entity-type-'),i.b(i.v(i.f("entity_type",e,t,0))),i.b(" skip-hover "),i.s(i.f("entity_config",e,t,1),e,t,0,1367,1656,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" ratio-"),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b(" "),i.s(i.f("href",e,t,1),e,t,0,1400,1409,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("links-out")}),e.pop()),i.b(" "),i.s(i.f("event_value",e,t,1),e,t,0,1435,1444,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("links-out")}),e.pop()),i.b(" "),i.s(i.f("rounded_corners",e,t,1),e,t,0,1481,1508,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("corners-"),i.b(i.v(i.f("rounded_corners",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("title_overlay",e,t,1),e,t,0,1547,1560,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("title-overlay")}),e.pop()),i.b(" "),i.s(i.f("details_visibility",e,t,1),e,t,0,1602,1632,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("details_visibility",e,t,0))),i.b("-details")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("item_aspect_ratio_override",e,t,1),e,t,0,1706,1727,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("aspect-ratio-override")}),e.pop()),i.b(" "),i.s(i.f("interactive",e,t,1),e,t,0,1775,1786,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("interactive")}),e.pop()),i.b('"> '),i.s(i.f("href",e,t,1),e,t,0,1814,1918,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="entity-link'),i.s(i.f("is_touch",e,t,1),e,t,0,1864,1882,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" animation-trigger")}),e.pop()),i.b('" '),i.b(i.rp("<href_attributes1",e,t,"")),i.b(">")}),e.pop()),i.b(" "),i.s(i.f("is_touch",e,t,1),e,t,0,1941,1990,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("href",e,t,1),e,t,1,0,0,"")||i.b('<div class="animation-trigger">')}),e.pop()),i.b(' <div class="'),i.b(i.v(i.f("entity_type",e,t,0))),i.b('-box entity-box"> '),i.s(i.f("object_background_styles",e,t,1),e,t,0,2078,2195,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("background_color",e,t,1),e,t,0,2099,2174,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <div class="bg-color-fill"></div> ')}),e.pop())}),e.pop()),i.b(' <div class="wrapper '),i.s(i.f("background_image_options",e,t,1),e,t,0,2274,2385,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" bg-options "),i.s(i.f("repeat",e,t,1),e,t,0,2297,2307,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("repeat",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("size",e,t,1),e,t,0,2328,2336,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("size",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("position",e,t,1),e,t,0,2359,2371,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("position",e,t,0)))}),e.pop()),i.b(" ")}),e.pop()),i.b('"> <div class="content-container"> <div class="aspect"></div> <div class="image '),i.s(i.f("sprite_options",e,t,1),e,t,0,2513,2617,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("use_sprite_animation",e,t,1),e,t,0,2539,2591,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" animate-sprite "),i.s(i.f("looping",e,t,1),e,t,0,2567,2578,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("looping",e,t,0)))}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b('"></div> <div class="entity-details '),i.s(i.f("entity_config",e,t,1),e,t,0,2690,2806,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text_alignment",e,t,1),e,t,0,2710,2733,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_alignment",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("truncate_title",e,t,1),e,t,0,2772,2786,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("truncate-title")}),e.pop()),i.b(" ")}),e.pop()),i.b('"> <h3 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h3> </div> </div> </div> </div> "),i.s(i.f("is_touch",e,t,1),e,t,0,2901,2925,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("href",e,t,1),e,t,1,0,0,"")||i.b("</div>")}),e.pop()),i.b(" "),i.s(i.f("href",e,t,1),e,t,0,2948,2952,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<href_attributes1":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(t){var i=o(t.currentTarget),a=i.attr("href"),n=i.find(".image"),r=i.closest(".col"),l=".grid_interactive";r.hasClass("hover-start")&&n.hasClass("animate-sprite")&&(t.preventDefault(),r.addClass("active"),n.one(s+l,function(){a?e.location=a:r.removeClass("active"),n.off(s+l)}))}var i=e.Grill,a=e.Disney,n=e.Whiskers,r=e.Modernizr,s=a.Utilities.selectAnimationEnd(),o=e.jQuery,l=e._,c=i.ModuleView.extend({style_classes:["grid-view","skip-overlay-placement"],required_template_sets:["module_header","entities"],template:n.modules.grid_interactive,visibilityThreshold:100,events:{"click .animation-trigger":function(e){t(e)}},render:function(){var e=this.model.get("data"),t=l.extend(this.model,{is_touch:r.touch,num_items:e.length});this.$el.html(this.template.render(t,this.ctx_additions())),this.bindToScroll(),this.setAnimationState()},bindToScroll:function(){o(e).on("scroll."+this.cid,l.debounce(l.bind(this.onScroll,this),300))},onScroll:function(){var e=this.$(".item");a.Utilities.setElementVisibility(e,this.visibilityThreshold),this.setAnimationState()},setAnimationState:function(){var e=this.$(".load-start");e.toggleClass("run",!!e.data("visibility"))}});c.register("grid_interactive",{})}(this),Whiskers("modules.guide",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="container"> '),a.s(a.f("header_data",e,t,1),e,t,0,60,78,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="schedule"> '),a.s(a.f("data",e,t,1),e,t,0,127,345,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="row"> <span class="cell time">'),i.b(i.v(i.f("time",e,t,0))),i.b('</span> <span class="cell info"> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="series">'),i.b(i.v(i.f("series",e,t,0))),i.b('</div> </span> <span class="cell desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</span> </div> ")}),e.pop()),a.b(" </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),Whiskers("modules.schedule",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="shows_schedule"> <div class="container"> <div class="header">'),a.b(a.v(a.f("title",e,t,0))),a.b('</div> <ul class="three_up"> '),a.s(a.f("data",e,t,1),e,t,0,120,355,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li> <span class="time">'),i.b(i.v(i.f("time",e,t,0))),i.b('</span> <span class="show_title">'),i.b(i.v(i.f("series",e,t,0))),i.b("</span> "),i.s(i.f("classification",e,t,1),e,t,0,223,329,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="classification classification-'),i.b(i.v(i.f("classification_class",e,t,0))),i.b('">&nbsp;'),i.b(i.v(i.f("classification",e,t,0))),i.b("&nbsp;</span>")}),e.pop()),i.b(" </li> ")}),e.pop()),a.b(' </ul> <div class="full_schedule"> <a href="'),a.b(a.v(a.f("href",e,t,0))),a.b('"><span class="see_mobile">'),a.b(a.v(a.f("see",e,t,0))),a.b(" &nbsp;</span>"),a.b(a.v(a.f("linkTitle",e,t,0))),a.b("</a> </div> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Modernizr,a=e.Whiskers,n=e.jQuery,r=e._,s={title:"Today's Schedule",schedule_title:"What's On:"},o=t.ModuleView.extend({initialize:function(){this.$el.hide()},render:r.noop,ready:function(){var e=this.buildUrl();this.fetchData(e)},zeroPad:function(e,t){for(var i=e.toString();i.length<t;)i="0"+i;return i},toParseableDate:function(e){var t={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},i=e.split(" ");return e=i[3]+"/"+parseInt(t[i[2]],10)+"/"+parseInt(i[1],10)+" "+i[4],new Date(e)},buildUrl:function(){var e=this,t=new Date,i=new Date,a="";i.setDate(i.getDate()+1);var n=t.getFullYear()+e.zeroPad(t.getMonth()+1,2)+e.zeroPad(t.getDate(),2),r=i.getFullYear()+e.zeroPad(i.getMonth()+1,2)+e.zeroPad(i.getDate(),2),s=-(t.getTimezoneOffset()/60),o="001",l=this.model.get("data")[0].title.toLowerCase(),c=null;c=this.model.get("channel_schedule")?this.model.get("channel_schedule").toLowerCase():"false";var d="";return a=-1!==l.indexOf("junior")||-1!==c.indexOf("junior")?"008":-1!==l.indexOf("xd")||-1!==c.indexOf("xd")?"009":"004",d="/watch/livetvguide/"+a+"/"+o+"/"+n+"/"+r+"/"+s},fetchData:function(e){var t=this;n.getJSON(e,function(e){var a=[],o=e.schedule.video,l=0,c=new Date;n.each(o,function(e,i){var n=i.airdates.airdate,r=t.toParseableDate(n),s=r.getTime()+parseInt(i.duration,10)>=c.getTime();if(s&&10>l){var o=r.getHours(),d=r.getMinutes(),u=o>=12?"pm":"am";o=0===o?12:o>12?o-12:o;var h=o+":"+t.zeroPad(d,2)+u;l++,a.push({time:h,title:i.title,series:i.show.title,description:i.description})}}),s=r.extend(s,{data:a}),i.flash&&!i.mobile&&t.$el.hide().html(t.template.render(s)).fadeIn()})}});o.register("live_tv_guide",{template:a.modules.guide}),o.register("schedule",{template:a.modules.schedule,fetchData:function(e){var t=this,i=this.model.get("data")[0].href,a=this.model.get("data")[0].title,o=this.model.get("title"),l=this.model.get("translations");n.getJSON(e,function(e){var c=[],d=e.schedule.video,u=0,h=new Date;n.each(d,function(e,i){var a=i.airdates.airdate,n=t.toParseableDate(a),r=n.getTime()+parseInt(i.duration,10)>=h.getTime();if(r&&3>u){var s=n.getHours(),o=n.getMinutes(),l=s>=12?"p":"a";s=0===s?12:s>12?s-12:s;var d=s+":"+t.zeroPad(o,2)+l;u++,c.push({time:d,series:i.show.title})}}),s=r.extend(s,{data:c,href:i,title:o,linkTitle:a,translations:l}),t.$el.hide().html(t.template.render(s)).fadeIn()})}})}(this),Whiskers("modules.hero_universal",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="carousel'),a.s(a.f("identity",e,t,1),e,t,0,53,100,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" identity"),i.s(i.f("hasThumbs",e,t,1),e,t,1,0,0,"")||i.b(" no-thumbs")}),e.pop()),a.b(" "),a.b(a.v(a.f("heroSize",e,t,0))),a.b(' universal"> <ul class="slides"> '),a.s(a.f("slides",e,t,1),e,t,0,170,195,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.rp("<heroSlide0",e,t,"")),i.b("</li> ")}),e.pop()),a.b(" </ul> </div> "),a.s(a.f("identity",e,t,1),e,t,0,233,260,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<identityOverlayPartial1",e,t,""))}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<heroSlide0":{name:"heroSlide",partials:{},subs:{}},"<identityOverlayPartial1":{name:"identityOverlayPartial",partials:{},subs:{}}},subs:{}}),Whiskers("modules.rich_image",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("image",e,t,1),e,t,0,10,441,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="bound"> '),i.s(i.f("data",e,t,1),e,t,0,39,245,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.s(i.f("age_gate",e,t,1),e,t,0,71,114,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' class="age-gated" data-age="'),i.b(i.v(i.f("age_gate",e,t,0))),i.b('" ')}),e.pop()),i.b(" "),i.s(i.f("event_value",e,t,1),e,t,0,144,177,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-event-link="'),i.b(i.v(i.f("event_value",e,t,0))),i.b('"')}),e.pop()),i.b(' title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" target="_blank"> ')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,355,416,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("alt_text",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </a> </div>")}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("partials.hero_slide",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="branding"> <div class="scaler"></div> '),a.s(a.f("overlayLeft",e,t,1),e,t,0,66,137,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="left-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayLeft",e,t,0))),i.b('"> </div> ')}),e.pop()),a.b(" "),a.s(a.f("overlayRight",e,t,1),e,t,0,171,244,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="right-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayRight",e,t,0))),i.b('"> </div> ')}),e.pop()),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,271,290,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">')}),e.pop()),a.b(' <div class="background"> '),a.s(a.f("slide_image",e,t,1),e,t,0,341,452,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.f("slide_image",e,t,0))),i.b('" '),i.s(i.f("event_value",e,t,1),e,t,0,385,418,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-event-link="'),i.b(i.v(i.f("event_value",e,t,0))),i.b('"')}),e.pop()),i.b(' alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> ')}),e.pop()),a.b(" "),a.s(a.f("noscript",e,t,1),e,t,0,482,539,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("hero",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),a.b(" </div> "),a.s(a.f("show_data",e,t,1),e,t,0,574,1268,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("section",e,t,1),e,t,0,587,631,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<h2 class="channel_section">'),i.b(i.v(i.f("section",e,t,0))),i.b("</h2>")}),e.pop()),i.b(' <div class="channel_mini_hero"> <div class="featured_channel_img"> <img src="'),i.b(i.v(i.f("asset_logo_image",e,t,0))),i.b('"> <p>'),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</p> </div> "),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,0,807,970,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="featured_link"> <div class="featured_channel"> <img src="'),i.b(i.v(i.f("featured_content_image",e,t,0))),i.b('"> <p>'),i.b(i.v(i.f("featured_channel_shortDesc",e,t,0))),i.b("</p> </div> </a> ")}),e.pop()),i.b(" "),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,1,0,0,"")||i.b('<div class="no_desc_box"></div>'),i.b(' <div class="cds_box '),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,1,0,0,"")||i.b("notxt"),i.s(i.f("featured_channel_shortDesc",e,t,1),e,t,0,1214,1221,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" hastxt")}),e.pop()),i.b('"></div> </div> ')}),e.pop()),a.b(" "),a.s(a.f("animated",e,t,1),e,t,0,1296,1351,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("noVideoSupport",e,t,1),e,t,1,0,0,"")||i.b(i.rp("<videoPartial0",e,t,""))}),e.pop()),a.b(" "),a.s(a.f("href",e,t,1),e,t,0,1374,1378,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),a.b(" </div> "),a.s(a.f("show_data",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="content '),a.b(a.v(a.f("contentPosition",e,t,0))),a.b('"> <div class="logo"> '),a.s(a.f("featured_content_image",e,t,1),e,t,0,1498,1563,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <img src="'),i.b(i.v(i.f("featured_content_image",e,t,0))),i.b('"> </a> ')}),e.pop()),a.b(' <a href="'),a.b(a.v(a.f("href",e,t,0))),a.b('" class="heading"> <h2 class="'),a.b(a.v(a.f("editorialColor",e,t,0))),a.b('" '),a.s(a.f("headerColor",e,t,1),e,t,0,1674,1705,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.f("headerColor",e,t,0))),i.b(';"')}),e.pop()),a.b(">"),a.b(a.v(a.f("section",e,t,0))),a.b('</h2> <h3 class="'),a.b(a.v(a.f("editorialColor",e,t,0))),a.b('">'),a.b(a.v(a.f("featured_channel_shortDesc",e,t,0))),a.b("</h3> </a> "),a.s(a.f("buttons",e,t,1),e,t,0,1823,2474,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large blue" style="background-color: '),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("bg_bottom_color",e,t,0))),i.b(", "),i.b(i.v(i.f("bg_top_color",e,t,0))),i.b("); "),i.s(i.f("border_color",e,t,1),e,t,0,2383,2418,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("border: 1px solid "),i.b(i.v(i.f("border_color",e,t,0))),i.b(";")}),e.pop()),i.b(" color: "),i.b(i.v(i.f("text_color",e,t,0))),i.b(';">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),a.b(" </div> </div> ")),a.fl()},partials:{"<videoPartial0":{name:"videoPartial",partials:{},subs:{}}},subs:{}}),Whiskers("partials.hero_video",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<!-- begin video partial--> <div class="video-wrapper '),a.s(a.f("loopOption",e,t,1),e,t,0,69,76,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("looping")}),e.pop()),a.b(" "),a.s(a.f("loopOption",e,t,1),e,t,1,0,0,"")||a.b("single-play"),a.b('" '),a.s(a.f("event_value",e,t,1),e,t,0,151,184,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('data-event-link="'),i.b(i.v(i.f("event_value",e,t,0))),i.b('"')}),e.pop()),a.b("> <video "),a.s(a.f("loopOption",e,t,1),e,t,0,224,228,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("loop")}),e.pop()),a.b('> <source src="'),a.b(a.v(a.f("mp4",e,t,0))),a.b('" type="video/mp4"> <img src="'),a.b(a.v(a.f("fallback",e,t,0))),a.b('"> </video> <!--<a class="sound-toggle on"></a>--> '),a.s(a.f("loopOption",e,t,1),e,t,1,0,0,"")||(a.b('<div class="replay-button-box '),a.b(a.v(a.f("contentPosition",e,t,0))),a.b(" "),a.b(a.v(a.f("editorialColor",e,t,0))),a.b('-theme"><a class="button transparent large replay" style="">Replay</a></div>')),a.b(" </div><!-- end video partial -->"),a.fl()},partials:{},subs:{}}),Whiskers("partials.hero_identity_overlay",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="personality-details '),a.b(a.v(a.f("contentPosition",e,t,0))),a.b(" "),a.b(a.v(a.f("portal",e,t,0))),a.b(" "),a.b(a.v(a.f("editorialColor",e,t,0))),a.s(a.f("style_options",e,t,1),e,t,0,99,128,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.d("style_options.text_style",e,t,0)))}),e.pop()),a.b('" style="background-color: '),a.b(a.v(a.f("darkColor",e,t,0))),a.b(';"> <h1 class="skip-text-styles" '),a.s(a.f("headerColor",e,t,1),e,t,0,235,266,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('style="color: '),i.b(i.v(i.f("headerColor",e,t,0))),i.b(';"')}),e.pop()),a.b(">"),a.b(a.v(a.f("title",e,t,0))),a.b("</h1> "),a.s(a.f("hasThumbs",e,t,1),e,t,0,312,618,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="headshot entity-container ratio-square"> <div class="personality-box entity-box"> <div class="aspect"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,525,583,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),a.b(' <p class="desc '),a.b(a.v(a.f("contentPosition",e,t,0))),a.b(' skip-text-styles">'),a.b(a.v(a.f("description",e,t,0))),a.b("</p> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill.ModuleView,i=e.Disney,a=e.Grill,n=e.Whiskers,r=e.Modernizr,s=e.jQuery,o=e._,l=e.Backbone,c=e.EventLinkHandler,d=e.devicePixelRatio>1.5,u=i.Style.breakpoints,h=u.midHigh.toString(),f=a.ModuleView.extend({style_classes:["skip-styles","skip-bottom-border","skip-top-border","full-height","full-width"],template:n.modules.hero_universal,breakpoints:h,heroImg:"hero",wideImage:null,mobileImage:null,currentPlayer:void 0,current:void 0,oldPlayer:void 0,mergedObj:null,darkColor:null,identityThumbs:null,slideDelay:3e3,delayAfterVideo:4e3,showArrows:!0,showDots:!0,hidden:!1,topBorder:!1,initialize:function(){this.model.get("slide_timer")&&(this.slideDelay=1e3*this.model.get("slide_timer"));var e=this.model.get("data"),t=this.model.get("style_options"),a=this.model.get("config_options"),r=this.model.collection.style,o=this,l=null;if(a&&(a.show_arrows||a.show_dots)&&(a.show_arrows&&(this.showArrows=!0),a.show_dots&&(this.showDots=!0)),e.length>0&&"Hero"===e[0].type)this.darkColor=r&&r.secondary_theme&&r.secondary_theme.background_color,this.mergedObj={heroes:e},"Hero"!==s(e).slice(-1)[0].type&&(l=s(e).slice(-1)[0],this.mergedObj.heroes.pop(),this.identityThumbs="Character"===l.type||"Artist"===l.type),this.mergedObj.identity=l;else if(o.template=n.modules.rich_image,o.$el.addClass("rich_image"),t&&t.images&&t.images.foreground_image){var c=t.images.foreground_image;o.wideImage=d&&c.retina_url||c.url,o.mobileImage=d&&c.mobile_retina_url||c.mobile_url,o.alt_text=c.alt_text}this.needsGuestContext()&&i.guest.retain()},destroy:function(){this.needsGuestContext()&&i.guest&&i.guest.release()},events:{"click [data-event-link]":function(e){e.preventDefault(),c.handle(e)}},render:function(){var t=this,i=this.model,a=i.get("data"),c=o.first(i.get("data")),h=i.get("style_options"),f=l.Resize.width(),p=f>=u.midHigh,m=f>=u.max,g=!!this.options.cds,b=o.extend({data:a,desktop:m,image:p?t.wideImage:t.mobileImage,alt_text:t.alt_text,cds:g,noVideoSupport:!r.video||r.mobile,darkColor:t.darkColor,heroSize:c?c.heroSize:null,layout:h.layout,contentPosition:c?c.contentPosition:null,slides:a,identity:function(){return t.mergedObj.identity?(o.extend(t.mergedObj.identity,{darkColor:t.darkColor,hasThumbs:t.identityThumbs,editorialColor:o.first(t.mergedObj.heroes).editorialColor,headerColor:o.first(t.mergedObj.heroes).titleColor||o.first(t.mergedObj.heroes).editorialColor}),t.mergedObj.identity):void 0},slide_image:function(){var e=this.image_assets;if(e){var t=d?e.retina:e.non_retina;return p?t.wide_src:t.mobile_src}},headerColor:function(){return this.titleColor}},this.options.ads.helpers(),i);this.$el.html(t.template.render(b,{heroSlide:n.partials.hero_slide,videoPartial:n.partials.hero_video,identityOverlayPartial:n.partials.hero_identity_overlay})),this.$(".slides").swipeasaurus({effect:f>=u.max?"fade":t.mergedObj&&t.mergedObj.heroes&&t.mergedObj.heroes.length>1?"slide":"fade",dots:this.showDots,arrows:this.showArrows}),s(e).on("scroll."+this.cid,o.throttle(o.bind(this.scrollCheck,this),300))},resize:function(){var t=this.$(".slides"),i=this,a=(t.data("swipeasaurus")||{}).index/s("li",t).length,n=[];this.$(".slides li.finished").each(function(e,t){n.push(s(t).index())}),t=i.$(".slides"),t.swipeasaurus("slide",e.Math.floor(a*s("li",t).length),!0),this.options.ads.restore(),t.swipeasaurus("stop"),this.render(),s(n).each(function(e){s(i.$(".slides li")[e]).addClass("finished")}),this.geoReady()},geoReady:function(){this.takeover(0);var e=l.Resize.width();if(this.mergedObj&&this.mergedObj.identity&&this.mergedObj.identity.headerColor&&(e<u.midHigh?this.$(".details h1").css("color","#fff"):this.$(".details h1").css("color",this.mergedObj.identity.headerColor)),!(e<u.midHigh)){var t=this.$(".slides"),i=this.$(".button.replay"),a=this;a.current=s(".dot.active")[0]?s(".dot.active").index():0,i.on("click",function(e){e.preventDefault();var i=s(e.target).parent(".content").siblings(".branding").find("video")[0];s(i).closest("li").removeClass("finished"),t.swipeasaurus("stop"),a.resetSlide(s(e.target).closest(".slides li").index(),!0)}),t.on("slide",function(e,t){l.Resize.width()>=u.max&&a.takeover(t)}).swipeasaurus("start",a.slideDelay),a.onNewSlide(a.current);var n=function(e,t){t===a.current};t.on("slideEnd",n),a.scrollCheck()}},scrollCheck:function(){var t=this,i=this.$(".slides"),a=s(e).height(),n=t.$el.height(),r=t.$el.offset().top,o=s(e).scrollTop();t.hidden?("below"===t.hidden&&a+o>r+n/5||"above"===t.hidden&&r+n>o)&&(t.hidden=!1,t.currentPlayer&&("loop"===s(t.currentPlayer).attr("loop")?t.currentPlayer.play():t.onNewSlide(t.current)),i.swipeasaurus("resume")):o>r+n?(t.hidden="above",t.currentPlayer&&"loop"===s(t.currentPlayer).attr("loop")&&t.currentPlayer.pause(),i.swipeasaurus("pause")):r>a+o&&(t.hidden="below",t.currentPlayer&&"loop"===s(t.currentPlayer).attr("loop")&&t.currentPlayer.pause(),i.swipeasaurus("pause"))},pauseAndRewind:function(e){e.pause(),e.currentTime=0},startVideo:function(e){var t=this;e&&(e.play(),s(e).on("ended",function(){s(e).closest("li").addClass("finished"),t.showEndcard(e)}))},showEndcard:function(e){var t=this;s(e).closest("li").hasClass("finished")?l.Resize.width()>u.midHigh&&t.$(".slides").swipeasaurus("start",t.delayAfterVideo):(e.currentTime=e.duration,s(e).closest("li").addClass("finished"))},resetSlide:function(e,t){var i=this;s(i.$(".slides li")[e]).removeClass("finished");var a=s(i.$(".slides li")[e]).find("video")[0];a&&(i.pauseAndRewind(a),t&&i.startVideo(a))},onNewSlide:function(e){var t=this,i=t.$(".slides");t.current=e,l.Resize.width()>u.midHigh&&(t.oldPlayer&&t.oldPlayer!==t.currentPlayer&&(s(t.oldPlayer).closest("li").hasClass("finished")||(t.pauseAndRewind(t.oldPlayer),s(t.oldPlayer).closest(".video-wrapper").hasClass("single-play")&&t.showEndcard(t.oldPlayer))),s(t.$(".slides > li")[e]).find("video")&&(t.currentPlayer=s(t.$(".slides > li")[e]).find("video")[0]),t.oldPlayer=t.currentPlayer,t.hidden===!1&&(t.currentPlayer?s(t.currentPlayer).closest("li").hasClass("finished")||"loop"===s(t.currentPlayer).attr("loop")?("loop"===s(t.currentPlayer).attr("loop")&&t.startVideo(t.currentPlayer),i.swipeasaurus("start",t.slideDelay)):(i.swipeasaurus("stop"),t.startVideo(t.currentPlayer)):i.swipeasaurus("start",t.slideDelay)),l.Resize.width()>=u.max&&t.takeover(e))},takeover:function(e){var t=this.model.get("data"),a=t[e].takeover_styles;i.Style.applyTakeoverStyles(a,!0)},remove:function(){t.prototype.remove.call(this),s(e).off("scroll."+this.cid)}});f.register("hero_universal",{}),f.register("minihero",{heroImg:"minihero"}),f.register("channel_hero",{}),f.register("hero_slider",{}),f.register("empty_takeover",{}),f.register("rich_media",{className:"module bun full-height full-width",takeover:function(){},showArrows:!1,showDots:!1,hidden:"below",topBorder:!0})}(this),Whiskers("modules.iframe",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("config_options",e,t,1),e,t,0,19,662,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("validated_src",e,t,1),e,t,0,38,643,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bound"> '),i.s(i.f("header_data",e,t,1),e,t,0,75,93,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),i.b(' <div class="container" style="max-width:'),i.b(i.v(i.f("width",e,t,0))),i.b("px; max-height:"),i.b(i.v(i.f("height",e,t,0))),i.b('px"> <div class="iframe-wrapper" style="padding-bottom:'),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b('%"> <iframe src="'),i.b(i.v(i.f("validated_src",e,t,0))),i.s(i.f("query_params",e,t,1),e,t,0,306,323,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("?"),i.b(i.v(i.f("query_params",e,t,0)))}),e.pop()),i.b('" width="'),i.b(i.v(i.f("width",e,t,0))),i.b('" height="'),i.b(i.v(i.f("height",e,t,0))),i.b('" frameborder="'),i.b(i.v(i.f("frameborder",e,t,0))),i.b('" class="align-'),i.b(i.v(i.f("align",e,t,0))),i.b('" '),i.s(i.f("allow_fullscreen",e,t,1),e,t,0,455,470,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("allowfullscreen")}),e.pop()),i.b(" "),i.s(i.f("sandbox_mode",e,t,1),e,t,0,509,537,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('sandbox="'),i.b(i.v(i.f("sandbox_allows",e,t,0))),i.b('"')}),e.pop()),i.b(' scrolling="'),i.b(i.v(i.f("scrolling",e,t,0))),i.b('" data-ratio="'),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b('"> </iframe> </div> </div> </div> ')}),e.pop()),i.b(" ")}),e.pop()),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(t){var i=e.document.createElement("a");i.setAttribute("href",t);var a=["https:","http:",""];return a.indexOf(i.protocol)>-1?t:void 0}function i(t){var i=e.document.createElement("a");return i.setAttribute("href",t),i}function a(a,n){if(a=t(a),a&&void 0!==n&&(!n||0!==n.length)){for(var r=i(a),s=e.document.createElement("a"),o=0;o<n.length;o++){var l="http://"+n[o];if(s.setAttribute("href",l),r.hostname===s.hostname&&("/"===s.pathname||r.pathname===s.pathname))return r}e.console.warn("iframe src not whitelisted: "+a)}}function n(e,t){return e>0&&t>0?t/e*100:0}var r=e.Grill,s=e.Whiskers,o=e.jQuery,l=e._,c=r.ModuleView.extend({style_classes:["iframe-view"],required_template_sets:["module_header"],template:s.modules.iframe,initialize:function(){var e=this.model.get("config_options"),t=n(e.width,e.height),i=String(e.sandbox).replace(/,/g," "),r=a(e.src,this.model.collection.iframe_whitelist),s=r&&r.href;l.extend(e,{sandbox_allows:i,aspect_ratio:t,scrolling:e.fixed_width?"auto":"no",validated_src:s}),this.model.set("config_options",e),this.validated_link=r,this.style_classes.push(e.fixed_width?"fixed":"fluid")},render:function(){if(this.validated_link){var t=this.model.get("config_options");this.$el.html(this.template.render(this.model,this.ctx_additions())),this.messaging_enabled&&this.messageCallback&&t.allow_fullscreen&&(e.addEventListener("message",this.messageCallback.bind(this),!1),l.extend(this,{$iframe:this.$("iframe"),$iframe_wrapper:this.$(".iframe-wrapper"),$container:this.$(".container")}))}}});c.register("iframe",{}),c.register("mint_container",{messaging_enabled:!0,messageCallback:function(t){var a=this.validated_link,n=i(t.origin),r=this.model.get("config_options");a.hostname===n.hostname&&("fullscreen"===t.data&&r.allow_fullscreen?(this.$(".bound").addClass("fullscreen"),this.resizeIframe(),o(e).on("resize."+this.cid,l.debounce(l.bind(this.resizeIframe,this),300))):"exit_fullscreen"===t.data&&r.allow_fullscreen&&(this.$(".bound").removeClass("fullscreen"),this.removeIframeSizing(),o(e).off("resize."+this.cid)))},resizeIframe:function(){var t=this.$iframe.height(),i=e.innerHeight;if(t>i){var a=this.$iframe.data("ratio"),n=Math.round(i/(a/100));this.$iframe.css({"max-height":i,"max-width":n,"min-width":n}),this.$iframe_wrapper.addClass("height-capped")}else this.removeIframeSizing(),this.$iframe_wrapper.removeClass("height-capped");this.$container.css("max-height",i)},removeIframeSizing:function(){this.$iframe.css({"max-height":"","max-width":"","min-width":""}),this.$container.css("max-height","")}})}(this),Whiskers("modules.image_gallery",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,3124,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div id="print-image"> <div class="print-frame"> <div class="img-wrapper"> <img> <div class="info"> <p class="caption skip-text-styles"></p> <p class="print-notice skip-text-styles"> &copy; 2015 Disney </p> </div> </div> </div> </div> <div class="gallery_header"> <div class="gallery_banner_container"> <div class="banner_img"> <div class="scaler"></div> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("banner",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,432,475,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("banner",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(' <h2 class="'),i.s(i.f("cds",e,t,1),e,t,0,508,521,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" gallery-noad")}),e.pop()),i.b('">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b('</h2> <span class="gallery_shade"></span> </div> </div> <div class="gallery_link_container'),i.s(i.f("cds",e,t,1),e,t,0,646,659,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" gallery-noad")
}),e.pop()),i.b('"> <p class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b('</p> <ul class="gallery_external_links"> '),i.s(i.f("parent_page",e,t,1),e,t,0,765,852,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="parent_page_link"><a href="'),i.b(i.v(i.f("parent_page",e,t,0))),i.b('">'),i.b(i.v(i.f("parent_page_title",e,t,0))),i.b("</a></li> ")}),e.pop()),i.b(' <li class="image-total">'),i.b(i.v(i.f("numImages",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.images",e,t,0))),i.b("</li> "),i.b(" "),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("suppress_social",e,t,1),e,t,1,0,0,"")||(i.b(' <li class="social"> '),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(i.rp("<socialLinkPartial0",e,t,"")),i.b(" ")),i.b(" </li> ")),i.b(" ")),i.b(' </ul> </div> </div> <div class="gallery_ad">'),i.b(i.t(i.f("rectAllAd",e,t,0))),i.b('</div> <div id="gallery_thumb_grid"> <ul class ="img-cols"> '),i.s(i.f("thumbViewList",e,t,1),e,t,0,1250,1269,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("thumbViewList",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("thumbViewList",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(" "),i.s(i.f("noscript_images",e,t,1),e,t,0,1389,1416,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("<partials/gallery_thumb1",e,t,""))}),e.pop()),i.b(" ")),i.b(" </ul> </div> "),i.s(i.f("show_pagination",e,t,1),e,t,0,1489,1729,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="static_pagination"> '),i.s(i.f("prev_page",e,t,1),e,t,0,1536,1610,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("prev_page",e,t,0))),i.b('" class="prev_page"> &laquo; Previous Page</a>')}),e.pop()),i.b(" "),i.s(i.f("next_page",e,t,1),e,t,0,1639,1707,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("next_page",e,t,0))),i.b('" class="next_page">Next Page&raquo;</a>')}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" "),i.s(i.f("hasMore",e,t,1),e,t,0,1762,1951,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button"> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),i.b(" "),i.b(' <div class="modal-window"> <div class="modal-header"></div> <div class="modal-content"> '),i.b(i.t(i.f("imageViewList",e,t,0))),i.b(' <div class="arrows"> <div class="arrow-sizer prev"><span class="arrow-prev clicon" data-title="prev"></span></div> <div class="arrow-sizer next"><span class="arrow-next clicon" data-title="next"></span></div> </div> </div> <div class="modal-footer"> '),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("suppress_social",e,t,1),e,t,1,0,0,"")||(i.b(' <span class="social"> '),i.b(i.rp("<socialLinkPartial2",e,t,"")),i.b(" </span> ")),i.b(" ")),i.b(' <span class="print"></span> <span class="image-count"><span class="current-count">1</span> <span>'),i.b(i.v(i.d("translations.of",e,t,0))),i.b("</span> <span>"),i.b(i.v(i.f("numImages",e,t,0))),i.b('</span></span> </div> <div class="loading-status"><span>'),i.b(i.v(i.d("translations.loading",e,t,0))),i.b('...</span></div> <div class="modal-info"> <h2 class="modal-title skip-text-styles">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b('</h2> </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> ')}),e.pop()),a.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}},"<partials/gallery_thumb1":{name:"partials/gallery_thumb",partials:{},subs:{}},"<socialLinkPartial2":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),Whiskers("partials.gallery_thumb",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<li class="gallery-item item thumb launches-modal '),a.s(a.f("active",e,t,1),e,t,0,61,67,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),a.b('" data-title="thumb" itemscope itemtype="http://schema.org/ImageObject"> <div class="center-crop"> <div class="img-aspect aspect'),a.s(a.f("preloaded",e,t,1),e,t,1,0,0,"")||a.b(" placeholder"),a.b('"> <a itemprop="contentURL" href="'),a.b(a.v(a.f("image_fog",e,t,0))),a.b('"> '),a.s(a.f("noscript",e,t,1),e,t,1,0,0,"")||(a.b('<img class="thumbnail-image '),a.s(a.f("preloaded",e,t,1),e,t,1,0,0,"")||a.b("no-src"),a.b('" title="'),a.b(a.v(a.f("seo_title",e,t,0))),a.b('" alt="'),a.b(a.v(a.f("seoCaption",e,t,0))),a.b('" data-src="'),a.b(a.v(a.f("thumbnail_image_fog",e,t,0))),a.b('" '),a.s(a.f("preloaded",e,t,1),e,t,0,465,489,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('"')}),e.pop()),a.b(' itemprop="thumbnailUrl">')),a.b(" "),a.s(a.f("noscript",e,t,1),e,t,0,555,702,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<noscript><img class="thumbnail-image" title="'),i.b(i.v(i.f("seo_title",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("seoCaption",e,t,0))),i.b('" src="'),i.b(i.v(i.f("thumbnail_image_fog",e,t,0))),i.b('" itemprop="thumbnailUrl"></noscript>')}),e.pop()),a.b(' <div class="active-indicator"></div> </a> </div> <div class="zoom-overlay" '),a.s(a.f("touchDevice",e,t,1),e,t,0,807,824,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' ontouchstart=" "')}),e.pop()),a.b('></div> </div> <meta itemprop="caption" content="'),a.b(a.v(a.f("caption",e,t,0))),a.b('"> <meta itemprop="name" content="'),a.b(a.v(a.f("seoTitle",e,t,0))),a.b('"> </li>'),a.fl()},partials:{},subs:{}}),Whiskers("partials.image_gallery_slide",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<li class="content-container item-'),a.b(a.v(a.f("slide",e,t,0))),a.b(" "),a.b(a.v(a.f("type",e,t,0))),a.b("-"),a.b(a.v(a.f("index",e,t,0))),a.b(" "),a.b(a.v(a.f("type",e,t,0))),a.b('" data-id="'),a.b(a.v(a.f("id",e,t,0))),a.b('"> <div class="image-info"> '),a.s(a.f("caption",e,t,1),e,t,0,128,166,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")}),e.pop()),a.b(' </div> <div class="gallery-image-sizer"> '),a.s(a.f("ad",e,t,1),e,t,0,227,458,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="interstitial-container"> <div class="gallery_ad"><div class="ad-sizer"></div></div> </div> <p class="skip-ad"><span class="skip-prev"></span><span class="skip-text">'),i.b(i.v(i.f("skipText",e,t,0))),i.b('</span><span class="skip-next"></span></p>')}),e.pop()),a.b(" "),a.s(a.f("ad",e,t,1),e,t,1,0,0,"")||a.b(' <img class="gallery-image"> '),a.b(" </div> </li>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Math,a=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],n=t&&t.item,r=t.height/t.width||0,s=t.limitMax,o=e[1],l=e[2]&&e[2].height()||0,c=e[3],d=c&&c.height()||0,u=e[4]||.5,h=o.height(),f=h-l-d,p=o.width(),m=s?t.width:i.min(f/r,p),g=s?t.height:m*r,b=i.max(i.abs(f-g)*u,0),v=b+g;c.css({top:v}),n&&a(n).css({height:g,width:m,top:b})}}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=e.Modernizr,r=e.Whiskers,s=e.Backbone,o=e.Tracker,l=e._,c=e.jQuery,d=e.history;t.ModuleView.register("image_gallery",{style_classes:["skip-top-border"],page:1,currentImage:0,currentSlide:0,autoPaginate:!0,imageIds:[],resizeParams:{},adjacents:[],template:r.modules.image_gallery,social_link:r.partials.social_link,events:{"click .modal-close":function(){this.closeModal()},"click .skip-ad":function(e){var t=this.$(".modal-slides");t.swipeasaurus(c(e.target).hasClass("skip-prev")?"prev":"next")},"click .gallery-item":function(e){e.preventDefault();var t=c(e.target).closest(".gallery-item").index();this.openModal(t)},"click .show_more_container":function(){this.loadMoreThumbs(),o&&this.cleanPageName&&o.page({pageName:this.cleanPageName+"_"+this.page})},"click .print":function(){this.printExclusive()},"touchstart .print":function(){this.printExclusive()}},printExclusive:function(){c("body").addClass("exclusive-print"),e.print()},initializeModalAd:function(e){var t=this.options.ads.tag("modalInterstitial"),i=e.$el.find(".interstitial-container .gallery_ad");i.html(t),this.options.ads.slots.modalInterstitial.ready(),this.modalAd=i},initialize:function(){var e=this,i=!!this.options.cds,a=l.first(this.model.get("data")),o=a.gallery_images;l.extend(this,{touchDevice:n.touch,cds:i,allThumbs:o,numImages:o.length,modalImages:[],visibleThumbs:o&&o.slice(0,this.page*this.numPerBatch()),adInterval:i?null:a.adInterval});var d=this.adInterval;this.adDivisor=d?d:1e3,c.each(this.allThumbs,function(t,i){e.imageIds.push(i.id),i.index=t,i.slide=e.modalImages.length,i.type="image",e.modalImages.push(i),d&&(t+1)%e.adDivisor===0&&e.modalImages.push({type:"ad",index:Math.floor(t/e.adDivisor),ad:!0,slide:e.modalImages.length,skipText:"Skip ad"})}),this.numSlides=e.modalImages.length,this.thumbCollection=new s.LazyCollection(this.visibleThumbs),this.modalCollection=new s.LazyCollection(this.modalImages),this.thumbViewList=new t.ListView({collection:this.thumbCollection,template:{render:function(e){return r.partials.gallery_thumb.render(e,{})}}}),this.imageViewList=new t.ListView({className:"modal-slides",collection:this.modalCollection,template:{render:function(e){return l.extend(e,{imgSrc:function(){return this.get(s.Resize.width()<=568?"mobile_image":"image")}}),r.partials.image_gallery_slide.render(e,{})}}}),c.each(this.imageViewList.views,function(e,t){t.printSrc=t.model.get("image")||null});var u=this.model.collection;u&&u.cto&&(this.cleanPageName=u.cto.pageName,u.cto.pageName+="_1",u.cto.breadcrumbs="image-gallery")},render:function(){var e=this.thumbViewList,t=this.imageViewList,a=this.model.get("translations"),n={images:"Images"};l.defaults(a,n);var s=l.extend(this.options.ads.helpers(this.model.toJSON()),this.model,{numImages:this.numImages,hasMore:this.hasMore(),cds:this.cds,thumbViewList:i.placeHtml(e),imageViewList:i.placeHtml(t),translations:a});this.$el.html(this.template.render(s,{socialLinkPartial:r.partials.social_btn})),i.placeSwap(this,e),i.placeSwap(this,t)},ready:function(){var t=this,i=this.slides=this.$(".modal-slides");i.swipeasaurus({arrows:!0,next:".arrow-next",prev:".arrow-prev",loop:!1,speed:500}),this.$(".content-container").css("visibility","hidden"),i.on("slide",function(e,i){t.onSlide(i)}),this.updateButton(!1),c("body").addClass(this.hoverClass),c("html").addClass("single-page-print");var a=27,n=37,r=39;c(e.document).keyup(function(e){switch(e.keyCode){case a:c(".modal-window .modal-close").trigger("click");break;case n:i.swipeasaurus("prev");break;case r:i.swipeasaurus("next")}}),this.modalAd=c(".interstitial-container .gallery_ad").first(),this.deepLink()},deepLink:function(){var t=e.location.href.match(/[?&]image_id=([^&]+)#?/)||[],i=e.location.hash.match(/image\/([a-z0-9]*)/)||[],a=t[1]||i[1],n=a&&a.length?this.imageIds.indexOf(a):-1;n>=0&&(this.autoPaginate=!1,this.openModal(n))},dimensions:function(){var e=s.Resize.width(),t=e>=a.max?"desktop":e>=a.midHigh?"tablet":"mobile",i={desktop:4,tablet:3,mobile:2},n={desktop:3,tablet:3,mobile:3},r={cols:i[t],rows:n[t]};return r},numPerBatch:function(){return this.dimensions().rows*this.dimensions().cols},bindResize:function(t){var a=this,n=a.fetchAdjacents(),r=function(){i.Style.fitToScreen(a.fetchResizeParams(t)),n.length>0&&c(n).each(function(e,t){i.Style.fitToScreen(a.fetchResizeParams(t))})};c(e).on("resize."+this.cid+"slide"+t,l.debounce(r,100))},unbindResize:function(t){c(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var i=t.$el,a=this.$(".modal-window"),n=this.$(".modal-header"),r=i.find(".image-info"),s=.46,o="item"+t.model.get("slide");return this.resizeParams[o]=[e,a,n,r,s],this.resizeParams[o]},fetchResizeParams:function(e){return this.resizeParams["item"+e]},fetchAdjacents:function(){return this.adjacents},itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var i=e.$el.find("img")[0];t=i&&!!i.src}return t},preloadItem:function(t){var i=this,a=t.model,n=!!a.get("ad");if(n)i.insertNewItem(t);else{var r=a.get(s.Resize.width()<=568?"mobile_image":"image"),o=new e.Image;o.className="gallery-image",o.src=r,o.complete?i.insertNewItem(t,o):c(o).on("load",function(){i.insertNewItem(t,o)})}},insertNewItem:function(e,t){var i;if(e.model.get("ad"))i=this.modalAd;else{var a=e.$el.find("img")[0]||null;a&&t&&c(a).replaceWith(t),i=t}this.sizeItem(i,e),this.$(".modal-window").removeClass("loading")},onSlide:function(t){var a=this,n=this.$(".modal-window"),r=this.$(".modal-footer .social-link-btn"),s=this.viewForIndex(t),u=s.$el.data("id"),h=s.model,f=h.get("ad"),p=t<this.numSlides-1?t+1:null,m=t>0?t-1:null,g={next:p,prev:m},b=e.document.title;a.itemLoaded(s)||(this.preloadItem(s),f||n.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=g,l.extend(this,{currentImage:h.get("index"),currentSlide:t,currentView:s}),this.$(".current").removeClass("current"),s.$el.addClass("current"),f?(this.modalAd.find(".ad-sizer").length>0&&this.initializeModalAd(s),this.insertAd(s)):a.autoPaginate&&this.currentImage>=this.visibleThumbs.length&&this.loadMoreThumbs(),c.each(g,function(e,t){if(t){var n=a.viewForIndex(t);a.itemLoaded(n)?i.Style.fitToScreen(a.fetchResizeParams(t)):a.preloadItem(n)}}),this.setNewText(s),this.insertPrintData(s),s.$el.css("visibility","visible"),s.$el.css("opacity",1),n.hasClass("first-shown")&&e.setTimeout(function(){a.$(".modal-window").removeClass("first-shown")},800),i.Style.fitToScreen(a.fetchResizeParams(t)),o&&this.cleanPageName&&o.page({pageName:this.cleanPageName}),d&&d.replaceState&&d.replaceState({},b,u?"?image_id="+s.$el.data("id"):"?"),r.data("source",e.location.href),r.data("thumb",s.printSrc)},centerThumb:function(e){var t=e.outerHeight(),i=e.offset().top,a=t/2,n=Math.max(i-a,0);c("body").stop(!0).animate({scrollTop:n},1e3)},setNewText:function(e){var t=parseInt(e.model.get("index"),10),i=this.fetchAdjacents().next,a=this.fetchAdjacents().prev,n=i?this.viewForIndex(i).model:e.model,r=a?this.viewForIndex(a).model:e.model,s=e.model.get("ad"),o=this.$(".modal-window");s?o.addClass("ad-view"):(this.$(".modal-window .current-count").html(t+1),o.removeClass("ad-view")),this.$(".modal-window .arrow-prev").data({currentitem:i?n.get("index"):this.numSlides,viewtype:n.get("type")}),this.$(".modal-window .arrow-next").data({currentitem:a?r.get("index"):0,viewtype:r.get("type")})},sizeItem:function(t,i){var a,n,r,s=this;if(t===this.modalAd){var o=t.find(".ad-sizer, .gpt, .admaster");a=o.height(),n=o.width(),r=!0,this.fitToScreen(n,a,r,t,i)}else{var l=new e.Image;l.addEventListener("load",function(){a=l.height,n=l.width,r=!1,s.fitToScreen(n,a,r,t,i)},!1),l.src=t.src}},fitToScreen:function(e,t,a,n,r){var s={height:t,width:e,limitMax:a,item:n};r.aspectRatio=t/e,i.Style.fitToScreen(this.setResizeParams(s,r)),this.$(".modal-window").removeClass("loading")},openModal:function(e){var t=e+Math.floor(e/this.adDivisor),i=this.viewForIndex(t),a=this.$(".modal-slides"),n=this.$(".modal-window");n.addClass("first-shown"),a.swipeasaurus("effect","fade"),this.onSlide(t),a.swipeasaurus("slide",t),a.swipeasaurus("effect","slide"),n.addClass("modal-show"),i.$el.css("visibility","visible"),c("html").addClass("modal-no-scroll")},closeModal:function(){var t=this;if(this.$(".modal-window .modal-close").data("currentitem",this.currentImage),this.$(".modal-window").removeClass("modal-show loading"),this.$(".gallery-item.active").removeClass("active"),this.$(".content-container").css("visibility","hidden"),c("html").removeClass("modal-no-scroll"),d&&d.replaceState&&d.replaceState({},e.document.title,"?"),t.autoPaginate){var i=this.thumbViewList.collection.at(t.currentImage);i.set({active:!0}),t.storeModelThumb(i,i.get("thumb")),e.setTimeout(function(){t.thumbViewList.collection.at(t.currentImage).set("active",!1)},1200),this.centerThumb(this.thumbViewList.views[this.currentImage].$el)}else t.autoPaginate=!0;this.unbindResize(this.currentSlide),this.cds||this.refreshAd("rectAll")},updateButton:function(e){this.$el.toggleClass("loading",e).toggleClass("has-more",this.hasMore())},hasMore:function(){return this.page*this.numPerBatch()<this.numImages},loadMoreThumbs:function(){this.page++,this.updateButton(!0),this.visibleThumbs=this.allThumbs.slice(0,this.page*this.numPerBatch()),this.thumbViewList.collection.add(this.visibleThumbs),this.updateButton(!1),this.$el.loadLazyImages()},insertAd:function(e){var t=this.modalAd.detach();e.$el.find(".interstitial-container").html(t),this.refreshAd("modalInterstitial")},refreshAd:function(e){this.options.ads.slots[e].refresh()},viewForIndex:function(e){return this.imageViewList.views[e]},remove:function(){this.unbindResize(this.currentSlide),c("body").removeClass(this.hoverClass),c("html").removeClass("single-page-print"),t.ModuleView.prototype.remove.call(this)},insertPrintData:function(e){var t=c("#print-image img")[0],i=e.printSrc,a=e.model.get("caption");t&&(t.src=i),c("#print-image .caption").html(a)}})}(this),Whiskers("modules.image_gallery_inline",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,547,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound '),i.b(i.v(i.f("entity_type",e,t,0))),i.b('"> <div class="inline-gallery"> <div class="gallery-content"> '),i.b(i.t(i.f("imageViewList",e,t,0))),i.b(' <div class="arrows"> <div class="arrow-sizer prev"><span class="arrow-prev clicon" data-title="prev"></span></div> <div class="arrow-sizer next"><span class="arrow-next clicon" data-title="next"></span></div> </div> </div> <div class="image-info"> <p class="description"></p> <span class="image-count base-color"> <span class="current-count">1</span> <span>/</span> <span>'),i.b(i.v(i.f("numImages",e,t,0))),i.b("</span> </span> </div> </div> </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("partials.image_gallery_inline_slide",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<li class="content-container item-'),a.b(a.v(a.f("slide",e,t,0))),a.b(" "),a.b(a.v(a.f("type",e,t,0))),a.b("-"),a.b(a.v(a.f("index",e,t,0))),a.b(" "),a.b(a.v(a.f("type",e,t,0))),a.b('" data-id="'),a.b(a.v(a.f("id",e,t,0))),a.b('"> <div class="image-container"> <img class="gallery-image" alt="'),a.b(a.v(a.f("seo_title",e,t,0))),a.b('"> </div> </li>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=e.Whiskers,n=e.Backbone,r=e.Tracker,s=e._,o=e.jQuery,l=i.Style.breakpoints,c=s.values(l);t.ModuleView.register("image_gallery_inline",{style_classes:["skip-top-border"],template:a.modules.image_gallery_inline,breakpoints:c.join(" "),initialize:function(){var e=this,i=s.first(this.model.get("data")),r=i.gallery_images;s.extend(this,{allImages:r,numImages:r.length,galleryImages:[],cmsID:i.id}),o.each(this.allImages,function(t,i){i.index=t,i.type="image",e.galleryImages.push(i)}),this.galleryCollection=new n.LazyCollection(this.galleryImages),this.imageViewList=new t.ListView({className:"inline-gallery-slides",collection:this.galleryCollection,template:{render:function(e){return s.extend(e,{imgSrc:function(){return this.get(n.Resize.width()<=568?"mobile_image":"image")}}),a.partials.image_gallery_inline_slide.render(e,{})}}})},render:function(){var e,t=this.imageViewList;e=s.extend(this.model,{numImages:this.numImages,cds:this.cds,imageViewList:i.placeHtml(t)}),this.$el.html(this.template.render(e)),i.placeSwap(this,t)},ready:function(){var t=this,a=this.$(".inline-gallery-slides"),n=this.model.get("style_options"),r=e.devicePixelRatio>1.5,s=this.viewForIndex(0);if(a.swipeasaurus({arrows:!0,next:".arrow-next",prev:".arrow-prev",loop:!1,speed:500,rtl:i.rtl}),a.on("slide",function(e,i){t.onSlide(i)}),n&&n.custom_arrow_icon){var o=n&&n.custom_arrow_icon,l=r&&o.retina?o.retina:o.normal||o.retina;this.$(".arrow-sizer > span").css("background-image","url('"+l+"')")}this.preloadItem(s),this.trackImage(s),this.setNewText(s)},resize:function(){var e,t=this.$(".description").text(),i=this.view.$el.find("img")[0];n.Resize.width()<=l.midHigh&&this.$(".image-count").toggleClass("no-caption",!t.length),e=Math.floor(this.view.$el[0].clientWidth*i.height/i.width),this.$(".current").toggleClass("tall-image",e>this.view.$el[0].clientHeight)},itemLoaded:function(e){return!!e.$el.find("img").attr("src")},preloadItem:function(t){var i,a,r,s=this,l=t.model;this.view=t,i=l.get(n.Resize.width()<=568?"mobile_image":"image"),a=new e.Image,0!==t.model.get("index")?a.addEventListener("load",function(){r=Math.floor(t.$el[0].clientWidth*a.height/a.width),r>t.$el[0].clientHeight&&t.$el.addClass("tall-image")},!1):t.$el.addClass("first-image"),a.className="gallery-image",a.src=i,a.alt=l.get("seo_title"),a.complete?s.insertNewItem(t,a):o(a).on("load",function(){s.insertNewItem(t,a)})},insertNewItem:function(e,t){var i;i=e.$el.find("img")[0],i&&t&&o(i).replaceWith(t),this.$(".inline-gallery").removeClass("loading")},onSlide:function(e){var t=this,i=this.$(".inline-gallery"),a=this.viewForIndex(e),n=e<this.numImages-1?e+1:null,r=e>0?e-1:null,s={next:n,prev:r};t.itemLoaded(a)||(this.preloadItem(a),i.addClass("loading")),this.$(".current").removeClass("current"),a.$el.addClass("current"),o.each(s,function(e,i){if(i){var a=t.viewForIndex(i);t.itemLoaded(a)||t.preloadItem(a)}}),this.setNewText(a),this.trackImage(a)},setNewText:function(e){var t=e.model.get("index"),i=e.model.get("caption");this.$(".image-info").css("display","none"),n.Resize.width()<=l.midHigh&&this.$(".image-count").toggleClass("no-caption",!i.length),this.$(".description").html(i),this.$(".current-count").html(t+1),this.$(".image-info").fadeIn("slow")},viewForIndex:function(e){return this.imageViewList.views[e]},trackImage:function(e){var t=e.model,i=t.get("title"),a=i.toLowerCase().replace(/\s+/g,"");r.trackEvent({engagementType:"inlinegallery_"+this.cmsID+"_"+a})}})}(this),Whiskers("modules.junior_nav",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b("<ul> "),a.s(a.f("data",e,t,1),e,t,0,14,213,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="'),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <span class="nav-icon '),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('-icon"></span> <span class="title '),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('-title">'),i.b(i.v(i.f("title",e,t,0))),i.b("</span> </a> </li> ")}),e.pop()),a.b(" </ul>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._,n=["nav-link-games","nav-link-video","nav-link-create","nav-link-activities","nav-link-watch-live","nav-link-junior-logo","nav-link-home","nav-link-grown-ups","nav-link-parents","nav-link-stories"];t.ModuleView.register("junior_nav",{template:i.modules.junior_nav,navLinks:[],initialize:function(){this.setNavLinks()},setNavLinks:function(){var e=this;a.each(this.model.get("data"),function(t){t.ref_title_slug&&a.contains(n,t.ref_title_slug)&&e.navLinks.push(t)})},render:function(){var e={data:this.navLinks};this.$el.html(this.template.render(e,{}))}})}(this),Whiskers("modules.landing",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,290,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="landing-box '),i.b(i.v(i.f("landingClass",e,t,0))),i.b('"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src landing" data-src="'),i.b(i.v(i.f("landingImg",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,183,262,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("landingImg",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" class="landing"></noscript>')}),e.pop()),i.b(" </div> </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e.Backbone,o=e._,l=t.BunView.extend({style_classes:["full-width","full-height"],template:r.modules.landing,breakpoints:n,takeover:function(){var e=this.model.get("data"),t=o.first(e).takeover_styles;i.Style.applyTakeoverStyles(t,!0)},render:function(){var t=this.model.data.first(),i=s.Resize.width()>=a.midHigh,n=e.devicePixelRatio>1.5,r=t.get("image_assets")||{},l=n?r.retina:r.non_retina,c=o.extend({landingClass:i&&"wide",landingImg:i?l.wide_src:l.mobile_src},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(c)),this.takeover()},resize:function(){this.render(),this.options.ads.restore()},geoReady:function(){this.takeover()}});l.register("landing",{}),l.register("youtube",{})}(this),Whiskers("modules.live",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="video_wrapper" class="inverted"> <div class="bound"> <div class="scaler"></div> <div class="live player" id="live_watch_player" width="100%" height="100%" vp:wmode="direct" vp:pfallback="flash" vp:autoplay="true" vp:preloader="http://cdn.edgedatg.com/vp2/m/vp2k/1.0.0/prod/preloader.swf"> </div> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.flashembed,a=t.Capabilities={MIN_FP_VERSION:[9,0],isHTML5Capable:function(){return e.Modernizr.canvas},isFlashCapable:function(e){var t=e||a.MIN_FP_VERSION;return i.isSupported(t)},isMobileBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad|android|silk|iemobile)/i)},isiOSBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)},isAndroidBrowser:function(){return e.navigator.userAgent.match(/(android)/i)},isKindleBrowser:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)}}}(this),function(e){"use strict";function t(){e.flashembed=d}function i(t){t.providerId||(e.location.href=p[n].url)}function a(){}var n,r=e.Grill,s=e._,o=e.jQuery,l=e.Whiskers,c=e.Modernizr,d=e.flashembed,u=e.Math,h=!1,f=!1,p={dch:{url:"/collections/disney-channel-4befcbb33c18eb29118e2222",id:"9723272"},xd:{url:"/collections/disney-xd-4befcbb5e4276b29118e2222",id:"9723252"},djr:{url:"/collections/disney-junior-4befcbb481d3cb29118e2222",id:"9723262"}},m=function(){if(f&&h)if(c.flash&&!c.mobile){o("#live_watch_player").attr("vp:config",p[n].id);var r=e.com.disney.datg.videoplatforms.vp2k.PlayerManager.create("live_watch_player");r.on(r.PROVIDERSELECT,i),r.on(r.PROVIDERDIALOG,a),r.on(r.LOADSTART,t)}else o("#live_watch_player").html('<div class="player_error">Sorry, but your device does not support watching live TV.</div>')};r.BunView.register("live_watch",{initialize:function(){var t=this;t.h=o(e).on("resize.live_watch",s.throttle(function(){var i=o(e).height();i!==t.h&&(t.h=i,t.layout())},100)).height();var i=this.model.get("data")[0].title.toLowerCase();n=-1!==i.indexOf("junior")?"djr":-1!==i.indexOf("xd")?"xd":"dch",o("document").ready(function(){o.ajax("http://cdn.edgedatg.com/vp2/m/vp2k/1.0.0/prod/embed.js?prod=true",{dataType:"script",cache:!0,success:function(){f=!0,e.setTimeout(m,0)}})})},render:function(){this.$el.html(l.modules.live.render())},ready:function(){h=!0,e.setTimeout(m,0)},layout:function(){var e=this.$("#video_wrapper .bound");e.css("maxWidth",u.min(1280,u.max(320,u.ceil((this.h-120)/.5625))))},remove:function(){}})}(this),Whiskers("partials.logo",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<a href="'),a.b(a.v(a.f("href",e,t,0))),a.b('" title="Disney '),a.b(a.v(a.f("title",e,t,0))),a.b('" class="nav-logo'),a.s(a.f("hide_logo",e,t,1),e,t,0,73,87,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" disable_image")}),e.pop()),a.b('"'),a.s(a.f("logo_override",e,t,1),e,t,0,120,197,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' id="nav-logo-override"> <img src="'),i.b(i.v(i.f("logo_override",e,t,0))),i.b('" alt="Disney '),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),a.s(a.f("logo_override",e,t,1),e,t,1,0,0,"")||(a.b('id="nav-logo"><span>'),a.b(a.v(a.f("title",e,t,0))),a.b("</span> ")),a.b("</a>"),a.fl()},partials:{},subs:{}}),Whiskers("modules.navigation.channels",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="nav-local-channels" class="nav-local '),a.b(a.v(a.f("style",e,t,0))),a.b('"> <div class="'),a.b(a.v(a.f("style",e,t,0))),a.b('-bound"> <div class="'),a.b(a.v(a.f("style",e,t,0))),a.b('-bg"> '),a.b(a.rp("<logo0",e,t,"")),a.b(' <span id="nav-e" role="button" title="Navigate"></span> <ul class="pages"> '),a.s(a.f("links",e,t,1),e,t,0,210,269,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),a.b(' </ul> <div class="channel-slider-container '),a.b(a.v(a.f("style",e,t,0))),a.b('"> <div class="peek"></div> <div class="channel-slider '),a.b(a.v(a.f("style",e,t,0))),a.b('"> '),a.s(a.f("slider",e,t,1),e,t,0,410,705,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="images"> '),i.s(i.f("page",e,t,1),e,t,0,441,688,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="image-box-nav"> <img src="'),i.b(i.v(i.f("asset_thumbnail_image",e,t,0))),i.b('" class="image-nav" id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" /> <img src="'),i.b(i.v(i.f("asset_thumbnail_hover_image",e,t,0))),i.b('" class="image-over" id="'),i.b(i.v(i.f("id",e,t,0))),i.b('-over" /> </div> </a> ')}),e.pop()),i.b(" </div> ")}),e.pop()),a.b(' </div> </div> </div> </div> <span id="search_cancel_text">'),a.b(a.v(a.f("search_cancel_text",e,t,0))),a.b("</span> </div>"),a.fl()},partials:{"<logo0":{name:"logo",partials:{},subs:{}}},subs:{}}),Whiskers("modules.navigation.disneychannelde",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="nav-local-channels" class="nav-local '),a.b(a.v(a.f("style",e,t,0))),a.b('"> <div class="'),a.b(a.v(a.f("style",e,t,0))),a.b('-bound"> <div class="'),a.b(a.v(a.f("style",e,t,0))),a.b('-bg"> '),a.b(a.rp("<logo0",e,t,"")),a.b(' <span id="nav-e" role="button" title="Navigate"></span> <ul class="pages"> '),a.s(a.f("links",e,t,1),e,t,0,210,269,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),a.b(' </ul> </div> </div> <span id="search_cancel_text">'),a.b(a.v(a.f("search_cancel_text",e,t,0))),a.b("</span> </div>"),a.fl()},partials:{"<logo0":{name:"logo",partials:{},subs:{}}},subs:{}}),Whiskers("modules.navigation.matterhorn",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="nav-local" class="nav-local '),a.s(a.f("exclude_from_desktop",e,t,1),e,t,0,62,83,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("excluded_from_desktop")}),e.pop()),a.b(" "),a.s(a.f("exclude_local_chrome",e,t,1),e,t,0,134,155,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" exclude-local-chrome")}),e.pop()),a.b('"> <div class="bound"> '),a.b(a.rp("<logo0",e,t,"")),a.b(' <span id="nav-e" role="button" title="Navigate"></span> <ul> '),a.s(a.f("links",e,t,1),e,t,0,284,327,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),a.b(' </ul> <span id="search_cancel_text">'),a.b(a.v(a.f("search_cancel_text",e,t,0))),a.b("</span> </div> </div>"),a.fl()},partials:{"<logo0":{name:"logo",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.$,i=e.Backbone,a=e.GOC||{queue:[]},n=e.Grill,r=e.Disney.Style.breakpoints,s=e.Whiskers;n.ModuleView.register("local_chrome",{breakpoints:r.chromeMax,index:0,ready:function(){this.index=this.$el.index(),this.$el.find("#nav-e").click(function(e){e.preventDefault(),a.queue.push(["openMenu"])});var i=this.model.get("navigation");if("channels"===i.template){if(t("#nav-local-channels a[href]").each(function(){t(this).toggleClass("active",this.href===e.location.href)}),t(e).width()>=1024){var r=t("#nav-local-channels .channel-slider"),s=r.hasClass("channel")?.09:.045;r.swipeasaurus({arrows:!0,loop:!0,right:s})}this.$el.find(".channel-bg > .pages > li > a, .xd-bg > .pages > li > a").each(function(){var e=t(this),i=e.html(),a=i.split(" "),n='<span class="firstWord">'+a[0]+"</span><br />";a.shift(),t.each(a,function(e,t){n+=" "+t}),e.html(n)})}else t("#nav-local li a[href]").each(function(){t(this).toggleClass("active",this.href===e.location.href)});n.ModuleView.create("search_navigation"),this.resize()},render:function(){var e=this.model.get("navigation"),t=s.modules.navigation[e.template];this.$el.html(t.render(e,{logo:s.partials.logo}))},resize:function(){var e=i.Resize.width();if(e<r.chromeMax)this.$el.parent().prepend(this.$el);else if(this.index!==this.$el.index()){var t=this.$el.parent().children();this.index>=t.size()-1?this.$el.parent().append(this.$el):this.$el.insertBefore(t.eq(this.index+1))}}})}(this),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,a=e.Backbone,n=t.ForegroundHelper=t.ForegroundHelper||{};
n.image=function(t){var n=a.Resize.width()>=i.midHigh,r=e.devicePixelRatio>1.5,s=(t||{}).foreground_image||{},o=s.retina_url||s.url,l=r?o:s.url,c=s.mobile_retina_url||s.mobile_url,d=r?c:s.mobile_url;return n?l:d}}(this),Whiskers("modules.login_gated",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("image",e,t,1),e,t,0,10,347,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="bound"> '),i.s(i.f("data",e,t,1),e,t,0,39,331,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="phase-1"> <a href="" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" target="_blank"> <img class="no-src" data-src="'),i.b(i.v(i.f("image",e,t,0))),i.b('"> </a> </div> <div class="phase-2"> <a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank"> <img data-src="'),i.b(i.v(i.f("poster",e,t,0))),i.b('" class="no-src" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"> </a> </div> ')}),e.pop()),i.b(" </div>")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,a=i.midHigh.toString(),n=e.Grill,r=e.Whiskers,s=e.Tracker,o=e._;n.ModuleView.register("login_gated",{breakpoints:a,style_classes:["full-width","full-height","skip-bottom-border","skip-top-border"],template:r.modules.login_gated,render:function(){var e=this,i=o.first(e.model.get("data")),a=(e.model.get("style_options")||{}).images,n=t.ForegroundHelper.image(a),r=o.extend({image:n,data:i},e.model);e.$el.html(e.template.render(r))},initialize:function(){t.guest.retain()},destroy:function(){t.guest&&t.guest.release()},events:{"click .phase-1":function(e){e.preventDefault();var i=this,a=t.guest.login();a.then(function(){i.$(".phase-1").fadeOut(300,function(){i.$(".phase-2").fadeIn(300)}),s&&s.event({engagementType:"login_module_2nd"})})}},resize:function(){this.render()}})}(this),Whiskers("modules.menu_links",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="nav-pushdown"></div> <div class="menu-wrap hidden"> <div class="bound"> <span id="nav-e" role="button" title="Navigate"></span> <ul class="menu"> '),a.s(a.f("links",e,t,1),e,t,0,165,613,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="menu-group '),i.b(i.v(i.f("slug",e,t,0))),i.b('" data-path="'),i.b(i.v(i.f("path",e,t,0))),i.b('"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" '),i.s(i.f("background_image",e,t,1),e,t,0,278,362,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' style="background:url('),i.b(i.v(i.f("background_image",e,t,0))),i.b(') no-repeat 0 0;background-size:contain" ')}),e.pop()),i.b(' class="logo_'),i.b(i.v(i.f("slug",e,t,0))),i.b('" >'),i.b(i.v(i.f("title",e,t,0))),i.b('</a> <ul class="submenu"> '),i.s(i.f("children",e,t,1),e,t,0,455,587,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li data-path="'),i.b(i.v(i.f("path",e,t,0))),i.b('"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"><span class="submenu-icon icon_'),i.b(i.v(i.f("slug",e,t,0))),i.b('"></span>'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),a.b(" </ul> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.$,i=e.Grill,a=e.GOC||{queue:[]},n=e.Backbone,r=e.Disney,s=r.Style.breakpoints;i.ModuleView.register("menu_links",{breakpoints:s.chromeMax,style_classes:["span-full-screen"],markup:t(".module.menu_links").html(),events:{"click #nav-e":function(){a.queue.push(["openMenu"])}},render:function(){this.$el.html(this.markup),this.toggleID(),this.$(".menu-wrap").removeClass("hidden")},ready:function(){var e=this;this.toggleActiveStates(),r.top.on("begin",function(){e.toggleActiveStates()})},resize:function(e){this.toggleID(e)},toggleActiveStates:function(){var t=/^(\/[^\/]*){1,2}/,i=e.location.pathname.match(t),a=i?i[0]:"/",n=this.$('[data-path="'+a+'"]');this.$(".active").removeClass("active"),n.length?n.addClass("active").parents(".menu li").addClass("active"):this.$(".menu > li:first-child").addClass("active")},toggleID:function(e){var t=this.$(".menu-wrap");e||(e=n.Resize.width()),e<s.chromeMax?t.attr("id","nav-local"):t.attr("id","")}})}(this),function(e){"use strict";function t(){var e=new Date,t=-(e.getTimezoneOffset()/60);return t}function i(e){return o+t()+e}var a=e.Grill,n=e.Whiskers,r=e.window,s=e.jQuery,o="/_schedule/mini/",l=a.ModuleView.extend({className:"module mini_schedule",initialize:function(){var e=this,t=encodeURIComponent(r.location.pathname),a=i("/"+t);e.fetchData(a),e.$el.hide()},render:function(){},fetchData:function(e){var t=this;s.getJSON(e,function(e){var i=t.model.get("translations"),a=t.model.get("data"),n={data:e,title:i.whats_on,see:i.see};if(a.length>0){var r=a[0];n.linkTitle=r.title,n.href=r.href}n.data.length>0&&t.$el.hide().html(t.template.render(n)).fadeIn()})}});l.register("mini_schedule",{template:n.modules.schedule})}(this),function(e){"use strict";function t(e){var t=n(e.target),a=n(e.currentTarget),r=t.closest("a[href]").length>0,s="button"===t.attr("role")||t.hasClass("button"),o=a.hasClass("expanded")?"Collapse":"Expand";r||s||(a.toggleClass("expanded").addClass("transitioning"),i(o,a),a.on("transitionend",function(e){2===e.eventPhase&&"max-height"===e.originalEvent.propertyName&&a.removeClass("transitioning")}))}function i(e,t){if(r){var i=e.toLowerCase(),a=t.data("module"),s=n(".module").index(t);r.event({engagementType:"mattPeekaboo_module_"+i,engagementMeta:a+"/mod"+(s+1),action:"Trigger Peekaboo "+e+" (Click)"})}}var a=e.Disney,n=e.jQuery,r=e.Tracker;n(function(){a.top.on("ready",function(){n(".module.peekaboo").on("click",t)})})}(this),Whiskers("modules.personality_hero",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,549,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="container"> <div class="branding"> <img src="'),i.b(i.v(i.f("imageUrl",e,t,0))),i.b('"> </div> <div class="details '),i.b(i.v(i.f("layout",e,t,0))),i.b(" "),i.s(i.f("style_options",e,t,1),e,t,0,158,187,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.d("style_options.text_style",e,t,0)))}),e.pop()),i.b('" '),i.s(i.f("bgColor",e,t,1),e,t,0,219,257,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('style="background-color: '),i.b(i.v(i.f("bgColor",e,t,0))),i.b(';"')}),e.pop()),i.b('> <h1 class="skip-text-styles">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <div class="headshot"> <div class="personality-box entity-box"> <div class="aspect ratio-square"> <img src="'),i.b(i.v(i.f("imageUrl",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </div> </div> </div> <p class="desc skip-text-styles">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=e.Whiskers,n=e.Backbone,r=i.Style.breakpoints,s=r.midHigh.toString(),o=e._,l=e.devicePixelRatio>1.5,c=t.ModuleView.extend({style_classes:["full-width","full-height","skip-styles","skip-bottom-border","skip-top-border"],breakpoints:s,template:a.modules.personality_hero,render:function(){var e=o.first(this.model.get("data")),t=n.Resize.width()>=r.midHigh,i=!!this.options.cds,a=this.$el,s=this.model.collection.style,c=t?"none":s&&s.secondary_theme&&s.secondary_theme.background_color,d=this.model.get("style_options"),u=d&&d.layout||"left",h=d&&d.images,f=h&&h.foreground_image,p=null,m=null,g=null;p=f?l&&f.retina_url?f.retina_url:f.url:e.hero,m=l?e.thumb2x?e.thumb2x:e.thumb:e.thumb?e.thumb:e.photo?e.photo:p,g=t?p:m;var b=o.extend({imageUrl:g,cds:i,bgColor:c,layout:u},this.model);a.html(this.template.render(b))}});c.register("personality_hero",{breakpoints:s,template:a.modules.personality_hero})}(this),Whiskers("modules.play",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,1254,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <!-- MUSTACHE TEMPLATE - GAME CONTAINER MODULE--> <div class="bound"> <div class="game_wrapper"> <div class="bun_game '),i.b(i.v(i.f("createClass",e,t,0))),i.b('"> '),i.s(i.f("fullscreenButton",e,t,1),e,t,0,167,361,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <label class="fs-btn switchfull-button" for="play-module-switchfull-1"></label> <input id="play-module-switchfull-1" class="switchfull-checkbox" name="switchfull" type="checkbox" value="full"> ')}),e.pop()),i.b(' <div id="game_container_outer" class="inverted game-wrapper"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> "),i.b(i.t(i.f("gameLoaderAd",e,t,0))),i.b(' <div itemscope itemtype="http://schema.org/WebApplication"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("desc",e,t,0))),i.b('"> <meta itemprop="url" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <meta itemprop="image" content="'),i.b(i.v(i.f("square",e,t,0))),i.b('"> <meta itemprop="applicationCategory" content="'),i.b(i.v(i.f("type",e,t,0))),i.b('"> <meta itemprop="applicationSubCategory" content="'),i.b(i.v(i.f("genres",e,t,0))),i.b(" "),i.b(i.v(i.f("type",e,t,0))),i.b('"> <div id="game_container" class="inverted game_container"> <div id=\'DisneyGame-'),i.b(i.v(i.f("id",e,t,0))),i.b("' contentid='"),i.b(i.v(i.f("id",e,t,0))),i.b('\' class=\'iframe-wrapper\'></div> </div> <div class="game_container_error"> <div class="orphan"><p class="message"></p></div> </div> </div> </div> </div> </div> </div> <div class="content-toolbar-container"> <div id="meta"></div> </div> ')}),e.pop()),a.fl()},partials:{},subs:{}}),/*!
* screenfull
* Github: https://github.com/sindresorhus/screenfull.js
* v2.0.0 - 2014-12-22
* (c) Sindre Sorhus; MIT License
*/
function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,t,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=0,n=i.length,r={};n>a;a++)if(e=i[a],e&&e[1]in document){for(a=0,t=e.length;t>a;a++)r[i[0][a]]=e[a];return r}return!1}(),a={request:function(e){var a=i.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[a]():e[a](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:i};return i?("undefined"==typeof Object.defineProperties?a.enabled=!1:Object.defineProperties(a,{isFullscreen:{get:function(){return!!document[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[i.fullscreenEnabled]}}}),void(e?module.exports=a:window.screenfull=a)):void(e?module.exports=!1:window.screenfull=!1)}(),function(e){"use strict";var t=e.Disney,i=t.Capabilities,a=t.Style.breakpoints,n=[a.midHigh,a.max],r=e.Grill,s=e.Backbone,o=e.Modernizr,l=e.screenfull,c=e._,d=e.jQuery,u=e.Whiskers,h=!1,f=!1,p=null,m=null,g=!1,b=function(t){var i=e.onerror,a=e.console;a&&a.error&&a.error(t.stack||t.toString()),i&&i(t.toString())},v=new Date(2015,10,20);r.ModuleView.register("play",{style_classes:["full-width","full-height","skip-top-border"],breakpoints:n.join(" "),template:u.modules.play,tabletSize:768,isMobile:o.mobile,fullscreenButton:!1,events:{"change .switchfull-checkbox":"onFullscreenChange"},assets:{scripts:["http://img.lum.dolimg.com/v1/game_container/js/disneygames.js"]},render:function(){this.gameType=this.model.get("data")[0].game_type,this.isCreateApp()||(this.gameData={wmode:"transparent"},e.disneyGames.processConfig(this.model.get("data")[0].game_data,this.gameData),this.setAdTargeting(this.gameData),this.setAdTranslations(this.model.get("translations"))),this.fullscreenButton=this.checkFullscreenButton(),this.bindFullscreenExit(),this.bindEscapeKey();var t=c.extend({fullscreenButton:this.fullscreenButton,cds:this.options.cds,createClass:this.isCreateApp()?"create_module":"game_module"},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(t))},onFullscreenChange:function(e){l.enabled&&(e.target.checked?l.request(this.$(".game-wrapper")[0]):l.exit(),d("#DisneyGamesIFrame").focus())},isCreateApp:function(){return"Create App"===this.gameType},hideAllMessages:function(){this.$(".game_container_error").hide()},resize:function(){f?(this.$(".game_container_error").show(),this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(p)):this.isMobile||(this.$(".game_container_error").hide(),this.handleGameContainerShowHide(this.isCreateApp()?s.Resize.width()>=a.max:s.Resize.width()>=this.tabletSize))},handleGameContainerShowHide:function(t){var i=e.disneyGames;t?(h===!1?this.loadGameContainer():i.showGame(),this.$("#game_container").show(),this.$(".bun_game").removeClass("error_holder"),this.$(".game_container_error").hide()):(this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(this.model.get("translations").too_small),this.$(".game_container_error").show(),h===!0&&(i.hideGame(),e.setTimeout(c.bind(this.removeAd,this),0)),this.$("#game_container").hide())},setAdTranslations:function(e){var t=this.options.ads;t.setTranslation("advertisement",e.advertisement),t.setTranslation("skip_ad",e.skip_ad)},setAdTargeting:function(e){var t=this.options.ads;t.setTargeting&&(t.setTargeting("assetId",e.assetId),t.setTargeting("assetName",e.assetName),t.setTargeting("assetType",e.assetType),t.setTargeting("bu",e.bu),t.setTargeting("gameName",e.gameName),t.setTargeting("gameType",e.gameType),t.setTargeting("genre",e.genre),t.setTargeting("owner",e.owner),t.setTargeting("property",e.property))},loadGameContainer:function(){var t=e.disneyGames,i=this.model.get("data")[0].id;if(h=!0,e.disneyGamesCommunication.addMessageListener(c.bind(this.handleMessage,this)),this.isCreateApp())t.addGame({elementId:"DisneyGame-"+i,contentId:this.model.get("data")[0].create_id,provider:"create"});else{var a={elementId:"DisneyGame-"+i,contentId:this.getContentId(),gameData:this.gameData,iframePath:"/games/syndication/iframeGame.html"};if(this.options&&this.options.ads&&this.options.ads.slots){var n=this.options.ads.slots.gameLoader;n&&(a.adDivId=n.getId(),a.externalAdControl=!0,n.poster=this.gameData.img750x500,o.mobile&&(a.showPlayBtnOverlay=!1,""===n.poster&&(n.poster="//img.lum.dolimg.com/v1/game_container/img/teaserBackground.jpg")))}t.addGame(a)}if(this.fullscreenButton){var r=d("<label>",{"class":"fs-btn switchfull-button in-game","for":"play-module-switchfull-1"});this.$(".iframe-wrapper").prepend(r)}},getContentId:function(){var e;return e=this.model.get("data")[0].go_pub_id?this.model.get("data")[0].go_pub_id:this.model.get("data")[0].id},removeAd:function(){if(this.options&&this.options.ads&&this.options.ads.slots){var e=this.options.ads.slots.gameLoader;e&&e.remove()}},handleMessage:function(t){var i=e.disneyGames,a=this.model.get("translations"),n={unsupportedDevice:"ios",flashFailed:"no_flash",gameNotFound:"game_not_found",installUnity:"install_unity",notAuthorizedToHostGame:"not_authorized_to_host_game",unsupportedBrowser:"unsupported_browser"};switch(t){case"adStarted":m.hideAllMessages();break;case"startGame":s.Resize.width()<=this.tabletSize&&!this.isMobile&&m.resize();break;case"removeAd":e.setTimeout(c.bind(this.removeAd,this),0),m.resize();break;case"unsupportedDevice":case"flashFailed":case"gameNotFound":case"installUnity":case"notAuthorizedToHostGame":case"unsupportedBrowser":p=a[n[t]],f=!0,m.resize(),this.$("#game_container").hide(),h===!0&&i.hideGame();break;case"HTML5Works":this.$(".bun_game").css("padding","0")}},refreshAds:function(){d("#nav-pushdown").is(":visible")&&this.options.ads.refresh()},checkFullscreenButton:function(){if(i.isMobileBrowser())return!1;var e=this.model.get("config_options"),t=e&&e.fullscreen_button;return"Enabled"===t?!0:"Disabled"===t?!1:this.defaultFullscreenButton()},bindFullscreenExit:function(){l.enabled&&d(e.document).on(l.raw.fullscreenchange,this.onFullscreenExit.bind(this))},bindEscapeKey:function(){e.addEventListener("keydown",this.onEscapeKey)},onEscapeKey:function(e){27===e.keyCode&&(e.preventDefault(),l.isFullscreen&&l.exit())},onFullscreenExit:function(){l.isFullscreen||this.$(".switchfull-checkbox").prop("checked",!1)},destroy:function(){l.enabled&&d(e.document).off(l.raw.fullscreenchange),e.removeEventListener("keydown",this.onEscapeKey)},defaultFullscreenButton:function(){var e=this.model.get("data")[0].game_data;if("HTML5"===e.type)return!0;try{return new Date(this.model.get("publish_date"))>v}catch(t){return!1}},ready:function(){var i=this,a=i.model.get("translations");m=i,f=!1,p=null,new t.ContentToolbarView({el:this.$("#meta"),model:this.model,socialLinks:[{share_type:"share",share_text:a.share,output_label:a.quick_link}],cdsMode:this.options.cds,ads:this.options.ads}),h===!1&&this.loadGameContainer(),this.hideAllMessages(),this.resize(),g||this.options.cds||(g=e.setInterval(function(){i.refreshAds()},18e4))},remove:function(){try{e.disneyGamesCommunication.clearMessageListeners()}catch(t){b(t)}try{e.disneyGames.removeGame()}catch(t){b(t)}r.BunView.prototype.remove.call(this),h=!1}})}(this),Whiskers("modules.playlist",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <ul class="list"> '),a.s(a.f("data",e,t,1),e,t,0,47,147,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("list_items",e,t,1),e,t,0,62,132,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li> <div class="order"><span>'),i.b(i.v(i.f("order",e,t,0))),i.b("</span></div> "),i.b(i.rp("<item0",e,t,"")),i.b(" </li> ")}),e.pop())}),e.pop()),a.b(" </ul> </div>"),a.fl()},partials:{"<item0":{name:"item",partials:{},subs:{}}},subs:{}}),Whiskers("modules.playlist_header_image",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="container"> '),a.s(a.f("data",e,t,1),e,t,0,53,514,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="playlist_item"> <a href="'),i.b(i.v(i.f("playlistLink",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <span class="playlist_play_btn"></span> '),i.s(i.f("thumbnails",e,t,1),e,t,0,183,220,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' </a> </div> <div class="details"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <div class="meta"> <span class="total">'),i.b(i.v(i.f("totalVideos",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.videos",e,t,0))),i.b('</span> </div> <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b('</p> <a class="button large blue" href="'),i.b(i.v(i.f("playlistLink",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.watch_playlist",e,t,0))),i.b("</a> </div> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{},subs:{}}),Whiskers("modules.featured_playlist",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="container"> '),a.s(a.f("data",e,t,1),e,t,0,53,520,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="playlist_item"> <a href="'),i.b(i.v(i.f("playlistLink",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <span class="playlist_play_btn" ></span> '),i.s(i.f("thumbnails",e,t,1),e,t,0,184,221,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' </a> </div> <div class="details"> <h3><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</a></h3> <div class="meta"> <span class="total"><strong>'),i.b(i.v(i.f("totalVideos",e,t,0))),i.b(' Videos</strong><span class="pipeColor"> | </span><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.d("translation.see_playlist",e,t,0))),i.b("</a></span> </div> <p>"),i.b(i.v(i.f("short_desc",e,t,0))),i.b("</p> </div> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.jQuery,n=e._,r=t.ModuleView.register("playlist",{template:i.modules.playlist,style_classes:["list_module_featured"],required_template_sets:["entities"],render:function(){var e=this.model.get("data")[0].id,t=this,i=n.extend({},t.model);t.$el.html(t.template.render(i,this.ctx_additions())),t.$("a").each(function(t,i){a(i).attr("href",a(i).attr("href")+"?playlist="+e)})}});r.register("playlist_header_image",{template:i.modules.playlist_header_image}),r.register("featured_playlist",{template:i.modules.featured_playlist})}(this),Whiskers("modules.contest",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,197,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound'),i.s(i.f("noAd",e,t,1),e,t,0,36,41,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd")}),e.pop()),i.b('"> <div class="container"></div> '),i.s(i.f("data",e,t,1),e,t,0,92,180,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noAd",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="ad-container"> '),i.b(i.t(i.f("rectangleAd",e,t,0))),i.b(" "),i.b(i.t(i.f("mobileAd",e,t,0))),i.b(" </div> ")),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("entities.contest",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="contest_heading'),a.s(a.f("logo",e,t,1),e,t,0,36,40,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" img")}),e.pop()),a.b('"> <div class="module_header"> <h2 class="'),a.s(a.f("logo",e,t,1),e,t,0,100,128,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("hide_ad",e,t,1),e,t,1,0,0,"")||i.b("noAd")}),e.pop()),a.b('">'),a.b(a.v(a.f("title",e,t,0))),a.b("</h2> </div> "),a.s(a.f("logo",e,t,1),e,t,0,170,240,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <img class="'),i.s(i.f("logo",e,t,1),e,t,0,192,214,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,201,205,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("noAd")}),e.pop())}),e.pop()),i.b('"src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"> ')}),e.pop()),a.b(' <div class="contestant_container'),a.s(a.f("logo",e,t,1),e,t,1,0,0,"")||a.s(a.f("noAd",e,t,1),e,t,0,300,305,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" noAd")}),e.pop()),a.b(" "),a.s(a.f("logo",e,t,1),e,t,0,333,366,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,342,357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd hasHeader")}),e.pop())}),e.pop()),a.b('"> <ul class="contestants'),a.s(a.f("single_option",e,t,1),e,t,0,418,425,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" single")}),e.pop()),a.b(" "),a.s(a.f("logo",e,t,1),e,t,1,0,0,"")||a.s(a.f("noAd",e,t,1),e,t,0,462,502,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" noAd"),i.s(i.f("showFour",e,t,1),e,t,0,480,489,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" showFour")}),e.pop())}),e.pop()),a.b(" "),a.s(a.f("logo",e,t,1),e,t,0,530,563,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,539,554,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd hasHeader")}),e.pop())}),e.pop()),a.b('"> '),a.s(a.f("contestants",e,t,1),e,t,0,591,1804,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="option '),i.b(i.v(i.f("type",e,t,0))),i.s(i.f("clickable",e,t,1),e,t,0,632,642,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" clickable")}),e.pop()),i.s(i.f("results",e,t,1),e,t,1,0,0,"")||i.s(i.f("disabled",e,t,1),e,t,0,681,690,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.s(i.f("results",e,t,1),e,t,0,727,734,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('"> '),i.s(i.f("results",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="actions checkboxes"> '),i.s(i.f("vote_button",e,t,1),e,t,0,828,1006,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="vote checkbox'),i.s(i.f("votes",e,t,1),e,t,0,865,873,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" checked")}),e.pop()),i.s(i.f("disabled",e,t,1),e,t,0,896,905,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.s(i.f("loading",e,t,1),e,t,0,930,938,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" loading")}),e.pop()),i.b('" title="'),i.b(i.v(i.f("text",e,t,0))),i.b('"> <span class="check"></span> </span> ')}),e.pop()),i.b(" "),i.s(i.f("checkboxes",e,t,1),e,t,0,1038,1204,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="checkbox'),i.s(i.f("checked",e,t,1),e,t,0,1072,1080,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" checked")}),e.pop()),i.s(i.f("disabled",e,t,1),e,t,0,1105,1114,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.b('" data-index="'),i.b(i.v(i.f("index",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("text",e,t,0))),i.b('"> <span class="check"></span> </span> ')}),e.pop()),i.b(" </div> ")),i.b(" "),i.s(i.f("results",e,t,1),e,t,0,1252,1549,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="actions results"> '),i.s(i.f("image_poll",e,t,1),e,t,0,1298,1386,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("results",e,t,1),e,t,0,1311,1373,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bar" style="height:'),i.b(i.v(i.f("percent_formatted",e,t,0))),i.b('"></div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("show_percentage",e,t,1),e,t,0,1422,1452,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <p>"),i.b(i.v(i.f("percent_formatted",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("show_percentage",e,t,1),e,t,1,0,0,"")||(i.b(" <p>"),i.b(i.v(i.f("total_formatted",e,t,0))),i.b("</p> ")),i.b(" </div> ")}),e.pop()),i.b(' <div class="contest-item"> '),i.s(i.f("image_poll",e,t,1),e,t,0,1604,1641,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("text",e,t,0))),i.b('"> ')}),e.pop()),i.b(" "),i.s(i.f("image_poll",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("results",e,t,1),e,t,0,1685,1746,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bar" style="width:'),i.b(i.v(i.f("percent_formatted",e,t,0))),i.b('"></div> ')}),e.pop()),i.b(" ")),i.b(" <p>"),i.b(i.v(i.f("text",e,t,0))),i.b("</p> </div> </li> ")}),e.pop()),a.b(" </ul> "),a.s(a.f("message",e,t,1),e,t,0,1839,1993,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="message '),i.b(i.v(i.f("type",e,t,0))),i.s(i.f("single_option",e,t,1),e,t,0,1886,1893,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" single")}),e.pop()),i.b('"> <p>'),i.b(i.v(i.f("text",e,t,0))),i.b('<span class="again"> '),i.b(i.v(i.d("translations.vote_again",e,t,0))),i.b("?</span></p> </div> ")}),e.pop()),a.b(" "),a.s(a.f("master_button",e,t,1),e,t,0,2024,2254,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("complete",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="master_button '),i.s(i.f("logo",e,t,1),e,t,0,2074,2107,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("noAd",e,t,1),e,t,0,2083,2098,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" noAd hasHeader")}),e.pop())}),e.pop()),i.b('"> <div class="button large blue'),i.s(i.f("disabled",e,t,1),e,t,0,2161,2170,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" disabled")}),e.pop()),i.s(i.f("loading",e,t,1),e,t,0,2195,2203,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" loading")}),e.pop()),i.b('">'),i.b(i.v(i.f("text",e,t,0))),i.b(" </div> </div> ")),i.b(" ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";function t(e){return String(e).replace(/\b(\d+)((\.\d+)*)\b/g,function(e,t,i){return(t.charAt(0)>0&&!(i||".").lastIndexOf(".")?t.replace(/(\d)(?=(\d{3})+$)/g,"$1,"):t)+i})}function i(e){return Math.round(e)+"%"}var a=e.Grill,n=e.Whiskers,r=e.Backbone,s=e.Tracker,o=e.jQuery,l=e._,c=e.Disney,d=r.Model.extend({defaults:{},initialize:function(){l.bindAll(this)},type:function(){return this.get("poll").get("image_poll")?"img":"text"},one_click:function(){return this.get("poll").get("one_click")},vote_button:function(){if(this.one_click()){var e=this.get("poll").get("votes"),t=e.votes[this.get("identifier")]||{},i="voting"!==this.get("poll").pollState()||!this.get("userCanVote")||t.pending||t.saved,a=t.pending||t.saved?1:0,n=this.get("poll").get("translations").saving,r=t.pending?n:this.get("poll").get("vote_button_text");return{disabled:i,text:r,votes:a,loading:e&&e.saving}}return null},checkboxes:function(){if(this.one_click())return[];var e=!1,t=!1;if(this.get("userCanVote")){var i=this.get("identifier"),a=this.get("poll").get("votes"),n=a.votes[i]||{},r="voting"===this.get("poll").pollState(),s=n.pending?!0:!1,o=l.any(a.votes,function(e,t){return e.pending&&t!==i}),c=n.saved?!0:!1;e=s||c,t=!c&&!o&&r}return[{index:1,checked:e,disabled:!t}]},clickable:function(){var e=this.checkboxes();return e.length>0?!this.disabled():this.vote_button()?!this.vote_button().disabled:void 0},disabled:function(){var e=this.vote_button(),t=this.checkboxes();return e?e.disabled:l.every(t,function(e){return e.disabled===!0})},results:function(){var e=this.get("poll").results();if(e){var a=e[this.get("identifier")]||{};return{total_formatted:t(a.count||0),percent_formatted:i(a.percentage||0)}}return null}}),u=r.View.extend({className:"",template:n.entities.contest,events:{"click .master_button .button":"_handleMasterClick","click span.checkbox":"_handleCheckboxClick","click div.contest-item":"_handleTextOrImageClick","click span.vote":"_handleSingleVoteClick","click .again":"_handleVoteAgainClick"},initialize:function(){l.bindAll(this),this._userCanVote=!0,this.activityStreamNamespace=this.model.get("activity_stream_namespace"),this.cellophane={host:c.Cellophane.base_uri.replace(/(\/int)?\/?$/,""),auth_key:c.Cellophane.auth_key},this.initializeChoiceCollection(),this.fetchPollResults().then(this.model.setPollResults)},render:function(){var e=this.userCanVote();this.model.set("userCanVote",e),this.model.get("contestants").each(function(t){t.set("userCanVote",e)}),this.$el.html(this.template.render(this.model))},pollState:function(){return this.model.pollState()},userCanVote:function(){return this._userCanVote},fetchPollResults:function(){var e=this,t=this.cellophane.auth_key;return o.ajax({url:this.cellophane.host+"/disneynetwork/activitystream/v1/poll/count",headers:{Authorization:t},type:"GET",data:{pretty:!0,count:!0,pollId:e.model.get("id")},dataType:"json"})},initializeChoiceCollection:function(){var e=new r.Collection;l.each(this.model.get("voting_choices"),function(t){var i={poll:this.model,id:t.identifier},a=new d(l.extend(t,i));e.push(a)},this),this.model.set("contestants",e),this.model.set("single_option",1===e.length)},_handleMasterClick:function(e){var t=o(e.currentTarget);t.hasClass("disabled")||(this.submitPendingVotes(),this._trackLink(null,t.text()),e.preventDefault())},_handleTextOrImageClick:function(e){var t=o(e.currentTarget);if(!this.model.showResults)if(this.model.get("one_click"))this._handleSingleVoteClick(e);else{var i=t.closest(".option");if(i.length){if(i.hasClass("disabled"))return void e.preventDefault();var a=i.data("id"),n=this.model.get("votes").votes||{},r=n[a]||{};this._setCandidatePending(a,!r.pending),this.render(),this._trackLink(a)}}e.preventDefault()},_handleCheckboxClick:function(e){if(!this.model.get("one_click")){var t=o(e.currentTarget),i=t.closest(".option"),a=i.data("id"),n=t.hasClass("checked");t.hasClass("disabled")||(this._setCandidatePending(a,!n),this.render(),this._trackLink(a),e.preventDefault())}},_handleSingleVoteClick:function(e){var t=o(e.currentTarget),i=t.closest(".option");if(t.hasClass("disabled"))return void e.preventDefault();var a=i.data("id");this._setCandidatePending(a,!0),this.submitPendingVotes(),e.preventDefault()},_handleVoteAgainClick:function(){this.model.hideResults(),this.model.clearVotes(),this.render()},_trackLink:function(e,t){if(e||t){var i=this.options,a=["contest","mod"+i.moduleView.index,"item"+i.index];if(e){var n=this.model.get("contestants"),r=n.findWhere({identifier:e}),o=l.indexOf(n,r);t=t||r.get("text")||r.get("title"),a.push("poll"+o)}else a.push("button");var c=a.join("/"),d=c+"/"+t.replace(/[^a-z0-9 ]/gi,"").replace(/\s+/g,"-");s.link({linkName:d,linkPosition:c})}},submitPendingVotes:function(){var e=this,t=this.model.get("votes"),i=t.votes,a=c.visitorId(),n=e.cellophane.auth_key;t.saving=!0,l.each(i,function(t,i){if(t.pending){var r=e.model.get("contestants")._byId[i].get("text"),s=e.model.get("title");o.ajax({url:e.cellophane.host+"/disneynetwork/activitystream/v2/publish/anonymous/"+e.activityStreamNamespace+"/submit/vote",headers:{Authorization:n},type:"POST",data:JSON.stringify({pollId:e.model.get("id"),voteId:i,title:"Voted for "+r+" in the '"+s+"' poll!",voteDisplayName:r,pollDisplayName:s,anonymousid:a,pollType:e.model.get("type")}),dataType:"json"}),t.pending=!1,t.saved=!0}}),t.saving=!1,this.model.displayResults(),this.model.get("votes").pending=!1,this.render(),"none"===this.model.get("voting_limit")&&this.$(".again").fadeIn(500)},_setCandidatePending:function(e,t){var i=this.model.get("votes"),a=i.votes[e]||{};return a.pending=t,i.votes[e]=a,i.pending=l.any(i.votes,function(e){return e.pending===!0}),i.pending}}),h=r.Model.extend({defaults:{showResults:!1,pollResults:{},votes:{pending:!1,votes:{}}},initialize:function(){l.bindAll(this)},setPollResults:function(e){var t=e[this.get("id")]||{};this.set("pollResults",t)},results:function(){return this.showResults?this.get("pollResults"):null},hideResults:function(){this.showResults=!1},displayResults:function(){this.showResults=!0},clearVotes:function(){this.set("votes",{pending:!1,votes:{}})},pollState:function(){var e=this.get("voting_start_time"),t=e&&new Date(e),i=this.get("voting_end_time"),a=i&&new Date(i),n=new Date;return t&&t>n?"pre":a&&n>a?"closed":"voting"},master_button:function(){var e=this.pollState(),t=this.get("one_click"),i=this.get("votes"),a=this.get("translations");if(!t&&!this.showResults&&"voting"===e){var n={disabled:!0,loading:!1,text:this.get("vote_button_text"),complete:!1};return i.votes&&(i.saving?(n.loading=!0,n.text=a.saving):this.get("userCanVote")?n.disabled=!1:n.complete=!0),n}},message:function(){var e,t=this.pollState(),i=this.get("userCanVote");return"pre"===t?e={type:"pre",text:this.get("pre_open_text")}:"voting"===t?(e={type:"voting",text:null},(this.showResults||!i)&&(e.type="voted",e.text=this.get("voted_text"))):"closed"===t&&(e={type:"closed",text:this.get("closed_text")}),e&&!e.text&&(e=null),e}}),f=a.ModuleView.extend({className:"module contest",template:n.modules.contest,initialize:function(){this.cds=!!this.options.cds,this.contest_views=[],this.index=this.model.collection.indexOf(this.model),this.model.data.each(function(e,t){this.contest_views.push(new u({model:new h(e.attributes),index:t,moduleView:this}))},this)},render:function(){var t=l.extend({noAd:!!this.options.cds},this.options.ads.helpers(this.model.toJSON()),this.model);this.$el.html(this.template.render(t,{}));var i=this.$el.find(".container");i.empty(),l.each(this.contest_views,function(t){var a=e.document.createElement("div");i.append(a),t.setElement(a),t.render()},this)},resize:function(){this.cds||this.options.ads.restore(),this.render(),this.ready()}});f.register("poll")}(this),Whiskers("modules.popup_language_selector",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="language-top-container"> <div id="language-top"> <span class="icon globe"></span> '),a.s(a.f("site_links",e,t,1),e,t,0,106,163,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="language-option">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),a.b(' <a href="#" class="dismiss"></a> </div> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Cookie,n=e.Whiskers,r=e.Tracker,s=e.$,o=e.location.hostname,l=function(){var e=o;return e.match(/\.diznee.net/)&&(e=e.split(".").slice(0,-3).join(".")),e.replace("www.","")},c=function(){var e=/^(?:[a-z0-9-]+\.)*?([a-z0-9-]+(?:\.com?)?(?:\.[a-z]{2})?)$/;return l().match(e)[1]},d=function(){return o.replace(l(),"")},u=function(){return c()+d()},h=function(e,t){e.preventDefault(),a.set("language-preference","dismissed",{domain:u()}),t.fadeOut(),r.link({linkUrl:"#",linkName:"popup_language_selector/dismiss"})};t.ModuleView.register("popup_language_selector",{template:n.modules.popup_language_selector,render:function(){this.$el.html(this.template.render(this.model))},ready:function(){this.$(".language-option").each(function(){this.host===o&&s(this).css("color","white")}),a.get("language-preference")||this.$el.show()},events:{"click #language-top a.dismiss":function(e){h(e,this.$el)},"click #language-top a.language-option":function(e){var t=s(e.currentTarget);t[0].host===o?e.preventDefault():r.link({linkUrl:t.attr("href"),linkName:"popup_language_selector/"+t.text()})}}})}(this),Whiskers("modules.print",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,715,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound '),i.b(i.v(i.f("type",e,t,0))),i.b('"> '),i.s(i.d("header_data.is_ad",e,t,1),e,t,0,61,116,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="ad-module-notice">'),i.b(i.v(i.d("translations.ad",e,t,0))),i.b("</div>")}),e.pop()),i.b(' <div class="poster-container'),i.s(i.f("watch_message",e,t,1),e,t,0,185,199,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" watch-padding")}),e.pop()),i.b('"> <div class="poster-inner poster-box"> <div class="poster '),i.s(i.f("isMobile",e,t,1),e,t,0,290,298,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("isMobile")}),e.pop()),i.b('"> <a href="'),i.b(i.v(i.f("printable_asset",e,t,0))),i.b('" target="_blank"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("catalogImage",e,t,0))),i.b('" class="no-src" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,478,556,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("catalogImage",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"></noscript>')}),e.pop()),i.b(' </a> </div> </div> </div> <div class="content-toolbar-container"> <div id="toolbar" class="inverted"> <div id="meta"></div> </div> </div> </div> ')}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("shared.contenttoolbar_print",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(' <div id="toolbar"> <div id="metadata" class="bound"> <div class="module_body '),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,297,309,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("has-prodlink")}),e.pop()),a.b(" "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||a.s(a.f("suppress_social",e,t,1),e,t,1,0,0,"")||a.b("has-social"),a.b(' "> <div class="contentarea col-container"> <div class="content"> <h1>'),a.b(a.v(a.f("title",e,t,0))),a.b('</h1> <p itemprop="description">'),a.b(a.v(a.f("description",e,t,0))),a.b(a.v(a.f("rating",e,t,0))),a.b('</p> </div> </div> <div class="secondary-content"> <div class="promo-social-wrapper"> <div class="meta-content"> <div class="button-container"> <a href="'),a.b(a.v(a.f("printable_asset",e,t,0))),a.b('" target="_blank" class="button blue large print">'),a.b(a.v(a.d("translations.print",e,t,0))),a.b("</a> "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||a.s(a.f("suppress_social",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.b(a.rp("<socialLinkPartial0",e,t,"")),a.b(" ")),a.b(" </div> "),a.s(a.f("disclaimer_copy",e,t,1),e,t,0,897,960,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="disclaimer-copy"><p>'),i.b(i.v(i.f("disclaimer_copy",e,t,0))),i.b("</p></div> ")}),e.pop()),a.b(' <div class="productlink"> '),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,1035,1175,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,1060,1150,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </a> ')}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("contentToolbarTitleLink",e,t,1),e,t,0,1232,1284,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a class="icon_title" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),a.b(" </div> </div> </div> </div> </div> "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="ad-container"> <div class="companionad">'),a.b(a.t(a.f("companionAd",e,t,0))),a.b("</div> "),a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div> ")),a.b(" </div> </div>"),a.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e._,o=t.ModuleView.extend({breakpoints:n,template:r.modules.print,render:function(){var t=this,i=s.first(t.model.get("data"));if(i.href&&-1===i.href.indexOf(e.location.hostname)){var a=/[^\/]+?:\/\/[^/]+/.exec(e.location.href)+i.href;i.set("href",a)}var n=s.extend({linksInverted:!0,cds:!!this.options.cds},t.options.ads.helpers(),t.model);t.$el.html(t.template.render(n,{}))},ready:function(){this.loadContentToolBarView()},loadContentToolBarView:function(){var e=this,t=e.options,a=e.$("#meta"),n=e.model.get("data")[0].not_embeddable,r=e.model.get("translations"),s=e.model.get("schema_json")||{},o=[{share_type:"share",share_text:r.share,output_label:r.quick_link}];n!==!0&&o.unshift({share_type:"embed",share_text:r.embed,output_label:r.embed}),e.$(".module_header").addClass("hide"),e.tb=new i.ContentToolbarView({el:a,template:e.toolbar_template,use_deprecated_social:e.use_deprecated_social,model:e.model,socialLinks:o,disclaimer_copy:s.disclaimer_copy,cdsMode:t.cds,ads:t.ads})},resize:function(){this.options.ads.restore()}});o.register("print",{toolbar_template:r.shared.contenttoolbar_print})}(this),Whiskers("modules.print_embedded",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.s(a.f("showAllPages",e,t,1),e,t,0,35,43,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("show-all")}),e.pop()),a.b('"> <div class="toolbar-container"> </div> <div class="viewer"> '),a.b(" "),a.b(a.rp("<mickey_loader0",e,t,"")),a.b(' </div> <div class="mozPrintCallback-shim hidden"> <div class="mozPrintCallback-dialog-box"> <!-- TODO: Localise the following strings --> Preparing document for printing... <div class="progress-row"> <progress value="0" max="100"></progress> <span class="relative-progress">0%</span> </div> <div class="progress-actions"> <input type="button" value="Cancel" class="mozPrintCallback-cancel"> </div> </div> </div> </div>'),a.fl()
},partials:{"<mickey_loader0":{name:"mickey_loader",partials:{},subs:{}}},subs:{}}),Whiskers("modules.print_embedded.toolbar",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="toolbar '),a.s(a.f("loaded",e,t,1),e,t,1,0,0,"")||a.b("hidden"),a.b('"> <div class="toolbar-section left"> <a class="zoom zoomOut toolbarControl '),a.s(a.f("atMinZoom",e,t,1),e,t,0,138,146,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("disabled")}),e.pop()),a.b('" data-action="zoomOut"></a> <a class="zoom zoomIn toolbarControl '),a.s(a.f("atMaxZoom",e,t,1),e,t,0,240,248,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("disabled")}),e.pop()),a.b('" data-action="zoomIn"></a> <div class="zoomLevel">'),a.b(a.v(a.f("zoomLevel",e,t,0))),a.b('</div> </div> <div class="toolbar-section center"> <a class="pagination pageUp toolbarControl '),a.s(a.f("isFirstPage",e,t,1),e,t,0,436,444,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("disabled")}),e.pop()),a.b('" data-action="previousPage"></a> <div class="pageNumber">'),a.b(a.v(a.d("translations.page",e,t,0))),a.b(' <div class="currentPage">'),a.b(a.v(a.f("currentPage",e,t,0))),a.b("</div> "),a.b(a.v(a.d("translations.of",e,t,0))),a.b(" "),a.b(a.v(a.f("totalPages",e,t,0))),a.b('</div> <a class="pagination pageDown toolbarControl '),a.s(a.f("isLastPage",e,t,1),e,t,0,688,696,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("disabled")}),e.pop()),a.b('" data-action="nextPage"></a> </div> <div class="toolbar-section right"> <a class="print"> <div class="print-icon"></div> '),a.b(a.v(a.d("translations.print",e,t,0))),a.b(" </a> </div> </div>"),a.fl()},partials:{},subs:{}}),Whiskers("modules.print_embedded.viewer",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="viewer-wrapper"> '),a.b(a.rp("<mickey_loader0",e,t,"")),a.b(" "),a.s(a.f("pageCollection",e,t,1),e,t,0,67,114,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <canvas class="page-'),i.b(i.v(i.f("pageNumber",e,t,0))),i.b('"></canvas> ')}),e.pop()),a.b(' </div> <div class="print-container"></div>'),a.fl()},partials:{"<mickey_loader0":{name:"mickey_loader",partials:{},subs:{}}},subs:{}}),Whiskers("modules.print_embedded.slider_styles",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<style type="text/css"> .module.print_embedded ~ .module.slider.dock-top-state{ position: absolute !important; top: 450px; } .module.print_embedded ~ .module.slider.dock-bottom-state{ position: fixed !important; bottom: '),a.b(a.v(a.f("sliderBottom",e,t,0))),a.b("px !important; } </style>"),a.fl()},partials:{},subs:{}}),Whiskers("partials.mickey_loader",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="mickey-loader das-loaded"> <div> <span></span> <span></span> <span></span> </div> </div>'),a.fl()},partials:{},subs:{}}),/* Copyright 2012 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),PDFJS.version="1.1.114",PDFJS.build="3fd44fd",function(){"use strict";function e(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function t(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}function i(e){throw PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.errors&&(console.log("Error: "+e),console.log(a())),L.notify(I.unknown),new Error(e)}function a(){try{throw new Error}catch(e){return e.stack?e.stack.split("\n").slice(2).join("\n"):""}}function n(e,t){e||i(t)}function r(e,t){if(!t)return e;if(/^[a-z][a-z0-9+\-.]*:/i.test(t))return t;var i;if("/"===t.charAt(0))return i=e.indexOf("://"),"/"===t.charAt(1)?++i:i=e.indexOf("/",i+3),e.substring(0,i)+t;var a=e.length;i=e.lastIndexOf("#"),a=i>=0?i:a,i=e.lastIndexOf("?",a),a=i>=0?i:a;var n=e.lastIndexOf("/",a);return e.substring(0,n+1)+t}function s(e,t){if(!e)return!1;var i=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!i)return t;switch(i=i[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1}}function o(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!1}),i}function l(e){n(null!==e&&"object"==typeof e&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,i=8192;if(i>t)return String.fromCharCode.apply(null,e);for(var a=[],r=0;t>r;r+=i){var s=Math.min(r+i,t),o=e.subarray(r,s);a.push(String.fromCharCode.apply(null,o))}return a.join("")}function c(e){n("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,i=new Uint8Array(t),a=0;t>a;++a)i[a]=255&e.charCodeAt(a);return i}function d(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function u(){var e=new Uint8Array(2);e[0]=1;var t=new Uint16Array(e.buffer);return 1===t[0]}function h(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d"),i=t.createImageData(1,1);return"undefined"!=typeof i.data.buffer}function f(e){return"number"==typeof e}function p(e){return e instanceof Array}function m(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength}function g(){var e={};return e.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),e}function b(e,t){this.name=e,this.comObj=t,this.callbackIndex=1,this.postMessageTransfers=!0;var a=this.callbacksCapabilities={},n=this.actionHandler={};n.console_log=[function(e){console.log.apply(console,e)}],n.console_error=[function(e){console.error.apply(console,e)}],n._unsupported_feature=[function(e){L.notify(e)}],t.onmessage=function(e){var r=e.data;if(r.isReply){var s=r.callbackId;if(r.callbackId in a){var o=a[s];delete a[s],"error"in r?o.reject(r.error):o.resolve(r.data)}else i("Cannot resolve callback "+s)}else if(r.action in n){var l=n[r.action];r.callbackId?Promise.resolve().then(function(){return l[0].call(l[1],r.data)}).then(function(e){t.postMessage({isReply:!0,callbackId:r.callbackId,data:e})},function(e){t.postMessage({isReply:!0,callbackId:r.callbackId,error:e})}):l[0].call(l[1],r.data)}else i("Unknown action from worker: "+r.action)}}function v(e,i,a){var n=new Image;n.onload=function(){a.resolve(e,n)},n.onerror=function(){a.resolve(e,null),t("Error during JPEG image loading")},n.src=i}function y(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i}function k(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],i=e[1],a=e[2],n=e[3],r=e[4],s=e[5],o=t*n-i*a,l=i*a-t*n;return[n/o,i/l,a/l,t/o,(n*r-a*s)/l,(i*r-t*s)/o]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var i=this._transformMatrix;i[4]=i[0]*e+i[2]*t+i[4],i[5]=i[1]*e+i[3]*t+i[5],this._originalTranslate(e,t)},e.scale=function(e,t){var i=this._transformMatrix;i[0]=i[0]*e,i[1]=i[1]*e,i[2]=i[2]*t,i[3]=i[3]*t,this._originalScale(e,t)},e.transform=function(t,i,a,n,r,s){var o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*i,o[1]*t+o[3]*i,o[0]*a+o[2]*n,o[1]*a+o[3]*n,o[0]*r+o[2]*s+o[4],o[1]*r+o[3]*s+o[5]],e._originalTransform(t,i,a,n,r,s)},e.setTransform=function(t,i,a,n,r,s){this._transformMatrix=[t,i,a,n,r,s],e._originalSetTransform(t,i,a,n,r,s)},e.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),a=this._transformMatrix;this._transformMatrix=[a[0]*t+a[2]*i,a[1]*t+a[3]*i,a[0]*-i+a[2]*t,a[1]*-i+a[3]*t,a[4],a[5]],this._originalRotate(e)})}function _(e){var t,i,a,n,r=1e3,s=e.width,o=e.height,l=s+1,c=new Uint8Array(l*(o+1)),d=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=s+7&-8,h=e.data,f=new Uint8Array(u*o),p=0;for(t=0,n=h.length;n>t;t++)for(var m=128,g=h[t];m>0;)f[p++]=g&m?0:255,m>>=1;var b=0;for(p=0,0!==f[p]&&(c[0]=1,++b),i=1;s>i;i++)f[p]!==f[p+1]&&(c[i]=f[p]?2:1,++b),p++;for(0!==f[p]&&(c[i]=2,++b),t=1;o>t;t++){p=t*u,a=t*l,f[p-u]!==f[p]&&(c[a]=f[p]?1:8,++b);var v=(f[p]?4:0)+(f[p-u]?8:0);for(i=1;s>i;i++)v=(v>>2)+(f[p+1]?4:0)+(f[p-u+1]?8:0),d[v]&&(c[a+i]=d[v],++b),p++;if(f[p-u]!==f[p]&&(c[a+i]=f[p]?2:4,++b),b>r)return null}for(p=u*(o-1),a=t*l,0!==f[p]&&(c[a]=8,++b),i=1;s>i;i++)f[p]!==f[p+1]&&(c[a+i]=f[p]?4:8,++b),p++;if(0!==f[p]&&(c[a+i]=4,++b),b>r)return null;var y=new Int32Array([0,l,-1,0,-l,0,0,0,1]),k=[];for(t=0;b&&o>=t;t++){for(var _=t*l,w=_+s;w>_&&!c[_];)_++;if(_!==w){var x,C=[_%l,t],A=c[_],S=_;do{var T=y[A];do _+=T;while(!c[_]);x=c[_],5!==x&&10!==x?(A=x,c[_]=0):(A=x&51*A>>4,c[_]&=A>>2|A<<2),C.push(_%l),C.push(_/l|0),--b}while(S!==_);k.push(C),--t}}var P=function(e){e.save(),e.scale(1/s,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,i=k.length;i>t;t++){var a=k[t];e.moveTo(a[0],a[1]);for(var n=2,r=a.length;r>n;n+=2)e.lineTo(a[n],a[n+1])}e.fill(),e.beginPath(),e.restore()};return P}function w(e){var t=ot[e[0]];return t||i("Unknown IR type: "+e[0]),t.fromIR(e)}var x="undefined"==typeof window?this:window,C="undefined"==typeof window,A=[.001,0,0,.001,0,0],S={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},T={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},P={WIDGET:1,TEXT:2,LINK:3};x.PDFJS||(x.PDFJS={}),x.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var E=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},I=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},L=PDFJS.UnsupportedManager=function(){var e=[];return{listen:function(t){e.push(t)},notify:function(i){t('Unsupported feature "'+i+'"');for(var a=0,n=e.length;n>a;a++)e[a](i)}}}();PDFJS.isValidUrl=s,PDFJS.shadow=o;var M=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},D=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.PasswordException=D;var R=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnknownErrorException=R;var B=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.InvalidPDFException=B;var O=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.MissingPDFException=O;var F=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnexpectedResponseException=F;!function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}(),function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}();Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function(){return o(PDFJS,"isLittleEndian",u())}}),Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:!0,get:function(){return o(PDFJS,"hasCanvasTypedArrays",h())}});{var N=function(){function e(e,t){this.buffer=e,this.byteLength=e.length,this.length=void 0===t?this.byteLength>>2:t,i(this.length)}function t(e){return{get:function(){var t=this.buffer,i=e<<2;return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0},set:function(t){var i=this.buffer,a=e<<2;i[a]=255&t,i[a+1]=t>>8&255,i[a+2]=t>>16&255,i[a+3]=t>>>24&255}}}function i(i){for(;i>a;)Object.defineProperty(e.prototype,a,t(a)),a++}e.prototype=Object.create(null);var a=0;return e}(),j=[1,0,0,1,0,0],z=PDFJS.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,i,a){return t[1]=e,t[3]=i,t[5]=a,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){var i=e[0]*t[0]+e[1]*t[2]+t[4],a=e[0]*t[1]+e[1]*t[3]+t[5];return[i,a]},e.applyInverseTransform=function(e,t){var i=t[0]*t[3]-t[1]*t[2],a=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,n=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[a,n]},e.getAxialAlignedBoundingBox=function(t,i){var a=e.applyTransform(t,i),n=e.applyTransform(t.slice(2,4),i),r=e.applyTransform([t[0],t[3]],i),s=e.applyTransform([t[2],t[1]],i);return[Math.min(a[0],n[0],r[0],s[0]),Math.min(a[1],n[1],r[1],s[1]),Math.max(a[0],n[0],r[0],s[0]),Math.max(a[1],n[1],r[1],s[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],s=(i+r)/2,o=Math.sqrt((i+r)*(i+r)-4*(i*r-n*a))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,i){function a(e,t){return e-t}var n=[t[0],t[2],i[0],i[2]].sort(a),r=[t[1],t[3],i[1],i[3]].sort(a),s=[];return t=e.normalizeRect(t),i=e.normalizeRect(i),n[0]===t[0]&&n[1]===i[0]||n[0]===i[0]&&n[1]===t[0]?(s[0]=n[1],s[2]=n[2],r[0]===t[1]&&r[1]===i[1]||r[0]===i[1]&&r[1]===t[1]?(s[1]=r[1],s[3]=r[2],s):!1):!1},e.sign=function(e){return 0>e?-1:1},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var i in t)e[i]=t[i]},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);)e=e.get("Parent");return e?e.get(t):null},e.inherit=function(e,t,i){e.prototype=Object.create(t.prototype),e.prototype.constructor=e;for(var a in i)e.prototype[a]=i[a]},e.loadScript=function(e,t){var i=document.createElement("script"),a=!1;i.setAttribute("src",e),t&&(i.onload=function(){a||t(),a=!0}),document.getElementsByTagName("head")[0].appendChild(i)},e}();PDFJS.PageViewport=function(){function e(e,t,i,a,n,r){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=a,this.offsetY=n;var s,o,l,c,d=(e[2]+e[0])/2,u=(e[3]+e[1])/2;switch(i%=360,i=0>i?i+360:i){case 180:s=-1,o=0,l=0,c=1;break;case 90:s=0,o=1,l=1,c=0;break;case 270:s=0,o=-1,l=-1,c=0;break;default:s=1,o=0,l=0,c=-1}r&&(l=-l,c=-c);var h,f,p,m;0===s?(h=Math.abs(u-e[1])*t+a,f=Math.abs(d-e[0])*t+n,p=Math.abs(e[3]-e[1])*t,m=Math.abs(e[2]-e[0])*t):(h=Math.abs(d-e[0])*t+a,f=Math.abs(u-e[1])*t+n,p=Math.abs(e[2]-e[0])*t,m=Math.abs(e[3]-e[1])*t),this.transform=[s*t,o*t,l*t,c*t,h-s*t*d-l*t*u,f-o*t*d-c*t*u],this.width=p,this.height=m,this.fontScale=t}return e.prototype={clone:function(t){t=t||{};var i="scale"in t?t.scale:this.scale,a="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),i,a,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return z.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=z.applyTransform([e[0],e[1]],this.transform),i=z.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]},convertToPdfPoint:function(e,t){return z.applyInverseTransform([e,t],this.transform)}},e}()}PDFJS.createPromiseCapability=g,function(){function e(e){this._status=i,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(t){this._reject(t)}}if(x.Promise)return"function"!=typeof x.Promise.all&&(x.Promise.all=function(e){var t,i,a=0,n=[],r=new x.Promise(function(e,a){t=e,i=a});return e.forEach(function(e,r){a++,e.then(function(e){n[r]=e,a--,0===a&&t(n)},i)}),0===a&&t(n),r}),"function"!=typeof x.Promise.resolve&&(x.Promise.resolve=function(e){return new x.Promise(function(t){t(e)})}),"function"!=typeof x.Promise.reject&&(x.Promise.reject=function(e){return new x.Promise(function(t,i){i(e)})}),void("function"!=typeof x.Promise.prototype["catch"]&&(x.Promise.prototype["catch"]=function(e){return x.Promise.prototype.then(void 0,e)}));var i=0,a=1,n=2,r=500,s={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){e._status!==i&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=1,t=Date.now()+e;this.handlers.length>0;){var i=this.handlers.shift(),r=i.thisPromise._status,s=i.thisPromise._value;try{r===a?"function"==typeof i.onResolve&&(s=i.onResolve(s)):"function"==typeof i.onReject&&(s=i.onReject(s),r=a,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(o){r=n,s=o}if(i.nextPromise._updateStatus(r,s),Date.now()>=t)break}return this.handlers.length>0?void setTimeout(this.runHandlers.bind(this),0):void(this.running=!1)},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),i=0;i<this.unhandledRejections.length;i++)if(e-this.unhandledRejections[i].time>r){var a=this.unhandledRejections[i].promise._value,n="Unhandled rejection: "+a;a.stack&&(n+="\n"+a.stack),t(n),this.unhandledRejections.splice(i),i--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),r))}};e.all=function(t){function i(e){s._status!==n&&(l=[],r(e))}var a,r,s=new e(function(e,t){a=e,r=t}),o=t.length,l=[];if(0===o)return a(l),s;for(var c=0,d=t.length;d>c;++c){var u=t[c],h=function(e){return function(t){s._status!==n&&(l[e]=t,o--,0===o&&a(l))}}(c);e.isPromise(u)?u.then(h,i):h(u)}return s},e.isPromise=function(e){return e&&"function"==typeof e.then},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(t,i){if(this._status!==a&&this._status!==n){if(t===a&&e.isPromise(i))return void i.then(this._updateStatus.bind(this,a),this._updateStatus.bind(this,n));this._status=t,this._value=i,t===n&&0===this._handlers.length&&(this._unhandledRejection=!0,s.addUnhandledRejection(this)),s.scheduleHandlers(this)}},_resolve:function(e){this._updateStatus(a,e)},_reject:function(e){this._updateStatus(n,e)},then:function(t,i){var a=new e(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:t,onReject:i,nextPromise:a}),s.scheduleHandlers(this),a},"catch":function(e){return this.then(void 0,e)}},x.Promise=e}();var U=function(){function e(e,t,i){for(;e.length<i;)e+=t;return e}function i(){this.started={},this.times=[],this.enabled=!0}return i.prototype={time:function(e){this.enabled&&(e in this.started&&t("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||t("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,i,a=this.times,n="",r=0;for(t=0,i=a.length;i>t;++t){var s=a[t].name;s.length>r&&(r=s.length)}for(t=0,i=a.length;i>t;++t){var o=a[t],l=o.end-o.start;n+=e(o.name," ",r)+" "+l+"ms\n"}return n}},i}();PDFJS.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var i=new MozBlobBuilder;return i.append(e),i.getBlob(t)},PDFJS.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,i){if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var a=PDFJS.createBlob(t,i);return URL.createObjectURL(a)}for(var n="data:"+i+";base64,",r=0,s=t.length;s>r;r+=3){var o=255&t[r],l=255&t[r+1],c=255&t[r+2],d=o>>2,u=(3&o)<<4|l>>4,h=s>r+1?(15&l)<<2|c>>6:64,f=s>r+2?63&c:64;n+=e[d]+e[u]+e[h]+e[f]}return n}}(),b.prototype={on:function(e,t,a){var n=this.actionHandler;n[e]&&i('There is already an actionName called "'+e+'"'),n[e]=[t,a]},send:function(e,t,i){var a={action:e,data:t};this.postMessage(a,i)},sendWithPromise:function(e,t,i){var a=this.callbackIndex++,n={action:e,data:t,callbackId:a},r=g();this.callbacksCapabilities[a]=r;try{this.postMessage(n,i)}catch(s){r.reject(s)}return r.promise},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize,PDFJS.cMapUrl=void 0===PDFJS.cMapUrl?null:PDFJS.cMapUrl,PDFJS.cMapPacked=void 0===PDFJS.cMapPacked?!1:PDFJS.cMapPacked,PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace,PDFJS.imageResourcesPath=void 0===PDFJS.imageResourcesPath?"":PDFJS.imageResourcesPath,PDFJS.disableWorker=void 0===PDFJS.disableWorker?!1:PDFJS.disableWorker,PDFJS.workerSrc=void 0===PDFJS.workerSrc?null:PDFJS.workerSrc,PDFJS.disableRange=void 0===PDFJS.disableRange?!1:PDFJS.disableRange,PDFJS.disableStream=void 0===PDFJS.disableStream?!1:PDFJS.disableStream,PDFJS.disableAutoFetch=void 0===PDFJS.disableAutoFetch?!1:PDFJS.disableAutoFetch,PDFJS.pdfBug=void 0===PDFJS.pdfBug?!1:PDFJS.pdfBug,PDFJS.postMessageTransfers=void 0===PDFJS.postMessageTransfers?!0:PDFJS.postMessageTransfers,PDFJS.disableCreateObjectURL=void 0===PDFJS.disableCreateObjectURL?!1:PDFJS.disableCreateObjectURL,PDFJS.disableWebGL=void 0===PDFJS.disableWebGL?!0:PDFJS.disableWebGL,PDFJS.disableFullscreen=void 0===PDFJS.disableFullscreen?!1:PDFJS.disableFullscreen,PDFJS.useOnlyCssZoom=void 0===PDFJS.useOnlyCssZoom?!1:PDFJS.useOnlyCssZoom,PDFJS.verbosity=void 0===PDFJS.verbosity?PDFJS.VERBOSITY_LEVELS.warnings:PDFJS.verbosity,PDFJS.maxCanvasPixels=void 0===PDFJS.maxCanvasPixels?16777216:PDFJS.maxCanvasPixels,PDFJS.openExternalLinksInNewWindow=void 0===PDFJS.openExternalLinksInNewWindow?!1:PDFJS.openExternalLinksInNewWindow,PDFJS.getDocument=function(e,t,a,n){var s=new q;t&&(t instanceof V||(t=Object.create(t),t.length=e.length,t.initialData=e.initialData),e=Object.create(e),e.range=t),s.onPassword=a||null,s.onProgress=n||null;var o,l,d;"string"==typeof e?d={url:e}:m(e)?d={data:e}:e instanceof V?d={range:e}:("object"!=typeof e&&i("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),e.url||e.data||e.range||i("Invalid parameter object: need either .data, .range or .url"),d=e);var u={};for(var h in d)if("url"!==h||"undefined"==typeof window){if("range"!==h)if("data"!==h||d[h]instanceof Uint8Array)u[h]=d[h];else{var f=d[h];"string"==typeof f?u[h]=c(f):"object"!=typeof f||null===f||isNaN(f.length)?i("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property."):u[h]=new Uint8Array(f)}}else u[h]=r(window.location.href,d[h]);return o=g(),l=new G(o,d.range),o.promise.then(function(){l.fetchDocument(s,u)}),s};var q=function(){function e(){this._capability=g(),this.onPassword=null,this.onProgress=null}return e.prototype={get promise(){return this._capability.promise},then:function(){return this.promise.then.apply(this.promise,arguments)}},e}(),V=function(){function e(e,t){this.length=e,this.initialData=t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=g()}return e.prototype={addRangeListener:function(e){this._rangeListeners.push(e)},addProgressListener:function(e){this._progressListeners.push(e)},addProgressiveReadListener:function(e){this._progressiveReadListeners.push(e)},onDataRange:function(e,t){for(var i=this._rangeListeners,a=0,n=i.length;n>a;++a)i[a](e,t)},onDataProgress:function(e){this._readyCapability.promise.then(function(){for(var t=this._progressListeners,i=0,a=t.length;a>i;++i)t[i](e)}.bind(this))},onDataProgressiveRead:function(e){this._readyCapability.promise.then(function(){for(var t=this._progressiveReadListeners,i=0,a=t.length;a>i;++i)t[i](e)}.bind(this))},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")}},e}();PDFJS.PDFDataRangeTransport=V;var $=function(){function e(e,t){this.pdfInfo=e,this.transport=t}return e.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(e){return this.transport.getDestination(e)},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}},e}(),H=function(){function e(e,t,i){this.pageIndex=e,this.pageInfo=t,this.transport=i,this.stats=new U,this.stats.enabled=!!x.PDFJS.enableStats,this.commonObjs=i.commonObjs,this.objs=new W,this.cleanupAfterRender=!1,this.pendingDestroy=!1,this.intentStates={}}return e.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(e,t){return arguments.length<2&&(t=this.rotate),new PDFJS.PageViewport(this.view,e,t,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var e=this.transport.getAnnotations(this.pageIndex);return this.annotationsPromise=e,e},render:function(e){function t(e){var t=n.renderTasks.indexOf(r);t>=0&&n.renderTasks.splice(t,1),o.cleanupAfterRender&&(o.pendingDestroy=!0),o._tryDestroy(),e?r.capability.reject(e):r.capability.resolve(),i.timeEnd("Rendering"),i.timeEnd("Overall")}var i=this.stats;i.time("Overall"),this.pendingDestroy=!1;var a="print"===e.intent?"print":"display";this.intentStates[a]||(this.intentStates[a]={});var n=this.intentStates[a];n.displayReadyCapability||(n.receivingOperatorList=!0,n.displayReadyCapability=g(),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:a}));var r=new X(t,e,this.objs,this.commonObjs,n.operatorList,this.pageNumber);n.renderTasks||(n.renderTasks=[]),n.renderTasks.push(r);var s=r.task;e.continueCallback&&(s.onContinue=e.continueCallback);var o=this;return n.displayReadyCapability.promise.then(function(e){return o.pendingDestroy?void t():(i.time("Rendering"),r.initalizeGraphics(e),void r.operatorListChanged())},function(e){t(e)}),s},getOperatorList:function(){function e(){i.operatorList.lastChunk&&i.opListReadCapability.resolve(i.operatorList)}var t="oplist";this.intentStates[t]||(this.intentStates[t]={});var i=this.intentStates[t];if(!i.opListReadCapability){var a={};a.operatorListChanged=e,i.receivingOperatorList=!0,i.opListReadCapability=g(),i.renderTasks=[],i.renderTasks.push(a),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:t})}return i.opListReadCapability.promise},getTextContent:function(){return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1})},destroy:function(){this.pendingDestroy=!0,this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&!Object.keys(this.intentStates).some(function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingDestroy=!1)},_startRenderPage:function(e,t){var i=this.intentStates[t];i.displayReadyCapability&&i.displayReadyCapability.resolve(e)},_renderPageChunk:function(e,t){var i,a,n=this.intentStates[t];for(i=0,a=e.length;a>i;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);for(n.operatorList.lastChunk=e.lastChunk,i=0;i<n.renderTasks.length;i++)n.renderTasks[i].operatorListChanged();e.lastChunk&&(n.receivingOperatorList=!1,this._tryDestroy())}},e}(),G=function(){function a(t,a){if(this.pdfDataRangeTransport=a,this.workerInitializedCapability=t,this.commonObjs=new W,this.loadingTask=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=g(),!x.PDFJS.disableWorker&&"undefined"!=typeof Worker){var n=PDFJS.workerSrc;n||i("No PDFJS.workerSrc specified");try{var r=new Worker(n),s=new b("main",r);this.messageHandler=s,s.on("test",function(e){var i=e&&e.supportTypedArray;i?(this.worker=r,e.supportTransfers||(PDFJS.postMessageTransfers=!1),this.setupMessageHandler(s),t.resolve()):this.setupFakeWorker()}.bind(this));var o=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{s.send("test",o,[o.buffer])}catch(l){e("Cannot use postMessage transfers"),o[0]=0,s.send("test",o)}return}catch(c){e("The worker has been disabled.")}}this.setupFakeWorker()}return a.prototype={destroy:function(){this.pageCache=[],this.pagePromises=[];var e=this;this.messageHandler.sendWithPromise("Terminate",null).then(function(){dt.clear(),e.worker&&e.worker.terminate()})},setupFakeWorker:function(){x.PDFJS.disableWorker=!0,PDFJS.fakeWorkerFilesLoadedCapability||(PDFJS.fakeWorkerFilesLoadedCapability=g(),z.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedCapability.resolve()})),PDFJS.fakeWorkerFilesLoadedCapability.promise.then(function(){t("Setting up fake worker.");var e={postMessage:function(t){e.onmessage({data:t})},terminate:function(){}},i=new b("main",e);this.setupMessageHandler(i),PDFJS.WorkerMessageHandler.setup(i),this.workerInitializedCapability.resolve()}.bind(this))},setupMessageHandler:function(e){function a(t){e.send("UpdatePassword",t)}this.messageHandler=e;var n=this.pdfDataRangeTransport;n&&(n.addRangeListener(function(t,i){e.send("OnDataRange",{begin:t,chunk:i})}),n.addProgressListener(function(t){e.send("OnDataProgress",{loaded:t})}),n.addProgressiveReadListener(function(t){e.send("OnDataRange",{chunk:t})}),e.on("RequestDataRange",function(e){n.requestDataRange(e.begin,e.end)},this)),e.on("GetDoc",function(e){var t=e.pdfInfo;this.numPages=e.pdfInfo.numPages;var i=new $(t,this);this.pdfDocument=i,this.loadingTask._capability.resolve(i)},this),e.on("NeedPassword",function(e){var t=this.loadingTask;return t.onPassword?t.onPassword(a,M.NEED_PASSWORD):void t._capability.reject(new D(e.message,e.code))},this),e.on("IncorrectPassword",function(e){var t=this.loadingTask;return t.onPassword?t.onPassword(a,M.INCORRECT_PASSWORD):void t._capability.reject(new D(e.message,e.code))},this),e.on("InvalidPDF",function(e){this.loadingTask._capability.reject(new B(e.message))},this),e.on("MissingPDF",function(e){this.loadingTask._capability.reject(new O(e.message))},this),e.on("UnexpectedResponse",function(e){this.loadingTask._capability.reject(new F(e.message,e.status))},this),e.on("UnknownError",function(e){this.loadingTask._capability.reject(new R(e.message,e.details))},this),e.on("DataLoaded",function(e){this.downloadInfoCapability.resolve(e)},this),e.on("PDFManagerReady",function(){this.pdfDataRangeTransport&&this.pdfDataRangeTransport.transportReady()},this),e.on("StartRenderPage",function(e){var t=this.pageCache[e.pageIndex];t.stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)},this),e.on("RenderPageChunk",function(e){var t=this.pageCache[e.pageIndex];t._renderPageChunk(e.operatorList,e.intent)},this),e.on("commonobj",function(e){var i=e[0],a=e[1];if(!this.commonObjs.hasData(i))switch(a){case"Font":var n,r=e[2];if("error"in r){var s=r.error;t("Error during font loading: "+s),this.commonObjs.resolve(i,s);break}n=new ut(r),dt.bind([n],function(){this.commonObjs.resolve(i,n)}.bind(this));break;case"FontPath":this.commonObjs.resolve(i,e[2]);break;default:s("Got unknown common object type "+a)}},this),e.on("obj",function(e){var t,a=e[0],n=e[1],r=e[2],s=this.pageCache[n];if(!s.objs.hasData(a))switch(r){case"JpegStream":t=e[3],v(a,t,s.objs);break;case"Image":t=e[3],s.objs.resolve(a,t);var o=8e6;t&&"data"in t&&t.data.length>o&&(s.cleanupAfterRender=!0);break;default:i("Got unknown object type "+r)}},this),e.on("DocProgress",function(e){var t=this.loadingTask;t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})},this),e.on("PageError",function(e){var t=this.pageCache[e.pageNum-1],a=t.intentStates[e.intent];a.displayReadyCapability?a.displayReadyCapability.reject(e.error):i(e.error)},this),e.on("JpegDecode",function(e){var t=e[0],i=e[1];return 3!==i&&1!==i?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(e,a){var n=new Image;n.onload=function(){var t=n.width,a=n.height,r=t*a,s=4*r,o=new Uint8Array(r*i),l=y(t,a),c=l.getContext("2d");c.drawImage(n,0,0);var d,u,h=c.getImageData(0,0,t,a).data;if(3===i)for(d=0,u=0;s>d;d+=4,u+=3)o[u]=h[d],o[u+1]=h[d+1],o[u+2]=h[d+2];else if(1===i)for(d=0,u=0;s>d;d+=4,u++)o[u]=h[d];e({data:o,width:t,height:a})},n.onerror=function(){a(new Error("JpegDecode failed to load image"))
},n.src=t})})},fetchDocument:function(e,t){this.loadingTask=e,t.disableAutoFetch=PDFJS.disableAutoFetch,t.disableStream=PDFJS.disableStream,t.chunkedViewerLoading=!!this.pdfDataRangeTransport,this.pdfDataRangeTransport&&(t.length=this.pdfDataRangeTransport.length,t.initialData=this.pdfDataRangeTransport.initialData),this.messageHandler.send("GetDocRequest",{source:t,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,cMapUrl:PDFJS.cMapUrl,cMapPacked:PDFJS.cMapPacked,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(e){if(0>=e||e>this.numPages||(0|e)!==e)return Promise.reject(new Error("Invalid page request"));var t=e-1;if(t in this.pagePromises)return this.pagePromises[t];var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(function(e){var i=new H(t,e,this);return this.pageCache[t]=i,i}.bind(this));return this.pagePromises[t]=i,i},getPageIndex:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e})},getAnnotations:function(e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(e){return this.messageHandler.sendWithPromise("GetDestination",{id:e})},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new PDFJS.Metadata(e[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var e=0,t=this.pageCache.length;t>e;e++){var i=this.pageCache[e];i&&i.destroy()}this.commonObjs.clear(),dt.clear()}.bind(this))}},a}(),W=function(){function e(){this.objs={}}return e.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={capability:g(),data:null,resolved:!1};return this.objs[e]=t,t},get:function(e,t){if(t)return this.ensureObj(e).capability.promise.then(t),null;var a=this.objs[e];return a&&a.resolved||i("Requesting object that isn't resolved yet "+e),a.data},resolve:function(e,t){var i=this.ensureObj(e);i.resolved=!0,i.data=t,i.capability.resolve(t)},isResolved:function(e){var t=this.objs;return t[e]?t[e].resolved:!1},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs={}}},e}(),J=function(){function e(e){this._internalRenderTask=e,this.onContinue=null}return e.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(){return this.promise.then.apply(this.promise,arguments)}},e}(),X=function(){function e(e,t,i,a,n,r){this.callback=e,this.params=t,this.objs=i,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=n,this.pageNumber=r,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.cancelled=!1,this.capability=g(),this.task=new J(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this)}return e.prototype={initalizeGraphics:function(e){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in x&&x.StepperManager.enabled&&(this.stepper=x.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var t=this.params;this.gfx=new rt(t.canvasContext,this.commonObjs,this.objs,t.imageLayer),this.gfx.beginDrawing(t.viewport,e),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound))},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue.call(this.task,this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){window.requestAnimationFrame(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},e}(),K=(PDFJS.Metadata=function(){function e(e){return e.replace(/>\\376\\377([^<]+)/g,function(e,t){for(var i=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,i,a){return String.fromCharCode(64*t+8*i+1*a)}),a="",n=0;n<i.length;n+=2){var r=256*i.charCodeAt(n)+i.charCodeAt(n+1);a+="&#x"+(65536+r).toString(16).substring(1)+";"}return">"+a})}function t(t){if("string"==typeof t){t=e(t);var a=new DOMParser;t=a.parseFromString(t,"application/xml")}else t instanceof Document||i("Metadata: Invalid metadata object");this.metaDocument=t,this.metadata={},this.parse()}return t.prototype={parse:function(){var e=this.metaDocument,t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var i=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===i&&t.hasChildNodes()){var a,n,r,s,o,l,c,d=t.childNodes;for(s=0,l=d.length;l>s;s++)if(a=d[s],"rdf:description"===a.nodeName.toLowerCase())for(o=0,c=a.childNodes.length;c>o;o++)"#text"!==a.childNodes[o].nodeName.toLowerCase()&&(n=a.childNodes[o],r=n.nodeName.toLowerCase(),this.metadata[r]=n.textContent.trim())}},get:function(e){return this.metadata[e]||null},has:function(e){return"undefined"!=typeof this.metadata[e]}},t}(),16),Y=100,Q=4096,Z=.65,et=!0,tt=1e3,it=16,at=function(){var e={};return{getCanvas:function(t,i,a,n){var r;if(void 0!==e[t])r=e[t],r.canvas.width=i,r.canvas.height=a,r.context.setTransform(1,0,0,1,0,0);else{var s=y(i,a),o=s.getContext("2d");n&&k(o),e[t]=r={canvas:s,context:o}}return r},clear:function(){for(var t in e){var i=e[t];i.canvas.width=0,i.canvas.height=0,delete e[t]}}}}(),nt=function(){function e(e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=j,this.textMatrixScale=1,this.fontMatrix=A,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=S.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.old=e}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),rt=function(){function a(e,t,i,a){this.ctx=e,this.current=new nt,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,e&&k(e),this.cachedGetSinglePixelWidth=null}function r(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);var a,n,r,s,o,l=t.height,c=t.width,d=l%it,u=(l-d)/it,h=0===d?u:u+1,f=e.createImageData(c,it),p=0,m=t.data,g=f.data;if(t.kind===T.GRAYSCALE_1BPP){var b=m.byteLength,v=PDFJS.hasCanvasTypedArrays?new Uint32Array(g.buffer):new N(g),y=v.length,k=c+7>>3,_=4294967295,w=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255;for(n=0;h>n;n++){for(s=u>n?it:d,a=0,r=0;s>r;r++){for(var x=b-p,C=0,A=x>k?c:8*x-7,S=-8&A,P=0,E=0;S>C;C+=8)E=m[p++],v[a++]=128&E?_:w,v[a++]=64&E?_:w,v[a++]=32&E?_:w,v[a++]=16&E?_:w,v[a++]=8&E?_:w,v[a++]=4&E?_:w,v[a++]=2&E?_:w,v[a++]=1&E?_:w;for(;A>C;C++)0===P&&(E=m[p++],P=128),v[a++]=E&P?_:w,P>>=1}for(;y>a;)v[a++]=0;e.putImageData(f,0,n*it)}}else if(t.kind===T.RGBA_32BPP){for(r=0,o=c*it*4,n=0;u>n;n++)g.set(m.subarray(p,p+o)),p+=o,e.putImageData(f,0,r),r+=it;h>n&&(o=c*d*4,g.set(m.subarray(p,p+o)),e.putImageData(f,0,r))}else if(t.kind===T.RGB_24BPP)for(s=it,o=c*s,n=0;h>n;n++){for(n>=u&&(s=d,o=c*s),a=0,r=o;r--;)g[a++]=m[p++],g[a++]=m[p++],g[a++]=m[p++],g[a++]=255;e.putImageData(f,0,n*it)}else i("bad image kind: "+t.kind)}function s(e,t){for(var i=t.height,a=t.width,n=i%it,r=(i-n)/it,s=0===n?r:r+1,o=e.createImageData(a,it),l=0,c=t.data,d=o.data,u=0;s>u;u++){for(var h=r>u?it:n,f=3,p=0;h>p;p++)for(var m=0,g=0;a>g;g++){if(!m){var b=c[l++];m=128}d[f]=b&m?0:255,f+=4,m>>=1}e.putImageData(o,0,u*it)}}function l(e,t){for(var i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],a=0,n=i.length;n>a;a++){var r=i[a];void 0!==e[r]&&(t[r]=e[r])}void 0!==e.setLineDash?(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset):void 0!==e.mozDashOffset&&(t.mozDash=e.mozDash,t.mozDashOffset=e.mozDashOffset)}function c(e,t,i,a){for(var n=e.length,r=3;n>r;r+=4){var s=e[r];if(0===s)e[r-3]=t,e[r-2]=i,e[r-1]=a;else if(255>s){var o=255-s;e[r-3]=e[r-3]*s+t*o>>8,e[r-2]=e[r-2]*s+i*o>>8,e[r-1]=e[r-1]*s+a*o>>8}}}function d(e,t){for(var i=e.length,a=1/255,n=3;i>n;n+=4){var r=e[n];t[n]=t[n]*r*a|0}}function u(e,t){for(var i=e.length,a=3;i>a;a+=4){var n=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=t[a]*n>>16}}function h(e,t,i,a,n,r){var s,o=!!r,l=o?r[0]:0,h=o?r[1]:0,f=o?r[2]:0;s="Luminosity"===n?u:d;for(var p=1048576,m=Math.min(a,Math.ceil(p/i)),g=0;a>g;g+=m){var b=Math.min(m,a-g),v=e.getImageData(0,g,i,b),y=t.getImageData(0,g,i,b);o&&c(v.data,l,h,f),s(v.data,y.data),e.putImageData(y,0,g)}}function m(e,t,i){var a=t.canvas,n=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var r=t.backdrop||null;if(st.isEnabled){var s=st.composeSMask(i.canvas,a,{subtype:t.subtype,backdrop:r});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}h(n,i,a.width,a.height,t.subtype,r),e.drawImage(a,0,0)}var g=15,b=10,v=["butt","round","square"],y=["miter","round","bevel"],x={},C={};a.prototype={beginDrawing:function(e,t){var i=this.ctx.canvas.width,a=this.ctx.canvas.height;t?this.ctx.clearRect(0,0,i,a):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,i,a),this.ctx.restore());var n=e.transform;this.ctx.save(),this.ctx.transform.apply(this.ctx,n),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,i,a){var n=e.argsArray,r=e.fnArray,s=t||0,o=n.length;if(o===s)return s;for(var l,c=o-s>b&&"function"==typeof i,d=c?Date.now()+g:0,u=0,h=this.commonObjs,f=this.objs;;){if(void 0!==a&&s===a.nextBreakPoint)return a.breakIt(s,i),s;if(l=r[s],l!==E.dependency)this[l].apply(this,n[s]);else for(var p=n[s],m=0,v=p.length;v>m;m++){var y=p[m],k="g"===y[0]&&"_"===y[1],_=k?h:f;if(!_.isResolved(y))return _.get(y,i),s}if(s++,s===o)return s;if(c&&++u>b){if(Date.now()>d)return i(),s;u=0}}},endDrawing:function(){this.ctx.restore(),at.clear(),st.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=v[e]},setLineJoin:function(e){this.ctx.lineJoin=y[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var i=this.ctx;void 0!==i.setLineDash?(i.setLineDash(e),i.lineDashOffset=t):(i.mozDash=e,i.mozDashOffset=t)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(e){for(var i=0,a=e.length;a>i;i++){var n=e[i],r=n[0],s=n[1];switch(r){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":if(s&&s.name&&"Normal"!==s.name){var o=s.name.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=o,this.ctx.globalCompositeOperation!==o&&t('globalCompositeOperation "'+o+'" is not supported')}else this.ctx.globalCompositeOperation="source-over";break;case"SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=s?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,i=e.canvas.height,a="smaskGroupAt"+this.groupLevel,n=at.getCanvas(a,t,i,!0),r=this.ctx,s=r.mozCurrentTransform;this.ctx.save();var o=n.context;o.scale(1/e.scaleX,1/e.scaleY),o.translate(-e.offsetX,-e.offsetY),o.transform.apply(o,s),l(r,o),this.ctx=o,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),m(this.ctx,this.current.activeSMask,e),this.ctx.restore()},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.activeSMask=null},restore:function(){0!==this.stateStack.length&&(null!==this.current.activeSMask&&this.endSMaskGroup(),this.current=this.stateStack.pop(),this.ctx.restore(),this.cachedGetSinglePixelWidth=null)},transform:function(e,t,i,a,n,r){this.ctx.transform(e,t,i,a,n,r),this.cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var i=this.ctx,a=this.current,n=a.x,r=a.y,s=0,o=0,l=e.length;l>s;s++)switch(0|e[s]){case E.rectangle:n=t[o++],r=t[o++];var c=t[o++],d=t[o++];0===c&&(c=this.getSinglePixelWidth()),0===d&&(d=this.getSinglePixelWidth());var u=n+c,h=r+d;this.ctx.moveTo(n,r),this.ctx.lineTo(u,r),this.ctx.lineTo(u,h),this.ctx.lineTo(n,h),this.ctx.lineTo(n,r),this.ctx.closePath();break;case E.moveTo:n=t[o++],r=t[o++],i.moveTo(n,r);break;case E.lineTo:n=t[o++],r=t[o++],i.lineTo(n,r);break;case E.curveTo:n=t[o+4],r=t[o+5],i.bezierCurveTo(t[o],t[o+1],t[o+2],t[o+3],n,r),o+=6;break;case E.curveTo2:i.bezierCurveTo(n,r,t[o],t[o+1],t[o+2],t[o+3]),n=t[o+2],r=t[o+3],o+=4;break;case E.curveTo3:n=t[o+2],r=t[o+3],i.bezierCurveTo(t[o],t[o+1],n,r,n,r),o+=4;break;case E.closePath:i.closePath()}a.setCurrentPoint(n,r)},closePath:function(){this.ctx.closePath()},stroke:function(e){e="undefined"!=typeof e?e:!0;var t=this.ctx,i=this.current.strokeColor;t.lineWidth=Math.max(this.getSinglePixelWidth()*Z,this.current.lineWidth),t.globalAlpha=this.current.strokeAlpha,i&&i.hasOwnProperty("type")&&"Pattern"===i.type?(t.save(),t.strokeStyle=i.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e="undefined"!=typeof e?e:!0;var t=this.ctx,i=this.current.fillColor,a=this.current.patternFill,n=!1;if(a&&(t.save(),t.fillStyle=i.getPattern(t,this),n=!0),this.pendingEOFill){if(void 0!==t.mozFillRule)t.mozFillRule="evenodd",t.fill(),t.mozFillRule="nonzero";else try{t.fill("evenodd")}catch(r){t.fill()}this.pendingEOFill=!1}else t.fill();n&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=x},eoClip:function(){this.pendingClip=C},beginText:function(){this.current.textMatrix=j,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0===e)return void t.beginPath();t.save(),t.beginPath();for(var i=0;i<e.length;i++){var a=e[i];t.setTransform.apply(t,a.transform),t.translate(a.x,a.y),a.addToPath(t,a.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,a){var n=this.commonObjs.get(e),r=this.current;if(n||i("Can't find font for "+e),r.fontMatrix=n.fontMatrix?n.fontMatrix:A,(0===r.fontMatrix[0]||0===r.fontMatrix[3])&&t("Invalid font matrix for font "+e),0>a?(a=-a,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=a,!n.isType3Font){var s=n.loadedName||"sans-serif",o=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal",l=n.italic?"italic":"normal",c='"'+s+'", '+n.fallbackName,d=K>a?K:a>Y?Y:a;this.current.fontSizeScale=a/d;var u=l+" "+o+" "+d+"px "+c;this.ctx.font=u}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,i,a,n,r){this.current.textMatrix=[e,t,i,a,n,r],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,i){var a,n=this.ctx,r=this.current,s=r.font,o=r.textRenderingMode,l=r.fontSize/r.fontSizeScale,c=o&S.FILL_STROKE_MASK,d=!!(o&S.ADD_TO_PATH_FLAG);if((s.disableFontFace||d)&&(a=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace?(n.save(),n.translate(t,i),n.beginPath(),a(n,l),(c===S.FILL||c===S.FILL_STROKE)&&n.fill(),(c===S.STROKE||c===S.FILL_STROKE)&&n.stroke(),n.restore()):((c===S.FILL||c===S.FILL_STROKE)&&n.fillText(e,t,i),(c===S.STROKE||c===S.FILL_STROKE)&&n.strokeText(e,t,i)),d){var u=this.pendingTextPaths||(this.pendingTextPaths=[]);u.push({transform:n.mozCurrentTransform,x:t,y:i,fontSize:l,addToPath:a})}},get isFontSubpixelAAEnabled(){var e=document.createElement("canvas").getContext("2d");e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,i=!1,a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){i=!0;break}return o(this,"isFontSubpixelAAEnabled",i)},showText:function(e){var t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);var a=t.fontSize;if(0!==a){var n=this.ctx,r=t.fontSizeScale,s=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,u=i.vertical,h=i.defaultVMetrics,p=a*t.fontMatrix[0],m=t.textRenderingMode===S.FILL&&!i.disableFontFace;n.save(),n.transform.apply(n,t.textMatrix),n.translate(t.x,t.y+t.textRise),l>0?n.scale(c,-1):n.scale(c,1);var g=t.lineWidth,b=t.textMatrixScale;if(0===b||0===g){var v=t.textRenderingMode&S.FILL_STROKE_MASK;(v===S.STROKE||v===S.FILL_STROKE)&&(this.cachedGetSinglePixelWidth=null,g=this.getSinglePixelWidth()*Z)}else g/=b;1!==r&&(n.scale(r,r),g/=r),n.lineWidth=g;var y,k=0;for(y=0;d>y;++y){var _=e[y];if(null!==_)if(f(_))k+=-_*a*.001;else{var w,x,C,A,T=!1,P=_.fontChar,E=_.accent,I=_.width;if(u){var L,M,D;L=_.vmetric||h,M=_.vmetric?L[1]:.5*I,M=-M*p,D=L[2]*p,I=L?-L[0]:I,w=M/r,x=(k+D)/r}else w=k/r,x=0;if(i.remeasure&&I>0&&this.isFontSubpixelAAEnabled){var R=1e3*n.measureText(P).width/a*r,B=I/R;T=!0,n.save(),n.scale(B,1),w/=B}m&&!E?n.fillText(P,w,x):(this.paintChar(P,w,x),E&&(C=w+E.offset.x/r,A=x-E.offset.y/r,this.paintChar(E.fontChar,C,A)));var O=I*p+s*l;k+=O,T&&n.restore()}else k+=l*o}u?t.y-=k*c:t.x+=k*c,n.restore()}},showType3Text:function(e){var i,a,n,r=this.ctx,s=this.current,o=s.font,l=s.fontSize,c=s.fontDirection,d=s.charSpacing,u=s.wordSpacing,h=s.textHScale*c,p=s.fontMatrix||A,m=e.length,g=s.textRenderingMode===S.INVISIBLE;if(!g&&0!==l){for(r.save(),r.transform.apply(r,s.textMatrix),r.translate(s.x,s.y),r.scale(h,c),i=0;m>i;++i)if(a=e[i],null!==a)if(f(a)){var b=.001*-a*l;this.ctx.translate(b,0),s.x+=b*h}else{var v=o.charProcOperatorList[a.operatorListId];if(v){this.processingType3=a,this.save(),r.scale(l,l),r.transform.apply(r,p),this.executeOperatorList(v),this.restore();var y=z.applyTransform([a.width,0],p);n=y[0]*l+d,r.translate(n,0),s.x+=n*h}else t('Type3 character "'+a.operatorListId+'" is not available')}else this.ctx.translate(u,0),s.x+=u*h;r.restore(),this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(e,t,i,a,n,r){this.ctx.rect(i,a,n-i,r-a),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t;if("TilingPattern"===e[0]){var i=e[1];t=new ct(e,i,this.ctx,this.objs,this.commonObjs,this.baseTransform)}else t=w(e);return t},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,i){var a=z.makeCssRgb(e,t,i);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function(e,t,i){var a=z.makeCssRgb(e,t,i);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var i=w(e);t.fillStyle=i.getPattern(t,this,!0);var a=t.mozCurrentTransformInverse;if(a){var n=t.canvas,r=n.width,s=n.height,o=z.applyTransform([0,0],a),l=z.applyTransform([0,s],a),c=z.applyTransform([r,0],a),d=z.applyTransform([r,s],a),u=Math.min(o[0],l[0],c[0],d[0]),h=Math.min(o[1],l[1],c[1],d[1]),f=Math.max(o[0],l[0],c[0],d[0]),p=Math.max(o[1],l[1],c[1],d[1]);this.ctx.fillRect(u,h,f-u,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){i("Should not call beginInlineImage")},beginImageData:function(){i("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),p(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,p(t)&&4===t.length){var i=t[2]-t[0],a=t[3]-t[1];this.ctx.rect(t[0],t[1],i,a),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(i){this.save();var a=this.ctx;i.isolated||e("TODO: Support non-isolated groups."),i.knockout&&t("Knockout groups not supported.");var r=a.mozCurrentTransform;i.matrix&&a.transform.apply(a,i.matrix),n(i.bbox,"Bounding box is required.");var s=z.getAxialAlignedBoundingBox(i.bbox,a.mozCurrentTransform),o=[0,0,a.canvas.width,a.canvas.height];s=z.intersect(s,o)||[0,0,0,0];var c=Math.floor(s[0]),d=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-c,1),h=Math.max(Math.ceil(s[3])-d,1),f=1,p=1;u>Q&&(f=u/Q,u=Q),h>Q&&(p=h/Q,h=Q);var m="groupAt"+this.groupLevel;i.smask&&(m+="_smask_"+this.smaskCounter++%2);var g=at.getCanvas(m,u,h,!0),b=g.context;b.scale(1/f,1/p),b.translate(-c,-d),b.transform.apply(b,r),i.smask?this.smaskStack.push({canvas:g.canvas,context:b,offsetX:c,offsetY:d,scaleX:f,scaleY:p,subtype:i.smask.subtype,backdrop:i.smask.backdrop}):(a.setTransform(1,0,0,1,0,0),a.translate(c,d),a.scale(f,p)),l(a,b),this.ctx=b,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new nt},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,i){if(this.save(),p(e)&&4===e.length){var a=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],a,n),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,i)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,i,a){var n=this.objs.get(e);if(!n)return void t("Dependent image isn't ready yet");this.save();var r=this.ctx;if(r.scale(1/i,-1/a),r.drawImage(n,0,0,n.width,n.height,0,-a,i,a),this.imageLayer){var s=r.mozCurrentTransformInverse,o=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:o[0],top:o[1],width:i/s[0],height:a/s[3]})}this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,i=e.width,a=e.height,n=this.current.fillColor,r=this.current.patternFill,o=this.processingType3;if(et&&o&&void 0===o.compiled&&(o.compiled=tt>=i&&tt>=a?_({data:e.data,width:i,height:a}):null),o&&o.compiled)return void o.compiled(t);var l=at.getCanvas("maskCanvas",i,a),c=l.context;c.save(),s(c,e),c.globalCompositeOperation="source-in",c.fillStyle=r?n.getPattern(c,this):n,c.fillRect(0,0,i,a),c.restore(),this.paintInlineImageXObject(l.canvas)},paintImageMaskXObjectRepeat:function(e,t,i,a){var n=e.width,r=e.height,o=this.current.fillColor,l=this.current.patternFill,c=at.getCanvas("maskCanvas",n,r),d=c.context;d.save(),s(d,e),d.globalCompositeOperation="source-in",d.fillStyle=l?o.getPattern(d,this):o,d.fillRect(0,0,n,r),d.restore();for(var u=this.ctx,h=0,f=a.length;f>h;h+=2)u.save(),u.transform(t,0,0,i,a[h],a[h+1]),u.scale(1,-1),u.drawImage(c.canvas,0,0,n,r,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,i=this.current.fillColor,a=this.current.patternFill,n=0,r=e.length;r>n;n++){var o=e[n],l=o.width,c=o.height,d=at.getCanvas("maskCanvas",l,c),u=d.context;u.save(),s(u,o),u.globalCompositeOperation="source-in",u.fillStyle=a?i.getPattern(u,this):i,u.fillRect(0,0,l,c),u.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(d.canvas,0,0,l,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var i=this.objs.get(e);return i?void this.paintInlineImageXObject(i):void t("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,i,a,n){var r=this.objs.get(e);if(!r)return void t("Dependent image isn't ready yet");for(var s=r.width,o=r.height,l=[],c=0,d=n.length;d>c;c+=2)l.push({transform:[i,0,0,a,n[c],n[c+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(r,l)},paintInlineImageXObject:function(e){var t=e.width,i=e.height,a=this.ctx;this.save(),a.scale(1/t,-1/i);var n,s,o=a.mozCurrentTransformInverse,l=o[0],c=o[1],d=Math.max(Math.sqrt(l*l+c*c),1),u=o[2],h=o[3],f=Math.max(Math.sqrt(u*u+h*h),1);if(e instanceof HTMLElement||!e.data)n=e;else{s=at.getCanvas("inlineImage",t,i);var p=s.context;r(p,e),n=s.canvas}for(var m=t,g=i,b="prescale1";d>2&&m>1||f>2&&g>1;){var v=m,y=g;d>2&&m>1&&(v=Math.ceil(m/2),d/=m/v),f>2&&g>1&&(y=Math.ceil(g/2),f/=g/y),s=at.getCanvas(b,v,y),p=s.context,p.clearRect(0,0,v,y),p.drawImage(n,0,0,m,g,0,0,v,y),n=s.canvas,m=v,g=y,b="prescale1"===b?"prescale2":"prescale1"}if(a.drawImage(n,0,0,m,g,0,-i,t,i),this.imageLayer){var k=this.getCanvasPosition(0,-i);this.imageLayer.appendImage({imgData:e,left:k[0],top:k[1],width:t/o[0],height:i/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,t){var i=this.ctx,a=e.width,n=e.height,s=at.getCanvas("inlineImage",a,n),o=s.context;r(o,e);for(var l=0,c=t.length;c>l;l++){var d=t[l];if(i.save(),i.transform.apply(i,d.transform),i.scale(1,-1),i.drawImage(s.canvas,d.x,d.y,d.w,d.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(d.x,d.y);this.imageLayer.appendImage({imgData:e,left:u[0],top:u[1],width:a,height:n})}i.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;if(this.pendingClip){if(this.pendingClip===C)if(void 0!==e.mozFillRule)e.mozFillRule="evenodd",e.clip(),e.mozFillRule="nonzero";else try{e.clip("evenodd")}catch(t){e.clip()}else e.clip();this.pendingClip=null}e.beginPath()},getSinglePixelWidth:function(){if(null===this.cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransformInverse;this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var i=this.ctx.mozCurrentTransform;return[i[0]*e+i[2]*t+i[4],i[1]*e+i[3]*t+i[5]]}};for(var P in E)a.prototype[E[P]]=a.prototype[P];return a}(),st=function(){function e(e,t,i){var a=e.createShader(i);e.shaderSource(a,t),e.compileShader(a);var n=e.getShaderParameter(a,e.COMPILE_STATUS);if(!n){var r=e.getShaderInfoLog(a);throw new Error("Error during shader compilation: "+r)}return a}function t(t,i){return e(t,i,t.VERTEX_SHADER)}function i(t,i){return e(t,i,t.FRAGMENT_SHADER)}function a(e,t){for(var i=e.createProgram(),a=0,n=t.length;n>a;++a)e.attachShader(i,t[a]);e.linkProgram(i);var r=e.getProgramParameter(i,e.LINK_STATUS);if(!r){var s=e.getProgramInfoLog(i);throw new Error("Error during program linking: "+s)}return i}function n(e,t,i){e.activeTexture(i);var a=e.createTexture();return e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),a}function r(){h||(f=document.createElement("canvas"),h=f.getContext("webgl",{premultipliedalpha:!1}))}function s(){var e,n;r(),e=f,f=null,n=h,h=null;var s=t(n,p),o=i(n,m),l=a(n,[s,o]);n.useProgram(l);var c={};c.gl=n,c.canvas=e,c.resolutionLocation=n.getUniformLocation(l,"u_resolution"),c.positionLocation=n.getAttribLocation(l,"a_position"),c.backdropLocation=n.getUniformLocation(l,"u_backdrop"),c.subtypeLocation=n.getUniformLocation(l,"u_subtype");var d=n.getAttribLocation(l,"a_texCoord"),u=n.getUniformLocation(l,"u_image"),b=n.getUniformLocation(l,"u_mask"),v=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,v),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),n.enableVertexAttribArray(d),n.vertexAttribPointer(d,2,n.FLOAT,!1,0,0),n.uniform1i(u,0),n.uniform1i(b,1),g=c}function l(e,t,i){var a=e.width,r=e.height;g||s();var o=g,l=o.canvas,c=o.gl;l.width=a,l.height=r,c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.uniform2f(o.resolutionLocation,a,r),i.backdrop?c.uniform4f(o.resolutionLocation,i.backdrop[0],i.backdrop[1],i.backdrop[2],1):c.uniform4f(o.resolutionLocation,0,0,0,0),c.uniform1i(o.subtypeLocation,"Luminosity"===i.subtype?1:0);var d=n(c,e,c.TEXTURE0),u=n(c,t,c.TEXTURE1),h=c.createBuffer();return c.bindBuffer(c.ARRAY_BUFFER,h),c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,0,a,0,0,r,0,r,a,0,a,r]),c.STATIC_DRAW),c.enableVertexAttribArray(o.positionLocation),c.vertexAttribPointer(o.positionLocation,2,c.FLOAT,!1,0,0),c.clearColor(0,0,0,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.clear(c.COLOR_BUFFER_BIT),c.drawArrays(c.TRIANGLES,0,6),c.flush(),c.deleteTexture(d),c.deleteTexture(u),c.deleteBuffer(h),l}function c(){var e,n;r(),e=f,f=null,n=h,h=null;var s=t(n,b),o=i(n,v),l=a(n,[s,o]);n.useProgram(l);var c={};c.gl=n,c.canvas=e,c.resolutionLocation=n.getUniformLocation(l,"u_resolution"),c.scaleLocation=n.getUniformLocation(l,"u_scale"),c.offsetLocation=n.getUniformLocation(l,"u_offset"),c.positionLocation=n.getAttribLocation(l,"a_position"),c.colorLocation=n.getAttribLocation(l,"a_color"),y=c}function d(e,t,i,a,n){y||c();var r=y,s=r.canvas,o=r.gl;s.width=e,s.height=t,o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform2f(r.resolutionLocation,e,t);var l,d,u,h=0;for(l=0,d=a.length;d>l;l++)switch(a[l].type){case"lattice":u=a[l].coords.length/a[l].verticesPerRow|0,h+=(u-1)*(a[l].verticesPerRow-1)*6;break;case"triangles":h+=a[l].coords.length}var f=new Float32Array(2*h),p=new Uint8Array(3*h),m=n.coords,g=n.colors,b=0,v=0;for(l=0,d=a.length;d>l;l++){var k=a[l],_=k.coords,w=k.colors;switch(k.type){case"lattice":var x=k.verticesPerRow;u=_.length/x|0;for(var C=1;u>C;C++)for(var A=C*x+1,S=1;x>S;S++,A++)f[b]=m[_[A-x-1]],f[b+1]=m[_[A-x-1]+1],f[b+2]=m[_[A-x]],f[b+3]=m[_[A-x]+1],f[b+4]=m[_[A-1]],f[b+5]=m[_[A-1]+1],p[v]=g[w[A-x-1]],p[v+1]=g[w[A-x-1]+1],p[v+2]=g[w[A-x-1]+2],p[v+3]=g[w[A-x]],p[v+4]=g[w[A-x]+1],p[v+5]=g[w[A-x]+2],p[v+6]=g[w[A-1]],p[v+7]=g[w[A-1]+1],p[v+8]=g[w[A-1]+2],f[b+6]=f[b+2],f[b+7]=f[b+3],f[b+8]=f[b+4],f[b+9]=f[b+5],f[b+10]=m[_[A]],f[b+11]=m[_[A]+1],p[v+9]=p[v+3],p[v+10]=p[v+4],p[v+11]=p[v+5],p[v+12]=p[v+6],p[v+13]=p[v+7],p[v+14]=p[v+8],p[v+15]=g[w[A]],p[v+16]=g[w[A]+1],p[v+17]=g[w[A]+2],b+=12,v+=18;
break;case"triangles":for(var T=0,P=_.length;P>T;T++)f[b]=m[_[T]],f[b+1]=m[_[T]+1],p[v]=g[w[l]],p[v+1]=g[w[T]+1],p[v+2]=g[w[T]+2],b+=2,v+=3}}i?o.clearColor(i[0]/255,i[1]/255,i[2]/255,1):o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT);var E=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,E),o.bufferData(o.ARRAY_BUFFER,f,o.STATIC_DRAW),o.enableVertexAttribArray(r.positionLocation),o.vertexAttribPointer(r.positionLocation,2,o.FLOAT,!1,0,0);var I=o.createBuffer();return o.bindBuffer(o.ARRAY_BUFFER,I),o.bufferData(o.ARRAY_BUFFER,p,o.STATIC_DRAW),o.enableVertexAttribArray(r.colorLocation),o.vertexAttribPointer(r.colorLocation,3,o.UNSIGNED_BYTE,!1,0,0),o.uniform2f(r.scaleLocation,n.scaleX,n.scaleY),o.uniform2f(r.offsetLocation,n.offsetX,n.offsetY),o.drawArrays(o.TRIANGLES,0,h),o.flush(),o.deleteBuffer(E),o.deleteBuffer(I),s}function u(){g&&g.canvas&&(g.canvas.width=0,g.canvas.height=0),y&&y.canvas&&(y.canvas.width=0,y.canvas.height=0),g=null,y=null}var h,f,p="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",m="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",g=null,b="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",v="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",y=null;return{get isEnabled(){if(PDFJS.disableWebGL)return!1;var e=!1;try{r(),e=!!h}catch(t){}return o(this,"isEnabled",e)},composeSMask:l,drawFigures:d,clear:u}}(),ot={};ot.RadialAxial={fromIR:function(e){var t=e[1],i=e[2],a=e[3],n=e[4],r=e[5],s=e[6];return{type:"Pattern",getPattern:function(e){var o;"axial"===t?o=e.createLinearGradient(a[0],a[1],n[0],n[1]):"radial"===t&&(o=e.createRadialGradient(a[0],a[1],r,n[0],n[1],s));for(var l=0,c=i.length;c>l;++l){var d=i[l];o.addColorStop(d[0],d[1])}return o}}}};var lt=function(){function e(e,t,i,a,n,r,s,o){var l,c=t.coords,d=t.colors,u=e.data,h=4*e.width;c[i+1]>c[a+1]&&(l=i,i=a,a=l,l=r,r=s,s=l),c[a+1]>c[n+1]&&(l=a,a=n,n=l,l=s,s=o,o=l),c[i+1]>c[a+1]&&(l=i,i=a,a=l,l=r,r=s,s=l);var f=(c[i]+t.offsetX)*t.scaleX,p=(c[i+1]+t.offsetY)*t.scaleY,m=(c[a]+t.offsetX)*t.scaleX,g=(c[a+1]+t.offsetY)*t.scaleY,b=(c[n]+t.offsetX)*t.scaleX,v=(c[n+1]+t.offsetY)*t.scaleY;if(!(p>=v))for(var y,k,_,w,x,C,A,S,T,P=d[r],E=d[r+1],I=d[r+2],L=d[s],M=d[s+1],D=d[s+2],R=d[o],B=d[o+1],O=d[o+2],F=Math.round(p),N=Math.round(v),j=F;N>=j;j++){g>j?(T=p>j?0:p===g?1:(p-j)/(p-g),y=f-(f-m)*T,k=P-(P-L)*T,_=E-(E-M)*T,w=I-(I-D)*T):(T=j>v?1:g===v?0:(g-j)/(g-v),y=m-(m-b)*T,k=L-(L-R)*T,_=M-(M-B)*T,w=D-(D-O)*T),T=p>j?0:j>v?1:(p-j)/(p-v),x=f-(f-b)*T,C=P-(P-R)*T,A=E-(E-B)*T,S=I-(I-O)*T;for(var z=Math.round(Math.min(y,x)),U=Math.round(Math.max(y,x)),q=h*j+4*z,V=z;U>=V;V++)T=(y-V)/(y-x),T=0>T?0:T>1?1:T,u[q++]=k-(k-C)*T|0,u[q++]=_-(_-A)*T|0,u[q++]=w-(w-S)*T|0,u[q++]=255}}function t(t,a,n){var r,s,o=a.coords,l=a.colors;switch(a.type){case"lattice":var c=a.verticesPerRow,d=Math.floor(o.length/c)-1,u=c-1;for(r=0;d>r;r++)for(var h=r*c,f=0;u>f;f++,h++)e(t,n,o[h],o[h+1],o[h+c],l[h],l[h+1],l[h+c]),e(t,n,o[h+c+1],o[h+1],o[h+c],l[h+c+1],l[h+1],l[h+c]);break;case"triangles":for(r=0,s=o.length;s>r;r+=3)e(t,n,o[r],o[r+1],o[r+2],l[r],l[r+1],l[r+2]);break;default:i("illigal figure")}}function a(e,i,a,n,r,s){var o,l,c,d,u=1.1,h=3e3,f=Math.floor(e[0]),p=Math.floor(e[1]),m=Math.ceil(e[2])-f,g=Math.ceil(e[3])-p,b=Math.min(Math.ceil(Math.abs(m*i[0]*u)),h),v=Math.min(Math.ceil(Math.abs(g*i[1]*u)),h),y=m/b,k=g/v,_={coords:a,colors:n,offsetX:-f,offsetY:-p,scaleX:1/y,scaleY:1/k};if(st.isEnabled)o=st.drawFigures(b,v,s,r,_),l=at.getCanvas("mesh",b,v,!1),l.context.drawImage(o,0,0),o=l.canvas;else{l=at.getCanvas("mesh",b,v,!1);var w=l.context,x=w.createImageData(b,v);if(s){var C=x.data;for(c=0,d=C.length;d>c;c+=4)C[c]=s[0],C[c+1]=s[1],C[c+2]=s[2],C[c+3]=255}for(c=0;c<r.length;c++)t(x,r[c],_);w.putImageData(x,0,0),o=l.canvas}return{canvas:o,offsetX:f,offsetY:p,scaleX:y,scaleY:k}}return a}();ot.Mesh={fromIR:function(e){var t=e[2],i=e[3],a=e[4],n=e[5],r=e[6],s=e[8];return{type:"Pattern",getPattern:function(e,o,l){var c;if(l)c=z.singularValueDecompose2dScale(e.mozCurrentTransform);else if(c=z.singularValueDecompose2dScale(o.baseTransform),r){var d=z.singularValueDecompose2dScale(r);c=[c[0]*d[0],c[1]*d[1]]}var u=lt(n,c,t,i,a,l?null:s);return l||(e.setTransform.apply(e,o.baseTransform),r&&e.transform.apply(e,r)),e.translate(u.offsetX,u.offsetY),e.scale(u.scaleX,u.scaleY),e.createPattern(u.canvas,"no-repeat")}}}},ot.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var ct=function(){function t(e,t,i,a,n,r){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.objs=a,this.commonObjs=n,this.baseTransform=r,this.type="Pattern",this.ctx=i}var a={COLORED:1,UNCOLORED:2},n=3e3;return t.prototype={createPatternCanvas:function(t){var i=this.operatorList,a=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,d=this.objs,u=this.commonObjs;e("TilingType: "+l);var h=a[0],f=a[1],p=a[2],m=a[3],g=[h,f],b=[h+r,f+s],v=b[0]-g[0],y=b[1]-g[1],k=z.singularValueDecompose2dScale(this.matrix),_=z.singularValueDecompose2dScale(this.baseTransform),w=[k[0]*_[0],k[1]*_[1]];v=Math.min(Math.ceil(Math.abs(v*w[0])),n),y=Math.min(Math.ceil(Math.abs(y*w[1])),n);var x=at.getCanvas("pattern",v,y,!0),C=x.context,A=new rt(C,u,d);A.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(C,o,c),this.setScale(v,y,r,s),this.transformToScale(A);var S=[1,0,0,1,-g[0],-g[1]];return A.transform.apply(A,S),this.clipBbox(A,a,h,f,p,m),A.executeOperatorList(i),x.canvas},setScale:function(e,t,i,a){this.scale=[e/i,t/a]},transformToScale:function(e){var t=this.scale,i=[t[0],0,0,t[1],0,0];e.transform.apply(e,i)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,i,a,n,r){if(t&&p(t)&&4===t.length){var s=n-i,o=r-a;e.ctx.rect(i,a,s,o),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(e,t,n){switch(t){case a.COLORED:var r=this.ctx;e.fillStyle=r.fillStyle,e.strokeStyle=r.strokeStyle;break;case a.UNCOLORED:var s=z.makeCssRgb(n[0],n[1],n[2]);e.fillStyle=s,e.strokeStyle=s;break;default:i("Unsupported paint type: "+t)}},getPattern:function(e,t){var i=this.createPatternCanvas(t);return e=this.ctx,e.setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(i,"repeat")}},t}();PDFJS.disableFontFace=!1;var dt={insertRule:function(e){var t=document.getElementById("PDFJS_FONT_STYLE_TAG");t||(t=document.createElement("style"),t.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(t));var i=t.sheet;i.insertRule(e,i.cssRules.length)},clear:function(){var e=document.getElementById("PDFJS_FONT_STYLE_TAG");e&&e.parentNode.removeChild(e),this.nativeFontFaces.forEach(function(e){document.fonts["delete"](e)}),this.nativeFontFaces.length=0},get loadTestFont(){return o(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(C)return!1;var e=window.navigator.userAgent,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(e);return t&&t[1]>=14?!0:"node"===e?!0:!1}(),nativeFontFaces:[],isFontLoadingAPISupported:!C&&"undefined"!=typeof document&&!!document.fonts,addNativeFontFace:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)},bind:function(e,t){n(!C,"bind() shall be called from main thread");for(var i=[],a=[],r=[],s=0,o=e.length;o>s;s++){var l=e[s];if(!l.attached&&l.loading!==!1)if(l.attached=!0,this.isFontLoadingAPISupported){var c=l.createNativeFontFace();c&&r.push(c.loaded)}else{var d=l.bindDOM();d&&(i.push(d),a.push(l))}}var u=dt.queueLoadingCallback(t);this.isFontLoadingAPISupported?Promise.all(a).then(function(){u.complete()}):i.length>0&&!this.isSyncFontLoadingSupported?dt.prepareFontLoadEvent(i,a,u):u.complete()},queueLoadingCallback:function(e){function t(){for(n(!r.end,"completeRequest() cannot be called twice"),r.end=Date.now();i.requests.length>0&&i.requests[0].end;){var e=i.requests.shift();setTimeout(e.callback,0)}}var i=dt.loadingContext,a="pdfjs-font-loading-"+i.nextRequestId++,r={id:a,complete:t,callback:e,started:Date.now()};return i.requests.push(r),r},prepareFontLoadEvent:function(e,i,a){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,i,a){var n=e.substr(0,t),r=e.substr(t+i);return n+a+r}function s(e,i){if(h++,h>30)return t("Load test font never loaded."),void i();u.font="30px "+e,u.fillText(".",0,20);var a=u.getImageData(0,0,1,1);return a.data[3]>0?void i():void setTimeout(s.bind(null,e,i))}var o,l,c=document.createElement("canvas");c.width=1,c.height=1;var u=c.getContext("2d"),h=0,f="lt"+Date.now()+this.loadTestFontId++,p=this.loadTestFont,m=976;p=r(p,m,f.length,f);var g=16,b=1482184792,v=n(p,g);for(o=0,l=f.length-3;l>o;o+=4)v=v-b+n(f,o)|0;o<f.length&&(v=v-b+n(f+"XXX",o)|0),p=r(p,g,4,d(v));var y="url(data:font/opentype;base64,"+btoa(p)+");",k='@font-face { font-family:"'+f+'";src:'+y+"}";dt.insertRule(k);var _=[];for(o=0,l=i.length;l>o;o++)_.push(i[o].loadedName);_.push(f);var w=document.createElement("div");for(w.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),o=0,l=_.length;l>o;++o){var x=document.createElement("span");x.textContent="Hi",x.style.fontFamily=_[o],w.appendChild(x)}document.body.appendChild(w),s(f,function(){document.body.removeChild(w),a.complete()})}},ut=function(){function e(){if(this.compiledGlyphs={},1!==arguments.length);else{var e=arguments[0];for(var t in e)this[t]=e[t]}}return e.prototype={createNativeFontFace:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var e=new FontFace(this.loadedName,this.data,{});return dt.addNativeFontFace(e),PDFJS.pdfBug&&"FontInspector"in x&&x.FontInspector.enabled&&x.FontInspector.fontAdded(this),e},bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var e=l(new Uint8Array(this.data)),t=this.loadedName,i="url(data:"+this.mimetype+";base64,"+window.btoa(e)+");",a='@font-face { font-family:"'+t+'";src:'+i+"}";return dt.insertRule(a),PDFJS.pdfBug&&"FontInspector"in x&&x.FontInspector.enabled&&x.FontInspector.fontAdded(this,i),a},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var i=e.get(this.loadedName+"_path_"+t);this.compiledGlyphs[t]=new Function("c","size",i)}return this.compiledGlyphs[t]}},e}(),ht=10,ft=function(){function e(e,t,i){var a=e.style;if(a.fontSize=t.fontSize+"px",a.direction=t.fontDirection<0?"rtl":"ltr",i){a.fontWeight=i.black?i.bold?"bolder":"bold":i.bold?"bold":"normal",a.fontStyle=i.italic?"italic":"normal";var n=i.loadedName,r=n?'"'+n+'", ':"",s=i.fallbackName||"Helvetica, sans-serif";a.fontFamily=r+s}}function t(e,t){var i=document.createElement("section"),a=i.style,n=e.rect[2]-e.rect[0],r=e.rect[3]-e.rect[1],s=e.borderWidth||0;if(s){n-=2*s,r-=2*s,a.borderWidth=s+"px";var o=e.color;t&&o&&(a.borderStyle="solid",a.borderColor=z.makeCssRgb(Math.round(255*o[0]),Math.round(255*o[1]),Math.round(255*o[2])))}return a.width=n+"px",a.height=r+"px",i}function i(t,i){var a=document.createElement("div"),n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1];a.style.width=n+"px",a.style.height=r+"px",a.style.display="table";var s=document.createElement("div");s.textContent=t.fieldValue;var o=t.textAlignment;s.style.textAlign=["left","center","right"][o],s.style.verticalAlign="middle",s.style.display="table-cell";var l=t.fontRefName?i.getData(t.fontRefName):null;return e(s,t,l),a.appendChild(s),a}function a(e){var i=e.rect;i[3]-i[1]<ht&&(i[3]=i[1]+ht),i[2]-i[0]<ht&&(i[2]=i[0]+(i[3]-i[1]));var a=t(e,!1);a.className="annotText";var n=document.createElement("img");n.style.height=a.style.height,n.style.width=a.style.width;var r=e.name;n.src=PDFJS.imageResourcesPath+"annotation-"+r.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:r});var s=document.createElement("div");s.className="annotTextContentWrapper",s.style.left=Math.floor(i[2]-i[0]+5)+"px",s.style.top="-10px";var o=document.createElement("div");o.className="annotTextContent",o.setAttribute("hidden",!0);var l,c;if(e.hasBgColor){var d=e.color,u=.7,h=u*(1-d[0])+d[0],f=u*(1-d[1])+d[1],p=u*(1-d[2])+d[2];o.style.backgroundColor=z.makeCssRgb(255*h|0,255*f|0,255*p|0)}var m=document.createElement("h1"),g=document.createElement("p");if(m.textContent=e.title,e.content||e.title){var b=document.createElement("span"),v=e.content.split(/(?:\r\n?|\n)/);for(l=0,c=v.length;c>l;++l){var y=v[l];b.appendChild(document.createTextNode(y)),c-1>l&&b.appendChild(document.createElement("br"))}g.appendChild(b);var k=!1,_=function(e){e&&(k=!0),o.hasAttribute("hidden")&&(a.style.zIndex+=1,o.removeAttribute("hidden"))},w=function(e){e&&(k=!1),o.hasAttribute("hidden")||k||(a.style.zIndex-=1,o.setAttribute("hidden",!0))},x=function(){k?w(!0):_(!0)};n.addEventListener("click",function(){x()},!1),n.addEventListener("mouseover",function(){_()},!1),n.addEventListener("mouseout",function(){w()},!1),o.addEventListener("click",function(){w(!0)},!1)}else o.setAttribute("hidden",!0);return o.appendChild(m),o.appendChild(g),s.appendChild(o),a.appendChild(n),a.appendChild(s),a}function n(e){var i=t(e,!0);i.className="annotLink";var a=document.createElement("a");return a.href=a.title=e.url||"",e.url&&PDFJS.openExternalLinksInNewWindow&&(a.target="_blank"),i.appendChild(a),i}function r(e,t){switch(e.annotationType){case P.WIDGET:return i(e,t);case P.TEXT:return a(e);case P.LINK:return n(e);default:throw new Error("Unsupported annotationType: "+e.annotationType)}}return{getHtmlElement:r}}();PDFJS.AnnotationUtils=ft;var pt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},mt=function(){function e(e,t,i){for(var a=-1,n=t;i>n;n++){var r=255&(a^e[n]),o=s[r];a=a>>>8^o}return-1^a}function t(t,i,a,n){var r=n,s=i.length;a[r]=s>>24&255,a[r+1]=s>>16&255,a[r+2]=s>>8&255,a[r+3]=255&s,r+=4,a[r]=255&t.charCodeAt(0),a[r+1]=255&t.charCodeAt(1),a[r+2]=255&t.charCodeAt(2),a[r+3]=255&t.charCodeAt(3),r+=4,a.set(i,r),r+=i.length;var o=e(a,n+4,r);a[r]=o>>24&255,a[r+1]=o>>16&255,a[r+2]=o>>8&255,a[r+3]=255&o}function i(e,t,i){for(var a=1,n=0,r=t;i>r;++r)a=(a+(255&e[r]))%65521,n=(n+a)%65521;return n<<16|a}function a(e,a){var s,o,l,c=e.width,d=e.height,u=e.data;switch(a){case T.GRAYSCALE_1BPP:o=0,s=1,l=c+7>>3;break;case T.RGB_24BPP:o=2,s=8,l=3*c;break;case T.RGBA_32BPP:o=6,s=8,l=4*c;break;default:throw new Error("invalid format")}var h,f,p=new Uint8Array((1+l)*d),m=0,g=0;for(h=0;d>h;++h)p[m++]=0,p.set(u.subarray(g,g+l),m),g+=l,m+=l;if(a===T.GRAYSCALE_1BPP)for(m=0,h=0;d>h;h++)for(m++,f=0;l>f;f++)p[m++]^=255;var b=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,d>>24&255,d>>16&255,d>>8&255,255&d,s,o,0,0,0]),v=p.length,y=65535,k=Math.ceil(v/y),_=new Uint8Array(2+v+5*k+4),w=0;_[w++]=120,_[w++]=156;for(var x=0;v>y;)_[w++]=0,_[w++]=255,_[w++]=255,_[w++]=0,_[w++]=0,_.set(p.subarray(x,x+y),w),w+=y,x+=y,v-=y;_[w++]=1,_[w++]=255&v,_[w++]=v>>8&255,_[w++]=65535&~v&255,_[w++]=(65535&~v)>>8&255,_.set(p.subarray(x),w),w+=p.length-x;var C=i(p,0,p.length);_[w++]=C>>24&255,_[w++]=C>>16&255,_[w++]=C>>8&255,_[w++]=255&C;var A=n.length+3*r+b.length+_.length,S=new Uint8Array(A),P=0;return S.set(n,P),P+=n.length,t("IHDR",b,S,P),P+=r+b.length,t("IDATA",_,S,P),P+=r+_.length,t("IEND",new Uint8Array(0),S,P),PDFJS.createObjectURL(S,"image/png")}for(var n=new Uint8Array([137,80,78,71,13,10,26,10]),r=12,s=new Int32Array(256),o=0;256>o;o++){for(var l=o,c=0;8>c;c++)l=1&l?3988292384^l>>1&2147483647:l>>1&2147483647;s[o]=l}return function(e){var t=void 0===e.kind?T.GRAYSCALE_1BPP:e.kind;return a(e,t)}}(),gt=function(){function e(){this.fontSizeScale=1,this.fontWeight=pt.fontWeight,this.fontSize=0,this.textMatrix=j,this.fontMatrix=A,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=pt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.clipId="",this.pendingClip=!1,this.maskId=""}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),bt=function(){function e(e,t){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg:svg");return a.setAttributeNS(null,"version","1.1"),a.setAttributeNS(null,"width",e+"px"),a.setAttributeNS(null,"height",t+"px"),a.setAttributeNS(null,"viewBox","0 0 "+e+" "+t),a}function i(e){for(var t=[],i=[],a=e.length,n=0;a>n;n++)"save"!==e[n].fn?"restore"===e[n].fn?t=i.pop():t.push(e[n]):(t.push({fnId:92,fn:"group",items:[]}),i.push(t),t=t[t.length-1].items);return t}function a(e){if(e===(0|e))return e.toString();var t=e.toFixed(10),i=t.length-1;if("0"!==t[i])return t;do i--;while("0"===t[i]);return t.substr(0,"."===t[i]?i:i+1)}function n(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale("+a(e[0])+" "+a(e[3])+")";if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate("+a(t)+")"}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate("+a(e[4])+" "+a(e[5])+")";return"matrix("+a(e[0])+" "+a(e[1])+" "+a(e[2])+" "+a(e[3])+" "+a(e[4])+" "+a(e[5])+")"}function r(e,t){this.current=new gt,this.transformMatrix=j,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts={},this.cssStyle=null}var s="http://www.w3.org/2000/svg",o="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/1999/xlink",c=["butt","round","square"],d=["miter","round","bevel"],u=0,h=0;return r.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.tgrp=document.createElementNS(s,"svg:g"),this.tgrp.setAttributeNS(null,"transform",n(this.transformMatrix)),this.pgrp.appendChild(this.tgrp)},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){for(var t=e.fnArray,i=t.length,a=e.argsArray,n=this,r=0;i>r;r++)if(E.dependency===t[r])for(var s=a[r],o=0,l=s.length;l>o;o++){var c,d=s[o],u="g_"===d.substring(0,2);c=new Promise(u?function(e){n.commonObjs.get(d,e)}:function(e){n.objs.get(d,e)}),this.current.dependencies.push(c)}return Promise.all(this.current.dependencies)},transform:function(e,t,i,a,r,o){var l=[e,t,i,a,r,o];this.transformMatrix=PDFJS.Util.transform(this.transformMatrix,l),this.tgrp=document.createElementNS(s,"svg:g"),this.tgrp.setAttributeNS(null,"transform",n(this.transformMatrix))},getSVG:function(t,i){return this.svg=e(i.width,i.height),this.viewport=i,this.loadDependencies(t).then(function(){this.transformMatrix=j,this.pgrp=document.createElementNS(s,"svg:g"),this.pgrp.setAttributeNS(null,"transform",n(i.transform)),this.tgrp=document.createElementNS(s,"svg:g"),this.tgrp.setAttributeNS(null,"transform",n(this.transformMatrix)),this.defs=document.createElementNS(s,"svg:defs"),this.pgrp.appendChild(this.defs),this.pgrp.appendChild(this.tgrp),this.svg.appendChild(this.pgrp);var e=this.convertOpList(t);return this.executeOpTree(e),this.svg}.bind(this))},convertOpList:function(e){var t=e.argsArray,a=e.fnArray,n=a.length,r=[],s=[];for(var o in E)r[E[o]]=o;for(var l=0;n>l;l++){var c=a[l];s.push({fnId:c,fn:r[c],args:t[l]})}return i(s)},executeOpTree:function(e){for(var i=e.length,a=0;i>a;a++){var n=e[a].fn,r=e[a].fnId,s=e[a].args;switch(0|r){case E.beginText:this.beginText();break;case E.setLeading:this.setLeading(s);break;case E.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case E.setFont:this.setFont(s);break;case E.showText:this.showText(s[0]);break;case E.showSpacedText:this.showText(s[0]);break;case E.endText:this.endText();break;case E.moveText:this.moveText(s[0],s[1]);break;case E.setCharSpacing:this.setCharSpacing(s[0]);break;case E.setWordSpacing:this.setWordSpacing(s[0]);break;case E.setHScale:this.setHScale(s[0]);break;case E.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case E.setLineWidth:this.setLineWidth(s[0]);break;case E.setLineJoin:this.setLineJoin(s[0]);break;case E.setLineCap:this.setLineCap(s[0]);break;case E.setMiterLimit:this.setMiterLimit(s[0]);break;case E.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case E.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case E.setDash:this.setDash(s[0],s[1]);break;case E.setGState:this.setGState(s[0]);break;case E.fill:this.fill();break;case E.eoFill:this.eoFill();break;case E.stroke:this.stroke();break;case E.fillStroke:this.fillStroke();break;case E.eoFillStroke:this.eoFillStroke();break;case E.clip:this.clip("nonzero");break;case E.eoClip:this.clip("evenodd");break;case E.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case E.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case E.paintImageXObject:this.paintImageXObject(s[0]);break;case E.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case E.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case E.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case E.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case E.closePath:this.closePath();break;case E.closeStroke:this.closeStroke();break;case E.closeFillStroke:this.closeFillStroke();break;case E.nextLine:this.nextLine();break;case E.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case E.constructPath:this.constructPath(s[0],s[1]);break;case E.endPath:this.endPath();break;case 92:this.group(e[a].items);break;default:t("Unimplemented method "+n)}}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(e,t,i,n,r,o){var l=this.current;this.current.textMatrix=this.current.lineMatrix=[e,t,i,n,r,o],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,l.xcoords=[],l.tspan=document.createElementNS(s,"svg:tspan"),l.tspan.setAttributeNS(null,"font-family",l.fontFamily),l.tspan.setAttributeNS(null,"font-size",a(l.fontSize)+"px"),l.tspan.setAttributeNS(null,"y",a(-l.y)),l.txtElement=document.createElementNS(s,"svg:text"),l.txtElement.appendChild(l.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=j,this.current.lineMatrix=j,this.current.tspan=document.createElementNS(s,"svg:tspan"),this.current.txtElement=document.createElementNS(s,"svg:text"),this.current.txtgrp=document.createElementNS(s,"svg:g"),this.current.xcoords=[]},moveText:function(e,t){var i=this.current;this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t,i.xcoords=[],i.tspan=document.createElementNS(s,"svg:tspan"),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",a(i.fontSize)+"px"),i.tspan.setAttributeNS(null,"y",a(-i.y))},showText:function(e){var t=this.current,i=t.font,r=t.fontSize;if(0!==r){var s,l=t.charSpacing,c=t.wordSpacing,d=t.fontDirection,u=t.textHScale*d,h=e.length,p=i.vertical,m=r*t.fontMatrix[0],g=0;for(s=0;h>s;++s){var b=e[s];if(null!==b)if(f(b))g+=-b*r*.001;else{t.xcoords.push(t.x+g*u);var v=b.width,y=b.fontChar,k=v*m+l*d;g+=k,t.tspan.textContent+=y}else g+=d*c}p?t.y-=g*u:t.x+=g*u,t.tspan.setAttributeNS(null,"x",t.xcoords.map(a).join(" ")),t.tspan.setAttributeNS(null,"y",a(-t.y)),t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",a(t.fontSize)+"px"),t.fontStyle!==pt.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==pt.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight),t.fillColor!==pt.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.txtElement.setAttributeNS(null,"transform",n(t.textMatrix)+" scale(1, -1)"),t.txtElement.setAttributeNS(o,"xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this.tgrp.appendChild(t.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=document.createElementNS(s,"svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=PDFJS.createObjectURL(e.data,e.mimetype);this.cssStyle.textContent+='@font-face { font-family: "'+e.loadedName+'"; src: url('+t+"); }\n"},setFont:function(e){var t=this.current,i=this.commonObjs.get(e[0]),n=e[1];this.current.font=i,this.embedFonts&&i.data&&!this.embeddedFonts[i.loadedName]&&(this.addFontStyle(i),this.embeddedFonts[i.loadedName]=i),t.fontMatrix=i.fontMatrix?i.fontMatrix:A;var r=i.black?i.bold?"bolder":"bold":i.bold?"bold":"normal",o=i.italic?"italic":"normal";0>n?(n=-n,t.fontDirection=-1):t.fontDirection=1,t.fontSize=n,t.fontFamily=i.loadedName,t.fontWeight=r,t.fontStyle=o,t.tspan=document.createElementNS(s,"svg:tspan"),t.tspan.setAttributeNS(null,"y",a(-t.y)),t.xcoords=[]},endText:function(){this.current.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),this.tgrp=document.createElementNS(s,"svg:g"),this.tgrp.setAttributeNS(null,"transform",n(this.transformMatrix))},setLineWidth:function(e){this.current.lineWidth=e},setLineCap:function(e){this.current.lineCap=c[e]},setLineJoin:function(e){this.current.lineJoin=d[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeRGBColor:function(e,t,i){var a=z.makeCssRgb(e,t,i);this.current.strokeColor=a},setFillRGBColor:function(e,t,i){var a=z.makeCssRgb(e,t,i);this.current.fillColor=a,this.current.tspan=document.createElementNS(s,"svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(e,t){var i=this.current,n=i.x,r=i.y;i.path=document.createElementNS(s,"svg:path");for(var o=[],l=e.length,c=0,d=0;l>c;c++)switch(0|e[c]){case E.rectangle:n=t[d++],r=t[d++];var u=t[d++],h=t[d++],f=n+u,p=r+h;o.push("M",a(n),a(r),"L",a(f),a(r),"L",a(f),a(p),"L",a(n),a(p),"Z");break;case E.moveTo:n=t[d++],r=t[d++],o.push("M",a(n),a(r));break;case E.lineTo:n=t[d++],r=t[d++],o.push("L",a(n),a(r));break;case E.curveTo:n=t[d+4],r=t[d+5],o.push("C",a(t[d]),a(t[d+1]),a(t[d+2]),a(t[d+3]),a(n),a(r)),d+=6;break;case E.curveTo2:n=t[d+2],r=t[d+3],o.push("C",a(n),a(r),a(t[d]),a(t[d+1]),a(t[d+2]),a(t[d+3])),d+=4;break;case E.curveTo3:n=t[d+2],r=t[d+3],o.push("C",a(t[d]),a(t[d+1]),a(n),a(r),a(n),a(r)),d+=4;break;case E.closePath:o.push("Z")}i.path.setAttributeNS(null,"d",o.join(" ")),i.path.setAttributeNS(null,"stroke-miterlimit",a(i.miterLimit)),i.path.setAttributeNS(null,"stroke-linecap",i.lineCap),i.path.setAttributeNS(null,"stroke-linejoin",i.lineJoin),i.path.setAttributeNS(null,"stroke-width",a(i.lineWidth)+"px"),i.path.setAttributeNS(null,"stroke-dasharray",i.dashArray.map(a).join(" ")),i.path.setAttributeNS(null,"stroke-dashoffset",a(i.dashPhase)+"px"),i.path.setAttributeNS(null,"fill","none"),this.tgrp.appendChild(i.path),i.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),i.element=i.path,i.setCurrentPoint(n,r)
},endPath:function(){var e=this.current;e.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),this.tgrp=document.createElementNS(s,"svg:g"),this.tgrp.setAttributeNS(null,"transform",n(this.transformMatrix))},clip:function(e){var t=this.current;t.clipId="clippath"+u,u++,this.clippath=document.createElementNS(s,"svg:clipPath"),this.clippath.setAttributeNS(null,"id",t.clipId);var i=t.element.cloneNode();"evenodd"===e?i.setAttributeNS(null,"clip-rule","evenodd"):i.setAttributeNS(null,"clip-rule","nonzero"),this.clippath.setAttributeNS(null,"transform",n(this.transformMatrix)),this.clippath.appendChild(i),this.defs.appendChild(this.clippath),t.pendingClip=!0,this.cgrp=document.createElementNS(s,"svg:g"),this.cgrp.setAttributeNS(null,"clip-path","url(#"+t.clipId+")"),this.pgrp.appendChild(this.cgrp)},closePath:function(){var e=this.current,t=e.path.getAttributeNS(null,"d");t+="Z",e.path.setAttributeNS(null,"d",t)},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){for(var t=0,i=e.length;i>t;t++){var a=e[t],n=a[0],r=a[1];switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":break;case"FL":break;case"Font":this.setFont(r);break;case"CA":break;case"ca":break;case"BM":break;case"SMask":}}},fill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor)},stroke:function(){var e=this.current;e.element.setAttributeNS(null,"stroke",e.strokeColor),e.element.setAttributeNS(null,"fill","none")},eoFill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-rule","evenodd")},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=document.createElementNS(s,"svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this.tgrp.appendChild(t)},paintJpegXObject:function(e,t,i){var n=this.current,r=this.objs.get(e),o=document.createElementNS(s,"svg:image");o.setAttributeNS(l,"xlink:href",r.src),o.setAttributeNS(null,"width",r.width+"px"),o.setAttributeNS(null,"height",r.height+"px"),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",a(-i)),o.setAttributeNS(null,"transform","scale("+a(1/t)+" "+a(-1/i)+")"),this.tgrp.appendChild(o),n.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageXObject:function(e){var i=this.objs.get(e);return i?void this.paintInlineImageXObject(i):void t("Dependent image isn't ready yet")},paintInlineImageXObject:function(e,t){var i=this.current,n=e.width,r=e.height,o=mt(e),c=document.createElementNS(s,"svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width",a(n)),c.setAttributeNS(null,"height",a(r)),i.element=c,this.clip("nonzero");var d=document.createElementNS(s,"svg:image");d.setAttributeNS(l,"xlink:href",o),d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y",a(-r)),d.setAttributeNS(null,"width",a(n)+"px"),d.setAttributeNS(null,"height",a(r)+"px"),d.setAttributeNS(null,"transform","scale("+a(1/n)+" "+a(-1/r)+")"),t?t.appendChild(d):this.tgrp.appendChild(d),i.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageMaskXObject:function(e){var t=this.current,i=e.width,n=e.height,r=t.fillColor;t.maskId="mask"+h++;var o=document.createElementNS(s,"svg:mask");o.setAttributeNS(null,"id",t.maskId);var l=document.createElementNS(s,"svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",a(i)),l.setAttributeNS(null,"height",a(n)),l.setAttributeNS(null,"fill",r),l.setAttributeNS(null,"mask","url(#"+t.maskId+")"),this.defs.appendChild(o),this.tgrp.appendChild(l),this.paintInlineImageXObject(e,o)},paintFormXObjectBegin:function(e,t){if(this.save(),p(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),p(t)&&4===t.length){var i=t[2]-t[0],n=t[3]-t[1],r=document.createElementNS(s,"svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",a(i)),r.setAttributeNS(null,"height",a(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){this.restore()}},r}();PDFJS.SVGGraphics=bt}.call("undefined"==typeof window?this:window),PDFJS.workerSrc||"undefined"==typeof document||(PDFJS.workerSrc=function(){"use strict";var e=document.body||document.getElementsByTagName("head")[0],t=e.lastChild.src;return t&&t.replace(/\.js$/i,".worker.js")}()),"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),function(){function e(e,t){return new i(this.slice(e,t))}function t(e,t){arguments.length<2&&(t=0);for(var i=0,a=e.length;a>i;++i,++t)this[t]=255&e[i]}function i(i){var a,n,r;if("number"==typeof i)for(a=[],n=0;i>n;++n)a[n]=0;else if("slice"in i)a=i.slice(0);else for(a=[],n=0,r=i.length;r>n;++n)a[n]=i[n];return a.subarray=e,a.buffer=a,a.byteLength=a.length,a.set=t,"object"==typeof i&&i.buffer&&(a.buffer=i.buffer),a}return"undefined"!=typeof Uint8Array?("undefined"==typeof Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),void("undefined"==typeof Float64Array&&(window.Float64Array=Float32Array))):(window.Uint8Array=i,window.Int8Array=i,window.Uint32Array=i,window.Int32Array=i,window.Uint16Array=i,window.Float32Array=i,void(window.Float64Array=i))}(),function(){window.URL||(window.URL=window.webkitURL)}(),function(){if("undefined"!=typeof Object.defineProperty){var e=!0;try{Object.defineProperty(new Image,"id",{value:"test"});var t=function(){};t.prototype={get id(){}},Object.defineProperty(new t,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(i){e=!1}if(e)return}Object.defineProperty=function(e,t,i){delete e[t],"get"in i&&e.__defineGetter__(t,i.get),"set"in i&&e.__defineSetter__(t,i.set),"value"in i&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=i.value)}}(),function(){var e=XMLHttpRequest.prototype,t=new XMLHttpRequest;return"overrideMimeType"in t||Object.defineProperty(e,"overrideMimeType",{value:function(){}}),"responseType"in t?void 0:(PDFJS.disableWorker=!0,Object.defineProperty(e,"responseType",{get:function(){return this._responseType||"text"},set:function(e){("text"===e||"arraybuffer"===e)&&(this._responseType=e,"arraybuffer"===e&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"!=typeof VBArray?void Object.defineProperty(e,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}):void Object.defineProperty(e,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var e,t=this.responseText,i=t.length,a=new Uint8Array(i);for(e=0;i>e;++e)a[e]=255&t.charCodeAt(e);return a.buffer}}))}(),function(){if(!("btoa"in window)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.btoa=function(t){var i,a,n="";for(i=0,a=t.length;a>i;i+=3){var r=255&t.charCodeAt(i),s=255&t.charCodeAt(i+1),o=255&t.charCodeAt(i+2),l=r>>2,c=(3&r)<<4|s>>4,d=a>i+1?(15&s)<<2|o>>6:64,u=a>i+2?63&o:64;n+=e.charAt(l)+e.charAt(c)+e.charAt(d)+e.charAt(u)}return n}}}(),function(){if(!("atob"in window)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4===1)throw new Error("bad atob input");for(var i,a,n=0,r=0,s="";a=t.charAt(r++);~a&&(i=n%4?64*i+a:a,n++%4)?s+=String.fromCharCode(255&i>>(-2*n&6)):0)a=e.indexOf(a);return s}}}(),function(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(e){var t=this,i=Array.prototype.slice.call(arguments,1),a=function(){var a=i.concat(Array.prototype.slice.call(arguments));return t.apply(e,a)};return a})}(),function(){var e=document.createElement("div");"dataset"in e||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var e={},t=0,i=this.attributes.length;i>t;t++){var a=this.attributes[t];if("data-"===a.name.substring(0,5)){var n=a.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()});e[n]=a.value}}return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}(),function(){function e(e,t,i,a){var n=e.className||"",r=n.split(/\s+/g);""===r[0]&&r.shift();var s=r.indexOf(t);return 0>s&&i&&r.push(t),s>=0&&a&&r.splice(s,1),e.className=r.join(" "),s>=0}var t=document.createElement("div");if(!("classList"in t)){var i={add:function(t){e(this.element,t,!0,!1)},contains:function(t){return e(this.element,t,!1,!1)},remove:function(t){e(this.element,t,!1,!0)},toggle:function(t){e(this.element,t,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var e=Object.create(i,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}}(),function(){"console"in window?"bind"in console.log||(console.log=function(e){return function(t){return e(t)}}(console.log),console.error=function(e){return function(t){return e(t)}}(console.error),console.warn=function(e){return function(t){return e(t)}}(console.warn)):window.console={log:function(){},error:function(){},warn:function(){}}}(),function(){function e(e){t(e.target)&&e.stopPropagation()}function t(e){return e.disabled||e.parentNode&&t(e.parentNode)}-1!==navigator.userAgent.indexOf("Opera")&&document.addEventListener("click",e,!0)}(),function(){navigator.userAgent.indexOf("Trident")>=0&&(PDFJS.disableCreateObjectURL=!0)}(),function(){"language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US")}(),function(){var e=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,t=/Android\s[0-2][^\d]/,i=t.test(navigator.userAgent),a=/Chrome\/(39|40)\./.test(navigator.userAgent);(e||i||a)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){(!history.pushState||navigator.userAgent.indexOf("Android 2.")>=0)&&(PDFJS.disableHistory=!0)}(),function(){if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,i=this.length;i>t;t++)this[t]=e[t]});else{var e,t=!1;if(navigator.userAgent.indexOf("Chrom")>=0?(e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=e&&parseInt(e[2])<21):navigator.userAgent.indexOf("Android")>=0?t=/Android\s[0-4][^\d]/g.test(navigator.userAgent):navigator.userAgent.indexOf("Safari")>=0&&(e=navigator.userAgent.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),t=e&&parseInt(e[1])<6),t){var i=window.CanvasRenderingContext2D.prototype;i._createImageData=i.createImageData,i.createImageData=function(e,t){var i=this._createImageData(e,t);return i.data.set=function(e){for(var t=0,i=this.length;i>t;t++)this[t]=e[t]},i}}}}(),function(){function e(e){window.setTimeout(e,20)}"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e)}(),function(){var e=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),t=/Android/g.test(navigator.userAgent);(e||t)&&(PDFJS.maxCanvasPixels=5242880)}(),function(){var e=navigator.userAgent.indexOf("Trident")>=0&&window.parent!==window;e&&(PDFJS.disableFullscreen=!0)}(),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.cto,n=e.Disney.Style.breakpoints,r=e.Math,s=e.PDFJS,o=e.Backbone,l=e._,c=e.$,d=e.Promise,u=[.5,.75,1,1.25,1.5,1.75],h=o.View.extend({template:i.modules.print_embedded.toolbar,render:function(){this.$el.html(this.template.render(this.model))},initialize:function(){this.model=new f,this.listenTo(this.model,"change",this.render)},events:{"click .zoomIn:not(.disabled)":"zoomIn","click .zoomOut:not(.disabled)":"zoomOut","click .pageUp:not(.disabled)":"pageUp","click .pageDown:not(.disabled)":"pageDown","click .toolbarControl:not(.disabled)":"trackClick","click .print":"print"},trackClick:function(e){this.trigger("toolbarClick",c(e.currentTarget).data("action"))},zoomIn:function(){var e=this.model.get("scale"),t=l.indexOf(u,e),i=l.min([t+1,u.length-1]),a=u[i];this.model.set("scale",a),this.trigger("zoom",a)},zoomOut:function(){var e=this.model.get("scale"),t=l.indexOf(u,e),i=l.max([t-1,0]),a=u[i];this.model.set("scale",a),this.trigger("zoom",a)},pageUp:function(){var e=this.model.get("currentPage")-1,t=this.model.get("scale");this.trigger("goToPage",e,t),this.model.set("currentPage",e)},pageDown:function(){var e=this.model.get("currentPage")+1,t=this.model.get("scale");this.trigger("goToPage",e,t),this.model.set("currentPage",e)},print:function(){e.print()}}),f=o.Model.extend({defaults:{loaded:!1,currentPage:1,totalPages:1,scale:1},loadDocument:function(e){this.set("totalPages",e.numPages),this.set("loaded",!0)},isFirstPage:function(){return 1===this.get("currentPage")},isLastPage:function(){return this.get("currentPage")===this.get("totalPages")},zoomLevel:function(){return r.floor(100*this.get("scale")).toString()+"%"},atMinZoom:function(){return this.get("scale")===l.first(u)},atMaxZoom:function(){return this.get("scale")===l.last(u)}});t.ModuleView.register("print_embedded",{template:i.modules.print_embedded,partials:{sliderStyle:i.modules.print_embedded.slider_styles},style_classes:["skip-top-border"],initialize:function(){s.workerSrc="//a.dilcdn.com/a/pdf.worker-fc6d4eb21f6b.js";var t=this,i=t.model.get("data")||[],a=i[0],n=a.printable_asset||a.href,r=n.replace(/^http:\/\//,"/_pdf/");t.printable=a,t.pdfUrl="http://"+e.location.host+r},render:function(){var e=l.extend({showAllPages:this.showAllPages()},this.model);this.$el.html(this.template.render(e,{mickey_loader:i.partials.mickey_loader}))},ready:function(){var t=this;s.getDocument(t.pdfUrl).then(function(e){t.createToolbar(e),t.createViewer(e),t.mozPrintCallbackPolyfill(),t.showAllPages()&&t.dockToolbarAndSlider()},function(t){e.console.log(t)})},createToolbar:function(e){var t=this;t.toolbarView=new h({el:t.el.querySelector(".toolbar-container")}),t.toolbarView.model.loadDocument(e),t.toolbarView.model.set("translations",t.model.get("translations")),t.listenTo(t.toolbarView,"zoom",t.zoom),t.listenTo(t.toolbarView,"goToPage",t.goToPage),t.listenTo(t.toolbarView,"toolbarClick",t.trackToolbarClick),t.toolbarView.render()},createViewer:function(e){for(var t=[],i=new o.Collection,a=this,n=1;n<=e.numPages;n++)t.push(e.getPage(n));d.all(t).then(function(e){l.each(e,function(e,t){var a=new m({_page:e,pageNumber:t+1});i.add(a)}),a.viewer=new p({el:a.el.querySelector(".viewer"),collection:i}),a.viewer.render(),a.trigger("viewer_ready")})},zoom:function(e){this.viewer.zoom(e,this.showAllPages())},goToPage:function(e){this.viewer.displayPage(e)},trackToolbarClick:function(e){a.trackEvent({engagementType:"print_embedded_"+this.printable.id+"_"+e})},destroy:function(){this.undelegateEvents(),this.toolbarView.remove(),this.viewer.remove(),l.each(this.eventHandlerCleanup,function(e){e()})},showAllPages:function(){return"show_all_pages"===(this.model.get("style_options")||{}).page_style},dockToolbarAndSlider:function(){var t,i,a=this,r=a.el,s=a.toolbarView.$el,o=s.find(".toolbar").get(0).getBoundingClientRect().height,d=a.$el.next(".module.slider");d.length>0&&(t=d.get(0).getBoundingClientRect(),i=t.height/2+48,a.$el.append(c(a.partials.sliderStyle.render({sliderBottom:i-t.height}))));var u=l.debounce(function(){var t=e.pageYOffset,i=e.document.documentElement.getBoundingClientRect(),a=e.innerHeight,l=r.getBoundingClientRect(),c=t+l.top;if(i.width<n.midHigh)return d.removeClass("dock-top-state").removeClass("dock-bottom-state").removeClass("dock-off-state"),void s.removeClass("docked");if(s.toggleClass("docked",t>c),s.toggleClass("toolbar-off",l.bottom<o),d.length){var u;u=l.top+400>a?"top":l.bottom<a?"off":"bottom",d.removeClass("dock-top-state").removeClass("dock-bottom-state").removeClass("dock-off-state"),d.addClass("dock-"+u+"-state")}},15);u(),a.listenToOnce(a,"viewer_ready",function(){a.listenTo(a.viewer,"pageRendered",u)}),c(e).on("resize orientationchange",u);var h=e.pageYOffset,f=function(){var t=e.pageYOffset;h===t&&u()},p=function(){var t=e.pageYOffset,i=t-h,a=r.getBoundingClientRect(),n=t+a.top;-20>i&&h>n&&s.addClass("toolbar-off"),h=t,e.setTimeout(f,100)};c(e).on("scroll",p),this.eventHandlerCleanup.push(function(){c(e).off("scroll",p)})},mozPrintCallbackPolyfill:function(){function t(e){var t=d.createEvent("CustomEvent");t.initCustomEvent(e,!1,!1,"custom"),u.dispatchEvent(t)}function i(e){if(e!==!0&&(e=!1),m)if(e||n(),++g<m.length){var t=m[g];"function"==typeof t.mozPrintCallback?t.mozPrintCallback({context:t.getContext("2d"),abort:a,done:function(){i(e)}}):i(e)}else e||(n(),b.call(u)),f(a,20)}function a(){m&&(m=null,n(),t("afterprint"))}function n(){var e=l.el.querySelector(".mozPrintCallback-shim"),t=c(e);if(m){var i=m.length||1,n=g>=0?g:0,s=r.round(100*n/i),o=e.querySelector("progress"),d=e.querySelector(".relative-progress");o.value=s,d.textContent=s+"%",t.removeClass("hidden"),e.onclick=a}else t.addClass("hidden")}function s(e){if(80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||u.chrome||u.opera)){if(u.print(),v)return;return e.preventDefault(),void(e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation())}27===e.keyCode&&m&&a()}function o(e){return e=e||u.event,80===e.keyCode&&e.ctrlKey?(e.keyCode=0,!1):void 0}var l=this,d=e.document,u=e,h=e.console,f=e.setTimeout,p=e.HTMLCanvasElement;if(l.eventHandlerCleanup=[],!("mozPrintCallback"in d.createElement("canvas"))){l.eventHandlerCleanup.push(function(){delete p.prototype.mozPrintCallback}),p.prototype.mozPrintCallback=void 0;var m,g,b=u.print;u.print=function(){if(m)return void h.warn("Ignored window.print() because of a pending print job.");try{t("beforeprint")}finally{m=l.el.querySelectorAll(".print-container canvas"),g=-1,i()}},u.renderForPreview=function(){if(m)return void h.warn("Ignored window.renderForPreview() because of a pending print job.");try{t("beforeprint")}finally{m=l.el.querySelectorAll(".print-container canvas"),g=-1,i(!0)}},l.eventHandlerCleanup.push(function(){u.print=b});var v=!!d.attachEvent;if(u.addEventListener("keydown",s,!0),l.eventHandlerCleanup.push(function(){u.removeEventListener("keydown",s,!0)}),v&&(d.attachEvent("onkeydown",o),l.eventHandlerCleanup.push(function(){d.detachEvent("onkeydown",o)})),"onbeforeprint"in u){var y=function(e){"custom"!==e.detail&&e.stopImmediatePropagation&&e.stopImmediatePropagation()};u.addEventListener("beforeprint",y,!1),u.addEventListener("afterprint",y,!1),l.eventHandlerCleanup.push(function(){u.removeEventListener("beforeprint",y,!1),u.removeEventListener("afterprint",y,!1)})}}}});var p=o.View.extend({template:i.modules.print_embedded.viewer,initialize:function(){this.scale=1,this.currentPage=1,this.renderQueue=[],this.listenTo(this,"pageQueued pageRendered",function(){this.renderNextQueuedPage()}),this.listenTo(this,"pageRendered",function(){this.$(".mickey-loader").remove(),this.$(".viewer-wrapper").addClass("canvas-rendered")})},render:function(){var t=this;t.$el.html(t.template.render({pageCollection:t.collection},{mickey_loader:i.partials.mickey_loader})),t.displayPage(1);for(var a=2;a<=t.totalPages();a++)t.queuePageForRender(a,t.scale);c(function(){e.addEventListener("beforeprint",function(){t.beforePrint()}),e.renderForPreview()})},totalPages:function(){return this.collection.length},renderPage:function(e,t){var i=e-1,a=this.collection.at(i),n=this.el.querySelector("canvas.page-"+e);return a.get("rendered")&&a.get("scale")===t?d.resolve(!0):a.render(n,t)},queuePageForRender:function(e,t){this.renderQueue.push({page:e,scale:t}),this.trigger("pageQueued")},renderNextQueuedPage:function(){var e=this;if(!e.rendering&&e.renderQueue.length>0){var t=e.renderQueue.shift();e.rendering=!0,e.renderPage(t.page,t.scale).then(function(){e.rendering=!1,e.trigger("pageRendered")})}},displayPage:function(e){this.queuePageForRender(e,this.scale),this.$el.find("canvas").removeClass("current-page"),this.$el.find("canvas.page-"+e).addClass("current-page"),this.currentPage=e},zoom:function(e,t){if(this.scale=e,t===!0)for(var i=1;i<=this.collection.length;i++)this.queuePageForRender(i,e);else this.displayPage(this.currentPage)},beforePrint:function(){c("body").addClass("print_embedded_printing"),this.emptyPrintContainer();var e=this.el.querySelector(".print-container");this.collection.each(function(t){t.beforePrint(e)})},emptyPrintContainer:function(){for(var e=this.el.querySelector(".print-container");e.hasChildNodes();)e.removeChild(e.lastChild)}}),m=o.Model.extend({defaults:{scale:1},beforePrint:function(t){var i=this.get("_page"),a=i.getViewport(1),n=e.document.createElement("canvas"),r=e.document.createElement("div");n.width=a.width,n.height=a.height,r.appendChild(n),t.appendChild(r),n.mozPrintCallback=function(e){var t=e.context;t.save(),t.fillStyle="rgb(255, 255, 255)",t.fillRect(0,0,n.width,n.height),t.restore();var r={canvasContext:t,viewport:a,intent:"print"};i.render(r).promise.then(function(){e.done()},function(){"abort"in e?e.abort():e.done()})}},render:function(e,t){var i=this,a=i.get("_page"),n=a.getViewport(t),r=e.getContext("2d");return e.height=n.height,e.width=n.width,a.render({canvasContext:r,viewport:n}).promise.then(function(){i.set("scale",t),i.set("rendered",!0)})}})}(this),Whiskers("modules.product",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("layout",e,t,0))),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,47,65,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="product_list"> '),a.b(a.rp("<products1",e,t,"")),a.b(" "),a.s(a.f("data",e,t,1),e,t,0,132,144,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<modal2",e,t,"")),i.b(" ")}),e.pop()),a.b(" </div> "),a.s(a.f("hasMore",e,t,1),e,t,0,173,373,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<products1":{name:"products",partials:{},subs:{}},"<modal2":{name:"modal",partials:{},subs:{}}},subs:{}}),Whiskers("modules.sidekick_product",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b(" "),a.b(a.v(a.f("layout",e,t,0))),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,72,90,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="module_body"> <div class="product_list one ad"> '),a.s(a.f("data",e,t,1),e,t,0,176,992,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="product"> <div class="product-thumb"> <div class="boundingBox"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="logo no-src" data-src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,339,394,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="logo" src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(' </div> <div class="product-button"></div> </div> <div class="details"> <h2 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <div class="product-button"></div> <ul class="desc"> '),i.s(i.f("product_lines",e,t,1),e,t,0,583,597,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li>")}),e.pop()),i.b(" </ul> "),i.s(i.f("more_lines",e,t,1),e,t,0,637,708,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="modal_info button transparent">'),i.b(i.v(i.d("translations.more_info",e,t,0))),i.b("</a>")}),e.pop()),i.b(' </div> <ul class="desc_mobile '),i.s(i.f("more_lines",e,t,1),e,t,0,769,777,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("hasModal")}),e.pop()),i.b('"> '),i.s(i.f("product_lines",e,t,1),e,t,0,813,827,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li>")}),e.pop()),i.b(" "),i.s(i.f("specs",e,t,1),e,t,0,856,957,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("specifications",e,t,1),e,t,0,875,938,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li><span class="tech_title">'),i.b(i.v(i.f("title",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("value",e,t,0))),i.b("</li> ")}),e.pop())}),e.pop()),i.b(" </ul> </div> "),i.b(i.rp("<modal1",e,t,"")),i.b(" ")}),e.pop()),a.b(' </div> <div class="ad-container"> '),a.b(a.t(a.f("rectangleAd",e,t,0))),a.b(" "),a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<modal1":{name:"modal",partials:{},subs:{}}},subs:{}}),Whiskers("entities.products",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("product_data",e,t,1),e,t,0,17,876,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="product"> <div class="product-thumb"> <div class="boundingBox"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="logo no-src" data-src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,180,235,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="logo" src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(' </div> <div class="product-button '),i.s(i.f("more_lines",e,t,1),e,t,0,298,306,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("hasModal")}),e.pop()),i.b('"></div> </div> <div class="details"> <h2 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <div class="product-button"></div> <ul class="desc"> '),i.s(i.f("product_lines",e,t,1),e,t,0,463,479,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li> ")}),e.pop()),i.b(' </ul> <a class="modal_info button transparent'),i.s(i.f("more_lines",e,t,1),e,t,1,0,0,"")||i.b(" no_modal"),i.b('">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</a> </div> <ul class="desc_mobile '),i.s(i.f("more_lines",e,t,1),e,t,0,660,668,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("hasModal")}),e.pop()),i.b('"> '),i.s(i.f("product_lines",e,t,1),e,t,0,704,720,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li> ")}),e.pop()),i.b(" "),i.s(i.f("specs",e,t,1),e,t,0,749,852,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("specifications",e,t,1),e,t,0,769,832,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li><span class="tech_title">'),i.b(i.v(i.f("title",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("value",e,t,0))),i.b("</li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </ul> </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("entities.product_modal",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="product-tech"> <div class="close_modal"></div> <div class="product-modal"> <p class="title tablet">'),a.b(a.v(a.f("title",e,t,0))),a.b('</p> <div class="product-thumb"> <div class="boundingBox"> '),a.s(a.f("noscript",e,t,1),e,t,1,0,0,"")||(a.b('<img class="logo no-src" data-src="'),a.b(a.v(a.f("thumb",e,t,0))),a.b('">')),a.b(" "),a.s(a.f("noscript",e,t,1),e,t,0,265,320,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<noscript><img class="logo" src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"></noscript>')}),e.pop()),a.b(' </div> <div class="product-button"></div> </div> <div class="details"> <h2 class="title desktop">'),a.b(a.v(a.f("title",e,t,0))),a.b('</h2> <div class="desc_modal"> <h3 class="special">Special Features</h3> <ul class="desc"> '),a.s(a.f("tech_lines",e,t,1),e,t,0,546,562,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" <li>"),i.b(i.v(i.d(".",e,t,0))),i.b("</li> ")}),e.pop()),a.b(" </ul> "),a.s(a.f("spec_truth",e,t,1),e,t,0,599,641,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<h3 class="tech_spec">Technical Specs</h3>')}),e.pop()),a.b(" "),a.s(a.f("specs",e,t,1),e,t,0,667,866,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="spec_col"> <h2 class="spec_type">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> "),i.s(i.f("specifications",e,t,1),e,t,0,747,839,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <ul class="tech_list"> <li><span class="tech_title">'),i.b(i.v(i.f("title",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("value",e,t,0))),i.b("</li> </ul> ")}),e.pop()),i.b(" </div> ")}),e.pop()),a.b(" </div> </div> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e.Backbone,o=e.jQuery,l=e._,c=t.ModuleView.extend({breakpoints:n,required_template_sets:["module_header"],template:r.modules.product,included_components:{products:r.entities.products,modal:r.entities.product_modal},initialize:function(){this.itemCount=0,this.two_button_margin=10,this.translations=this.model.get("translations")},render:function(){l.extend(this,{itemCount:this.model.get("data").length,allProducts:this.model.get("data")}),this.allProducts.length>4?(this.productData=this.allProducts.slice(0,4),this.stashedData=this.allProducts.slice(4)):this.productData=this.allProducts,this.defaultLayout=2===this.itemCount||this.itemCount>3||this.sidekick?"left":"right",i.rtl&&(this.defaultLayout="left"===this.defaultLayout?"right":"left"),this.layout=this.model.get("style_options").layout?this.model.get("style_options").layout:this.defaultLayout;var e=l.extend({hasMore:this.itemCount>4,title:this.model.get("title"),desc:this.model.get("desc"),layout:this.layout,product_data:this.productData},this.options.ads.helpers(),this.model);this.$el.html(this.template.render(e,this.ctx_additions())),this.updateButton(this.itemCount>4)},resize:function(){var e=s.Resize.width()>=a.midHigh;this.options.ads.restore(),e?this.$(".desc_mobile, .modal_info").removeClass("fade"):this.$(".product-tech, .product").removeClass("fade")},ready:function(){this.buttonViews=[];var e=this,t=this.$(".product_list .product"),a=this.$(".product_list"),n=this.$(".product-tech").length;switch(t.length){case 1:a.addClass("one");break;case 3:a.addClass("three");break;default:a.addClass("two")}this.$(".product_list .product").each(function(t,a){e.$(a).find(".product-button").each(function(a,n){var r=new i.ProductButtonView({el:n,model:e.model.get("data")[t],translations:e.model.get("translations"),age_gate:e.model.get("age_gate")});r.on("change",e.buttonChanged,e),e.buttonViews.push(r)})}),this.$(".product-tech").each(function(t,a){e.$(a).find(".product-button").each(function(a,n){var r=new i.ProductButtonView({el:n,model:e.model.get("data")[t],age_gate:e.model.get("age_gate")});r.on("change",e.buttonChanged,e),e.buttonViews.push(r)})});for(var r=0;n>r;r++)this.$(".modal_info").eq(r).addClass(""+r)},updateButton:function(e){var t=this.$el;t.toggleClass("has-more",e)},modalDisplay:function(e){var t=s.Resize.width()>=a.midHigh,i=this.$(".product-tech").length,n=null;if(t)for(this.$(".product_list .product").addClass("fade"),n=0;i>n;n++)o(e.currentTarget).hasClass(n)&&this.$(".product-tech").eq(n).addClass("fade");else for(n=0;i>n;n++)o(e.currentTarget).hasClass(n)&&this.$(".desc_mobile").eq(n).addClass("fade")},modalRemove:function(){this.$(".product-tech, .product, .desc_mobile").removeClass("fade"),this.$(".buy").removeClass("active")},events:{"click .modal_info":"modalDisplay","click .close_modal":"modalRemove","click .product.fade":"modalRemove","click .show_more_container":function(e){e.preventDefault(),this.buttonViews=[];var t=this,a=this.productData,n=this.stashedData,s=this.$(".product_list");n.length>4?(a=n.slice(0,4),n=n.slice(4)):(a=n,n=[]);var c=l.extend({hasMore:n.length>0,product_data:a}),d=r.entities.products.render(c);o(d).insertAfter(s.find(".product").last()),this.$(".product_list .product").slice(1).each(function(e,a){t.$(a).find(".product-button").slice(0).each(function(a,n){var r=new i.ProductButtonView({el:n,model:t.model.get("data")[e],age_gate:t.model.get("age_gate")});
r.on("change",t.buttonChanged,t),t.buttonViews.push(r)})});for(var u=4;u<a.length+4;u++)this.$(".modal_info").eq(u).addClass(""+u);this.$el.loadLazyImages(),this.updateButton(!1)}}});c.register("product",{}),c.register("sidekick_product",{sidekick:!0,style_classes:["sidekick"],template:r.modules.sidekick_product})}(this),Whiskers("modules.profile_gallery",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.s(a.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),a.s(a.f("enablePeek",e,t,1),e,t,0,96,104,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" peeking")}),e.pop()),a.b('"> <div class="header-wrapper '),a.s(a.f("list",e,t,1),e,t,1,0,0,"")||a.b("empty-gallery"),a.b('"> <h3> '),a.b(a.v(a.d("translations.creations_by",e,t,0))),a.b(" "),a.s(a.f("user_id",e,t,1),e,t,0,230,241,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("user_id",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("user_id",e,t,1),e,t,1,0,0,"")||a.b("user_id_2"),a.b(" "),a.b(" </h3> "),a.s(a.f("cds",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.s(a.f("suppress_social",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="social"> '),a.b(a.rp("<socialLinkPartial0",e,t,"")),a.b(" </div> ")),a.b(" ")),a.b(" </div> "),a.s(a.f("list",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="empty-profile-gallery"> <div class="empty-profile-message"> <h3>'),a.b(a.v(a.d("translations.no_content_header",e,t,0))),a.b("</h3> <p>"),a.b(a.v(a.d("translations.no_content_subheader",e,t,0))),a.b("</p> </div> </div> ")),a.b(" "),a.s(a.f("list",e,t,1),e,t,0,645,655,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.t(i.f("list",e,t,0)))}),e.pop()),a.b(' <div class="show_more_container"> <div class="bottom-peek"></div> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),a.b(a.v(a.d("translations.show_more",e,t,0))),a.b('</span> <span class="spinner"></span> </div> </div> </div>'),a.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,a=e.Backbone,n=e.Whiskers,r=e.Math,s=e._,o=e.EventLinkHandler,l=t.Style.breakpoints,c=s.values(l);i.GridModuleBaseView.register("profile_gallery",{style_classes:["stream-view","grid-view","full-width"],breakpoints:c.join(" "),page:1,template:n.modules.profile_gallery,social_link:n.partials.social_link,events:{"click .show_more":function(t){t.preventDefault(),this.loadMoreThumbs(),this.has_revealed=!0,this.fit(),e.Tracker&&e.Tracker.trackPagination(this.page)},"click [data-event-link]":function(e){e.preventDefault(),o.handle(e)}},initialize:function(){var e,t=this,i=t.model,a=i.get("data"),n=!!t.options.cds,r=i.get("translations");a.length?(s.extend(t,{thumb_data:!0,cds:n,translations:r,user_id:a[0].user_id||a[0].disid}),t.initCollection(a),t.entity_type=s.first(t.model.data.models).get("entity_type")||t.model.get("type"),t.has_revealed=!1,t.makeList()):(t.list=!1,e=i.get("text_options"))},initCollection:function(e){this.allThumbs=e,this.visibleThumbs=this.allThumbs.slice(0,this.desired()),this.thumbCollection=new a.Collection(this.visibleThumbs),this.count=this.allThumbs.length},makeList:function(){var e=this;this.list=new i.ListView({collection:e.thumbCollection,template:{render:function(t){return s.extend(t,{translations:e.translations,aspect_ratio:"16x9",title_overlay:!0,rounded_corners:"slight",user_id:e.user_id,profile_gallery:!0}),n.entities.item.render(t,e.global_components.entities)}}})},updateView:function(){this.visibleThumbs=this.allThumbs.slice(0,this.desired()),this.list.collection.add(this.visibleThumbs)},loadMoreThumbs:function(){this.page++,this.updateView(),this.$el.loadLazyImages()},updateButton:function(){var e=this.model.get("enable_peek"),t=this.visibleThumbs.length<this.count;this.$(".col").hasClass("last-row")&&e||!e&&t?this.$el.addClass("has-more"):this.$el.removeClass("has-more")},desired:function(){return this.page*this.rows()*this.cols()},render:function(){var i,a=this.list,r=this.$(".social-link-btn");this.list?(i=s.extend({entity_type:this.entity_type,list:t.placeHtml(a),enablePeek:this.model.get("enable_peek"),singleRow:this.count<=this.cols(),user_id:this.user_id,cds:this.cds},this.model),this.$el.html(this.template.render(i,{socialLinkPartial:n.partials.social_btn})),t.placeSwap(this,a),r.data("source",e.location.href)):(i=s.extend({entity_type:this.entity_type},this.model),this.$el.html(this.template.render(i,this.ctx_additions())))},resize:function(){if(this.list){var e=this.cols(),t=e>1?"grid-layout":"list-layout";this.page=r.floor(this.visibleThumbs.length/this.rows()/e)||1,this.list.$el.attr("class","col-container cols-"+e+" "+t),this.fit()}},fit:function(){var e=this.desired();this.$(".col").removeClass("last-row"),e<this.count||!this.has_revealed?(this.updateView(),this.list.$el.children().removeClass("hidden").slice(e).addClass("hidden"),this.list.$el.children().slice(e-this.cols()).addClass("last-row")):this.list.$el.children().removeClass("hidden"),this.updateButton()},cols:function(){var e=a.Resize.width();return e>=l.max?3:e>=l.midHigh?2:(e>=l.midLow,1)},rows:function(){var e=a.Resize.width();return e<l.midLow,3},ready:function(){this.list&&this.resize()}})}(this),Whiskers("modules.property_hero",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,796,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="branding"> <div class="scaler"></div> '),i.s(i.f("wide",e,t,1),e,t,0,69,286,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("overlayLeft",e,t,1),e,t,0,86,159,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="left-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayLeft",e,t,0))),i.b('"> </span> ')}),e.pop()),i.b(" "),i.s(i.f("overlayRight",e,t,1),e,t,0,193,268,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="right-overlay overlay"> <img src="'),i.b(i.v(i.f("overlayRight",e,t,0))),i.b('"> </span> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(' <span class="background"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img src="'),i.b(i.v(i.f("propertyHeader",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,392,412,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("hero",e,t,0))),i.b('">')}),e.pop()),i.b(" </span> </div> "),i.s(i.f("wide",e,t,1),e,t,0,450,786,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="content '),i.b(i.v(i.f("contentPosition",e,t,0))),i.b('"> '),i.s(i.f("video",e,t,1),e,t,0,503,768,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("id",e,t,1),e,t,0,511,760,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="video-container"> <div class="scaler"></div> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <div id="player_property_hero" class="player video trailer-box"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> </div> ")),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),a.fl()},partials:{},subs:{}}),Whiskers("modules.property_nav",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<style type="text/css"> '),a.s(a.f("data",e,t,1),e,t,0,33,1909,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("pn_style",e,t,1),e,t,0,46,1896,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .property_nav_wrap{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; "),i.s(i.f("gradient_color",e,t,1),e,t,0,126,596,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("gradient_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("background_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("background_color",e,t,0))),i.b("); ")}),e.pop()),i.b(" } .property_nav_wrap ul li:hover{ background-color: "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("; "),i.s(i.f("hover_gradient_color",e,t,1),e,t,0,710,1185,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("hover_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("hover_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("hover_color",e,t,0))),i.b("); ")}),e.pop()),i.b(" } .property_nav_wrap ul li.active{ background-color: "),i.b(i.v(i.f("active_color",e,t,0))),i.b("; "),i.s(i.f("active_gradient_color",e,t,1),e,t,0,1308,1793,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" background-image: -webkit-gradient(linear, left top, left bottom, from("),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b("), to("),i.b(i.v(i.f("active_color",e,t,0))),i.b(")); background-image: -webkit-linear-gradient(top, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); background-image: -moz-linear-gradient(top, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); background-image: -o-linear-gradient(top, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("active_gradient_color",e,t,0))),i.b(", "),i.b(i.v(i.f("active_color",e,t,0))),i.b("); ")}),e.pop()),i.b(" } .module.property_nav .property_nav_wrap ul li a{ color: "),i.b(i.v(i.f("font_color",e,t,0))),i.b("; } ")}),e.pop())}),e.pop()),a.b(" </style> "),a.s(a.f("data",e,t,1),e,t,0,1937,2493,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="property_nav_wrap"> <div class="property_nav_scroller"> <ul class="links-'),i.b(i.v(i.f("numLinks",e,t,0))),i.s(i.f("config_options",e,t,1),e,t,0,2054,2099,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("has_divider",e,t,1),e,t,0,2070,2083,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-dividers")}),e.pop())}),e.pop()),i.b('"> '),i.s(i.f("pn_links",e,t,1),e,t,0,2134,2459,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="'),i.s(i.f("icon",e,t,1),e,t,0,2154,2158,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("icon")}),e.pop()),i.b('"><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,2214,2242,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.d("ping.static",e,t,0))),i.b('"')}),e.pop()),i.b(" "),i.b(i.rp("<href_attributes0",e,t,"")),i.b(">"),i.s(i.f("icon",e,t,1),e,t,0,2282,2432,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("mobile_icon",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,2370,2418,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("mobile_icon",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li>")}),e.pop()),i.b(" </ul> </div> </div> ")}),e.pop()),a.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),Whiskers("modules.property_description",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="module_body"> '),a.s(a.f("data",e,t,1),e,t,0,55,738,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="content" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="header"> <h1 style="color:'),i.s(i.f("style_options",e,t,1),e,t,0,157,174,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("heading_color",e,t,0)))}),e.pop()),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <div class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,239,329,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p><span class="meta-heading accent-color">'),i.b(i.v(i.d("translations.rated",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("rating",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,353,451,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p><span class="meta-heading accent-color">'),i.b(i.v(i.d("translations.release_date",e,t,0))),i.b(":</span> "),i.b(i.v(i.f("release",e,t,0))),i.b("</p> ")}),e.pop()),i.b(' </div> </div> <p class="desc">'),i.b(i.v(i.f("desc",e,t,0))),i.b("</p> "),i.s(i.f("cds",e,t,1),e,t,1,0,0,"")||(i.b('<div class="movie-actions"> '),i.s(i.f("buttons",e,t,1),e,t,0,555,703,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" target="_blank" class="button small '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("button_color",e,t,0))),i.b('"'),i.s(i.f("convert",e,t,1),e,t,0,649,676,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(">"),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" </div>")),i.b(" </div> ")}),e.pop()),a.b(' <div class="ad-container"> '),a.b(a.t(a.f("rectangleAd",e,t,0))),a.b(" "),a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";function t(e){return e.split("?")[0]}var i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Grill,s=e.Whiskers,o=e.Backbone,l=e.jQuery,c=e._,d=r.ModuleView.extend({breakpoints:n,required_template_sets:["links"],render:function(){var e=c.first(this.model.get("data")),t=e.takeover_styles,n=!!this.options.cds,r=o.Resize.width()>=a.midHigh,s=c.extend({cds:n,wide:r,propertyHeader:r?e.hero:e.hero_mobile,numLinks:e.pn_links?e.pn_links.length:0},this.options.ads.helpers(this.model.toJSON()),this.model);this.$el.html(this.template.render(s,this.ctx_additions())).toggleClass("cds",n),this.$el.addClass(this.model.cid),i.Style.applyTakeoverStyles(t,!0)},resize:function(){this.render(),this.options.ads.restore()}});d.register("property_hero",{template:s.modules.property_hero,initialize:function(){this.property().get("video")&&(this.assets={scripts:["//a.dilcdn.com/a/videoplayer-c7d942b2f782.js"]})},property:function(){return this.model.data.first()},resize:function(){this.render(),this.options.ads.restore(),this.ready()},ready:function(){var e=o.Resize.width();if(!(e<a.midHigh)){var t=this.property(),n=t.get("video"),r=t.get("image");n&&(this.player=new i.MatterhornVideoPlayer("player_property_hero",{video:n,clickToPlay:!0,poster:r,ads:{enabled:!1}}))}},remove:function(){this.player&&(this.player.destroy(),this.player=null),r.ModuleView.prototype.remove.call(this)}}),d.register("property_description",{template:s.modules.property_description,breakpoints:null});var u=d.extend({style_classes:["property_nav","skip-styles","skip-bottom-border","skip-top-border"],template:s.modules.property_nav,ready:function(){this.$("a").each(function(){l(this).parent("li").toggleClass("active",t(this.href)===t(e.location.href))})}});u.register("property_nav"),u.register("property_nav_mobile")}(this),Whiskers("modals.quiz",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="modal-content '),a.s(a.f("finished",e,t,1),e,t,0,39,47,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("finished")}),e.pop()),a.b(" "),a.s(a.f("hide_end_card",e,t,1),e,t,0,79,92,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("hide-end-card")}),e.pop()),a.b('" > <div class="modal-image" ></div> '),a.s(a.f("current_question",e,t,1),e,t,0,168,994,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" <div class='question-container'> <div class='current-count'> <span class=\"counter\">"),i.b(i.v(i.f("current_count",e,t,0))),i.b("</span> &nbsp; <span>"),i.b(i.v(i.d("translations.of",e,t,0))),i.b("</span> &nbsp; <span>"),i.b(i.v(i.f("total_questions",e,t,0))),i.b("</span> </div> <div class='question-text'>"),i.b(i.v(i.f("question",e,t,0))),i.b("</div> "),i.s(i.f("rich_text_description",e,t,1),e,t,0,436,506,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rich-text-description">'),i.b(i.t(i.f("rich_text_description",e,t,0))),i.b("</div> ")}),e.pop()),i.b(' </div> <div class="answer-container cols-2"> '),i.s(i.f("answers",e,t,1),e,t,0,590,974,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="answer col '),i.s(i.f("correct",e,t,1),e,t,0,626,633,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("correct")}),e.pop()),i.b('"> '),i.s(i.f("id",e,t,1),e,t,0,655,959,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <input id='"),i.b(i.v(i.f("id",e,t,0))),i.b("' name='"),i.b(i.v(i.f("name",e,t,0))),i.b("' type='radio' class='vis-hidden toggle "),i.s(i.f("correct",e,t,1),e,t,0,741,748,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("correct")}),e.pop()),i.b(" "),i.s(i.f("unselectable",e,t,1),e,t,0,778,790,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("unselectable")}),e.pop()),i.b("'></input> <label for='"),i.b(i.v(i.f("id",e,t,0))),i.b("' class= 'answer-label "),i.s(i.d("image.base",e,t,1),e,t,0,874,883,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has_image")}),e.pop()),i.b("'><span>"),i.b(i.v(i.f("text",e,t,0))),i.b("</span></label> <div class=check-mark></div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),a.b(' <div class="final-message"> <div class="title">'),a.b(a.v(a.d("translations.quiz_result_title",e,t,0))),a.b('</div> <div class="count-result"> <div class="count correct"> <div class="heading">'),a.b(a.v(a.d("translations.correct",e,t,0))),a.b('</div> <div class="number">'),a.b(a.v(a.f("correct_count",e,t,0))),a.b('</div> </div> <div class="count incorrect"> <div class="heading">'),a.b(a.v(a.d("translations.incorrect",e,t,0))),a.b('</div> <div class="number">'),a.b(a.v(a.f("incorrect_count",e,t,0))),a.b('</div> </div> </div> <div class="final-message-text">'),a.b(a.v(a.f("final_message",e,t,0))),a.b('</div> </div> <div class="modal-buttons"> <button class="button blue large continue-button">'),a.b(a.v(a.d("translations.continue",e,t,0))),a.b('</button> <button class="button blue large hide-end-card-continue-button">'),a.b(a.v(a.d("translations.hide_end_card_continue",e,t,0))),a.b('</button> <button class="button blue large next-question-button" disabled>'),a.b(a.v(a.d("translations.next_question",e,t,0))),a.b('</button> </div> </div> <style type="text/css"> .modal-image { background-image: url('),a.b(a.v(a.d("default_image.base",e,t,0))),a.b("); } "),a.s(a.f("current_question",e,t,1),e,t,0,1922,2140,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("question_image.base",e,t,1),e,t,0,1947,2013,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .modal-image { background-image: url("),i.b(i.v(i.d("question_image.base",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("answers",e,t,1),e,t,0,2050,2127,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image",e,t,1),e,t,0,2061,2116,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" label[for="),i.b(i.v(i.f("id",e,t,0))),i.b("] { background-image: url("),i.b(i.v(i.f("base",e,t,0))),i.b(") } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" </style>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.$,a=e._;t.QuizModalView=t.ModalView.extend({current_question:0,correct_count:0,guest_answers:[],hide_end_card:!1,initialize:function(){a.extend(this,{questions:this.options.questions})},reset:function(){this.current_question=0,this.correct_count=0,this.guest_answers=[],this.hide_end_card=!1},render:function(){var e={current_question:this.questions[this.current_question],correct_count:this.correct_count,current_count:this.current_question+1,total_questions:this.questions.length,incorrect_count:this.questions.length-this.correct_count,title:this.options.title,default_image:this.options.default_image,final_message:this.options.final_message,translations:this.options.translations,hide_end_card:this.hide_end_card,finished:this.isQuizFinished()};return this.options.template.render(e)},events:{"change .toggle":function(){this.answerToggled()},"click .continue-button":function(){this.hide()},"click .hide-end-card-continue-button":function(){this.hideWithNoEndCard()},"click .next-question-button":function(){this.nextStep()}},nextStep:function(){if(this.options.quiz_show_feedback){var t=this;this.$("input.toggle").addClass("answer-mode"),i(".next-question-button").attr("disabled",!0),e.setTimeout(function(){t.nextQuestion()},500)}else this.nextQuestion()},hideWithNoEndCard:function(){if(this.checkCurrentQuestion(),this.options.quiz_show_feedback){var t=this;this.$("input.toggle").addClass("answer-mode"),e.setTimeout(function(){t.hide()},500)}else this.hide()},answerToggled:function(){this.setNextButtonEnable()},setNextButtonEnable:function(){var e=i("input.toggle");i(".next-question-button").attr("disabled",!e.is(":checked"))},showQuiz:function(){this.reset(),this.renderInnerHtml(),this.show()},nextQuestion:function(){this.current_question++,this.checkCurrentQuestion(),this.setHideEndCard(),this.renderInnerHtml()},setHideEndCard:function(){this.options.hide_end_card&&this.isLastQuestion()&&(this.hide_end_card=!0)},isLastQuestion:function(){return this.questions.length<this.current_question+2},isQuizFinished:function(){return this.questions.length<this.current_question+1},renderInnerHtml:function(){this.el.innerHTML=this.render()},score:function(){return 0===this.questions.length?0:Math.round(this.correct_count/this.questions.length*100)},checkCurrentQuestion:function(){var e=this.$("input.toggle:not(:checked):not(.correct), input.toggle.correct:checked").length,t=4===e;t&&this.correct_count++}})}(this),Whiskers("modules.radio_player",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("style_options",e,t,1),e,t,0,18,4550,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.d("track_listing.track_text_color",e,t,1),e,t,0,78,295,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.currently-playing-container .track-info .current-track, .module.radio_player section.currently-playing-container .track-info .current-artist{ color: "),i.b(i.v(i.d("track_listing.track_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("channel_selection.header_text_color",e,t,1),e,t,0,371,486,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.station-container .station-header{ color: "),i.b(i.v(i.d("channel_selection.header_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("channel_selection.unselected_station_text_color",e,t,1),e,t,0,579,705,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.station-container .station-title{ color: "),i.b(i.v(i.d("channel_selection.unselected_station_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("channel_selection.selected_station_text_color",e,t,1),e,t,0,808,941,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.station-container .current .station-title{ color: "),i.b(i.v(i.d("channel_selection.selected_station_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("play_button.play_button_background",e,t,1),e,t,0,1031,1256,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.currently-playing-container .play-pause-toggle, .module.radio_player.in-popout section.currently-playing-container .play-pause-toggle{ background-color: "),i.b(i.v(i.d("play_button.play_button_background",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("play_button.play_button_color",e,t,1),e,t,0,1330,2186,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.currently-playing-container .play-pause-toggle.play:before, .module.radio_player section.currently-playing-container .play-pause-toggle.play:after, .module.radio_player.in-popout section.currently-playing-container .play-pause-toggle.play:before, .module.radio_player.in-popout section.currently-playing-container .play-pause-toggle.play:after{ border-left-color: "),i.b(i.v(i.d("play_button.play_button_color",e,t,0))),i.b("; } .module.radio_player section.currently-playing-container .play-pause-toggle.stop:before, .module.radio_player section.currently-playing-container .play-pause-toggle.stop:after, .module.radio_player.in-popout section.currently-playing-container .play-pause-toggle.stop:before, .module.radio_player.in-popout section.currently-playing-container .play-pause-toggle.stop:after{ border-color: "),i.b(i.v(i.d("play_button.play_button_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("track_listing.track_text_color",e,t,1),e,t,0,2256,2352,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player .track-info .current-artist{ color: "),i.b(i.v(i.d("track_listing.track_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("track_section_background_color",e,t,1),e,t,0,2423,3136,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.currently-playing-container{ background-color: "),i.b(i.v(i.f("track_section_background_color",e,t,0))),i.b("; } .module.radio_player section.currently-playing-container .gradient-truncation{ background-image: -webkit-gradient(270deg, "),i.b(i.v(i.f("track_section_background_color",e,t,0))),i.b(" 50%, transparent 85%); background-image: -webkit-linear-gradient(270deg, "),i.b(i.v(i.f("track_section_background_color",e,t,0))),i.b(" 50%, transparent 85%); background-image: -moz-linear-gradient(270deg, "),i.b(i.v(i.f("track_section_background_color",e,t,0))),i.b(" 50%, transparent 85%); background-image: -o-linear-gradient(270deg, "),i.b(i.v(i.f("track_section_background_color",e,t,0))),i.b(" 50%, transparent 85%); background-image: linear-gradient(270deg, "),i.b(i.v(i.f("track_section_background_color",e,t,0))),i.b(" 50%, transparent 85%); } ")}),e.pop()),i.b(" "),i.s(i.d("track_section_background_image.src",e,t,1),e,t,0,3211,3335,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player section.currently-playing-container{ background-image: url("),i.b(i.v(i.d("track_section_background_image.src",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.d("channel_selection.background_color",e,t,1),e,t,0,3414,4142,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player .bound{ background-color: "),i.b(i.v(i.d("channel_selection.background_color",e,t,0))),i.b("; background-image: -webkit-gradient(linear, left top, left bottom, from(#000000), to("),i.b(i.v(i.d("channel_selection.background_color",e,t,0))),i.b(" 80%)); background-image: -webkit-linear-gradient(top, #000000, "),i.b(i.v(i.d("channel_selection.background_color",e,t,0))),i.b(" 80%); background-image: -moz-linear-gradient(top, #000000, "),i.b(i.v(i.d("channel_selection.background_color",e,t,0))),i.b(" 80%); background-image: -o-linear-gradient(top, #000000, "),i.b(i.v(i.d("channel_selection.background_color",e,t,0))),i.b(" 80%); background-image: linear-gradient(to bottom, #000000, "),i.b(i.v(i.d("channel_selection.background_color",e,t,0))),i.b(" 80%); } .module.radio_player section.station-container:after{ border-top-color: "),i.b(i.v(i.d("channel_selection.background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.d("channel_selection.background_image.src",e,t,1),e,t,0,4225,4324,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player .bound{ background-image: url("),i.b(i.v(i.d("channel_selection.background_image.src",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.d("radio_disney_logo.src",e,t,1),e,t,0,4394,4514,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.radio_player.in-popout section.station-container .rd-logo{ background-image: url("),i.b(i.v(i.d("radio_disney_logo.src",e,t,0))),i.b("); } ")}),e.pop()),i.b(" </style> ")}),e.pop()),a.b(' <div class="bound"> <section class="station-container count-'),a.b(a.v(a.f("count",e,t,0))),a.b('"> <span class="close-stations">\xd7</span> <span class="rd-logo"></span> <h6 class="station-header">'),a.b(a.v(a.d("translations.choose_station",e,t,0))),a.b("</h6> "),a.s(a.f("data",e,t,1),e,t,0,4782,4973,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <a href="#" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('" class="station-option"> <img src="'),i.b(i.v(i.f("station_button",e,t,0))),i.b('" class="change-station-thumbnail"> <span class="station-title">'),i.b(i.v(i.f("title",e,t,0))),i.b("</span> </a> ")}),e.pop()),a.b(" </section> "),a.s(a.f("inPopOut",e,t,1),e,t,0,5007,5075,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="ad-container"> '),i.b(i.t(i.f("rectangleAd",e,t,0))),i.b(" "),i.b(i.t(i.f("mobileAd",e,t,0))),i.b(" </div> ")}),e.pop()),a.b(' <section class="currently-playing-container"> <div class="current-station-thumbnail count-'),a.b(a.v(a.f("count",e,t,0))),a.b('"> '),a.s(a.f("currentStream",e,t,1),e,t,0,5209,5238,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.f("logo_inline",e,t,0))),i.b('"> ')}),e.pop()),a.b(' <span class="change-station-label">'),a.b(a.v(a.d("translations.change_station",e,t,0))),a.b('</span> </div> <div class="play-pause-toggle play"></div> <div class="track-info"> <h3><span class="current-track">'),a.b(a.v(a.f("currentTrack",e,t,0))),a.b('</span></h3> <h6><span class="current-artist">'),a.b(a.v(a.f("currentArtist",e,t,0))),a.b('</span></h6> </div> <span class="gradient-truncation"></span> <a href="#" class="load-popout"></a> </section> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";function t(e){var t=/(File[0-9,:,=]*)(http.*)/,i=e?e.match(t):null;return i&&i[2]}function i(){var t=e.location.search.match(/(stream_id=)([0-9,a-z]*)/);return t&&t[2]}function a(e){var t=u(e);return{currentArtist:t.find("property[name=track_artist_name]").text(),currentTrack:t.find("property[name=cue_title]").text(),currentTrackID:t.find("property[name=track_id]").text()}}var n=e.Grill,r=e.Disney,s=r.Style.breakpoints,o=s.midHigh.toString(),l=e.Modernizr,c=e.Tracker,d=e.Whiskers,u=e.$,h=e._,f="/player";n.ModuleView.register("radio_player",{style_classes:["skip-top-border","full-width","full-height"],template:d.modules.radio_player,breakpoints:o,events:{"click .station-option":function(e){e.preventDefault();var t=u(e.currentTarget),i=t.data("id"),a=t.data("title");this.renderNowPlaying(),this.trackStation(a),this.model.set("currentStream",this.getStreamByID(i)),this.$(".station-option.current").removeClass("current"),t.addClass("current"),u(".play-pause-toggle").hasClass("play")&&u(".play-pause-toggle").toggleClass("play stop")},"click .play":function(e){e.preventDefault(),this.playStream(),this.trackPlayPause("Play"),u(".play-pause-toggle").hasClass("play")&&this.$(".play-pause-toggle").toggleClass("play stop")},"click .stop":function(e){e.preventDefault(),this.stopStream(),this.trackPlayPause("Pause"),u(".play-pause-toggle").hasClass("stop")&&this.$(".play-pause-toggle").toggleClass("play stop")},"click .load-popout":function(e){e.preventDefault(),this.loadPopout(),this.trackPopout()},"click .close-stations":function(e){e.preventDefault(),this.toggleStationPanel()},"click .current-station-thumbnail":function(e){e.preventDefault(),this.trackStationPanel(),this.toggleStationPanel()}},initialize:function(){h.bindAll(this);var t,a=this,n=i();this.streams=this.model.get("data"),t=n?this.getStreamByID(n):this.streams[0],this.model.set("currentStream",t),this.model.bind("change:currentStream",this.playStream),this.model.bind("change:currentArtist change:currentTrack",this.renderNowPlaying),this.$audioEl=u("<audio>",{name:"media",type:"audio/mpeg"}),e.setInterval(function(){a.fetchNowPlaying()},5e3),this.inPopOut=e.location.search.indexOf("popout=1")>=0,this.inPopOut&&this.$el.addClass(l.mobile?"in-popout mobile":"in-popout")},render:function(){var e=h.extend({inPopOut:this.inPopOut},this.options.ads.helpers(this.model.toJSON()),this.model);this.$el.html(this.template.render(e,this.ctx_additions()))},ready:function(){this.$(".station-option[data-id="+this.model.get("currentStream").id+"]").addClass("current"),this.$trackEl=this.$(".current-track"),this.$artistEl=this.$(".current-artist"),u("#goc-ft").addClass("music-footer")},resize:function(){this.renderNowPlaying(),this.options.ads.restore()},playStream:function(){var e=this,i=this.model.get("currentStream");this.stopStream(),i.is_pls?u.get(i.stream).done(function(i){e.attachAudioEl(t(i))}):this.attachAudioEl(i.stream)},attachAudioEl:function(e){this.$audioEl.attr("src",e),this.$audioEl.appendTo(this.$el),this.$audioEl[0].play()
},stopStream:function(){this.$audioEl.detach()},fetchNowPlaying:function(){var e=this;u.get(this.model.get("currentStream").feed,function(t){e.model.set(a(t))},"xml")},renderNowPlaying:function(){this.$trackEl.text(this.model.get("currentTrack")),this.$artistEl.text(this.model.get("currentArtist")),this.$(".current-station-thumbnail img").attr("src",this.model.get("currentStream").logo_inline)},getStreamByID:function(e){return h.find(this.streams,function(t){return t.id===e})},loadPopout:function(){var t="?popout=1&stream_id="+this.model.get("currentStream").id,i=f+e.location.pathname+t,a=Math.ceil(this.streams.length/5),n=a>1?"width=800,height=430":"width=800,height=330",r=e.open(i,"player",n),s=this.el.querySelectorAll(".play-pause-toggle");r.onload=this.stopStream,u(".play-pause-toggle").hasClass("stop")&&u(s).toggleClass("play stop"),this.renderNowPlaying()},toggleStationPanel:function(){this.streams.length>1&&this.$(".station-container").slideToggle("slow")},trackPopout:function(){c.page({pageName:"dcom|dmusic|rd_popout_player|Radio-Disney-Music-Player-Popout"})},trackPlayPause:function(e){var t=this.inPopOut?"PopOut_":"Inline_";c.event({engagementType:"MusicPlayer_"+t+"Control_"+e})},trackStation:function(e){var t=this.inPopOut?"PopOut_":"Inline_";c.event({engagementType:"MusicPlayer_"+t+"Channel_"+e})},trackStationPanel:function(){c.event({engagementType:"MusicPlayer_Inline_ChangeChannel"})}})}(this),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,a=i.midHigh.toString(),n=e.Grill,r=e.Whiskers,s=e.Backbone,o=e.EventLinkHandler,l=e._,c=e.devicePixelRatio>1.5;n.ModuleView.register("rich_image",{breakpoints:a,style_classes:["full-width","full-height","skip-bottom-border","skip-top-border"],template:r.modules.rich_image,render:function(){var e,t=s.Resize.width()>=i.midHigh,a=this,n=l.first(this.model.get("data")),r=a.model.get("style_options").images,o=r&&r.foreground_image;if(o){var d=c&&o.retina_url||o.url,u=c&&o.mobile_retina_url||o.mobile_url;e=t?d:u}var h=l.extend({image:e,alt_text:o&&o.alt_text,data:n},this.model);this.$el.html(this.template.render(h))},events:{"click [data-event-link]":function(e){e.preventDefault(),o.handle(e)}},initialize:function(){this.needsGuestContext()&&t.guest.retain()},destroy:function(){this.needsGuestContext()&&t.guest&&t.guest.release()},resize:function(){this.render()}})}(this),Whiskers("modules.rich_text",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="rich_text_container"> '),a.s(a.f("image",e,t,1),e,t,0,115,307,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="rich_text_image '),i.b(i.v(i.f("position",e,t,0))),i.b('_align"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("image",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,245,287,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </div>")}),e.pop()),a.b(" "),a.b(" "),a.s(a.f("image",e,t,1),e,t,1,0,0,"")||(a.b(" "),a.s(a.f("style_options",e,t,1),e,t,0,371,642,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("images",e,t,1),e,t,0,382,631,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("foreground_image",e,t,1),e,t,0,403,610,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("url",e,t,1),e,t,0,411,602,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_image '),i.b(i.v(i.f("alignment",e,t,0))),i.b('_align"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src" data-src="'),i.b(i.v(i.f("url",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,541,581,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("url",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" </div> ")}),e.pop())}),e.pop())}),e.pop())}),e.pop()),a.b(" ")),a.b(" "),a.s(a.f("rich_text",e,t,1),e,t,0,686,804,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_body rich-text-enabled'),i.s(i.f("image",e,t,1),e,t,0,741,770,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-image "),i.b(i.v(i.f("position",e,t,0))),i.b("_align")}),e.pop()),i.b('">'),i.b(i.t(i.f("rich_text",e,t,0))),i.b("</div> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.Backbone,n=e.Disney,r=n.Style.breakpoints,s=r.midHigh.toString(),o=e.devicePixelRatio>1.5,l=e._;t.ModuleView.register("rich_text",{breakpoints:s,template:i.modules.rich_text,required_template_sets:["module_header"],initialize:function(){var e=this.model.get("style_options"),t=e&&e.columns?"cols-"+e.columns:"cols-1";this.style_classes=[t]},render:function(){var e,t=l.first(this.model.get("data")),i=this.model.get("style_options"),n=i&&i.images&&i.images.foreground_image,s=!(!n||!n.url&&!n.mobile_url),c=a.Resize.width()>=r.midHigh;if(s){var d=o&&n.retina_url?n.retina_url:n.url,u=o&&n.mobile_retina_url?n.mobile_retina_url:n.mobile_url;e=c?d:u}var h=l.extend({data:t,image:e,position:s&&n.alignment},this.model);this.$el.html(this.template.render(h,this.ctx_additions()))}})}(this),Whiskers("modules.rolling_buddy",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<style type="text/css"> '),a.s(a.f("style_options",e,t,1),e,t,0,42,3804,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("color_options",e,t,1),e,t,0,61,760,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("ground_color",e,t,1),e,t,0,79,519,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background{ display: block; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background:after{ background-color: "),i.b(i.v(i.f("ground_color",e,t,0))),i.b(";} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ padding-bottom: 28px; }"),i.b(" @media only screen and (max-width: 679px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ padding-bottom: 24px; } "),i.b(" } ")}),e.pop()),i.b(" "),i.s(i.f("ground_bottom_gradient_color",e,t,1),e,t,0,570,726,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background:after{ background-image: linear-gradient(to bottom, "),i.b(i.v(i.f("ground_color",e,t,0))),i.b(", "),i.b(i.v(i.f("ground_bottom_gradient_color",e,t,0))),i.b(");;} ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("image_assets",e,t,1),e,t,0,796,1448,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("body_image",e,t,1),e,t,0,812,1432,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("half_width",e,t,1),e,t,0,828,1416,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy{ width: "),i.b(i.v(i.f("half_width",e,t,0))),i.b("px; height: "),i.b(i.v(i.f("half_width",e,t,0))),i.b("px; margin-left: -"),i.b(i.v(i.f("half_body_width",e,t,0))),i.b("px; } "),i.s(i.d("display_options.extra_top_padding",e,t,1),e,t,1,0,0,"")||(i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ min-height: "),i.b(i.v(i.f("half_width",e,t,0))),i.b("px; } ")),i.b(" "),i.s(i.d("display_options.extra_top_padding",e,t,1),e,t,0,1145,1377,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ min-height: calc("),i.b(i.v(i.f("half_width",e,t,0))),i.b("px + "),i.b(i.v(i.d("display_options.extra_top_padding",e,t,0))),i.b("px "),i.s(i.f("spacing_allowance",e,t,1),e,t,0,1265,1297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" + (2 * "),i.b(i.v(i.f("spacing_allowance",e,t,0))),i.b("px)")}),e.pop()),i.b(" "),i.s(i.f("edge_gap_px",e,t,1),e,t,0,1336,1356,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" + "),i.b(i.v(i.f("edge_gap_px",e,t,0))),i.b("px")}),e.pop()),i.b("); } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("bottom_shadow_margin",e,t,1),e,t,0,1491,1642,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy:after{ bottom: "),i.b(i.v(i.f("bottom_shadow_margin",e,t,0))),i.b(";} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background:after{ padding-top: "),i.b(i.v(i.f("edge_gap_px",e,t,0))),i.b("px;} ")}),e.pop()),i.b(" "),i.s(i.f("spacing_allowance",e,t,1),e,t,0,1690,1984,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-wrapper{ margin-bottom: "),i.b(i.v(i.f("spacing_allowance",e,t,0))),i.b("px; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background:after{ padding-bottom: "),i.b(i.v(i.f("spacing_allowance",e,t,0))),i.b("px;} #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bg-banner{ margin-bottom: calc("),i.b(i.v(i.f("spacing_allowance",e,t,0))),i.b("px"),i.s(i.f("edge_gap_px",e,t,1),e,t,0,1943,1963,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" + "),i.b(i.v(i.f("edge_gap_px",e,t,0))),i.b("px")}),e.pop()),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("img_adjustments",e,t,1),e,t,0,2027,2170,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("left",e,t,1),e,t,0,2037,2085,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy .body img { left: "),i.b(i.v(i.f("left",e,t,0))),i.b(";}")}),e.pop()),i.b(" "),i.s(i.f("bottom",e,t,1),e,t,0,2106,2158,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy .body img { bottom: "),i.b(i.v(i.f("bottom",e,t,0))),i.b(";}")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("mobile_body_width",e,t,1),e,t,0,2213,3475,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" @media only screen and (max-width: 679px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy{ width: "),i.b(i.v(i.f("mobile_body_width",e,t,0))),i.b("px; height: "),i.b(i.v(i.f("mobile_body_width",e,t,0))),i.b("px; } "),i.s(i.f("mobile_half_body_width",e,t,1),e,t,0,2407,2965,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy{ margin-left: -"),i.b(i.v(i.f("mobile_half_body_width",e,t,0))),i.b("px; } "),i.s(i.d("display_options.extra_top_padding",e,t,1),e,t,1,0,0,"")||(i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ min-height: "),i.b(i.v(i.f("mobile_body_width",e,t,0))),i.b("px; } ")),i.b(" "),i.s(i.d("display_options.extra_top_padding",e,t,1),e,t,0,2651,2926,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ min-height: calc("),i.b(i.v(i.f("mobile_body_width",e,t,0))),i.b("px + "),i.b(i.v(i.d("display_options.extra_top_padding",e,t,0))),i.b("px "),i.s(i.f("mobile_spacing_allowance",e,t,1),e,t,0,2785,2818,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" + "),i.b(i.v(i.f("mobile_spacing_allowance",e,t,0))),i.b("px")}),e.pop()),i.b(" "),i.s(i.f("mobile_edge_gap_px",e,t,1),e,t,0,2871,2898,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" + "),i.b(i.v(i.f("mobile_edge_gap_px",e,t,0))),i.b("px")}),e.pop()),i.b("); } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" } "),i.s(i.f("mobile_spacing_allowance",e,t,1),e,t,0,3024,3445,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media only screen and (max-width: 679px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-wrapper{ margin-bottom: "),i.b(i.v(i.f("mobile_spacing_allowance",e,t,0))),i.b("px; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background:after{ padding-top: "),i.b(i.v(i.f("mobile_edge_gap_px",e,t,0))),i.b("px; padding-bottom: "),i.b(i.v(i.f("mobile_spacing_allowance",e,t,0))),i.b("px; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bg-banner{ margin-bottom: calc("),i.b(i.v(i.f("mobile_spacing_allowance",e,t,0))),i.b("px"),i.s(i.f("mobile_edge_gap_px",e,t,1),e,t,0,3388,3415,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" + "),i.b(i.v(i.f("mobile_edge_gap_px",e,t,0))),i.b("px")}),e.pop()),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("display_options",e,t,1),e,t,0,3518,3783,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("fixed",e,t,1),e,t,0,3568,3772,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module#ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b("{ position: fixed; bottom: 0; left: 0; max-width: none; overflow: visible; z-index: 10; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bound{ max-width: none; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container{ min-height: 0; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("config_options",e,t,1),e,t,0,3842,4086,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("allow_y_movement",e,t,1),e,t,0,3928,4064,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background{ height: 100%; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .buddy-outer-container .background:after{ height: 86%; } ")}),e.pop()),i.b(" ")}),e.pop()),a.b(' </style> <div class="bound"> '),a.s(a.f("link",e,t,1),e,t,0,4144,4189,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.d("link.href",e,t,0))),i.b('" '),i.b(i.rp("<href_attributes0",e,t,"")),i.b(">")}),e.pop()),a.b(" "),a.s(a.f("fg_image",e,t,1),e,t,0,4212,4384,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="no-src bg-banner" data-src="'),i.b(i.v(i.f("fg_image",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,4307,4370,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="bg-banner" src="'),i.b(i.v(i.f("fg_image",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),a.b(' <div class="buddy-outer-container"> <div class="background"> <span class="image-layer right-side bg-right"></span> </div> <div class="buddy-wrapper"> <div class="buddy"> <div class="body"> '),a.s(a.d("style_options.image_assets.body_image",e,t,1),e,t,0,4629,4761,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <img src="'),i.b(i.v(i.d("style_options.image_assets.body_image.src",e,t,0))),i.s(i.f("retina",e,t,1),e,t,1,0,0,"")||i.s(i.f("half_width",e,t,1),e,t,0,4711,4732,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("&width="),i.b(i.v(i.f("half_width",e,t,0)))}),e.pop()),i.b('"> ')}),e.pop()),a.b(" </div> "),a.s(a.f("include_head",e,t,1),e,t,0,4828,4887,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="head-anchor"> <div class="head"></div> </div> ')}),e.pop()),a.b(' </div> </div> <div class="foreground"> <span class="image-layer left-side fg-left"></span> <span class="image-layer right-side fg-right"></span> </div> </div> '),a.s(a.f("link",e,t,1),e,t,0,5073,5077,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(e,t,i){var a=t,n=i;e.css({"-webkit-transform":"translate3d("+a+"px, "+n+"px, 0px)","-moz-transform":"translate3d("+a+"px, "+n+"px, 0px)","-ms-transform":"translate3d("+a+"px, "+n+"px, 0px)","-o-transform":"translate3d("+a+"px, "+n+"px, 0px)",transform:"translate3d("+a+"px, "+n+"px, 0px)"})}function i(e,t){e.css({"-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"})}function a(e){return d.ceil(1e3*e)/10+"%"}var n=e.Grill,r=e.Whiskers,s=e.Disney,o=e.Backbone,l=e.jQuery,c=e._,d=e.Math,u=s.Style.breakpoints,h=u.midHigh.toString(),f=e.devicePixelRatio>1.5,p=n.ModuleView.extend({template:r.modules.rolling_buddy,required_template_sets:["links"],style_classes:["full-height","full-width","rolling_buddy"],eventNamespace:"",xp:0,yp:0,curr_rot:0,curr_head_rot:0,max_head_rot:0,animation_loop:null,throttle_delay:100,allow_listeners:!1,y_tilt:0,x_tilt:0,current_tilt:0,tilt_interface:!1,screen_orientation:"landscape",mouse_x:0,mouse_y:0,buddy_width:0,buddy_circumference:0,target_window:e,fixed_position:!1,vw:0,left_offset:0,mobile_width_cap:140,initialize:function(){var e=this.model.get("data"),t=this.model.get("config_options"),i=t&&t.allow_y_movement,n=this.model.get("style_options"),r=n&&n.display_options,s=n&&n.image_assets,o=s&&s.body_image,u=s&&s.body_image_crop,p=n.images&&n.images.foreground_image;if(this.eventNamespace="buddy"+this.cid,this.allow_y_movement=i,r&&r.fixed?(l("body").addClass("fixed_buddy"),this.fixed_position=!0,this.style_classes.push("fixed-to-viewport")):this.target_window=this.$el[0],e&&e.length>0&&this.model.set("link",e[0]),o&&o.width){var m=o&&o.half_width&&o.half_width/2,g=m&&d.ceil(d.pow(d.pow(m,2)+d.pow(m,2),.5)),b=m&&d.ceil(g-m),v=o.half_width>this.mobile_width_cap&&this.mobile_width_cap,y=v&&v/2,k=y&&d.ceil(d.pow(d.pow(y,2)+d.pow(y,2),.5)),_=y&&d.ceil(k-y);if(c.extend(n,{half_body_width:m,mobile_body_width:v,mobile_half_body_width:y,spacing_allowance:b,mobile_spacing_allowance:_}),u&&u.width){var w=u.src&&u.src.split("?")[1],x=w&&decodeURIComponent(w).split("region=")[1],C=x.split(","),A=C[0],S=o.width-u.width-A,T=C[1],P=o.height-u.height-T,E={top:T/o.height,bottom:P/o.height,left:A/o.width,right:S/o.width},I={left:(E.right-E.left)/2,bottom:(E.top-E.bottom)/2},L={left:a(I.left),bottom:a(I.bottom)},M=d.floor((o.width-u.width)/2),D=M/o.width;if(I.left>0||I.bottom>0){var R=d.max(d.abs(I.left),d.abs(I.bottom)),B=1+R;c.extend(n,{spacing_allowance:d.ceil(n.spacing_allowance*B),mobile_spacing_allowance:d.ceil(n.mobile_spacing_allowance*B)})}c.extend(n,{edge_gap_px:d.ceil(M/2*1.1),mobile_edge_gap_px:d.ceil(v*D),bottom_shadow_margin:a(D),img_adjustments:L})}this.model.set("style_options",n)}p&&(this.model.set("fg_image",{mobile:f&&p.mobile_retina_url||p.mobile_url,desktop:f&&p.retina_url||p.url}),this.breakpoints=h)},render:function(){var t,i=this.model.get("style_options"),a=i&&i.image_assets,n=a&&a.body_image,r=this.model.get("fg_image")||{},s=o.Resize.width()<u.midHigh,h=c.extend({include_head:this.include_head,fg_image:s&&r.mobile||r.desktop,retina:f},this.model);this.$el.html(this.template.render(h,this.ctx_additions())),this.vw=l(this.target_window).outerWidth(),this.left_offset=this.$el.offset().left,this.$buddy=this.$(".buddy"),this.$buddy_body=this.$buddy.find(".body"),this.include_head&&(this.$buddy_head=this.$buddy.find(".head-anchor")),this.buddy_width=this.$buddy.width(),this.xp=-1*this.buddy_width/2,this.top_bumper=s&&i.mobile_spacing_allowance>0?i.mobile_spacing_allowance+i.mobile_edge_gap_px:i.spacing_allowance+i.edge_gap_px,this.buddy_circumference=d.PI*this.buddy_width,this.screen_orientation=this.updateOrientation(e.orientation);var p=new e.Image;t=this.bb8_default?f?["//a.dilcdn.com/a/bb8/bb8-paper-sprite@2x-9eabf2f99dc6.png"]:["//a.dilcdn.com/a/bb8/bb8-paper-sprite-479d1188e192.png"]:f?n.src:n.src+(n.half_width?"&width="+n.half_width:""),p.src=t,p.complete?this.bindListeners():l(p).on("load."+this.eventNamespace,c.bind(this.bindListeners,this))},remove:function(){this.pauseAnimationLoop(),l(this.target_window).off("mousemove."+this.eventNamespace)},bindListeners:function(){var t=this;this.allow_listeners=!0,l(e).on("resize."+t.eventNamespace,c.debounce(c.bind(t.resizeHandler,t),t.throttle_delay)),e.DeviceOrientationEvent&&(l(e).on("orientationchange."+t.eventNamespace,function(){t.screen_orientation=t.updateOrientation(e.orientation)}),e.addEventListener("deviceorientation",function(e){t.updateTiltValues(e),e.gamma&&(t.tilt_interface=!0)},!0)),t.tilt_interface||l(t.target_window).on("mousemove."+t.eventNamespace,c.throttle(c.bind(t.updateMousePosition,t),t.throttle_delay)),t.animation_loop||t.startAnimationLoop()},unbindListeners:function(){this.allow_listeners=!1,l(this.target_window).off("mousemove."+this.eventNamespace),e.DeviceOrientationEvent&&l(e).off("orientationchange."+this.eventNamespace)},tiltMe:function(){var e=this.current_tilt/2,t=0;this.allow_y_movement&&(t=this.current_shift/2),this.rollMe(e,t,!1)},followMouse:function(){var e=this.mouse_x-this.xp,t=1/d.pow(this.buddy_width,.7)*this.vw,i=d.max(d.min(t,50),20),a=e/i,n=0,r=0;this.allow_y_movement&&(n=this.mouse_y-this.yp+this.buddy_width/2,r=n/50),this.rollMe(a,r,!0)},rollMe:function(e,a,n){var r=d.abs(e),s=e/this.buddy_circumference,o=360*s,l=e>=0?"right":"left";if(this.$buddy.attr("data-direction",l),this.xp>=0&&this.xp+e<=this.vw+this.buddy_width||this.xp<=0&&this.xp+e>=0-this.buddy_width)if(r>.1){if(this.xp+=e,this.curr_rot+=o,this.allow_y_movement&&0!==a&&this.yp+a<=0&&this.yp+a>=-1*(this.$el.outerHeight()-this.buddy_width-this.top_bumper)){var c=d.abs(a);this.yp+=this.tilt_interface||r>=c?a:r>1?a*r/c:a*r/2}if(this.include_head){var u=3*o;if(u>=0&&this.curr_head_rot<this.max_head_rot||0>u&&this.curr_head_rot>-1*this.max_head_rot){var h=this.curr_head_rot+u;h>this.max_head_rot?h=this.max_head_rot:h<-1*this.max_head_rot&&(h=-1*this.max_head_rot),this.curr_head_rot=h,i(this.$buddy_head,this.curr_head_rot)}}t(this.$buddy,this.xp,this.yp),i(this.$buddy_body,this.curr_rot)}else n&&this.pauseAnimationLoop();else this.xp>this.vw&&(this.xp=this.vw+this.buddy_width,t(this.$buddy,this.xp,this.yp))},animationLoop:function(){this.animation_loop=e.requestAnimationFrame(c.bind(this.animationLoop,this)),this.tilt_interface===!0?this.tiltMe():this.followMouse()},startAnimationLoop:function(){e.requestAnimationFrame(c.bind(this.animationLoop,this))},pauseAnimationLoop:function(){e.cancelAnimationFrame(this.animation_loop),this.animation_loop=null},updateOrientation:function(e){return this.resizeHandler(),this.xp=d.min(this.xp,this.vw+this.buddy_width/2),this.screen_orientation=0===e?"portrait":"landscape",this.screen_orientation},updateTiltValues:function(t){e.DeviceOrientationEvent&&(this.y_tilt=90===e.orientation?t.gamma/2*-1:t.gamma/2,this.x_tilt=-90===e.orientation?-1*t.beta:t.beta),this.current_tilt="portrait"===this.screen_orientation?this.y_tilt:this.x_tilt,this.current_shift="portrait"===this.screen_orientation?this.x_tilt:this.y_tilt},updateMousePosition:function(e){this.mouse_x=this.fixed_position?e.pageX:e.pageX-this.left_offset,this.mouse_y=this.fixed_position?e.pageY:e.pageY-this.$el.offset().top-this.$el.outerHeight(),!this.animation_loop&&this.allow_listeners&&this.startAnimationLoop()},resizeHandler:function(){this.vw=l(this.target_window).innerWidth(),this.left_offset=this.$el.offset().left,this.buddy_width=this.$buddy.width(),this.buddy_circumference=d.PI*this.buddy_width}});p.register("rolling_buddy",{}),p.register("bb8_overlay",{bb8_default:!0,include_head:!0,fixed_position:!0,max_head_rot:34})}(this),Whiskers("modules.search",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<form class="search-form goc-search" action="'),a.b(a.v(a.f("search_action",e,t,0))),a.b('" method="GET"> <a class="search-nav-logo" href="'),a.b(a.v(a.f("href",e,t,0))),a.b('"> </a> '),a.b(' <a class="textSearchHeading" href="'),a.b(a.v(a.f("href",e,t,0))),a.b('">'),a.b(a.v(a.d("translations.search",e,t,0))),a.b('</a> <div class="query-field"> '),a.b(' <input name="q" type="text" placeholder="" id="searchField_SRP"> </div> <input class="large button blue" type="submit" value="'),a.b(a.v(a.d("translations.search",e,t,0))),a.b('"> </form>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.GOC,a=e.jQuery,n=e.Whiskers,r=e.Tracker,s=e._;t.BunView.register("search",{template:n.modules.search,ready:function(){i&&i.queue.push(["ac",this.el,"srp/searchbox"]),a('input[name="q"]').focus()},events:{"click a":function(e){var t=a(e.currentTarget),i=t.attr("href");"img"===e.target.nodeName.toLowerCase()&&(t=a(e.target)),r.link({linkName:t.data("linkname"),linkPosition:t.data("linkposition"),href:i})},"submit form.goc-search":function(){r.link({linkName:"srp/searchbox/search_enter",linkPosition:"srp/searchbox"})}},render:function(){var e=this,t=a(".goc-bound .goc-search").attr("action")||"/search",i=s.extend({search_action:t},e.model);e.$el.html(e.template.render(i))}})}(this),Whiskers("modules.search_stream",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> <div class="module_header_container"> <div class="module_header"> '),a.s(a.f("title",e,t,1),e,t,0,121,139,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h2>")}),e.pop()),a.b(' </div> <div class="filters" data-title="filters"> '),a.s(a.f("sortOptions",e,t,1),e,t,0,216,319,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="sort"> <a href="" class="popular active">Popular</a><a href="" class="new">New</a> </div> ')}),e.pop()),a.b(' <a href="" class="filter"> <span>All Games</span> </a> <div class="filter_mobile"> <span>All Games</span> <select class="mobile_filter_list"> <option value="0" data-filter="All" selected="selected">All Games</option> </select> </div> </div> </div> <div class="filter_drawer"> <div class="filter_list"> </div> </div> <div id="stream_items"> '),a.b(a.t(a.f("list",e,t,0))),a.b(' </div> <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">Show More</span> <span class="spinner"></span> </div> </div> </div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,a=e.Backbone,n=e.Modernizr,r=e.Whiskers,s=e.jQuery,o=e._,l=t.Style.breakpoints,c=o.values(l),d=a.LazyCollection.extend({filters:[],parse:function(e){return this.setFilters(e.filters),this.setCount(e.total_found),e.data},setFilters:function(e){this.filters=e},setCount:function(e){this.count=e}}),u=i.GridModuleBaseView.extend({sortTypes:["created_at","popularity"],style_classes:["stream-view","grid-view","filters-view"],compatibility:n.canvas&&n.flash?"html5,flash":n.canvas&&!n.flash?"html5":"flash",page:1,events:{"click .show_more":function(e){var t=this;e.preventDefault(),this.getMoreItems().then(function(){t.showHideButton(),++t.page,t.$el.loadLazyImages()})},"click .sort a.popular":function(e){var t=this;e.preventDefault(),t.$(".popular").addClass("active"),t.$(".new").removeClass("active"),this.hideStreamItems()},"click .sort a.new":function(e){var t=this;e.preventDefault(),t.$(".new").addClass("active"),t.$(".popular").removeClass("active"),this.hideStreamItems()},"click .filters a.filter":function(e){var t=this;e.preventDefault(),t.$(".filters a.filter").toggleClass("active");var i=s(".filter_list").height()+44;t.$(".filter_drawer").hasClass("active")?t.$(".filter_drawer").css("height","0").removeClass("active"):t.$(".filter_drawer").css("height",i).addClass("active")}},initialize:function(){var e=this,t=e.model,a=t.data=new d(null,{min:t.data.min,params:{limit:"l",offset:"o"}});this.itemsRetrieved=!1,this.readyCalled=!1,this.list=new i.ListView({collection:a,template:{render:function(t){return r.entities.item.render(t,e.global_components.entities)}}}),a.on("loading",function(t,i){e.updateButton(i)}),this.resetAndGetMoreItems().then(function(){e.itemsRetrieved=!0,e.createUI(e.model.data.filters),e.showHideButton()})},getMoreItems:function(){var e=this,t=a.Resize.width(),i=e.list.collection,n=this.$(".filter_drawer a.active").data("filter")||"All",r=this.$("select.mobile_filter_list option:selected").data("filter")||"All",s=this.$(".sort > .active").text().toLowerCase(),o="new"!==s?e.sortTypes[1]:e.sortTypes[0];768>t&&(n=r);var l="/search-filter.json?f="+n+"&s="+o+"&c="+e.compatibility;return i.url=l,this.itemCount+=this.cols()*this.rows(),this.model.data.ensure(this.itemCount)},showHideButton:function(){this.model.data.length>=this.model.data.count?this.$(".show_more_container").hide():this.$(".show_more_container").show()},hideStreamItems:function(){var t=this,i=this.$("#stream_items ul"),a=this.$("#stream_items"),n=i.outerHeight(),r=s(e).selectTransitionEnd()+".stream_items";i.css("height",n).addClass("hide"),a.addClass("load"),s.support.css3("transition")?i.on(r,function(e){this===e.target&&(t.resetAndGetMoreItems(),i.off(r))}):t.resetAndGetMoreItems()},render:function(){var e=this.list,i={title:this.model.get("title"),type:this.model.get("type"),item_titles_below:this.model.get("item_titles_below"),list:t.placeHtml(e),sortOptions:!0};this.$el.html(this.template.render(i)),t.placeSwap(this,e),this.updateButton(!1)},ready:function(){this.readyCalled=!0,this.resize(),this.createUI(this.model.data.filters),this.$el.loadLazyImages()},updateButton:function(e){var t=this.$el,i=this.model.data;t.toggleClass("loading",e),t.toggleClass("has-more",i.count>0)},resize:function(){var e=this.cols();this.list.$el.removeClass().addClass("cols-"+e),this.fit()},fit:function(){var e=this.list.collection.count,t=this.list.collection.length,i=this.page*this.cols()*this.rows();e>i&&e>t?this.list.$el.children().show().slice(this.page*this.cols()*this.rows()).hide():this.list.$el.children().show(),this.$el.loadLazyImages()},createUI:function(e){if(this.itemsRetrieved&&this.readyCalled){var t=this,i=e,a=this.$(".filter_list"),n=this.$(".mobile_filter_list"),r=this.model.get("all_button_text");i?(a.append('<a class="active" href="" data-filter="All"><span>All '+r+"</span></a>"),this.$(".filters a.filter span").replaceWith("<span>All "+r+"</span>"),this.$(".filter_mobile span").replaceWith("<span>All "+r+"</span>"),s.each(i,function(e){var t=i[e];a.append('<a href="" data-filter="'+t+'"><span>'+t+"</span></a>"),n.append('<option value="'+(e+1)+'" data-filter="'+t+'">'+t+"</option>")}),this.$(".filter_drawer a").click(function(e){e.preventDefault(),t.$(".filter_drawer a").removeClass("active"),s(this).addClass("active"),t.$(".filter_drawer").css("height","0").removeClass("active"),t.$(".filters a.filter").removeClass("active"),"All"===s(this).data("filter")?(t.$(".filters a.filter span").replaceWith("<span>All "+r+"</span>"),t.$(".filter_mobile span").replaceWith("<span>All "+r+"</span>")):(t.$(".filters a.filter span").replaceWith("<span>"+s(this).data("filter")+"</span>"),t.$(".filter_mobile span").replaceWith("<span>"+s(this).data("filter")+"</span>")),t.hideStreamItems()}),this.$(".mobile_filter_list").change(function(){t.$(".mobile_filter_list option:selected").each(function(){"All"===s(this).data("filter")?(t.$(".filters a.filter span").replaceWith("<span>All "+r+"</span>"),t.$(".filter_mobile span").replaceWith("<span>All "+r+"</span>")):(t.$(".filters a.filter span").replaceWith("<span>"+s(this).data("filter")+"</span>"),t.$(".filter_mobile span").replaceWith("<span>"+s(this).data("filter")+"</span>")),t.$(".mobile_filter_list").blur(),t.hideStreamItems()})}),a.css("display","")):(a.hide(),this.$(".filters a.filter").hide(),this.$(".filter_mobile").hide()),this.$(".selectBox").append('<div class="arrow_down"></div>')}},resetAndGetMoreItems:function(){var e=this,t=e.list.collection;this.page=1,this.itemCount=0,t.reset();var i=this.getMoreItems();return i.then(function(){e.itemsRetrieved=!0,e.showHideButton(),e.$("#stream_items").removeClass("load"),e.$("#stream_items ul").css("height","auto").removeClass("hide"),e.$el.loadLazyImages()}),this.$(".arrow_down").length||this.$(".selectBox").append('<div class="arrow_down"></div>'),i}});u.register("search_stream",{breakpoints:c.join(" "),template:r.modules.search_stream,rows:function(){var e=a.Resize.width();return e<l.midHigh?4:e<l.max?4:3}})}(this),Whiskers("modules.side_by_side",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("foregroundImage",e,t,1),e,t,0,20,106,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <img class="item fg'),i.s(i.f("fgPos",e,t,1),e,t,0,50,67,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("fgPos",e,t,0))),i.b(" jsWide")}),e.pop()),i.b('" src="'),i.b(i.v(i.f("foregroundImage",e,t,0))),i.b('"> ')}),e.pop()),a.b(' <div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> '),a.s(a.f("data",e,t,1),e,t,0,181,309,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="item"> '),i.s(i.d("config_options.hide_title",e,t,1),e,t,1,0,0,"")||i.b(i.rp("<module_header0",e,t,"")),i.b(" "),i.b(i.rp("<entity_container1",e,t,"")),i.b(" </div> ")}),e.pop()),a.b(" </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e.Backbone,o=e._,l=e.devicePixelRatio>1.5,c=t.ModuleView.extend({breakpoints:n,style_classes:["half-view"],required_template_sets:["module_header","entities"],template:r.modules.side_by_side,render:function(){var e=s.Resize.width()>=a.midHigh,t=this.model,i=this.$el,n=t.get("style_options"),r=n&&n.layout||"left",c=n&&n.images&&n.images.foreground_image,d=null;if(c){var u=l&&c.retina_url?c.retina_url:c.url,h=l&&c.mobile_retina_url?c.mobile_retina_url:c.mobile_url?c.mobile_url:null;d=e?u:h}var f=o.extend({layout:r,foregroundImage:d?d:null,fgPos:e&&c&&c.alignment?c.alignment:null,contentType:function(){return this.get("type").toLowerCase()}},this.model);
i.html(this.template.render(f,this.ctx_additions()))}});c.register("side_by_side",{}),c.register("halfling",{}),c.register("age_gate",{})}(this),Whiskers("modules.sidekick_shared",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,61,79,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="module_body"> <div class="col-container'),a.s(a.f("one_up",e,t,1),e,t,0,158,165,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" cols-1")}),e.pop()),a.s(a.f("two_up",e,t,1),e,t,0,187,194,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" cols-2")}),e.pop()),a.b('"> '),a.s(a.f("data",e,t,1),e,t,0,217,228,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("<item1",e,t,"")),i.b(" ")}),e.pop()),a.b(' </div> <div class="ad-container"> '),a.b(a.t(a.f("rectangleAd",e,t,0))),a.b(" "),a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<item1":{name:"item",partials:{},subs:{}}},subs:{}}),Whiskers("modules.sidekick_video",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,61,79,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="module_body"> <div class="col-container"> '),a.s(a.f("data",e,t,1),e,t,0,159,1050,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="col item"> <div class="entity-container ratio-16x9"> <div class="video-container trailer-box entity-box"> <div class="aspect"> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <div id="'),i.b(i.v(i.f("player_id",e,t,0))),i.b('" class="player video trailer-box"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> </div> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,488,551,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div>")}),e.pop()),i.b(' <div class="card embed"'),i.s(i.d("config_options.disable_endcard",e,t,1),e,t,0,622,650,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-disable-endcard="true"')}),e.pop()),i.b('> <div class="card_header"> <p class="btn_replay">'),i.b(i.v(i.d("translations.replay",e,t,0))),i.b('</p> <p class="btn_watch">'),i.b(i.v(i.d("translations.watch_on",e,t,0))),i.b('</p> </div> <div class="suggested"> <ul> '),i.s(i.f("suggested",e,t,1),e,t,0,864,987,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" <li>"),i.b(i.rp("<entity_container1",e,t,"")),i.b("</li> ")}),e.pop()),i.b(" </ul> </div> </div> </div> </div> </div> </div> ")}),e.pop()),a.b(' </div> <div class="ad-container"> '),a.b(a.t(a.f("rectangleAd",e,t,0))),a.b(" "),a.b(a.t(a.f("mobileAd",e,t,0))),a.b(" </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),Whiskers("modules.watch",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div id="video_watch_container" itemprop="video" itemscope itemtype="http://schema.org/VideoObject" '),a.s(a.f("skinClass",e,t,1),e,t,0,114,149,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('class="skin-override-'),i.b(i.v(i.f("skinClass",e,t,0))),i.b('"')}),e.pop()),a.b('> <div id="video_wrapper" class="inverted"> '),a.s(a.f("header_data",e,t,1),e,t,0,223,241,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="bound"> <div class="scaler"></div> <div id="frame"> '),a.s(a.f("data",e,t,1),e,t,0,331,3493,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <!-- Hidden header grill-tracker to correctly identify linkPos --> <h1 class="module_header hide">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h1> <!-- Orphan video markup --> <meta itemprop="duration" content="'),i.b(i.v(i.f("duration_iso",e,t,0))),i.b('"> <meta itemprop="thumbnail" content="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("description",e,t,0))),i.b('"> <meta itemprop="URL" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> '),i.s(i.f("embedURL",e,t,1),e,t,0,729,780,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <meta itemprop="embedURL" content="'),i.b(i.v(i.f("embedURL",e,t,0))),i.b('"> ')}),e.pop()),i.b(' <div id="player" class="player"> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,951,1016,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),i.b(" </div> "),i.s(i.f("hasPlaylist",e,t,1),e,t,0,1052,1222,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="image-controls-wrap play hide"> <div class="image-controls-bg"> </div> <div class="image-play-control"></div> <div class="image-pause-control"></div> </div> ')}),e.pop()),i.b(' <!-- /Orphan video markup --> <div id="card" class="card watch existing"'),i.s(i.d("config_options.disable_endcard",e,t,1),e,t,0,1346,1374,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-disable-endcard="true"')}),e.pop()),i.b('> <div class="card_header"> <p class="btn_replay skip-text-styles">'),i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b('</p> <p class="countdown_intro skip-text-styles">'),i.b(i.v(i.d("translations.next_video_start",e,t,0))),i.b(' <span class="countdown">10</span><span class="autoplay">'),i.b(i.v(i.d("translations.autoplay_off",e,t,0))),i.b("</span></p> "),i.s(i.f("upNext",e,t,1),e,t,0,1696,1793,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"><p class="btn_next skip-text-styles">'),i.b(i.v(i.d("translations.watch_next_video",e,t,0))),i.b("</p></a>")}),e.pop()),i.b(' </div> <div class="suggested"> <ul> '),i.s(i.f("upNext",e,t,1),e,t,0,1852,1889,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="priority"> '),i.b(i.rp("<item1",e,t,"")),i.b(" </li>")}),e.pop()),i.b(" "),i.s(i.f("suggested",e,t,1),e,t,0,1915,1935,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li> "),i.b(i.rp("<item2",e,t,"")),i.b(" </li>")}),e.pop()),i.b(' </ul> </div> </div> <!-- Endcard Variants A & B --> <div class="card watch variant"'),i.s(i.d("config_options.disable_endcard",e,t,1),e,t,0,2068,2096,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-disable-endcard="true"')}),e.pop()),i.b(' style="background-image: url('),i.b(i.v(i.f("thumb",e,t,0))),i.b(')"> <div class="card-wrapper"> <div class="card-content"> '),i.s(i.f("upNext",e,t,1),e,t,0,2239,2302,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="card_header"><h3><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"></a></h3></div>')}),e.pop()),i.b(' <div class="card-up-next-panel"> <p class="up-next">Up Next</p> '),i.s(i.f("upNext",e,t,1),e,t,0,2389,2407,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<h5>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h5>")}),e.pop()),i.b(" "),i.s(i.f("upNext",e,t,1),e,t,0,2430,2494,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("ptitle",e,t,1),e,t,0,2441,2483,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="collection-title">'),i.b(i.v(i.f("ptitle",e,t,0))),i.b("</p>")}),e.pop())}),e.pop()),i.b(' </div> <div class="suggested"> <ul> '),i.s(i.f("upNext",e,t,1),e,t,0,2553,3097,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="priority"> <div class="play-overlay-container"> <!-- CSS Chart --> <div class="wrapper standard"> <figure class="chart"> <figcaption></figcaption> <svg width="110" height="110"> <circle class="outer reset" cx="138" cy="52" r="48" transform="rotate(-90, 95, 95)"/> </svg> </figure> </div> <div class="wrapper small-inline"> <figure class="chart"> <figcaption></figcaption> <svg width="52" height="52"> <circle class="outer reset" cx="164" cy="26" r="24" transform="rotate(-90, 95, 95)"/> </svg> </figure> </div> </div> '),i.b(i.rp("<item3",e,t,"")),i.b(" </li>")}),e.pop()),i.b(' <span class="spacer"></span> '),i.s(i.f("suggested",e,t,1),e,t,0,3152,3249,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li> <div class="play-overlay-container"> <div class="play-overlay"></div> </div> '),i.b(i.rp("<item4",e,t,"")),i.b(" </li>")}),e.pop()),i.b(' </ul> </div> <div class="card-button-panel"> <span class="btn_replay skip-text-styles">'),i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b('</span> <span class="autoplay skip-text-styles">'),i.b(i.v(i.d("translations.autoplay_off",e,t,0))),i.b("</span> </div> </div> </div> </div> ")}),e.pop()),a.b(" </div> </div> </div> <!-- End of video_wrapper --> "),a.s(a.f("hasPlaylist",e,t,1),e,t,0,3570,3677,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("playlist_below",e,t,1),e,t,1,0,0,"")||i.b(' <div id="playlist-holder" class="open"></div> <!-- end playlist --> ')}),e.pop()),a.b(' <div class="content-toolbar-container"> <div id="toolbar" class="inverted"> <div id="meta"></div> </div> <!-- End of toolbar --> </div> <!-- End of bound --> '),a.s(a.f("contentToolbarPromoLink",e,t,1),e,t,0,3880,4273,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("message_below",e,t,1),e,t,0,3898,4255,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="watch_icon item" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="messageLink"> '),i.s(i.f("asset_desktop_image",e,t,1),e,t,0,4008,4093,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="watch-icon"> <img src="'),i.b(i.v(i.f("asset_desktop_image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </div> ')}),e.pop()),i.b(' <div class="copy'),i.s(i.f("asset_desktop_image",e,t,1),e,t,1,0,0,"")||i.b(" noImage "),i.b('"> <p aria-hidden="true">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> </div> </a> ")}),e.pop())}),e.pop()),a.b(" "),a.s(a.f("hasPlaylist",e,t,1),e,t,0,4318,4425,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.s(i.f("playlist_below",e,t,1),e,t,0,4337,4406,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div id="playlist-holder" class="open"></div> <!-- end playlist --> ')}),e.pop())}),e.pop()),a.b(" </div> <!-- End -->"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<item1":{name:"item",partials:{},subs:{}},"<item2":{name:"item",partials:{},subs:{}},"<item3":{name:"item",partials:{},subs:{}},"<item4":{name:"item",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Modernizr,s=e.Whiskers,o=e._,l=t.ModuleView.extend({style_classes:["sidekick"],required_template_sets:["module_header","entities"],template:s.modules.sidekick_shared,numObjects:1,render:function(){var e,t=this.model.get("type"),i=this.model.get("data");"game"===t&&(i=this.getGameData(this.model)),i[0].game_type&&(e=i[0].game_type.split(" ").join("_").toLowerCase()),this.sidekick_asset_override&&o.each(i,function(e){e.sidekick_desktop&&(e.thumb_data={src:e.sidekick_desktop},e.entity_config.aspect_ratio="16x9")}),this.model.data.models=o.first(i,this.numObjects);var a=o.extend({isPromo:"promo"===this.model.get("type"),gameType:e,one_up:1===this.numObjects,two_up:2===this.numObjects,suggested:this.model.get("suggested"),player_id:this.player_id},this.options.ads.helpers(this.model.toJSON()),this.model);this.$el.html(this.template.render(a,this.ctx_additions())).toggleClass("cds",!!this.options.cds&&!this.options.ads.showCDSAds())},resize:function(){this.options.ads.restore()},getGameData:function(e){var t=e.get("data");if(o.each(t,function(e){e.isConsole&&e.thumb_4x3&&(e.thumb_data={src:e.thumb_4x3},e.entity_config.aspect_ratio="4x3")}),!r.flash&&r.canvas){var i=[],a=[];o.each(t,function(e){e.compatibility_flags&&(o.contains(e.compatibility_flags,"html5")||o.contains(e.compatibility_flags,"mobile"))?i.push(e):a.push(e)}),t=i.concat(a)}return t}});l.register("sidekick_one_up",{style_classes:["sidekick","list_module_featured"]}),l.register("sidekick_two_up",{numObjects:2}),l.register("sidekick_featured",{sidekick_asset_override:!0}),l.register("sidekick_video",{assets:{scripts:["//a.dilcdn.com/a/videoplayer-c7d942b2f782.js"]},template:s.modules.sidekick_video,breakpoints:n,initialize:function(){this.player_id="player_sidekick"+this.model.get("ref").replace("-","");var e=this.model.get("config_options");this.options.autoplay_mute=e&&e.autoplay_mute},ready:function(){var e=o.first(this.model.get("data")),t=this.model.get("autoplay")?!0:!1;e.ads=e.ads||{},e.ads.context=this.options.ads,this.player=new i.MatterhornVideoPlayer(this.player_id,{video:e,autoPlay:t,autoPlay_mute:this.options.autoplay_mute,clickToPlay:!0,showTitle:!0,ads:{enabled:!this.options.cds&&!this.options.noAds,context:this.options.ads},translations:this.model.get("translations")})},remove:function(){this.player&&(this.player.destroy(),this.player=null),t.BunView.prototype.remove.call(this)}})}(this),Whiskers("modules.slider",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(' <div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.s(a.f("peeking",e,t,1),e,t,1,0,0,"")||a.b(" no-peek"),a.b('"> '),a.s(a.d("style_options.overlay_styles",e,t,1),e,t,0,188,222,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="module_overlay"></div>')}),e.pop()),a.b(" "),a.s(a.f("header_data",e,t,1),e,t,0,272,290,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(" "),a.b(' <div class="slides peek-'),a.b(a.v(a.f("rpp",e,t,0))),a.b(" "),a.s(a.d("header_data.icon_type",e,t,1),e,t,0,384,414,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("icon-"),i.b(i.v(i.d("header_data.icon_type",e,t,0)))}),e.pop()),a.b('"> <ol class="slider-list peek-'),a.b(a.v(a.f("rpp",e,t,0))),a.b('"> '),a.s(a.f("pages",e,t,1),e,t,0,491,739,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("cols",e,t,0))),i.b(" rows-"),i.b(i.v(i.f("rows",e,t,0))),i.b('"> '),i.s(i.f("models",e,t,1),e,t,0,583,715,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="col item'),i.s(i.f("widthClass",e,t,1),e,t,0,618,633,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),i.s(i.f("hidden",e,t,1),e,t,0,659,673,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" lazy-deferred")}),e.pop()),i.b('"> '),i.b(i.rp("<entity_container1",e,t,"")),i.b(" </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),a.b(' </ol> <div class="peek"></div> '),a.b(" </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=e.Backbone,n=e.Whiskers,r=e.jQuery,s=e._,o=e.EventLinkHandler,l=i.Style.breakpoints,c=i.Style.custom_breakpoints,d=s.values(l),u=a.Resize.width,h=e.SwipeView=t.ModuleView.extend({style_classes:["slider-view","pagination-styles"],required_template_sets:["module_header","entities"],breakpoints:d.join(" "),template:n.modules.slider,events:{slide:function(e,t){e.preventDefault();var i=this;this.$(".slides").toggleClass("peeking",t!==i.model.data.lastIndex(this.rpp()));var a=this.rpp()*(t+1),n=this.cols(),o=a+n,l=s.first(this.model.data.models,o);if(this.$pages&&t>0){var c=r(this.$pages[t]).find(".item"),d=r(this.$pages[t+1]).find(".item").slice(0,this.rows()),u=c.add(d);u.enableLazyLoad().loadLazyImages()}s.each(l,function(e){var t=e.get("thumb_data");e.set({hidden:!1,preloaded:!0,preloaded_src:t&&t.src})})},"click [data-event-link]":function(e){e.preventDefault(),o.handle(e)}},initialize:function(){var e=this.model,t=new a.LazySliderCollection(e.data.models);this.model.data=t,s.extend(this,{entity_type:s.first(t.models).get("entity_type")||e.get("type"),lastPage:0,startingCount:this.index=t.startingIndex,slideTime:500,init:!1}),this.needsGuestContext()&&i.guest.retain(),this.configureData&&this.configureData()},destroy:function(){this.needsGuestContext()&&i.guest&&i.guest.release()},rightPeek:function(){return.25/Math.sqrt(this.rpp()/.3)},wide:function(){return u()>=l.midHigh},render:function(){var e=this,t=e.model,i=e.cols(),a=e.rows(),n=t.data,r=e.rpp(),o=n.peeking?n.peeking(r):!1;if(this.formatFeatured&&this.formatFeatured(),n){var l=s.extend({rpp:r,cols:i,rows:a,peeking:o,entity_type:e.entity_type,seeAll:t.get("seeAll"),pages:n.page(this.index,r,a,i)},e.options.ads.helpers(),this.model);e.length=l.pages.length,e.$el.html(e.template.render(l,this.ctx_additions()))}},ready:function(){this.init=!0,this.$(".slides ol").swipeasaurus({arrows:!0,loop:!1,right:this.rightPeek(),index:this.index,speed:this.slideTime,rtl:i.rtl}),this.init=!1,this.$pages=this.$(".slides ol > li")},resize:function(){this.render(),this.ready()},rows:function(){var e=this.model.get("config_options")||{};return e.num_rows||1},rpp:function(){return this.cols()*this.rows()},cols:function(){var e=u(),t=this.wide(),i=s.first(this.model.get("data")),a=i&&i.entity_config&&i.entity_config.aspect_ratio;if(this.model.get("style_options").items_per_row_override&&t)return this.model.get("style_options").items_per_row_override;switch(a){case"poster":case"dvd_case":case"letter":return t?4:e>=l.midLow?3:2;case"baseball_card":return e>=l.max?5:t?4:e>=l.midLow?3:2;case"square":return e>=l.max?4:t?3:2;case"16x9":case"4x3":return t?3:e>=l.midLow?2:1;case"widescreen":return e>=l.midHigh?2:1;default:return t?3:2}}});h.register("slider",{additional_components:{module_bg_style:n.partials.module_background_styles}}),h.register("grid",{peeking:function(){return!1},rows:function(){return 2}}),h.register("characters",{cols:function(){var e=u(),t=this.wide();return e>=l.max?5:t?4:e>=l.midLow?3:2}}),h.register("slider_rfy",{cols:function(){var e=this.wide();return this.model.get("style_options").items_per_row_override&&e?this.model.get("style_options").items_per_row_override:e?3:2},initialize:function(){s.extend(this,{entityType:"video",index:0,lastPage:0,startingCount:this.loadedPages=1,slideTime:500,init:!1}),this.$el.addClass("temp-hidden"),this.fetchData()},fetchData:function(){var e=this,t=i.Recommender,n=this.model,r=n.get("data")[0];t.getRecommendations(r).done(function(t){var i=new a.Collection(t);n.data=new a.LazySliderCollection(i.models),e.render(),e.ready(),e.$el.removeClass("temp-hidden").loadLazyImages()})}}),h.register("featured_promo_slider",{numFeatured:1,configureData:function(){var e=this;i.geo(function(t,i,n){var r=e.model,s=r.data,o=e.numFeatured,l=e.placeholders=[];if(n){var c=s.where({location:n});s.remove(c),s.add(c,{at:0})}if(o)for(var d={widthClass:"featured",featured:!0},u=new a.Model({widthClass:"empty_placeholder"}),h=0;o>h;h++)l.push(u),s.models[h].set(d)})},formatFeatured:function(){var e=this.model,t=e.data,i=this.placeholders,a=this.wide();s.each(t.models,function(e){e.get("featured")&&a?e.set("thumb_data",{src:e.get("promo_featured")}):e.set("thumb_data",{src:e.get("promo")})}),a?t.add(i,{at:1}):t.remove(i)},cols:function(){return this.wide()?4:2}}),h.register("junior_nav_slider",{breakpoints:[l.max,l.midHigh,c.juniorNavMin].join(" "),cols:function(){var e=u();return e>=l.max?6:e>=l.midHigh?5:e>=c.juniorNavMin?4:3},rightPeek:function(){return.25/Math.sqrt(this.rpp()/.2)}})}(this),Whiskers("modules.slider_masonry",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(' <div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> '),a.s(a.d("style.overlay_styles",e,t,1),e,t,0,140,174,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="module_overlay"></div>')}),e.pop()),a.b(" "),a.s(a.f("header_data",e,t,1),e,t,0,216,234,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(" "),a.b(' <div class="slides '),a.s(a.d("header_data.icon_type",e,t,1),e,t,0,315,346,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("icon-"),i.b(i.v(i.d("header_data.icon_type",e,t,0))),i.b(" ")}),e.pop()),a.b(" "),a.s(a.d("header_data.button_icon_type",e,t,1),e,t,0,406,451,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("button-icon-"),i.b(i.v(i.d("header_data.button_icon_type",e,t,0))),i.b(" ")}),e.pop()),a.b('"> <ol class="slider-list rows-'),a.b(a.v(a.f("numRows",e,t,0))),a.b('"> '),a.s(a.f("pages",e,t,1),e,t,0,539,1273,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> '),i.s(i.f("prop_video",e,t,1),e,t,0,580,820,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <video class="prop-image transparent" src="'),i.b(i.v(i.f("prop_video",e,t,0))),i.b('" '),i.s(i.f("mobile",e,t,1),e,t,0,651,666,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('controls="true"')}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,1,0,0,"")||i.b('autoplay="true"'),i.b(' poster="'),i.b(i.v(i.d("prop_image.desktop",e,t,0))),i.b('" type="video/mp4" '),i.s(i.f("prop_video_loop",e,t,1),e,t,0,785,796,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('loop="true"')}),e.pop()),i.b(" /> ")}),e.pop()),i.b(" "),i.s(i.f("prop_video",e,t,1),e,t,1,0,0,"")||i.s(i.f("prop_image",e,t,1),e,t,0,866,922,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img class="prop-image transparent" src="'),i.b(i.v(i.f("desktop",e,t,0))),i.b('"> ')}),e.pop()),i.b(' <ul class="slider-rows rows-'),i.b(i.v(i.f("numRows",e,t,0))),i.b(" "),i.s(i.f("prop_image",e,t,1),e,t,0,1008,1022,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has-prop-image")}),e.pop()),i.b('"> '),i.s(i.f("rows",e,t,1),e,t,0,1049,1251,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="row"> <ul class="col-container"> '),i.s(i.f("items",e,t,1),e,t,0,1104,1228,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="col item '),i.s(i.f("hidden",e,t,1),e,t,0,1136,1149,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("lazy-deferred")}),e.pop()),i.b(" ratio-"),i.b(i.v(i.d("entity_config.aspect_ratio",e,t,0))),i.b('"> '),i.b(i.rp("<entity_container1",e,t,"")),i.b(" </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),a.b(' </ol> <div class="peek"></div> '),a.b(" </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<entity_container1":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Backbone,i=e.Disney,a=e._,n=i.Style.ratios;t.LazyMasonryCollection=t.LazySliderCollection.extend({constructor:function(e,i){this.entityHeight=i.entityHeight,this.entityMargin=i.entityMargin,this.containerWidth=i.containerWidth,this.firstPageWidth=i.firstPageWidth||this.containerWidth,t.LazySliderCollection.call(this,e,i)},size:function(e){var t=e.get("entity_config")||{},i=t.aspect_ratio;return this.entityHeight/(n[i]||1)},rowIsFull:function(e,t){for(var i=0,a=0;a<e.length;a++)i+=this.size(e[a])+this.entityMargin;i+=this.size(t);var n=this.firstPage?this.firstPageWidth:this.containerWidth;return i>n&&e.length>0?!0:!1},pageIsFull:function(e,t){return e.length===+t?!0:!1},revealPage:function(e){a.each(e.rows,function(e){a.each(e.items,function(e){e&&e.set("hidden",!1)})})},pages:function(e){var t=[],i=[],a=[];this.firstPage=!0;for(var n=0;n<this.length;n++){var r=this.models[n];this.rowIsFull(a,r)&&(i.push({items:a}),a=[],this.pageIsFull(i,e)&&(t.push({rows:i}),i=[],this.firstPage=!1)),a.push(this.models[n])}return a.length>0&&(i.push({items:a}),t.push({rows:i})),t},page:function(e,t){var i=this.pages(t),a=i[e]||{},n=i[e+1]||{};return this.revealPage(a),this.revealPage(n),i}})}(this),function(e){"use strict";function t(e,t,i){var a=s.rtl?"marginLeft":"marginRight",n=e.parent(),r=n.parent(),o=r.find(".prop-image"),l=c(e.children()[0]),d=n.width(),u=parseFloat(l.css(a))||t,h=o.width()>0&&2>i?o.width()+u:0,f=parseFloat(r.css("paddingLeft"))+parseFloat(r.css("paddingRight")),p=c.map(e.find(".item"),function(e){return c(e).width()+parseFloat(c(e).css(a))}).reduce(function(e,t){return e+t},0);return d-p-h-u+f}function i(e,i,a,n){var r=s.rtl?1:-1,o=u.Resize.width()>f.midLow?g:b,l=t(e,o,n)+a;return i.css("transform","translate3d("+r*l+"px, 0, 0)"),i.css("webkitTransform","translate3d("+r*l+"px, 0, 0)"),l}function a(e,i,a,n){var r=s.rtl?-1:1,o=u.Resize.width()>f.midLow?g:b,l=a;l+=t(i,o,n),i.css("transform","translate3d("+r*l+"px, 0, 0)"),i.css("webkitTransform","translate3d("+r*l+"px, 0, 0)"),l+=t(e,o,n),e.css("transform","translate3d("+r*l+"px, 0, 0)"),e.css("webkitTransform","translate3d("+r*l+"px, 0, 0)")}function n(e,t,a,r){var s=c(e[t]).find(".row"),o=c(e[t+1]).find(".row");r=r||0,a=a||[],c.each(s,function(e,t){var n=a[e]||0;o[e]&&(a[e]=i(c(t),c(o[e]),n,e))}),e[t+1]&&3>r&&n(e,t+1,a,r+1)}function r(e){var t=c(e).find(".item"),i=s.rtl?"marginLeft":"marginRight",a=parseFloat(t.css(i))||0,n=0;return c.each(t,function(e,t){n+=c(t).width()+a}),n}var s=e.Disney,o=e.Whiskers,l=e.Grill,c=e.jQuery,d=e._,u=e.Backbone,h=e.Modernizr,f=s.Style.breakpoints,p=e.setTimeout,m=e.clearTimeout,g=20,b=15,v=s.Style.ratios,y=e.SwipeView.extend({style_classes:["slider","slider-view","pagination-styles"],template:o.modules.slider_masonry,additional_components:{module_bg_style:o.partials.module_background_styles},events:{slide:function(e,t){var i=this.$pages,s=c(i[t]),o=s.find(".row"),l=i.find(".prop-image"),d=c(i[t+1]),u=d.find(".row"),h=c(i[t-1]),f=h.find(".row"),p=this.$slider,m=s.find(".prop-image").length>0,g=this.rightPeek();p.addClass("animating"),m?l.removeClass("transparent"):l.addClass("transparent"),c.each(o,function(e,t){c(t).removeClass("transparent"),c(t).removeClass("inlineBlock"),c(t).css("transform","translate3d(0, 0, 0)"),c(t).css("webkitTransform","translate3d(0, 0, 0)")}),n(i,t),c.each(f,function(e,t){c(t).addClass("transparent")}),h.removeClass("lowZ"),s.removeClass("lowZ"),d.removeClass("lowZ"),u.length!==o.length&&c.each(o,function(e,t){if(!u[e]&&f[e]){var i=p.width()*g,n=r(c(f[e]));a(c(f[e]),c(t),i,e),c(f[e]).removeClass("transparent"),c(f[e]).addClass("inlineBlock"),s.addClass("lowZ"),n<c(f[e]).width()&&c(f[e]).css("width",n)}}),this.$(".slides").toggleClass("peeking",t!==this.$pages.length-1)},slideEnd:function(e,t){for(var i=function(e){c(e).enableLazyLoad().loadLazyImages()},a=0;3>a;a++){var n=c(this.$pages[t+a]).find(".item");d.each(n,i)}this.$slider.removeClass("animating")}},initialize:function(){var t=this,i=0;t.lastWidth=u.Resize.width(),c(e).on("resize."+this.cid,function(){m(i),i=p(function(){var e=u.Resize.width();e!==t.lastWidth&&(t.lastWidth=e,t.ready())},250)})},ready:function(){var e=this,t=u.Resize.width();e.style_options=e.model.get("style_options")||{},e.prop_image=e.style_options.prop_image||{},e.prop_video=e.style_options.prop_video||null,e.hasPropImage=e.prop_image.desktop&&t>f.midLow,e.hasPropVideo=e.prop_video&&t>f.midLow;var i=e.$slider=e.$(".slides ol"),a=t>f.midLow,n=200,r=165,s=484,o=s/v.dvd_case,l=a?n:r,c=a?g:b,d=i.width()*(1-this.rightPeek()),h=a&&(e.hasPropImage||e.hasPropVideo)?d-o-c:d,p=new u.LazyMasonryCollection(this.model.data.models,{containerWidth:d,entityMargin:c,entityHeight:l,firstPageWidth:h});return this.$pages=i.find(".slider-page"),this.firstPageWidth=h,this.model.data=p,this.renderMasonry(),!0},render:function(){var e=this,t=e.model,i=e.rows();e.ctx=d.extend({numRows:i,peeking:!0,seeAll:t.get("seeAll"),pages:[]},e.options.ads.helpers(),t),e.length=e.ctx.pages.length,e.$el.html(e.template.render(e.ctx,e.ctx_additions()))},renderMasonry:function(){var e=this,t=e.model.data,i=!!e.style_options.prop_video_loop;e.ctx.pages=t.page(0,e.ctx.numRows),e.hasPropImage&&d.extend(e.ctx.pages[0],{prop_image:e.prop_image}),e.hasPropVideo&&d.extend(e.ctx.pages[0],{prop_video:e.prop_video,prop_video_loop:i,mobile:h.mobile}),e.length=e.ctx.pages.length,e.$el.html(e.template.render(e.ctx,e.ctx_additions())),e.$slider=e.$(".slides ol"),e.$pages=e.$slider.find(".slider-page"),e.$(".slides ol").swipeasaurus({arrows:!0,loop:!1,right:this.rightPeek(),index:0,speed:300,rtl:s.rtl,visibility_offset:3}),e.$(".slider-page").off("focusin"),e.hasPropImage&&c(this.$pages[0]).find(".row").css("width",e.firstPageWidth),n(e.$pages,0)},remove:function(){l.ModuleView.prototype.remove.call(this),c(e).off("resize."+this.cid)}});y.register("slider_masonry")}(this),function(e){"use strict";function t(e){l=e}function i(){s=h.createElement("canvas"),s.id="precipitation",o=s.getContext("2d"),c=l.clientWidth,d=l.clientHeight,s.style.position="absolute",s.style.left=s.style.top="0",l.appendChild(s)}var a,n,r,s,o,l,c,d,u,h=e.document,f=e.Grill,p=e.jQuery,m=e._,g=!1,b=!1,v=[],y=f.ModuleView.extend({ready:function(){if(e.requestAnimationFrame){a=this,r=a.count;var s=h.querySelector("#takeover-area"),o=h.querySelector(".flex_hero.top-module .aspect.background-image");for(o?(b=!0,t(o)):l=s,i(),n=0;r>n;n++)u=new k,u.reset(a.maxRadius,a.xVel,a.yVel,a.yVelVariation,a.randomizeXVel),v.push(u);p(e).on("resize.precipitation",m.debounce(m.bind(a.resize,a),200)),a.resize()}},resize:function(){if(b&&0===l.clientWidth&&e.innerWidth>1024){var n=h.querySelector(".flex_hero.top-module .aspect.background-image");t(n),h.querySelector("#precipitation")||i()}c=l.clientWidth,d=l.clientHeight;var r=g;g=c>1024,g&&(s.width=c,s.height=d,o.fillStyle="#fff",r||e.requestAnimationFrame(a.update))},update:function(){if(o.clearRect(0,0,c,d),g){for(n=0;r>n;n++)u=v[n],u.y+=u.vy,u.x+=u.vx,o.globalAlpha=u.o,o.beginPath(),o.arc(u.x,u.y,u.r,a.startAngle,a.endAngle,!1),o.closePath(),o.fill(),u.y>d&&u.reset(a.maxRadius,a.xVel,a.yVel,a.yVelVariation,a.randomizeXVel);e.requestAnimationFrame(a.update)}},remove:function(){p(e).off("resize.precipitation")}}),k=function(){this.x=0,this.y=0,this.vy=0,this.vx=0,this.r=0,this.reset()};k.prototype.reset=function(e,t,i,a,n){var r=Math.random()*c;this.x=t?r*(1+.2*Math.abs(t)):r,this.y=Math.random()*-d,this.vy=(1+Math.random()*a)*i,this.vx=t+(n?.5-Math.random():0),this.r=1+Math.random()*e,this.o=.5+.5*Math.random()},h.addEventListener("DOMContentLoaded",function(){e.Disney.top.on("begin",function(){h.querySelector("#precipitation")&&l.removeChild(s)})}),y.register("snow",{count:300,maxRadius:2,startAngle:0,endAngle:2*Math.PI,yVel:1,xVel:0,randomizeXVel:!0,yVelVariation:3}),y.register("rain",{count:1e3,maxRadius:14,startAngle:1.1*Math.PI-1*Math.PI/8,endAngle:1.1*Math.PI+1*Math.PI/8,yVel:16,xVel:-5,randomizeXVel:!1,yVelVariation:.1})}(this),Whiskers("modules.social_links",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("style_options",e,t,1),e,t,0,18,157,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("text_color",e,t,1),e,t,0,58,132,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .social-links-container .visit_us{ color: "),i.b(i.v(i.f("text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" </style> ")}),e.pop()),a.b(' <div class="bound"> <div class="social-links-container"> <p class="visit_us">'),a.b(a.v(a.f("title",e,t,0))),a.b("</p> <ul> "),a.s(a.f("data",e,t,1),e,t,0,281,643,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" '),i.b(i.rp("<href_attributes0",e,t,"")),i.b("> "),i.s(i.f("thumb_data",e,t,1),e,t,0,343,616,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,357,392,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b(' <img class="no-src" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.f("src",e,t,0))),i.s(i.f("retina",e,t,1),e,t,1,0,0,"")||i.s(i.f("half_width",e,t,1),e,t,0,499,520,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("&width="),i.b(i.v(i.f("half_width",e,t,0)))}),e.pop()),i.b('" '),i.s(i.f("half_width",e,t,1),e,t,0,563,585,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('width="'),i.b(i.v(i.f("half_width",e,t,0))),i.b('"')}),e.pop()),i.b("> ")),i.b(" ")}),e.pop()),i.b(" </a> </li> ")}),e.pop()),a.b(" </ul> </div> </div>"),a.fl()},partials:{"<href_attributes0":{name:"href_attributes",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._,n=e.devicePixelRatio>1.5;t.ModuleView.register("social_links",{template:i.modules.social_links,required_template_sets:["links"],render:function(){var e=a.extend({retina:n},this.model);this.$el.html(this.template.render(e,this.ctx_additions()))}})}(this),Whiskers("modules.songs.songs_desktop",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class = "container"> <div class = "label-container"> <p>Request</p> <div class="right"> '),a.s(a.d("config_options.hide_video_column",e,t,1),e,t,1,0,0,"")||a.b(" <p>Video</p> "),a.b(" "),a.s(a.d("config_options.hide_purchase_column",e,t,1),e,t,1,0,0,"")||a.b(" <p>Purchase</p> "),a.b(' </div> </div> <div class = "track-container"> <ul> '),a.s(a.f("data",e,t,1),e,t,0,411,1378,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="song"> <a class = "like-icon clicon" data-likeinfo="request-'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"></a> <div class = "track-title"> <div class="song-title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class = "artist">'),i.b(i.v(i.f("artist",e,t,0))),i.b('</div> </div> <div class ="icon-container" data-buyaylitics = "'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"> '),i.s(i.d("config_options.hide_video_column",e,t,1),e,t,1,0,0,"")||(i.b(' <a class = "music-video '),i.s(i.f("watch_link",e,t,1),e,t,0,773,792,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active hover clicon")
}),e.pop()),i.b('" '),i.s(i.f("watch_link",e,t,1),e,t,0,824,847,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' href="'),i.b(i.v(i.f("watch_link",e,t,0))),i.b('" ')}),e.pop()),i.b("></a> ")),i.b(" "),i.s(i.d("config_options.hide_purchase_column",e,t,1),e,t,1,0,0,"")||(i.b(' <div class = "cart '),i.s(i.f("retail",e,t,1),e,t,0,977,996,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active hover clicon")}),e.pop()),i.b('" '),i.s(i.f("retail",e,t,1),e,t,0,1020,1043,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-convert="buy_song"')}),e.pop()),i.b('> <div class="buy '),i.s(i.f("retail",e,t,1),e,t,1,0,0,"")||i.b("no_flyout"),i.b('"> <ul> '),i.s(i.f("retail",e,t,1),e,t,0,1122,1292,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("retail_links",e,t,1),e,t,0,1140,1274,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class = "fly-li"><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" data-purchase="external" data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </ul> </div> </div> ")),i.b(" </div> </li> ")}),e.pop()),a.b(" </ul> </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),Whiskers("modules.songs.songs_mobile",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="container"> <div class="track-container"> <ul> '),a.s(a.f("data",e,t,1),e,t,0,139,1065,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="song"> <span class = "number"></span> <div class = "track-title"> <div class="song-title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class = "artist">'),i.b(i.v(i.f("artist",e,t,0))),i.b('</div> </div> <div class = "expand-icon clicon" data-expand="'),i.b(i.v(i.f("song",e,t,0))),i.b('"></div> <div class = "icon-container" data-buyaylitics = "'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"> <div class="inner"> <a class = "like-icon clicon" data-like="'),i.b(i.v(i.f("song",e,t,0))),i.b('" data-likeinfo="request-'),i.b(i.v(i.f("title",e,t,0))),i.b("-"),i.b(i.v(i.f("artist",e,t,0))),i.b('"></a> '),i.s(i.f("watch_link",e,t,1),e,t,0,576,679,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a class = "music-video active hover clicon" href = "'),i.b(i.v(i.f("watch_link",e,t,0))),i.b('" data-linkname="music-video"></a> ')}),e.pop()),i.b(" "),i.s(i.f("retail",e,t,1),e,t,0,706,984,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class = "cart active hover clicon" data-convert="buy_song"> <div class="buy"> <ul> '),i.s(i.f("retail_links",e,t,1),e,t,0,812,946,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class = "fly-li"><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" data-purchase="external" data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),i.b(" </ul> </div> </div> ")}),e.pop()),i.b(' <div class="close" data-close ="'),i.b(i.v(i.f("song",e,t,0))),i.b('"></div> </div> </div> </li> ')}),e.pop()),a.b(" </ul> </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(t){s.mq("only all")&&(t.template=o(e.window).width()>=n.midHigh?l.songs_desktop:l.songs_mobile)}var i=e.Grill,a=e.Disney,n=a.Style.breakpoints,r=n.midHigh.toString(),s=e.Modernizr,o=e.jQuery,l=e.Whiskers.modules.songs,c=0,d=i.ModuleView.extend({breakpoints:r,template:l.songs_desktop,required_template_sets:["module_header"],initialize:function(){c=o(e.window).width(),t(this)},render:function(){this.$el.html(this.template.render(this.model,this.ctx_additions()))},events:{"click .like-icon":function(e){o(e.currentTarget).addClass("clicked")},"click .clicked":function(e){o(e.currentTarget).removeClass("clicked")},"click .cart":function(e){var t=o(e.target),i=t.children(".buy");t.context.className.match(/cart active hover/)&&t.addClass("clicon"),i.hasClass("active")?i.removeClass("active"):(this.$(".buy").removeClass("active"),i.addClass("active"))},"click .fly-li":function(e){o(e.currentTarget).closest("div.cart").removeClass("clicon")},"click .expand-icon":function(e){var t=o(e.currentTarget.nextElementSibling);this.$(".buy").removeClass("active"),this.$(".icon-container.open").removeClass("open"),t.toggleClass("open")},"click .close":function(){this.$(".buy").removeClass("active"),this.$(".icon-container.open").removeClass("open")}},resize:function(){t(this),this.render()}});d.register("songs",{})}(this),Whiskers("modules.storybook",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("story",e,t,1),e,t,0,10,2767,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div id="story-container" class="reading '),i.s(i.f("noCover",e,t,1),e,t,1,0,0,"")||i.b(" start-page"),i.s(i.f("noAudio",e,t,1),e,t,0,99,108,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" no-audio")}),e.pop()),i.b('"> <div class="artwork carousel"> <ul id="storybook-artwork"> '),i.s(i.f("panels",e,t,1),e,t,0,193,912,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("image",e,t,1),e,t,0,204,901,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> "),i.s(i.f("bg",e,t,1),e,t,0,217,363,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("bg",e,t,0))),i.b('" class="bg no-src">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,299,349,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("bg",e,t,0))),i.b('" class="bg"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("mid",e,t,1),e,t,0,379,527,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("mid",e,t,0))),i.b('" class="bg no-src">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,462,513,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("mid",e,t,0))),i.b('" class="bg"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("fg",e,t,1),e,t,0,543,689,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img data-src="'),i.b(i.v(i.f("fg",e,t,0))),i.b('" class="bg no-src">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,625,675,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("fg",e,t,0))),i.b('" class="bg"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("ambient_sound",e,t,1),e,t,0,715,876,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <audio id="ambient-loop" preload loop> '),i.s(i.f("mp3",e,t,1),e,t,0,763,802,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("mp3",e,t,0))),i.b('" type="audio/mp3">')}),e.pop()),i.b(" "),i.s(i.f("ogg",e,t,1),e,t,0,819,858,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("ogg",e,t,0))),i.b('" type="audio/ogg">')}),e.pop()),i.b(" </audio> ")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(' </ul> <div class="fade"></div> </div> <div class="narrative carousel"> <ul id="storybook-narrative"> '),i.s(i.f("text",e,t,1),e,t,0,1034,2149,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> "),i.s(i.f("startPage",e,t,1),e,t,1,0,0,"")||i.s(i.f("isEndCard",e,t,1),e,t,1,0,0,"")||(i.b("<p>"),i.b(i.v(i.f("text",e,t,0))),i.b("</p>")),i.b(" "),i.s(i.f("startPage",e,t,1),e,t,0,1126,1429,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="start-buttons"> <div id="read" class="large blue button start-button">'),i.b(i.v(i.d("translations.read",e,t,0))),i.b('</div> <div id="listen" class="large green button start-button">'),i.b(i.v(i.d("translations.listen",e,t,0))),i.b('</div> <div id="read-without-audio" class="large green button start-button">'),i.b(i.v(i.d("translations.begin",e,t,0))),i.b("</div> </div> ")}),e.pop()),i.b(" "),i.s(i.f("isEndCard",e,t,1),e,t,0,1458,2128,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="end '),i.s(i.f("identity",e,t,1),e,t,1,0,0,"")||i.b("no-association"),i.b('"> <div class="end-block left"> <span class="replay small silver button">'),i.b(i.v(i.d("translations.read_again",e,t,0))),i.b("</span> "),i.s(i.f("buyButton",e,t,1),e,t,0,1637,1718,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('"><span class="purchase small green button">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span></a> ")}),e.pop()),i.b(' </div> <div class="end-block right"> '),i.s(i.f("buyButton",e,t,1),e,t,0,1784,2099,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("identity",e,t,1),e,t,0,1798,2085,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('"> <span class="visit"> '),i.s(i.f("image",e,t,1),e,t,0,1849,2015,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="portrait no-src" data-src="'),i.b(i.v(i.f("retina",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,1941,2001,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="portrait" src="'),i.b(i.v(i.f("retina",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),i.b(" <span>"),i.b(i.v(i.d("translations.visit",e,t,0))),i.b(" "),i.b(i.v(i.f("title",e,t,0))),i.b("</span> </span> </a> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" </ul> </div> "),i.s(i.f("audio",e,t,1),e,t,0,2182,2540,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("narration",e,t,1),e,t,0,2197,2347,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<audio id="narrative-sprite"> '),i.s(i.f("mp3",e,t,1),e,t,0,2235,2274,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("mp3",e,t,0))),i.b('" type="audio/mp3">')}),e.pop()),i.b(" "),i.s(i.f("ogg",e,t,1),e,t,0,2291,2330,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("ogg",e,t,0))),i.b('" type="audio/ogg">')}),e.pop()),i.b(" </audio>")}),e.pop()),i.b(" "),i.s(i.f("music",e,t,1),e,t,0,2372,2529,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<audio id="music-loop" preload loop> '),i.s(i.f("mp3",e,t,1),e,t,0,2417,2456,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("mp3",e,t,0))),i.b('" type="audio/mp3">')}),e.pop()),i.b(" "),i.s(i.f("ogg",e,t,1),e,t,0,2473,2512,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<source src="'),i.b(i.v(i.f("ogg",e,t,0))),i.b('" type="audio/ogg">')}),e.pop()),i.b(" </audio>")}),e.pop()),i.b(" ")}),e.pop()),i.b(' <div id="storybook-counter"> <div class="page-count"><span class="current-count"></span> '),i.b(i.v(i.d("translations.of",e,t,0))),i.b(' <span class="total-count"></span></div> </div> '),i.s(i.f("noAudio",e,t,1),e,t,1,0,0,"")||i.b('<div id="mute-button"></div>'),i.b(" </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.Disney,n=e.Modernizr,r=e.Tracker,s=e.jQuery,o=e._,l=a.Style.breakpoints,c=o.values(l);t.ModuleView.register("storybook",{breakpoints:c.join(" "),style_classes:["skip-top-border"],template:i.modules.storybook,story:{},textData:[],book:void 0,audInProgress:!1,narrationAudio:void 0,musicAudio:void 0,ambientAudio:void 0,currTextIndex:0,end:0,muted:!0,keyEvents:!1,fadeInIntervals:{ambient:[],music:[],narration:[]},fadeOutIntervals:{ambient:[],music:[],narration:[]},narrativeTimeouts:[],pulseInterval:void 0,timeCheckInterval:void 0,startTimeout:void 0,replayTimeout:void 0,touchDevice:n.touch,blinkArrow:function(t){var i=this;t?(s(".next").addClass("turn-page"),i.pulseInterval=e.setInterval(function(){s(".next").toggleClass("pulse")},1e3)):(e.clearInterval(i.pulseInterval),i.pulseInterval=null,s(".next").removeClass("turn-page pulse"))},stopAndReset:function(e,t){var i=this;e&&(t&&!i.touchDevice?i.fadeOut(["narration"],200):(e.pause(),i.audInProgress=!1)),s(".next, .prev").removeClass("playing")},fadeIn:function(t,i){var a=this;s.each(t,function(t,n){var r=a[n+"Audio"];if(r){r.volume=0,r.play();var s=a.currTextIndex;a.fadeInIntervals[n][s]=e.setInterval(function(){r&&r.volume<1-20/i?r.volume+=20/i:(r&&(r.volume=1),e.clearInterval(a.fadeInIntervals[n][s]),a.fadeInIntervals[n][s]=null)},20)}})},fadeOut:function(t,i){var a=this;s.each(t,function(t,n){var r=a[n+"Audio"];if(r){var s=a.currTextIndex;a.fadeOutIntervals[n][s]=e.setInterval(function(){r&&r.volume>20/i?r.volume-=20/i:(r&&(r.volume=0,r.pause(),a.audInProgress=!1),e.clearInterval(a.fadeOutIntervals[n][s]),a.fadeOutIntervals[n][s]=null)},20)}})},playNarrative:function(t){var i=this,a=i.$("#storybook-narrative");i.textData[t].audio&&(i.narrationAudio.currentTime=i.textData[t].audio.startTime,i.end=i.textData[t].audio.endTime,i.narrationAudio.volume=1,i.narrationAudio.play(),s(".next, .prev").addClass("playing"),i.audInProgress=!0,i.timeCheckInterval=e.setInterval(function(){i.audInProgress&&i.narrationAudio.currentTime>i.end&&t+1<i.textData.length&&(i.stopAndReset(i.narrationAudio,!0),e.clearInterval(i.timeCheckInterval),i.timeCheckInterval=null,0===i.currTextIndex?(e.setTimeout(function(){a.swipeasaurus("next")},1500),i.blinkArrow(!1)):i.blinkArrow(!0))},10))},setBlankPage:function(e,t){var i=this;e?(s("#story-container").addClass("start-page reading"),s(".start-buttons").fadeIn("fast"),i.keyEvents=!1,s("#storybook-counter",i.$el).css("opacity","0"),t||(s("#story-container").removeClass("started listening"),s("#mute-button").removeClass("muted").attr("style",""),i.musicAudio&&1===i.currTextIndex&&i.fadeOut(["music"],1e3),i.narrationAudio&&1===i.currTextIndex&&i.fadeOut(["narration"],500))):(s("#story-container").removeClass("start-page").addClass("started"),i.keyEvents=!0,s("#storybook-counter",i.$el).css("opacity","1"))},muteButtonPress:function(t){var i=this;t?(i.audInProgress=!1,i.stopAndReset(i.narrationAudio,!0),i.musicAudio&&i.fadeOut(["music","ambient"],800),s("#mute-button").addClass("muted"),i.timeCheckInterval&&e.clearInterval(i.timeCheckInterval),i.muted=!0):(i.playNarrative(i.currTextIndex),i.musicAudio&&i.fadeIn(["music","ambient"],400),s("#mute-button").removeClass("muted"),i.muted=!1)},render:function(){var e=this,t=e.model,i=o.first(t.get("data")),n=e.story,r=e.textData,l=this.model.get("translations"),c={read:"Read",listen:"Listen",begin:"Let's Begin!",visit:"Visit",read_again:"Read Again"};o.defaults(l,c),n=i,e.book=n.title,r.length=0,n.location="cdnvideo.dolimg.com",s.each(n.panels,function(t,i){i.text_blocks&&s.each(i.text_blocks,function(e,i){r.push({page:t+1,text:i.text,audio:i.audio})}),i.image&&(s.each(["mp3","ogg"],function(e,t){i.image.ambient_sound&&i.image.ambient_sound[t]&&(i.image.ambient_sound[t]="http://"+n.location+i.image.ambient_sound[t])}),e.touchDevice&&(i.image.ambient_sound=null))}),n.cover&&(n.panels.splice(0,0,n.cover),r.splice(0,0,{text:" ",page:0,audio:n.cover.text_blocks[0].audio,startPage:!0})),n.endcard&&(n.panels.push(n.endcard),r.push({text:null,page:n.panels.length,audio:n.endcard.text_blocks[0].audio,buyButton:n.endcard.buyButton,isEndCard:!0})),s.each(r,function(e,t){t.audio&&s.each(["startTime","endTime"],function(e,i){t.audio[i]&&t.audio[i].split(":").length>1?t.audio[i]=(60*parseFloat(t.audio[i].split(":")[0],10)+parseFloat(t.audio[i].split(":")[1],10)).toFixed(1):t.audio[i]&&(t.audio[i]=parseFloat(t.audio[i]))})}),n.text=r,e.touchDevice&&n.audio&&(n.audio.music=null),e.story=n;var d=o.extend(e.options.ads.helpers(),e.model,{story:n,noCover:n.cover?!1:!0,noAudio:null===n.audio,translations:l});e.$el.html(this.template.render(d),{}),e.$("#storybook-artwork").swipeasaurus({rtl:a.rtl}),e.$("#storybook-narrative").swipeasaurus({arrows:!0,loop:!1,rtl:a.rtl})},ready:function(){var t=this;t.narrationAudio=s("#narrative-sprite")[0],t.musicAudio=s("#music-loop")[0];var i=t.story,n=t.$("#storybook-artwork"),o=t.$("#storybook-narrative"),l=t.$("#story-container"),c=t.$("#storybook-counter .current-count"),d=t.$("#storybook-counter .total-count"),u=i.cover?n.children("li").length-1:n.children("li").length,h=t.textData;s("html").hasClass("no-media-query")&&l.addClass("no-audio"),i.cover?s("#storybook-counter").css("opacity",0):t.keyEvents=!0,c.text("1"),d.text(u),s(t.narrationAudio).on("ended",function(){s(".end").css("opacity",1),s("#mute-button").css("opacity",0),t.replayTimeout=e.setTimeout(function(){t.musicAudio&&t.fadeOut(["music"],2e3),t.ambientAudio&&t.fadeIn(["ambient"],2e3)},5e3),t.blinkArrow(!1),t.keyEvents=!1,t.stopAndReset(t.narrationAudio),t.audInProgress=!1}),n.on("slide",function(e,a){i.cover?0===a&&1===t.currTextIndex||a===u?t.setBlankPage(!0,a===u):1===a&&0===t.currTextIndex?(t.setBlankPage(!1,!1),c.text(a)):c.text(a):a===u-1?t.setBlankPage(!0,!0):c.text(a);var o=s(n.find("li")[a]).find("audio");o.length>0?(t.ambientAudio=o[0],t.muted||(t.ambientAudio.load(),s(t.ambientAudio).on("canplay",function(){t.fadeIn(["ambient"],2e3),s(t.ambientAudio).off("canplay")}))):t.ambientAudio=null,r.track({breadcrumbs:t.book,pageName:"dcom|pri|"+t.book+"|"+(a+1)})}),o.on("slide",function(a,r){var s;0!==r&&(e.clearTimeout(t.startTimeout),t.stopAndReset(t.narrationAudio,!0)),e.clearTimeout(t.narrativeTimeouts[t.currTextIndex]),t.narrativeTimeouts[t.currTextIndex]=null,t.timeCheckInterval&&e.clearInterval(t.timeCheckInterval),t.blinkArrow(!1),h[t.currTextIndex].page!==h[r].page?(t.ambientAudio&&t.fadeOut(["ambient"],500),n.swipeasaurus("slide",i.cover?h[r].page:h[r].page-1),s=t.ambientAudio?3e3:900):s=400,!t.muted&&h[r].audio&&l.hasClass("started")&&!l.hasClass("replay")&&(t.narrativeTimeouts[r]=e.setTimeout(function(){t.playNarrative(r)},s)),t.currTextIndex=r}),s("#mute-button").on("click",function(){t.muteButtonPress(s(this).hasClass("muted")?!1:!0)});var f=i.identity,p=t.model.collection.style,m=p&&p.takeover&&p.takeover.image||f&&f.takeover;a.Style.applyTakeoverStyles(m),s("#storybook-narrative .replay").click(function(){s(".end").attr("style",""),t.musicAudio&&t.fadeOut(["music"],2e3),t.ambientAudio&&t.fadeOut(["ambient"],2e3),i.cover?t.setBlankPage(!0,!1):t.setBlankPage(!1,!1),l.addClass("replay"),o.swipeasaurus("slide",0),r.link({linkName:"storybook",linkPosition:"storybook/button/replay"}),s("#mute-button").removeClass("muted")}),s(e.document).keydown(function(e){if(t.keyEvents){if(a.rtl&&39===e.keyCode||!a.rtl&&37===e.keyCode)return o.swipeasaurus("prev",0),!1;if(a.rtl&&37===e.keyCode||!a.rtl&&39===e.keyCode)return o.swipeasaurus("next",0),!1}}),t.resize(),s(".start-button").on("click",function(){t.currTextIndex=0,t.startTimeout=e.setTimeout(function(){s(".start-buttons").hide()},1500),e.clearInterval(t.fadeOutIntervals.music[h.length-1]),e.clearTimeout(t.replayTimeout),"listen"===s(this).attr("id")?(t.muted=!1,t.audInProgress=!1,l.removeClass("reading replay").addClass("listening started"),t.narrationAudio.readyState<3&&t.narrationAudio.load(),t.musicAudio?t.musicAudio.readyState>=3?(t.musicAudio.currentTime=0,t.fadeIn(["music"],300),e.setTimeout(function(){o.trigger("slide",0)},1500)):(t.musicAudio.load(),s(t.musicAudio).on("canplay",function(){t.fadeIn(["music"],300),s(t.musicAudio).off("canplay"),t.narrationAudio.readyState>=3?e.setTimeout(function(){o.trigger("slide",0)},1500):s(t.narrationAudio).on("canplay",function(){t.narrationAudio.volume=1,o.trigger("slide",0)})})):t.narrationAudio.readyState>2?o.trigger("slide",0):s(t.narrationAudio).on("canplay",function(){o.trigger("slide",0)}),r.link({linkName:"storybook",linkPosition:"storybook/button/listen"})):(t.muted=!0,t.musicAudio&&t.fadeOut(["music","ambient"],400),l.addClass("reading started").removeClass("start-page replay listening"),o.swipeasaurus("slide",1),t.keyEvents=!0,r.link({linkName:"storybook",linkPosition:"storybook/button/read"}))})},resize:function(){s("#storybook-narrative li p").css("top",function(){return(parseInt(s(this).parent().height(),10)-parseInt(s(this).outerHeight(),10))/2})}})}(this),Whiskers("modules.stream",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound '),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.s(a.f("singleRow",e,t,1),e,t,0,56,67,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" single-row")}),e.pop()),a.s(a.f("enablePeek",e,t,1),e,t,0,96,104,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" peeking")}),e.pop()),a.b('"> '),a.s(a.f("header_data",e,t,1),e,t,0,138,156,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(" "),a.b(a.t(a.f("list",e,t,0))),a.b(' <div class="show_more_container"> <div class="bottom-peek"></div> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),a.b(a.v(a.d("translations.show_more",e,t,0))),a.b('</span> <span class="spinner"></span> </div> </div> </div>'),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,a=e.Backbone,n=e.Whiskers,r=e.Math,s=e._,o=e.EventLinkHandler,l=t.Style.breakpoints,c=s.values(l);i.GridModuleBaseView.register("stream",{style_classes:["stream-view","grid-view"],required_template_sets:["module_header"],breakpoints:c.join(" "),page:1,template:n.modules.stream,events:{"click .show_more":function(e){this.loadMoreThumbs(),this.has_revealed=!0,e.preventDefault(),this.fit()},"click [data-event-link]":function(e){e.preventDefault(),o.handle(e)}},initialize:function(){var e=this,i=this.model;if(this.initCollection(this.model.get("data")),this.entity_type=s.first(this.model.data.models).get("entity_type")||this.model.get("type"),this.has_revealed=!1,"recommendation"===this.entity_type){var a=s.first(i.get("data"));e.$el.hide(),t.Recommender.getRecommendations(a).done(function(t){e.initCollection(t),e.entity_type=s.first(t).entity_type,e.makeList(),e.render(),e.ready(),e.$el.show(),e.$el.loadLazyImages()})}else t.Recommender.track(this.model.toJSON().data),this.makeList();this.needsGuestContext()&&this.options.guest.retain()},destroy:function(){this.needsGuestContext()&&this.options.guest&&this.options.guest.release()},initCollection:function(e){this.allThumbs=e,this.visibleThumbs=this.allThumbs.slice(0,this.desired()),this.thumbCollection=new a.Collection(this.visibleThumbs),this.count=this.allThumbs.length},makeList:function(){var e=this;this.list=new i.ListView({collection:this.thumbCollection,template:{render:function(t){return s.extend(t,{translations:e.model.get("translations")}),n.entities.item.render(t,e.global_components.entities)}}})},updateView:function(){this.visibleThumbs=this.allThumbs.slice(0,this.desired()),this.list.collection.add(this.visibleThumbs)},loadMoreThumbs:function(){this.page++,this.updateView(),this.$el.loadLazyImages()},updateButton:function(){var e=this.model.get("enable_peek"),t=this.visibleThumbs.length<this.count;this.$(".col").hasClass("last-row")&&e||!e&&t?this.$el.addClass("has-more"):this.$el.removeClass("has-more")},desired:function(){return this.page*this.rows()*this.cols()},render:function(){var e=this.list,i=s.extend({entity_type:this.entity_type,list:t.placeHtml(e),enablePeek:this.model.get("enable_peek"),singleRow:this.count<=this.cols()},this.model);this.$el.html(this.template.render(i,this.ctx_additions())),t.placeSwap(this,e)},resize:function(){var e=this.cols(),t=e>1?"grid-layout":"list-layout";this.page=r.floor(this.visibleThumbs.length/this.rows()/e)||1,this.list&&this.list.$el.attr("class","col-container cols-"+e+" "+t),this.fit()},fit:function(){var e=this.desired();this.$(".col").removeClass("last-row"),e<this.count||!this.has_revealed?(this.updateView(),this.list.$el.children().removeClass("hidden").slice(e).addClass("hidden"),this.list.$el.children().slice(e-this.cols()).addClass("last-row")):this.list.$el.children().removeClass("hidden"),this.updateButton()},rows:function(){var e=a.Resize.width();switch(this.entity_type){case"game":return e<l.midHigh,4;case"personality":return e<l.midLow?3:2;default:return e<l.midLow?4:2}},ready:function(){this.list&&this.resize()}})}(this),Whiskers("modules.sweepstakes",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,384,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound'),i.s(i.f("noCode",e,t,1),e,t,0,38,46,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" no-code")}),e.pop()),i.b('"> <div class="container"> <div class="header module_header sweeps"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> </div> "),i.b(i.rp("<sweeps_code0",e,t,"")),i.b(" "),i.b(i.rp("<sweeps_tos1",e,t,"")),i.b(" "),i.b(i.rp("<sweeps_complete2",e,t,"")),i.b(' <div class="sweeps_error"></div> <div class="sweep_legal"> '),i.s(i.d("metadata.short_rules",e,t,1),e,t,0,290,321,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<p>"),i.b(i.v(i.d("metadata.short_rules",e,t,0))),i.b("</p>")}),e.pop()),i.b(" "),i.b(i.t(i.f("rich_text",e,t,0))),i.b(" </div> </div> </div> ")}),e.pop()),a.fl()},partials:{"<sweeps_code0":{name:"sweeps_code",partials:{},subs:{}},"<sweeps_tos1":{name:"sweeps_tos",partials:{},subs:{}},"<sweeps_complete2":{name:"sweeps_complete",partials:{},subs:{}}},subs:{}}),function(e,t){"use strict";function i(e){var i=t(e.currentTarget),a=i.val(),n=i.attr(s);n&&a===n&&(i.val(""),i.removeClass("empty"))}function a(e){var i=t(e.currentTarget),a=i.val(),n=i.attr(s);n&&!a&&(i.val(n),i.addClass("empty"))}var n,r="input,textarea",s="placeholder";n=s in e.document.createElement("input")?function(){return this}:function(){return this.on("focusin",r,i),this.on("focusout",r,a),this.find(r).each(function(){a({currentTarget:this})}),this},t.fn.polyfillPlaceholder=n}(this,jQuery),Whiskers("partials.sweeps_code",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="sweeps_code"> <p class="sweep_desc">'),a.b(a.v(a.f("description",e,t,0))),a.b('</p> <div class="sweep_form"> <div class="denied_txt"> <span class="try_again">Try Again!</span> <span class="hint">Hint: '),a.s(a.f("metadata",e,t,1),e,t,0,198,223,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("codeword_hint_message",e,t,0)))}),e.pop()),a.b('</span> </div> <form> <input class="code_form" type="text" name="code" maxlength="20" required placeholder="Enter Codeword"></input> </form> <button class="button blue large code">Enter</button> </div> </div>'),a.fl()},partials:{},subs:{}}),Whiskers("partials.sweeps_tos",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="sweeps_tos"> <p class="terms">'),a.b(a.v(a.f("legal_text",e,t,0))),a.b('</p> <div class="sweep_form"> <div class="tos_check"> <p class="tos">I agree to the above Terms and Conditions</p> <span class="vote checkbox" title="'),a.b(a.v(a.f("text",e,t,0))),a.b('"> <span class="check"></span> </span> </div> <button type="submit" class="button blue large tos disabled">Enter</button> </div> </div>'),a.fl()},partials:{},subs:{}}),Whiskers("partials.sweeps_complete",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="sweeps_complete module_header"> <h2 class="sweep_desc complete">'),a.s(a.f("metadata",e,t,1),e,t,0,89,108,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("success_message",e,t,0)))}),e.pop()),a.b("</h2> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e.jQuery,o=e._,l=t.ModuleView.extend({breakpoints:n,template:r.modules.sweepstakes,sweeps_error:"",user_code:"",initialize:function(){i.guest.retain()},render:function(){var e=o.extend({},this.model);this.$el.html(this.template.render(e,{sweeps_tos:r.partials.sweeps_tos,sweeps_code:r.partials.sweeps_code,sweeps_complete:r.partials.sweeps_complete})),this.$el.polyfillPlaceholder()},codeWords:function(){var e=this,t=i.guest.login();t.then(function(){e.user_code=e.$("input.code_form").val();var t={sweeps_id:e.model.get("data")[0].sweep_id,entered_code:e.user_code};e.guestCanEnter()?(e.$("button.code").text("Verify..."),s.ajax({type:"POST",url:"/_sweeps/sweeps_code",processData:!1,data:JSON.stringify(t),contentType:"application/json",success:function(t){"false"===t?(e.$(".denied_txt").addClass("active"),e.$("button.code").text("Submit")):(e.$(".sweeps_code").remove(),e.$(".sweeps_tos").fadeIn(500))},error:function(){e.showError()}})):e.showError()})},checkboxChecking:function(){this.$(".checkbox").hasClass("checked")?(this.$(".button.tos").addClass("disabled").removeClass("compelte"),this.$(".checkbox").removeClass("checked")):(this.$(".button.tos").removeClass("disabled").addClass("compelte"),this.$(".checkbox").addClass("checked"))},sweepsTerms:function(){var e=this,t={sweeps_id:this.model.get("data")[0].sweep_id,disid:i.guest.current.profile.swid.replace("{","").replace("}",""),entered_code:e.user_code};this.$("button.tos").text("Verify..."),s.ajax({type:"POST",url:"/_sweeps/sweeps_info",processData:!1,data:JSON.stringify(t),contentType:"application/json",success:function(){e.$(".sweeps_complete").fadeIn(500),e.$(".container").addClass("finished"),e.$(".header.sweeps").css("visibility","hidden"),e.$(".sweeps_tos").remove()},error:function(t){409===t.status&&(e.sweeps_error="too_many"),e.showError()}})},events:{"click span.checkbox":"checkboxChecking","click .button.code":"codeWords","keypress .code_form":function(t){13===e.event.keyCode&&(this.codeWords(),t.preventDefault())},"click .button.tos.compelte":"sweepsTerms"},guestCanEnter:function(){var e=this,t=parseInt(e.model.get("data")[0].metadata.min_age,10)||0,a=parseInt(e.model.get("data")[0].metadata.max_age,10),n=new Date(i.guest.current.profile.dateOfBirth),r=new Date,s=new Date,o=a?new Date:null;return s.setFullYear(r.getFullYear()-t),o&&o.setFullYear(r.getFullYear()-a-1),n>s?(e.sweeps_error="min_age_gate",!1):o&&o>n?(e.sweeps_error="max_age_gate",!1):!0},showError:function(){var e,t=this;switch(t.sweeps_error){case"min_age_gate":e=t.model.get("data")[0].metadata.min_age_message;break;case"max_age_gate":e=t.model.get("data")[0].metadata.max_age_message;break;case"too_many":e="Maximum submissions exceeded. Please try again later.";break;default:e="There was an error entering the sweepstakes. Please try again."}e="<h2>"+e+"</h2>",t.$(".sweeps_code").remove(),t.$(".header.sweeps").css("visibility","hidden"),t.$(".sweeps_error").html(e).fadeIn(500)}});l.register("sweepstakes",{})}(this),Whiskers("modules.sweepstakes2",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound'),a.s(a.d("sweeps.code_word_required",e,t,1),e,t,1,0,0,"")||a.b(" no-code"),a.b('"> <div class="container align-'),a.b(a.v(a.d("style_options.layout",e,t,0))),a.b('"> <div class="header module_header sweeps"> <h2>'),a.b(a.v(a.d("sweeps.title",e,t,0))),a.b("</h2> </div> "),a.b(a.rp("<sweeps_code0",e,t,"")),a.b(" "),a.b(a.rp("<sweeps_tos1",e,t,"")),a.b(" "),a.b(a.rp("<sweeps_complete2",e,t,"")),a.b(' <div class="sweeps_error"></div> <div class="sweep_legal"> '),a.s(a.d("sweeps.metadata.short_rules",e,t,1),e,t,0,363,401,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<p>"),i.b(i.v(i.d("sweeps.metadata.short_rules",e,t,0))),i.b("</p>")}),e.pop()),a.b(" "),a.b(a.t(a.f("rich_text",e,t,0))),a.b(" </div> </div> </div>"),a.fl()},partials:{"<sweeps_code0":{name:"sweeps_code",partials:{},subs:{}},"<sweeps_tos1":{name:"sweeps_tos",partials:{},subs:{}},"<sweeps_complete2":{name:"sweeps_complete",partials:{},subs:{}}},subs:{}}),Whiskers("partials.sweepstakes2.code",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="sweeps_code"> <p class="sweep_desc">'),a.b(a.v(a.d("sweeps.description",e,t,0))),a.b('</p> <div class="sweep_form"> <div class="denied_txt"> <span class="try again">'),a.b(a.v(a.d("translations.try_again",e,t,0))),a.b('</span> <span class="hint">'),a.b(a.v(a.d("translations.hint",e,t,0))),a.b(" "),a.s(a.d("sweeps.metadata",e,t,1),e,t,0,244,269,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("codeword_hint_message",e,t,0)))}),e.pop()),a.b('</span> </div> <form> <input class="code_form" type="text" name="code" maxlength="20" required placeholder="'),a.b(a.v(a.d("translations.enter_codeword",e,t,0))),a.b('"></input> </form> <button class="button blue large code">'),a.b(a.v(a.d("sweeps.translations.enter_button_text",e,t,0))),a.b("</button> </div> </div>"),a.fl()},partials:{},subs:{}}),Whiskers("partials.sweepstakes2.tos",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="sweeps_tos"> <div class="sweep_form"> <div class="custom_form_fields"> </div> <div class="tos_check"> <span class="vote checkbox" title="'),a.b(a.v(a.f("text",e,t,0))),a.b('"> <span class="check"></span> </span> <p class="tos">'),a.b(a.v(a.d("sweeps.translations.default_tos_text",e,t,0))),a.b('</p> </div> <button type="submit" class="button blue large tos disabled">'),a.b(a.v(a.d("sweeps.translations.enter_button_text",e,t,0))),a.b('</button> <button class="rules button large silver">'),a.b(a.v(a.d("sweeps.translations.rules_button_text",e,t,0))),a.b("</button> </div> </div>"),a.fl()
},partials:{},subs:{}}),Whiskers("partials.sweepstakes2.complete",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="sweeps_complete module_header"> <h2 class="sweep_desc complete">'),a.s(a.d("sweeps.metadata",e,t,1),e,t,0,96,115,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("success_message",e,t,0)))}),e.pop()),a.b("</h2> "),a.s(a.d("sweeps.config_options.thanks_message",e,t,1),e,t,0,182,250,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <p class="sweep_desc">'),i.b(i.v(i.d("sweeps.config_options.thanks_message",e,t,0))),i.b("</p> ")}),e.pop()),a.b(" "),a.s(a.d("sweeps.config_options.promo_button.url",e,t,1),e,t,0,335,553,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("sweeps.config_options.promo_button.text",e,t,1),e,t,0,380,508,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.d("sweeps.config_options.promo_button.url",e,t,0))),i.b('" class="button large blue">'),i.b(i.v(i.d("sweeps.config_options.promo_button.text",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" </div>"),a.fl()},partials:{},subs:{}}),Whiskers("modals.sweepstakes_rules",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="modal-info"> <div class="modal_message"> <h3 class="modal-title" style="text-align:left">'),a.b(a.v(a.f("header",e,t,0))),a.b("</h3> "),a.s(a.d("download_link.url",e,t,1),e,t,0,139,292,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("download_link.text",e,t,1),e,t,0,163,268,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="modal-content"><a target="_blank" href="'),i.b(i.v(i.d("download_link.url",e,t,0))),i.b('">'),i.b(i.v(i.d("download_link.text",e,t,0))),i.b("</a></p> ")}),e.pop()),i.b(" ")}),e.pop()),a.b(' <p class="modal-content">'),a.b(a.v(a.f("rules",e,t,0))),a.b("</p> </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Backbone;t.SweepsFormFieldView=i.View.extend({render:function(){this.$el.html(this.template.render(this.options))},validate:function(){var e=this.isValid();return this.$el.toggleClass("error",!e),e}})}(this),Whiskers("partials.sweepstakes2.age_band",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("label",e,t,1),e,t,0,10,34,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<label>"),i.b(i.v(i.f("label",e,t,0))),i.b("</label>")}),e.pop()),a.b(" "),a.s(a.f("values",e,t,1),e,t,0,56,318,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div> <span class="checkbox '),i.s(i.f("defaultState",e,t,1),e,t,0,102,109,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("checked")}),e.pop()),i.b('"> <input type="radio" name="'),i.b(i.v(i.f("name",e,t,0))),i.b('" data-tos-label="'),i.b(i.v(i.f("label",e,t,0))),i.b('" value="'),i.b(i.v(i.f("ageBand",e,t,0))),i.b('" '),i.s(i.f("defaultState",e,t,1),e,t,0,229,236,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("checked")}),e.pop()),i.b('></input> <span class="check"></span> </span> '),i.b(i.v(i.f("ageBand",e,t,0))),i.b(" </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.$;t.SweepsAgeBandView=t.SweepsFormFieldView.extend({template:i.partials.sweepstakes2.age_band,className:"age_band",initialize:function(e){e.allowMulti=!1,this.options=e},value:function(){var e=this.$(".checkbox.checked:first input").get(0);return e?e.value:null},events:{"click .checkbox":function(e){var t=a(e.currentTarget),i=a("input",t),n=i.attr("data-tos-label");i.prop("checked",!0),this.$(".checkbox").each(function(e,t){var i=a("input",t).is(":checked");a(t).toggleClass("checked",i)}),this.trigger("ageband:select",n)}},isValid:function(){return this.options.required&&!this.value()?!1:!0}})}(this),Whiskers("partials.sweepstakes2.option_group",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("label",e,t,1),e,t,0,10,34,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<label>"),i.b(i.v(i.f("label",e,t,0))),i.b("</label>")}),e.pop()),a.b(" "),a.s(a.f("values",e,t,1),e,t,0,56,459,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div> <span class="checkbox '),i.s(i.f("defaultState",e,t,1),e,t,0,102,109,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("checked")}),e.pop()),i.b('"> '),i.s(i.f("allowMulti",e,t,1),e,t,0,144,253,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <input type="checkbox" name="'),i.b(i.v(i.f("name",e,t,0))),i.b('" value="'),i.b(i.v(i.f("label",e,t,0))),i.b('" '),i.s(i.f("defaultState",e,t,1),e,t,0,219,226,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("checked")}),e.pop()),i.b("></input> ")}),e.pop()),i.b(" "),i.s(i.f("allowMulti",e,t,1),e,t,1,0,0,"")||(i.b(' <input type="radio" name="'),i.b(i.v(i.f("name",e,t,0))),i.b('" value="'),i.b(i.v(i.f("label",e,t,0))),i.b('" '),i.s(i.f("defaultState",e,t,1),e,t,0,356,363,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("checked")}),e.pop()),i.b("></input> ")),i.b(' <span class="check"></span> </span> '),i.b(i.v(i.f("label",e,t,0))),i.b(" </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.$;t.SweepsOptionGroupView=t.SweepsFormFieldView.extend({template:i.partials.sweepstakes2.option_group,className:"option_group",events:{"click .checkbox":function(e){this.options.allowMulti?this.handleCheckboxClick(e):this.handleRadioClick(e)}},initialize:function(e){this.options=e},handleCheckboxClick:function(e){var t=a(e.currentTarget),i=t.hasClass("checked");t.toggleClass("checked",!i),t.find("input").prop("checked",!i)},handleRadioClick:function(e){var t=a(e.currentTarget),i=a("input",t);i.prop("checked",!0),this.$(".checkbox").each(function(e,t){var i=a("input",t).is(":checked");a(t).toggleClass("checked",i)})},value:function(){var e=this.$(".checkbox.checked input").map(function(){return this.value}).get();return this.options.allowMulti?e:e[0]},isValid:function(){var e=this.value();if(this.options.required){if(this.options.allowMulti&&0===e.length)return!1;if(!this.options.allowMulti&&!e)return!1}return!0}})}(this),Whiskers("partials.sweepstakes2.checkbox",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div> <span class="checkbox '),a.s(a.f("defaultState",e,t,1),e,t,0,45,52,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("checked")}),e.pop()),a.b('"> <input type="checkbox" name="'),a.b(a.v(a.f("name",e,t,0))),a.b('" value="'),a.b(a.v(a.f("label",e,t,0))),a.b('" '),a.s(a.f("defaultState",e,t,1),e,t,0,146,153,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("checked")}),e.pop()),a.b('></input> <span class="check"></span> </span> <span class="label">'),a.b(a.v(a.f("label",e,t,0))),a.b("</span> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.$;t.SweepsCheckboxView=t.SweepsFormFieldView.extend({template:i.partials.sweepstakes2.checkbox,className:"single_checkbox",events:{"click span.checkbox":function(e){this.handleCheckboxClick(e)}},initialize:function(e){this.options=e,this.options.defaultState="on"===this.options.value},handleCheckboxClick:function(e){var t=a(e.currentTarget),i=t.hasClass("checked");t.toggleClass("checked",!i),t.find("input").prop("checked",!i)},value:function(){var e=this.$(".checkbox.checked input").map(function(){return this.value}).get();return e[0]||!1},isValid:function(){var e=this.value();return this.options.required&&!e?!1:!0}})}(this),Whiskers("partials.sweepstakes2.select",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("label",e,t,1),e,t,0,10,34,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<label>"),i.b(i.v(i.f("label",e,t,0))),i.b("</label>")}),e.pop()),a.b(' <select name="'),a.b(a.v(a.f("name",e,t,0))),a.b('" '),a.s(a.f("allowMulti",e,t,1),e,t,0,84,92,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("multiple")}),e.pop()),a.b("> "),a.s(a.f("values",e,t,1),e,t,0,120,244,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.f("value",e,t,0))),i.b('" '),i.s(i.f("defaultState",e,t,1),e,t,0,164,172,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("selected")}),e.pop()),i.b(" "),i.s(i.f("disabled",e,t,1),e,t,0,203,211,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("disabled")}),e.pop()),i.b(">"),i.b(i.v(i.f("label",e,t,0))),i.b("</option> ")}),e.pop()),a.b(" </select>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._;t.SweepsSelectView=t.SweepsFormFieldView.extend({template:i.partials.sweepstakes2.select,className:"select",initialize:function(e){this.options=e;var t=!1;a.each(this.options.values,function(e){e.value=e.label,t=t||e.defaultState}),this.options.description&&this.options.values.unshift({label:this.options.description,disabled:!0,defaultState:!t})},value:function(){return this.$("select").val()},isValid:function(){var e=this.value();if(this.options.required){if(this.options.allowMulti&&0===e.length)return!1;if(!this.options.allowMulti&&!e)return!1}return!0}})}(this),Whiskers("partials.sweepstakes2.textarea",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("label",e,t,1),e,t,0,10,34,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<label>"),i.b(i.v(i.f("label",e,t,0))),i.b("</label>")}),e.pop()),a.b(' <textarea name="'),a.b(a.v(a.f("name",e,t,0))),a.b('" '),a.s(a.f("description",e,t,1),e,t,0,87,116,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('placeholder="'),i.b(i.v(i.f("description",e,t,0))),i.b('"')}),e.pop()),a.b("></textarea>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers;t.SweepsTextAreaView=t.SweepsFormFieldView.extend({template:i.partials.sweepstakes2.textarea,className:"textarea",initialize:function(e){this.options=e},value:function(){return this.$("textarea").val()},isValid:function(){var e=this.value()||"";return e=e.trim(),this.options.required&&0===e.length?!1:this.options.maxLength&&e.length>this.options.maxLength?!1:!0}})}(this),Whiskers("partials.sweepstakes2.text_field",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("label",e,t,1),e,t,0,10,34,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<label>"),i.b(i.v(i.f("label",e,t,0))),i.b("</label>")}),e.pop()),a.b(' <input type="text" name="'),a.b(a.v(a.f("name",e,t,0))),a.b('" '),a.s(a.f("description",e,t,1),e,t,0,96,125,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('placeholder="'),i.b(i.v(i.f("description",e,t,0))),i.b('"')}),e.pop()),a.b("></input>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers;t.SweepsTextFieldView=t.SweepsFormFieldView.extend({template:i.partials.sweepstakes2.text_field,className:"text",initialize:function(e){this.options=e},value:function(){return this.$("input").val()},isValid:function(){var e=this.value()||"";return e=e.trim(),this.options.required&&0===e.length?!1:this.options.maxLength&&e.length>this.options.maxLength?!1:!0}})}(this),function(e){"use strict";var t=e.Grill,i=e.Backbone,a=e._;t.SweepsCustomFormView=i.View.extend({className:"form_fields",initialize:function(e){var t=this;t.subViews=[],t.dir=e.dir||"ltr",a.each(e.items,function(e){var i=t.buildFormFieldView(e);i&&(t.subViews.push(i),"AGE_BAND"===e.fieldType&&t.setAgeBandView(i))})},setAgeBandView:function(e){this.ageBand=e,this.listenTo(this.ageBand,"ageband:select",this.ageBandSelected)},ageBandSelected:function(e){this.trigger("sweepsform:ageband:tos",e)},isValid:function(){return a.all(this.subViews,function(e){return e.isValid()})},validate:function(){if(0===this.subViews.length)return!0;var e=!0;return a.each(this.subViews,function(t){t.validate()||(e=!1)}),e},hasCustomFields:function(){return a.any(this.subviews)},render:function(){var e=this;a.each(this.subViews,function(t){t.render(),e.$el.append(t.el)})},buildFormFieldView:function(e){var t=this.getViewClass(e.fieldType);if(t){var i=a.extend({attributes:{dir:this.dir}},e);return new t(i)}},getViewClass:function(e){switch(e){case"SMALL_TEXT_AREA":return t.SweepsTextFieldView;case"SELECT":return t.SweepsSelectView;case"OPTION_GROUP":return t.SweepsOptionGroupView;case"CHECKBOX":return t.SweepsCheckboxView;case"LARGE_TEXT_AREA":return t.SweepsTextAreaView;case"AGE_BAND":return t.SweepsAgeBandView;default:return null}},getFormInfo:function(){var e={};return a.each(this.subViews,function(t){e[t.options.name]=t.value()}),e}})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e.jQuery,o=e._,l=t.ModuleView.extend({breakpoints:n,template:r.modules.sweepstakes2,sweeps:{},sweeps_error:"",user_code:"",loginGating:function(){if(this._loginGates)return this._loginGates;var e=this.sweeps.get("config_options").login_gate;return this._loginGates={codeCheck:"after_intro"===e,finalEntry:!0},this._loginGates},initialize:function(){i.guest.retain();var e=this.model.get("style_options")||{};e.layout=e.layout||"left",this.model.set("style_options",e),this.sweeps=this.getSweepsConfig();var a=this.sweeps.get("config_options")||{};o.extend(this,{title:this.model.attributes.title,questions:this.sweeps.attributes.quiz_questions,quiz_endcard_message:a.quiz_endcard_message,quiz_show_feedback:a.quiz_show_feedback,quiz_hide_end_card:a.quiz_hide_end_card,quiz_default_image:a.quiz_default_image}),this.formView=new t.SweepsCustomFormView({items:this.sweeps.get("form_fields"),dir:s("body").attr("dir")}),this.listenTo(this.formView,"sweepsform:ageband:tos",this.updateTos)},render:function(){var e=o.extend({sweeps:this.sweeps},this.model);this.$el.html(this.template.render(e,{sweeps_tos:r.partials.sweepstakes2.tos,sweeps_code:r.partials.sweepstakes2.code,sweeps_complete:r.partials.sweepstakes2.complete})),this.formView.render(),this.$(".custom_form_fields").append(this.formView.el),this.$el.polyfillPlaceholder()},codeWords:function(){var e=this,t=e.loginGating().codeCheck,a=t?i.guest.login():s.when();a.then(function(){e.user_code=e.$("input.code_form").val();var i={sweeps_id:e.sweeps.get("sweep_id"),entered_code:e.user_code},a=function(){e.$(".sweeps_code").remove(),e.$(".sweeps_tos").fadeIn(500),e.questions&&o.any(e.questions)&&e.openQuiz()},n=function(){e.$(".denied_txt").addClass("active"),e.$("button.code").removeClass("disabled")};!t||e.guestCanEnter()?(e.$("button.code").addClass("disabled"),e.sweeps.get("code_word_required")?e.checkCodeWord(i,a,n,e.showError):a()):e.showError()})},checkCodeWord:function(e,t,i,a){s.ajax({type:"POST",url:"/_sweeps/sweeps_code",processData:!1,data:JSON.stringify(e),contentType:"application/json",success:function(e){"false"===e?i():t()},error:function(){a()}})},tosCheckboxChecking:function(e){var t=s(e.currentTarget),i=t.hasClass("checked"),a=this.$(".button.tos");a.toggleClass("disabled",i).toggleClass("complete",!i),t.toggleClass("checked",!i)},submitEntry:function(){var e=this;if(e.formView.validate()){var t=e.formView.getFormInfo();e.sweepsTerms(t)}},getQuizScore:function(){return void 0!==this.quiz_modal?this.quiz_modal.score():void 0},sweepsTerms:function(t){var a=this;i.guest.login().then(function(){var n={sweeps_id:a.sweeps.get("sweep_id"),disid:i.guest.current.profile.swid.replace("{","").replace("}",""),entered_code:a.user_code,quiz_score:a.getQuizScore(),form:t};a.guestCanEnter()?s.ajax({type:"POST",url:"/_sweeps/sweeps_info",processData:!1,data:JSON.stringify(n),contentType:"application/json",success:function(){a.$(".sweeps_complete").fadeIn(500),a.$(".container").addClass("finished"),a.$(".header.sweeps").css("visibility","hidden"),a.$(".sweeps_tos").remove();var t=a.el.getBoundingClientRect().top;e.scrollBy(0,t)},error:function(e){409===e.status&&(a.sweeps_error="too_many"),a.showError()}}):a.showError()})},updateTos:function(e){this.$("p.tos").text(e?e:this.default_tos_text)},events:{"click .tos_check span.checkbox":"tosCheckboxChecking","click .button.code:not(.disabled)":"codeWords","keypress .code_form":function(t){13===e.event.keyCode&&(this.codeWords(),t.preventDefault())},"click .button.tos.complete":"submitEntry","click .button.rules":"openRulesModal"},openQuiz:function(){void 0===this.quiz_modal&&(this.quiz_modal=new t.QuizModalView({template:r.modals.quiz,default_image:this.quiz_default_image,quiz_show_feedback:this.quiz_show_feedback,final_message:this.quiz_endcard_message,hide_end_card:this.quiz_hide_end_card,questions:this.questions,title:this.title,translations:this.model.get("translations"),name:"quiz"})),this.quiz_modal.reset(),this.quiz_modal.show({render:!0})},getSweepsConfig:function(){return o.find(this.model.data.models,function(e){return"SweepstakesConfig"===e.get("type")})},guestCanEnter:function(){var e=this,t=parseInt(e.sweeps.get("metadata").min_age,10)||0,a=parseInt(e.sweeps.get("metadata").max_age,10),n=new Date(i.guest.current.profile.dateOfBirth),r=new Date,s=new Date,o=a?new Date:null;return s.setFullYear(r.getFullYear()-t),o&&o.setFullYear(r.getFullYear()-a-1),n>s?(e.sweeps_error="min_age_gate",!1):o&&o>n?(e.sweeps_error="max_age_gate",!1):!0},showError:function(){var e,t=this;switch(t.sweeps_error){case"min_age_gate":e=t.sweeps.get("metadata").min_age_message;break;case"max_age_gate":e=t.sweeps.get("metadata").max_age_message;break;case"too_many":e=t.model.get("translations").error_too_many;break;default:e=t.model.get("translations").error_default}e="<h2>"+e+"</h2>",t.$(".sweeps_code").remove(),t.$(".header.sweeps").css("visibility","hidden"),t.$(".sweeps_error").html(e).fadeIn(500)},openRulesModal:function(){void 0===this.rulesModal&&(this.rulesModal=new t.SweepstakesRulesModalView({template:r.modals.sweepstakes_rules,name:"sweepstakes-rules",header:this.model.get("translations").sweepstakes_rules,legal_text:this.sweeps.get("legal_text"),download_link:this.sweeps.get("config_options").rules_download_link,ctx_additions:this.ctx_additions()})),this.rulesModal.show()}});l.register("sweepstakes2",{}),t.SweepstakesRulesModalView=t.ModalView.extend({render:function(){return this.options.template.render({header:this.options.header,rules:this.options.legal_text,download_link:this.options.download_link})}})}(this),Whiskers("modules.header",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="header module_header"> '),a.s(a.f("title",e,t,1),e,t,0,65,83,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.f("title",e,t,0))),i.b("</h2>")}),e.pop()),a.b(" "),a.s(a.f("desc",e,t,1),e,t,0,103,120,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<h3>"),i.b(i.v(i.f("desc",e,t,0))),i.b("</h3>")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e._,n=t.ModuleView.extend({style_classes:["full-height"],template:i.modules.header,render:function(){var e=a.first(this.model.get("data")),t=a.extend({data:e?e:null},this.model);this.$el.html(this.template.render(t))}});n.register("header",{})}(this),Whiskers("modules.trailer",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div class="container"> '),a.s(a.f("data",e,t,1),e,t,0,53,1097,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="video-container trailer-box '),i.s(i.d("style_options.full_width",e,t,1),e,t,0,123,133,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("full-width")}),e.pop()),i.b('"> <div class="scaler"></div> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <div id="'),i.b(i.v(i.f("player_id",e,t,0))),i.b('" class="player video trailer-box"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> </div> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,381,446,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),i.b(' <div class="card embed"'),i.s(i.d("config_options.disable_endcard",e,t,1),e,t,0,517,545,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-disable-endcard="true"')}),e.pop()),i.b('> <div class="card_header"> <p class="btn_replay skip-text-styles">'),i.b(i.v(i.d("translations.replay",e,t,0))),i.b('</p> <p class="btn_watch skip-text-styles">'),i.b(i.v(i.d("translations.watch_on",e,t,0))),i.b('</p> </div> <div class="suggested"> <ul> '),i.s(i.f("suggested",e,t,1),e,t,0,793,916,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" <li>"),i.b(i.rp("<entity_container0",e,t,"")),i.b("</li> ")}),e.pop()),i.b(' </ul> </div> </div> </div> <div class="module_header details"> <h2><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b('</a></h2> <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> </div> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,a=i.midHigh.toString(),n=e.Grill,r=e.Whiskers,s=e.$,o=e._;n.ModuleView.register("trailer",{breakpoints:a,template:r.modules.trailer,assets:{scripts:["//a.dilcdn.com/a/videoplayer-c7d942b2f782.js"]},initialize:function(){var t=this,i=this.model.get("config_options"),a=this.model.get("style_options");t.options.autoplay_mute=i&&i.autoplay_mute,a&&a.full_width&&(this.style_classes=["full-height","full-width"]),t.centerSuggested=o.throttle(function(){var i=t.$el.find(".card.embed .card_header"),a=t.$el.find(".card.embed ul"),n=a.find("li");if(s(e).width()<=1008){var r=(a.outerHeight()-i.outerHeight()-n.outerHeight())/2;a.css("margin-top",r>0?r:0)}else a.css("margin-top",4)},100),s(e).on("resize."+t.cid,t.centerSuggested),this.player_id="player_trailer"+this.model.get("ref").replace("-","")},render:function(){var e=o.extend({},this.options.ads.helpers(),this.model,{player_id:this.player_id});this.$el.html(this.template.render(e,{suggested:this.model.get("suggested"),item:r.entities.item,entity_container:r.entities.entity_container}))},ready:function(){this.$el.find(".card.embed .suggested li:nth-child(n+3)").addClass("li-nth-child-np3"),this.centerSuggested();var e=o.first(this.model.get("data")),i=this.model.get("autoplay")?!0:!1;e.ads=e.ads||{},e.ads.context=this.options.ads,this.player=new t.MatterhornVideoPlayer(this.player_id,{video:e,autoPlay:i,autoPlay_mute:this.options.autoplay_mute,clickToPlay:!0,ads:{enabled:!this.options.cds&&!this.options.noAds},translations:this.model.get("translations")})},resize:function(){this.render(),this.options.ads.restore(),this.ready()},remove:function(){this.player&&(this.player.destroy(),this.player=null),s(e).off("resize."+this.cid),n.ModuleView.prototype.remove.call(this)}})}(this),Whiskers("modules.trifecta",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="container"> '),a.s(a.f("data",e,t,1),e,t,0,104,467,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="item"> <div class="logo-container"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <span class="logo-box"> <img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('" class="logo" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> </span> </a> </div> <div class="description-container"> <p class="desc">'),i.b(i.v(i.f("short_desc",e,t,0))),i.b('</p> </div> <div class="btn"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small blue" role="button">'),i.b(i.v(i.d("translations.watch_now",e,t,0))),i.b("</a> </div> </div> ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=i.Style.breakpoints,n=a.midHigh.toString(),r=e.Whiskers,s=e._;t.ModuleView.register("trifecta",{template:r.modules.trifecta,required_template_sets:["entities"],breakpoints:n,render:function(){var e=s.extend({},this.model);this.$el.html(this.template.render(e,this.ctx_additions()))},resize:function(){this.render(),this.options.ads.restore()}})}(this),Whiskers("modules.ugc_consent",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> '),a.s(a.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="content-wrapper"> <div class="content ugc-response"> '),a.s(a.f("response",e,t,1),e,t,0,149,300,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" <h3>"),i.b(i.v(i.d("message.header",e,t,0))),i.b('</h3> <p class="description">'),i.b(i.v(i.d("message.body",e,t,0))),i.b("</p> "),i.s(i.f("url",e,t,1),e,t,0,230,291,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="checkout">Checkout with Paypal</a> ')}),e.pop()),i.b(" ")}),e.pop()),a.b(" </div> </div> </div>"),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=e.Whiskers,n=e.$,r=e._;t.ModuleView.register("ugc_consent",{style_classes:["module","ugc-consent"],required_template_sets:["module_header"],template:a.modules.ugc_consent,initialize:function(){var t=this,a="http://a.dilcdn.com/sa/ugc/wisp-client/ugcAPI-browser.js",r=i.Cellophane.base_uri+"/ugc/kidsascreators/v1",s={Authorization:i.Cellophane.auth_key};n.getScript(a).done(function(){e.ugcAPI.discover(r,{headers:s}).then(function(e){var i=t.getQueryParams();"mlc"===i.type?t.approveOrDenyMLC(e,i):"hlc"===i.type&&e.campaigns.get({id:i.cid}).then(function(a){t.approveHLC(e,a,i)})})})},render:function(){},handleResponse:function(e,t,i,a){var n=i?"succeed_":"fail_",r=n+e+"_"+t,s=r+"_header",o=r+"_body",l=this.model.get("translations")||{},c=this.model.get("text_options")||{},d=c[s]||l[s]||"Oops",u=c[o]||l[o]||"There was an error processing your request.";this.safeRender(d,u,a)},safeRender:function(e,t,i){var a=r.extend(this.model.toJSON(),{response:{message:{header:e,body:t},url:i}});this.$el.html(this.template.render(a,this.ctx_additions()))},approveHLC:function(e,t,i){var a=this,n=i.action;if("approve"===n){var r=t.submissions.buildURL(i.aid);e.submission(r).paypalLink().then(function(e){a.handleResponse(n,i.type,!0,e.paypalLink)})}else"verify"===n&&e.events.verifyPayment({campaignID:i.cid,submissionID:i.aid}).then(function(){a.handleResponse(n,i.type,!0)},function(){a.handleResponse(n,i.type,!1)})},approveOrDenyMLC:function(e,t){var i=this,a=t.action;if(e.events[a]){var n=r.extend({campaignID:t.cid,submissionID:t.aid},"approve"===a?{key:t.k}:null);e.events[a](n).then(function(){i.handleResponse(a,t.type,!0)},function(){i.handleResponse(a,t.type,!1)})}else this.handleResponse()},getQueryParams:function(){var t={},i=e.window.location.search.substring(1),a=i.split("&");return r.each(a,function(e){e=e.split("="),e[0]&&e[1]&&(t[e[0]]=e[1])}),t}})}(this),Whiskers("modules.user_upload",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(" "),a.s(a.f("style_options",e,t,1),e,t,0,74,2176,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("text_color_start_page",e,t,1),e,t,0,125,613,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info h1, .module.user_upload .form-container form legend h3, .module.user_upload .form-container.dark form legend h3, .module.user_upload .form-container.light form legend h3, .module.user_upload .stunt-info p, .module.user_upload .description, .module.user_upload .footnotes, .module.user_upload .form-container.dark .uploading h3, .module.user_upload .form-container.light .uploading h3, .module.user_upload .uploading h3{ color: "),i.b(i.v(i.f("text_color_start_page",e,t,0))),i.b(";} ")}),e.pop()),i.b(" "),i.s(i.f("text_color_dos_and_donts",e,t,1),e,t,0,669,977,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .tips-bound h2, .module.user_upload .tips-bound h3, .module.user_upload .tips-bound p, .module.user_upload .tips-bound ul, .module.user_upload .tips-bound li, .module.user_upload .tips-bound ol, .module.user_upload .tips-bound div, p.tips-footnote{ color: "),i.b(i.v(i.f("text_color_dos_and_donts",e,t,0))),i.b(";} ")}),e.pop()),i.b(" "),i.s(i.f("text_color_confirmation",e,t,1),e,t,0,1035,1185,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .form-container .thank-you h3, .module.user_upload .form-container .thank-you .description{ color: "),i.b(i.v(i.f("text_color_confirmation",e,t,0))),i.b(";} ")}),e.pop()),i.b(" "),i.s(i.f("header_color",e,t,1),e,t,0,1231,1295,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info h1{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("button_color",e,t,1),e,t,0,1330,1648,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ background-color: "),i.b(i.v(i.f("button_color",e,t,0))),i.b('; position: relative; overflow: hidden; } .module.user_upload .button:hover{ opacity: 0.9; } .module.user_upload .button:before{ content: ""; background-color: rgba(0, 0, 0, 0.08); z-index: -1; position: absolute; top: 0; left: 0; right: 0; bottom: 0; } ')}),e.pop()),i.b(" "),i.s(i.f("button_text_color",e,t,1),e,t,0,1688,1750,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ color: "),i.b(i.v(i.f("button_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("tips_link_color",e,t,1),e,t,0,1793,1870,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info .tips-button{ color: "),i.b(i.v(i.f("tips_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("progress_color",e,t,1),e,t,0,1910,1996,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices .slice, .progress-slices:before{ border-color: "),i.b(i.v(i.f("progress_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" "),i.s(i.f("progress_wheel_bg_color",e,t,1),e,t,0,2044,2138,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices, .progress-slices .slice.cover{ border-color: "),i.b(i.v(i.f("progress_wheel_bg_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" </style> ")}),e.pop()),a.b(' <div class="'),a.b(a.v(a.f("type",e,t,0))),a.b(" "),a.b(a.v(a.f("entity_type",e,t,0))),a.b('"> <div class="bound"> '),a.b(' <div class="content-container"> <div class="stunt-info rich-text-enabled'),a.s(a.f("contest_logo",e,t,1),e,t,1,0,0,"")||a.b(" no-logo"),a.b('"> <div class="details-container"> '),a.s(a.f("contest_logo",e,t,1),e,t,0,2451,2637,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="contest-logo" data-src="'),i.b(i.v(i.f("contest_logo",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,2546,2623,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img class="contest-logo no-src" src="'),i.b(i.v(i.f("contest_logo",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(" ")}),e.pop()),a.b(" <h1>"),a.b(a.t(a.f("start_header",e,t,0))),a.b('</h1> <div class="description">'),a.b(a.t(a.f("start_description",e,t,0))),a.b("</div> "),a.s(a.f("has_tips",e,t,1),e,t,0,2751,2803,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <h3 class="tips-button">'),i.b(i.v(i.d("translations.tips",e,t,0))),i.b("</h3> ")}),e.pop()),a.b(' </div> </div> <div class="form-container '),a.b(a.v(a.d("style_options.overlay_color_theme",e,t,0))),a.b('"> <div class="form-mask"> <h3 class="login-notice">'),a.b(a.v(a.d("translations.login",e,t,0))),a.b('</h3> <div class="button blue large disid-button"> '),a.s(a.f("start_button_text",e,t,1),e,t,0,3042,3063,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("start_button_text",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("start_button_text",e,t,1),e,t,1,0,0,"")||a.b(a.v(a.d("translations.start",e,t,0))),a.b(" </div> "),a.s(a.d("text_options.ie9_text",e,t,1),e,t,0,3186,3237,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="no-fileapi">'),i.b(i.v(i.d("text_options.ie9_text",e,t,0))),i.b("</p>")}),e.pop()),a.b(' </div> <form> <fieldset class="info-fs"> <legend><h3>'),a.b(a.v(a.d("translations.submission_info",e,t,0))),a.b("</h3></legend> "),a.s(a.f("fields",e,t,1),e,t,0,3375,3883,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("select",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("area",e,t,1),e,t,0,3397,3630,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="text-box"> <textarea type='),i.b(i.v(i.f("type",e,t,0))),i.b(' rows="'),i.b(i.v(i.f("numRows",e,t,0))),i.b('" class="has-count '),i.b(i.v(i.f("tag",e,t,0))),i.b('" name='),i.b(i.v(i.f("tag",e,t,0))),i.b(" "),i.s(i.f("label",e,t,1),e,t,0,3513,3536,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('placeholder="'),i.b(i.v(i.f("label",e,t,0))),i.b('"')}),e.pop()),i.b(' maxlength="'),i.b(i.v(i.f("maxLength",e,t,0))),i.b('"></textarea> <span class="count-remaining"></span> </div> ')}),e.pop()),i.b(" "),i.s(i.f("area",e,t,1),e,t,1,0,0,"")||(i.b(" <input type="),i.b(i.v(i.f("type",e,t,0))),i.b(" name="),i.b(i.v(i.f("tag",e,t,0))),i.b(' class="'),i.b(i.v(i.f("tag",e,t,0))),i.b('" placeholder="'),i.b(i.v(i.f("label",e,t,0))),i.b('"/> ')),i.b(" ")),i.b(" "),i.s(i.f("select",e,t,1),e,t,0,3759,3871,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <select name="),i.b(i.v(i.f("tag",e,t,0))),i.b(' class="'),i.b(i.v(i.f("tag",e,t,0))),i.b('"> '),i.s(i.f("options",e,t,1),e,t,0,3810,3848,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <option value="'),i.b(i.v(i.d(".",e,t,0))),i.b('">'),i.b(i.v(i.d(".",e,t,0))),i.b("</option> ")
}),e.pop()),i.b(" </select> ")}),e.pop()),i.b(" ")}),e.pop()),a.b(' </fieldset> <div class="file-name-container"> <div class="file-name"></div> <span class="delete-file"></span> </div> <div class="button silver small select-file visible"> '),a.b(a.v(a.f("select_file_button_text",e,t,0))),a.b(' <input type="file" name="file" required /> </div> <div class="button gold small begin-upload"> '),a.b(a.v(a.f("upload_file_button_text",e,t,0))),a.b(' </div> <div class="notification"></div> '),a.s(a.f("form_footnotes",e,t,1),e,t,0,4276,4343,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="footnotes rich-text-enabled">'),i.b(i.t(i.f("form_footnotes",e,t,0))),i.b("</div>")}),e.pop()),a.b(' </form> <div class="progress"> <div class="progress-indicator"> <div class="progress-slices"> <div class="slice slice-1"></div> <div class="slice cover"></div> <div class="slice slice-2"></div> </div> </div> <div class="uploading"> <h3>'),a.b(a.v(a.d("translations.uploading",e,t,0))),a.b('</h3> </div> <div class="thank-you rich-text-enabled"> '),a.s(a.f("thank_you_header",e,t,1),e,t,0,4701,4732,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b("<h3>"),i.b(i.t(i.f("thank_you_header",e,t,0))),i.b("</h3>")}),e.pop()),a.b(" "),a.s(a.f("thank_you_text",e,t,1),e,t,0,4773,4824,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="description">'),i.b(i.t(i.f("thank_you_text",e,t,0))),i.b("</div>")}),e.pop()),a.b(' </div> </div> </div> </div> </div> <div class="tips-bound"> <div class="close-icon close-tips"></div> <div class="bound"> '),a.s(a.f("helpful_tip_header",e,t,1),e,t,0,4989,5054,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<span class="tip-header"><h2>'),i.b(i.t(i.f("helpful_tip_header",e,t,0))),i.b("</h2></span>")}),e.pop()),a.b(' <div class="tips"> <div class="tips-container left"> <h3 class="tips-header"> '),a.s(a.f("dos_header",e,t,1),e,t,0,5171,5187,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.t(i.f("dos_header",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("dos_header",e,t,1),e,t,1,0,0,"")||a.b(a.v(a.d("translations.do",e,t,0))),a.b(" </h3> "),a.s(a.f("dos",e,t,1),e,t,0,5267,5313,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.f("dos",e,t,0))),i.b("</div>")}),e.pop()),a.b(' </div> <div class="tips-container right"> <h3 class="tips-header"> '),a.s(a.f("donts_header",e,t,1),e,t,0,5406,5424,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.t(i.f("donts_header",e,t,0)))}),e.pop()),a.b(" "),a.s(a.f("donts_header",e,t,1),e,t,1,0,0,"")||a.b(a.v(a.d("translations.do",e,t,0))),a.b(" </h3> "),a.s(a.f("donts",e,t,1),e,t,0,5512,5560,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.f("donts",e,t,0))),i.b("</div>")}),e.pop()),a.b(" </div> "),a.s(a.f("helpful_tip_footnote",e,t,1),e,t,0,5603,5658,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('<p class="tips-footnote">'),i.b(i.t(i.f("helpful_tip_footnote",e,t,0))),i.b("</p>")}),e.pop()),a.b(' <div class="button silver small close-button close-tips">'),a.b(a.v(a.d("translations.close_button",e,t,0))),a.b("</div> </div> </div> </div> </div>"),a.fl()},partials:{},subs:{}}),Whiskers("partials.character_countdown",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b(' <textarea type="text" rows="'),a.s(a.f("rows",e,t,1),e,t,0,99,107,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.v(i.f("rows",e,t,0)))}),e.pop()),a.s(a.f("rows",e,t,1),e,t,1,0,0,"")||a.b("1"),a.b('" class="has-count" name="'),a.b(a.v(a.f("tag",e,t,0))),a.b('" placeholder="'),a.b(a.v(a.f("label",e,t,0))),a.b('" maxlength="'),a.b(a.v(a.f("maxLength",e,t,0))),a.b('"'),a.s(a.f("required",e,t,1),e,t,0,232,241,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" required")}),e.pop()),a.b(" /> "),a.b(' <div class="count-bg"></div> <span class="count-remaining"></span>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t,i,a=e.Grill,n=e.Disney,r=e.Whiskers,s=e.Backbone,o=e.Tracker,l=e._,c=e.jQuery,d=n.Style.breakpoints,u=d.midHigh.toString();a.ModuleView.register("user_upload",{breakpoints:u,template:r.modules.user_upload,progressConfig:{step_pct:5,min_millis:800},events:{"click .disid-button":function(){this.handleGetStartedClick()},"click .begin-upload":function(){this.beginUpload()},"click .tips-button":function(){this.handleTipsClick()},"click .close-tips":function(){this.handleTipsClose()},"click .delete-file":function(){this.handleFileNameClick()},'change input[type="file"]':function(e){this.updateSelectedFile(e)},"change select":function(){this.updateSelect()}},initialize:function(){var t=this,a=100/this.progressConfig.step_pct,r=this.progressConfig.min_millis/a,s=l.first(this.model.get("data")).campaign_id,o="http://a.dilcdn.com/sa/ugc/wisp-client/ugcAPI-browser.js",d=n.Cellophane.base_uri+"/ugc/kidsascreators/v1",u={Authorization:n.Cellophane.auth_key};l.extend(this.progressConfig,{num_steps:a,min_interval:r}),n.guest.retain(),l.bindAll(this),c.getScript(o).done(function(){e.ugcAPI.discover(d,{headers:u}).then(function(e){e.campaigns.get({id:s}).then(function(e){i=e,t.safeRender(e)})})})},parseCampaign:function(){var e=[],t={integer:"number",string:"text"},a=i.submissionMetadata;return l.each(a.properties,function(i,n){e.push({label:i.title,type:t[i.type],tag:n,required:l.contains(a.required,n),options:i["enum"],select:!!i["enum"],area:i.maxLength>100,maxLength:i.maxLength||140,numRows:i.maxLength>200?5:3})}),e},safeRender:function(){var e=this,i=this.template,a=l.first(this.model.get("data"));t=this.parseCampaign();var r=e.generateRenderContext(a);e.$el.html(i.render(r)),e.countdown(),n.guest.refresh().then(e.revealForm)},render:function(){i?this.safeRender():this.$el.html("")},updateSelect:function(){this.$("select").each(function(){var e=c(this),t=e.find("option:selected"),i=0===t.index();e.toggleClass("empty",i&&""===e.val())})},updateSelectedFile:function(e){if(this.activeFile=e&&e.currentTarget,this.resetAlert(),this.activeFile){var t=this.activeFile.files[0],i=t.name;this.$(".file-name-container").addClass("visible"),this.$(".file-name").text(i),this.$(".select-file").removeClass("visible"),this.$(".begin-upload").addClass("visible"),this.$(".footnotes").addClass("visible")}else this.$('form input[type="file"]')[0].value=null,this.$(".file-name-container").removeClass("visible"),this.$(".file-name").text(""),this.$(".select-file").addClass("visible"),this.$(".begin-upload").removeClass("visible"),this.$(".footnotes").removeClass("visible")},revealForm:function(t){this.authz=t.token.access_token,o.event({eventCategory:"ugcUpload",action:"form_visible",label:e.location.href}),c(".user_upload .form-mask").fadeOut(150),c(".user_upload .form-container form, .form-container").addClass("visible"),this.$(":input:visible:first").focus()},uploadFile:function(){var a,r=this,s=this.$("form"),l=s.find('input[type="file"]')[0].files[0],c={},d={Authorization:n.Cellophane.auth_key+",DisneyID token="+this.authz};if(t.forEach(function(e){var t=s.find('[name="'+e.tag+'"]').val();c[e.tag]=t,e.required&&!t.length&&(a=e.label)}),a)return void this.showAlert(a+" is required!");var u={filename:l.name,metadata:c};o.event({eventCategory:"ugcUpload",action:"start",label:e.location.href}),this.showProgress(),i.submissions.create(l,u,{headers:d}).then(function(){o.event({eventCategory:"ugcUpload",action:"success",label:e.location.href}),r.handleUploadSuccess()},function(t){o.event({eventCategory:"ugcUpload",action:"failed",label:e.location.href}),r.handleUploadFailure(t.statusCode)})},beginUpload:function(){this.$(".uploading").addClass("visible"),this.uploadFile()},showProgress:function(){this.resetProgressIndicator(),this.$("form").addClass("hide"),this.$(".progress").addClass("visible")},hideProgress:function(){this.$(".progress").removeClass("visible"),this.$("form").delay(1e3).removeClass("hide"),this.resetProgressIndicator()},updateProgressIndicator:function(e,t){var i=this.progressConfig,a=Math.floor(t/i.min_interval),n=Math.min(a*i.step_pct,100),r=Math.min(e,n);this.updateProgressIndicatorProperties("true",r),100===r&&this.$(".progress-indicator").attr("data-loading","false")},updateProgressIndicatorProperties:function(e,t){var i=this.$(".progress-indicator");i.attr("data-loading",e),i.attr("data-progress",t)},resetProgressIndicator:function(){var e=this.$(".progress-indicator");e.attr("data-loading","false"),e.attr("data-progress","0"),e.removeClass("upload-success")},handleUploadSuccess:function(){var t,i=this,a=parseInt(this.$(".progress-indicator").attr("data-progress"),10),n=this.progressConfig;100===a?this.revealSuccess():t=e.setInterval(function(){a+=n.step_pct,100===a?(i.updateProgressIndicatorProperties("false",a),i.revealSuccess(),e.clearInterval(t),i.$(".progress-indicator").attr("data-loading","false")):i.updateProgressIndicatorProperties("true",a)},n.min_interval)},revealSuccess:function(){this.$(".progress-indicator").addClass("upload-success"),this.$(".thank-you").addClass("visible"),this.$(".uploading").removeClass("visible")},handleUploadFailure:function(e){var t="error_"+e,i="Oops, something went wrong. Please try again later.",a=this.model.get("translations")||{},n=this.model.get("text_options")||{},r=n[t]||a[t]||i;this.$(".uploading").removeClass("visible"),this.revealError(r)},revealError:function(e){this.hideProgress(),this.showAlert(e),this.resetProgressIndicator()},showAlert:function(e){this.$(".notification").removeClass("notice").addClass("alert").stop(!0).hide().text(e).slideDown(500)},resetAlert:function(){this.$(".notification").addClass("notice").removeClass("alert").hide()},handleFileNameClick:function(){this.updateSelectedFile(null)},handleTipsClick:function(){c(".tips-bound").addClass("visible"),c(".modal-overlay").addClass("ugc-show")},handleTipsClose:function(){c(".tips-bound").removeClass("visible"),c(".modal-overlay").removeClass("ugc-show")},handleGetStartedClick:function(){n.guest.login().then(this.revealForm)},countdown:function(){var e=this.$(".has-count"),t=e.attr("maxlength"),i=e.siblings(".count-remaining");i.html(t),n.FormElements.characterCountdown.onReady(e,t,i)},generateRenderContext:function(e){var i,a=this.model.toJSON(),n=s.Resize.width();l.extend(a,a.data[0]);var r=!l.isEmpty(a.dos)||!l.isEmpty(a.donts),o=this.model.get(n<d.midHigh?"start_background_mobile_image":"start_background_desktop_image");return l.extend(a,{fields:t,has_tips:r,character_countdown:i,background_image:o},e),a}})}(this),Whiskers("modules.view_stickerbook",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,920,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="stickerbook-image-container"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="stickerbook-image '),i.s(i.f("preloaded",e,t,1),e,t,1,0,0,"")||i.b("no-src"),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-src="'),i.b(i.v(i.d("image.base_url",e,t,0))),i.b('" '),i.s(i.f("preloaded",e,t,1),e,t,0,191,215,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' src="'),i.b(i.v(i.f("preloaded_src",e,t,0))),i.b('"')}),e.pop()),i.b(">")),i.b(" "),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,325,425,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<noscript><img src="'),i.b(i.v(i.f("stickerbook_image_url",e,t,0))),i.b('" class="stickerbook-image" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"></noscript>')}),e.pop()),i.b(' <span class="loader loading"></span> </div> <div class="bound '),i.b(i.v(i.f("entity_type",e,t,0))),i.b('"> <section class="stickerbook-meta left"> <span>'),i.b(i.v(i.d("translations.created_by",e,t,0))),i.b('</span> <a href="'),i.b(i.v(i.f("profile_url",e,t,0))),i.b('"><!-- REPLACE WITH DISPLAY NAME -->'),i.b(i.v(i.f("user_id",e,t,0))),i.b('</a> </section> <section class="stickerbook-meta right"> <div class="social"> '),i.b(i.rp("<socialLinkPartial0",e,t,"")),i.b(' </div> <div class="stickerbook-app-info"> <span>'),i.b(i.v(i.d("translations.added",e,t,0))),i.b(" "),i.b(i.v(i.f("post_date_diff",e,t,0))),i.b(' </span> <a href="">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> </div> </section> </div> ")}),e.pop()),a.fl()},partials:{"<socialLinkPartial0":{name:"socialLinkPartial",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Disney,a=e._,n=e.jQuery,r=e.Whiskers,s=i.Style.breakpoints,o=a.values(s);t.ModuleView.register("view_stickerbook",{style_classes:["skip-top-border","full-width"],template:r.modules.view_stickerbook,social_link:r.partials.social_link,breakpoints:o.join(" "),initialize:function(){var e=a.first(this.model.get("data"));this.stickerbook_image_url=e.image&&e.image.base_url,this.profile_url=i.profileBase+"/"+e.user_id},render:function(){var e=a.extend({cds:this.options.cds,profile_url:this.profile_url},this.model);this.$el.html(this.template.render(e,{socialLinkPartial:r.partials.social_btn}))},ready:function(){var t=this,i=n("<img>"),a=t.$(".social-link-btn");i.on("load",function(){t.sizeImage(i),t.$(".loader").toggleClass("loading"),t.$el.loadLazyImages()}),i.attr("src",t.stickerbook_image_url),a.data("source",e.location.href)},resize:function(){var e=this,t=n("<img/>").attr("src",e.stickerbook_image_url);e.sizeImage(t)},sizeImage:function(e){var t=this,i=Math.floor(t.$el[0].clientWidth*e[0].height/e[0].width),a=575;t.$(".stickerbook-image").toggleClass("tall-image",i>a)}})}(this),Whiskers("modules.voting_multi",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("style_options",e,t,1),e,t,0,18,2498,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("color_settings",e,t,1),e,t,0,62,1618,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("base_color",e,t,1),e,t,0,78,725,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category .item{ background-color: "),i.b(i.v(i.f("base_color",e,t,0))),i.b("; } "),i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category .item.voted{ background-color: transparent; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue:not(.next-button), #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.all-categories-button, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.voted .title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.voted .desc, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.error .title, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .entity-container.error .desc, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.selected, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:active{ color: "),i.b(i.v(i.f("base_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("accent_color",e,t,1),e,t,0,758,1260,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.all-categories-button, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category:not(.landing-page) .item .aspect:before, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.blue:active, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.selected, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .category-link.item:active{ background-color: "),i.b(i.v(i.f("accent_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .next-button .next-text{ color: "),i.b(i.v(i.f("accent_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("error_modal",e,t,1),e,t,0,1294,1443,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,1316,1421,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .voting-category:not(.landing-page) .item:after{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("sponsorship_background_color",e,t,1),e,t,0,1493,1584,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .sponsorship-container{ background-color: "),i.b(i.v(i.f("sponsorship_background_color",e,t,0))),i.b(" } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("next_button",e,t,1),e,t,0,1654,1884,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,1676,1862,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.next-button, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.next-button:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.next-button:active{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("vote_again_button",e,t,1),e,t,0,1923,2127,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.vote-again-button, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.vote-again-button:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .button.vote-again-button:active{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("message_color",e,t,1),e,t,0,2168,2470,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,2190,2448,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .end-card .message-wrapper p{ border-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .social-link-btn, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .social-link-btn:hover, html.no-touch #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .social-link-btn:active{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </style> ")}),e.pop()),a.b(' <div class="bound'),a.s(a.f("enable_all_categories",e,t,1),e,t,0,2560,2583,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" all-categories-enabled")}),e.pop()),a.b(' "> <div class="voting-wrapper'),a.s(a.f("show_desc",e,t,1),e,t,0,2653,2663,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" show-desc")}),e.pop()),a.b('"> '),a.b(" "),a.s(a.f("data",e,t,1),e,t,0,2708,5835,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("listCollection",e,t,1),e,t,0,2728,5815,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("endcard",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="voting-category '),i.s(i.f("active",e,t,1),e,t,0,2781,2787,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),i.s(i.f("landing",e,t,1),e,t,0,2810,2823,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" landing-page")}),e.pop()),i.s(i.f("thumbs_loaded",e,t,1),e,t,1,0,0,"")||i.b(" lazy-deferred"),i.b('" data-id="'),i.b(i.v(i.f("display_id",e,t,0))),i.b('" data-category-slug="'),i.b(i.v(i.f("slug",e,t,0))),i.b('" data-category-title="'),i.s(i.f("single_category",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("title",e,t,0))),i.b(" "),i.s(i.f("single_category",e,t,1),e,t,0,3033,3049,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("voting_title",e,t,0)))}),e.pop()),i.b('"'),i.s(i.f("fallback",e,t,1),e,t,0,3083,3104,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-fallback="true"')}),e.pop()),i.b("> "),i.s(i.f("sponsorship_options",e,t,1),e,t,0,3143,3830,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("tracking_sponsor_name",e,t,1),e,t,0,3170,3803,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="sponsorship-container '),i.s(i.f("enable_all_categories",e,t,1),e,t,0,3231,3253,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("all-categories-enabled")}),e.pop()),i.b(" "),i.s(i.f("brand_name",e,t,1),e,t,0,3295,3315,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" brand-name-enabled ")}),e.pop()),i.b('" data-sponsor-title="'),i.b(i.v(i.f("tracking_sponsor_name",e,t,0))),i.b('"> <div class="sponsor-content"> <p class="sponsored-by">'),i.b(i.v(i.f("sponsored_by_copy",e,t,0))),i.b("</p> "),i.s(i.f("brand_name",e,t,1),e,t,0,3475,3510,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="brand">'),i.b(i.v(i.f("brand_name",e,t,0))),i.b("</p>")}),e.pop()),i.b(" </div> <a "),i.s(i.f("logo_url",e,t,1),e,t,0,3549,3639,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('href="'),i.b(i.v(i.f("logo_url",e,t,0))),i.b('" '),i.s(i.f("sponsor_min_age",e,t,1),e,t,0,3589,3619,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-age="'),i.b(i.v(i.f("sponsor_min_age",e,t,0))),i.b('"')}),e.pop())}),e.pop()),i.b(' target="_blank"> <img class="sponsor-logo" alt="'),i.b(i.v(i.f("brand_name",e,t,0))),i.b('" src="'),i.b(i.v(i.d("logo.logo_image",e,t,0))),i.b('" data-sponsor-title="'),i.b(i.v(i.f("tracking_sponsor_name",e,t,0))),i.b('"> </a> </div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("single_category",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="category-header module_header"> <h2>'),i.b(i.v(i.f("title",e,t,0))),i.b("</h2> <p>"),i.b(i.v(i.f("short_desc",e,t,0))),i.b("</p> </div> ")),i.b(" "),i.s(i.f("single_category",e,t,1),e,t,0,4009,4108,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="category-header module_header"> <h2>'),i.b(i.v(i.f("voting_title",e,t,0))),i.b("</h2> <p>"),i.b(i.v(i.f("main_desc",e,t,0))),i.b("</p> </div> ")}),e.pop()),i.b(' <div class="cols-'),i.b(i.v(i.f("cols",e,t,0))),i.b(" col-container "),i.b(i.v(i.f("layoutType",e,t,0))),i.b('"> '),i.s(i.f("listCollection",e,t,1),e,t,0,4205,4940,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <span class="col item '),i.s(i.f("lastRow",e,t,1),e,t,0,4356,4364,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),i.b(" "),i.s(i.f("widthClass",e,t,1),e,t,0,4392,4406,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("widthClass",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("category",e,t,1),e,t,0,4435,4449,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" category-link")}),e.pop()),i.b(" "),i.s(i.d("style_options.color_settings",e,t,1),e,t,0,4496,4519,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-category="'),i.b(i.v(i.f("ref_title_slug",e,t,0))),i.b('"'),i.s(i.f("fallback",e,t,1),e,t,0,4618,4639,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-fallback="true"')}),e.pop()),i.b("> "),i.b(i.rp("<entity_container0",e,t,"")),i.b(" "),i.s(i.f("display_interactive_elements",e,t,1),e,t,0,4709,4898,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="modal-message '),i.s(i.d("style_options.error_modal",e,t,1),e,t,0,4766,4789,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('"> <h4 class="title">'),i.b(i.v(i.d("translations.error",e,t,0))),i.b('</h4><p class="message"></p> </div> ')}),e.pop()),i.b(" </span> ")}),e.pop()),i.b(" </div> </div> ")),i.b(" "),i.s(i.f("endcard",e,t,1),e,t,0,4999,5802,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="voting-category end-card '),i.s(i.f("active",e,t,1),e,t,0,5048,5054,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),i.b('" data-id="'),i.b(i.v(i.f("display_id",e,t,0))),i.b('"> <div class="content-wrapper content-center content-middle"> '),i.s(i.f("text_options",e,t,1),e,t,0,5170,5292,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.d("text_options.confirmation_heading",e,t,1),e,t,0,5208,5254,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<h2>"),i.b(i.v(i.d("text_options.confirmation_heading",e,t,0))),i.b("</h2>")}),e.pop())}),e.pop()),i.b(' <div class="message-wrapper"> '),i.s(i.f("text_options",e,t,1),e,t,0,5357,5499,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.d("text_options.confirmation_paragraph",e,t,1),e,t,0,5397,5459,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="message">'),i.b(i.v(i.d("text_options.confirmation_paragraph",e,t,0))),i.b("</p>")}),e.pop())}),e.pop()),i.b(' <div class="vote-again-button button large '),i.s(i.d("style_options.vote_again_button",e,t,1),e,t,0,5596,5619,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('"> '),i.b(i.v(i.d("translations.vote_again",e,t,0))),i.b(" </div> </div> "),i.s(i.f("include_social",e,t,1),e,t,0,5719,5768,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="social-wrapper">'),i.b(i.rp("<social_btn1",e,t,"")),i.b("</div>")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),a.b(" "),a.s(a.f("display_interactive_elements",e,t,1),e,t,0,5878,6422,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enable_all_categories",e,t,1),e,t,0,5905,5992,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="all-categories-button button large">'),i.b(i.v(i.d("translations.all_categories",e,t,0))),i.b("</div> ")}),e.pop()),i.b(" "),i.s(i.f("single_category",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="next-button-wrapper"> '),i.b(' <div class="next-button button large '),i.s(i.d("style_options.next_button",e,t,1),e,t,0,6219,6242,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("text-"),i.b(i.v(i.f("text_lightness",e,t,0)))}),e.pop()),i.b('"> <span class="next-text">'),i.b(i.v(i.d("translations.next_category",e,t,0))),i.b('</span> <span class="next-title">'),i.b(i.v(i.f("current_title",e,t,0))),i.b("</span> </div> </div> ")),i.b(" ")}),e.pop()),a.b(" </div> </div>"),a.fl()},partials:{"<entity_container0":{name:"entity_container",partials:{},subs:{}},"<social_btn1":{name:"social_btn",partials:{},subs:{}}},subs:{}}),function(e){"use strict";function t(e){d.fn.extend({replaceChildText:function(e,t){var i=this.find(e);return i.text(t),this},replaceVoteText:function(e){return this.replaceChildText(".cta-button",e)},replaceNextTitle:function(e){return this.replaceChildText(".next-title",e)},replaceErrorText:function(e){return this.replaceChildText(".message",e)},animateVoteSuccess:function(){return this.addClass("voted").replaceVoteText(e.voted)},animateVoteFail:function(t){var i=this;return this.one("transitionend",function(){u.delay(function(){i.removeClass("error")},2e3)}),this.replaceErrorText(409===t?e.error_voting_limit:e.error_message_generic),this.addClass("error")},resetVoteState:function(){return this.removeClass("voted").replaceVoteText(e.vote)},activateCategory:function(e){var t=this.addClass("active");return t.hasClass("lazy-deferred")&&!t.hasClass("end-card")&&t.enableLazyLoad().loadLazyImages(),t.on("transitionend",function(i){if(2===i.eventPhase&&(i.stopPropagation(),"max-height"===i.originalEvent.propertyName)){t.off("transitionend");var a={type:"categoryTransitioned",categoryID:e.nextCategory.get("display_id"),nextButtonText:e.afterNextDesc};t.trigger(a)}}),t},deactivateCategory:function(){return this.removeClass("active")},getNextCategory:function(e){var t=".voting-category:not(.landing-page)"+(e?":not(.end-card)":""),i=this.next(t);return i.length<1&&(i=this.siblings(t).first()),i}})}function i(e){e.unset("active")}function a(e){return e.toLowerCase().replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g,"_")}function n(e,t){var i=e.get,a=i?e.get("list_items")||e.get("data"):e.list_items;a?(u.each(a,function(e){n(e,t)}),i?e.set({listCollection:new l.LazyCollection(a),display_id:e.id,main_desc:e.description,voting_title:e.title}):(e.listCollection=new l.LazyCollection(a),e.display_id=e.id,e.main_desc=e.description,e.voting_title=e.title)):e.entity_config&&(u.extend(e,{cta_button_title:t||"VOTE",href:!0,short_desc:e.short_desc||"",thumb_data:e.thumb_images&&e.thumb_images.thumb_4x3||e.thumbnail_image&&e.thumbnail_image.thumb_4x3||e.thumb_data}),u.extend(e.entity_config,{aspect_ratio:"4x3",title_overlay:!1,details_visibility:"show",thumb_outline:!0,text_alignment:"center",rounded_corners:"default",skip_hover:!0,show_ptitle:!0}))}var r=e.Disney,s=e.Grill,o=e.Whiskers,l=e.Backbone,c=e.Tracker,d=e.jQuery,u=e._,h=r.Style.breakpoints,f=u.values(h),p=s.ModuleView.extend({style_classes:["grid-view","full-width-mob"],required_template_sets:["module_header","entities"],breakpoints:f.join(" "),template:o.modules.voting_multi,included_components:{social_btn:o.partials.social_btn},infiniteVote:!0,skipEndCard:!1,events:{"click .next-button":function(){this.trackButtonClick("Next Category"),this.jumpToCategory("next")},"click .all-categories-button":function(){this.trackButtonClick("All Categories"),this.jumpToCategory("landing")},"click .vote-again-button":function(){this.trackButtonClick("Vote Again"),this.jumpToCategory(this.initialCategoryID)},"click .sponsor-logo":function(e){this.trackSponsorClick(e)},"click .item:not(.category-link)":function(e){e.preventDefault();var t=d(e.currentTarget).closest(".item");t.hasClass("voted")||t.hasClass("error")||this.handleVoteClick(t)},"click .item.category-link":function(e){var t=d(e.currentTarget),i=t.data("id");t.addClass("selected"),this.skipEndCard=!0,this.trackCategoryItem(t),this.jumpToCategory(i),this.model.get("enable_endcard")&&this.reIndexEndCard(i),this.skipEndCard=!1},categoryTransitioned:function(e){this.infiniteVote&&this.resetVoteItems(),this.replaceNextButtonText(e.nextButtonText),this.updateHash(e.categoryID),this.$(".category-link.selected").removeClass("selected")}},initialize:function(){if(this.dataValid=this.validateData(),t(this.model.get("translations")),this.dataValid){var i,a=this.model,s=a.get("data"),o=a.get("data_structure"),l=a.get("title"),c=a.get("desc"),d=a.get("translations"),h=a.get("config_options")||{},f=h.endcard_config,p=!!h.skip_category_page,m=!!h.show_desc;i="single_category"!==o?a:u.first(a.data.models),this.activityStreamNamespace=u.first(s).activity_stream_namespace;var g=!!u.first(s).auth_required;this.auth_required=g,this.cellophane={host:r.Cellophane.base_uri.replace(/(\/int)?\/?$/,""),auth_key:r.Cellophane.auth_key},h.shuffle_content&&this.shuffleData(i),a.set({show_desc:m,enable_endcard:!!f,enable_all_categories:!f&&"single_category"!==o,voting_title:l,main_desc:c}),n(i,d.vote);var b,v,y=i.get("listCollection"),k=y.at(0);if("single_category"!==o){var _=this.addLandingPage(i);k=p?y.at(1):_}if(k.set("fallback",!0),f&&(this.endCardModel=this.generateEndCard()),e.location.hash){var w=/(#)([a-z0-9]*)/,x=w.exec(e.location.hash),C=x&&x[2];b=y.findWhere({display_id:C})}b=b||k,v=y.indexOf(b),this.initialCategoryID=b.id,this.activateCategoryModel(b),y.add(this.endCardModel,{at:v}),this.masterCollection=y,a.data.models=[i],this.auth_required&&r.guest.retain()}},render:function(){if(this.dataValid){var t=this.cols(),i=this.model.get("data_structure"),a=this.cols(!0),n=e.location,r=u.extend(this.model,{display_interactive_elements:!0,single_category:"single_category"===i,shareOverrides:{href:n.protocol+"//"+n.hostname+n.pathname},cols:function(){return this.get("landing")?a:t},layoutType:function(){return t>1||this.get("landing")?"grid-layout":"list-layout"}});this.$el.html(this.template.render(r,this.ctx_additions())),this.$nextButton=this.$(".next-button-wrapper"),this.$endCard=this.$(".end-card");var s=this.getTargetElements();this.replaceNextButtonText(s.nextDesc)}},cols:function(e){var t=l.Resize.width(),i=t>h.midHigh;return e?t>h.max?4:i?3:2:i?4:1},validateData:function(){var e=this.model,t=e.get("view"),i=u.first(e.data.models),a=i&&i.get("list_items");if(!a)return!1;a.length>1&&"voting_single"===t&&(a=u.first(a));var n=a.length>1?"multiple_category":"single_category";return e.set("data_structure",n),!0},shuffleData:function(e){var t=this.model.get("data_structure");if("single_category"!==t){var i=e.get("data");e.set("data",u.shuffle(i)),u.each(i,function(e){e.list_items=u.shuffle(e.list_items)})}else e.set("list_items",u.shuffle(e.get("list_items")))},addLandingPage:function(e){var t,i=e.get("list_items")||e.get("data");u.each(i,function(e){u.extend(e,{category:!0})}),t=new l.LazyCollection(i);var a=new l.Model({title:this.model.get("title"),short_desc:this.model.get("desc"),listCollection:t,display_id:"",landing:!0});return e.get("listCollection").unshift(a),a},generateEndCard:function(){var e=this.model,t=e.get("translations"),i=e.get("config_options"),n=i&&i.endcard_config,r=!!n,s=!this.options.cds&&n&&n.enable_social,o=e.get("style_options"),c=o&&o.message_color&&o.message_color.text_lightness,d=e.get("text_options").confirmation_heading,u=a(d||t.vote_again),h=new l.Model({display_id:u,endcard:!0,enable_endcard:r,include_social:s,social_btn_text_lightness:c});return h},reIndexEndCard:function(e){var t=this.masterCollection,i=t.findWhere({display_id:e}),a=this.$(".voting-category[data-id="+e+"]");t.remove(this.endCardModel);var n=this.$endCard.detach(),r=t.indexOf(i);t.add(this.endCardModel,{at:r}),a.before(n)},jumpToCategory:function(e){var t,i=this.masterCollection,a=this.model.get("data_structure");switch(e){case"next":t=this.getTargetElements();break;case"landing":t=this.getTargetElements(this.$(".voting-category.landing-page"));break;case"endcard":t=this.getTargetElements(this.$(".voting-category.end-card"));break;default:var n,r=i.findWhere({display_id:e});n=this.$(r?".voting-category[data-id="+e+"]":".voting-category[data-fallback='true']"),t=this.getTargetElements(n)
}"single_category"!==a&&this.transitionCategory(t)},transitionCategory:function(e){i(e.active),this.activateCategoryModel(e.nextCategory),e.$current.deactivateCategory(),e.$next.activateCategory(e)},updateHash:function(t){e.location.replace("#"+t)},replaceNextButtonText:function(e){var t=this.$nextButton;t.toggleClass("hidden",!e),t.replaceNextTitle(e?e:"")},activateCategoryModel:function(e){var t,i;e&&(t=e.get("landing"),i=e.get("slug"),e.set({active:!0,thumbs_loaded:!0})),t?this.trackCategoryPage("Splash"):this.trackCategoryPage("Nominees",i)},getTargetElements:function(e){var t=this.$(".voting-category.active"),i=e||t.getNextCategory(this.skipEndCard),a=i.getNextCategory(this.skipEndCard),n=this.masterCollection,r=n.findWhere({active:!0}),s=i.data("id"),o=n.findWhere({display_id:s}),l=a.data("id"),c=n.findWhere({display_id:l}),d={$current:t,$next:i,active:r,nextCategory:o,nextDesc:o&&o.get("short_desc"),afterNextCategory:c,afterNextDesc:c&&c.get("short_desc")};return d},handleVoteClick:function(e){var t=this;t.auth_required?r.guest.login().then(function(i){t.processDisID(i,e)}):t.processVote(e)},processDisID:function(e,t){this.authz=e.token.access_token,this.swid=e.profile.swid,this.processVote(t)},processVote:function(e){this.makeVoteRequest(e),this.trackVoteItem(e)},makeVoteRequest:function(e){var t=this,i=t.model,a=e.closest(".voting-category"),n=a.data("id"),s=e.find(".entity-link").data("title"),o=a.data("category-title"),l=e.data("id"),c=o,u=r.visitorId(),h=this.auth_required?"auth":"anonymous",f=this.cellophane.auth_key,p=this.auth_required?f+", Bearer "+this.authz:f,m={pollId:n,voteId:l,title:"Voted for "+s+" in the '"+c+"' contest!",voteDisplayName:s,pollDisplayName:c,pollType:i.get("type")};this.swid?m.swid=this.swid:m.anonymousid=u,d.ajax({timeout:3e3,url:this.cellophane.host+"/disneynetwork/activitystream/v2/publish/"+h+"/"+this.activityStreamNamespace+"/submit/vote",headers:{Authorization:p},type:"POST",data:JSON.stringify(m)}).done(function(){e.one("transitionend",function(){t.jumpToCategory("next")}).animateVoteSuccess(),t.recordVotedItem(l)}).fail(function(t){e.animateVoteFail(t.status)})},recordVotedItem:function(e){var t=this,i=t.model.get("list_items")||[],a=t.model.get("translations").voted||"VOTED",n=u.find(i,function(t){return t.id===e})||{};n.voted=!0,n.cta_button_title=a},resetVoteItems:function(){this.$(".item.voted").resetVoteState()},trackCategoryPage:function(e,t){if(c){var i={engagementType:"mattVote_category"+e+"_view",action:"Vote Category "+e+" (Page Load)"};t&&(i.engagementMeta=t),c.event(i)}},trackCategoryItem:function(e){var t=e.data("category");c&&c.event({engagementType:"mattVote_categorySplash_selectCategory",engagementMeta:t,action:"Vote Category Selection (Click)"})},trackVoteItem:function(e){var t=e.data("category"),i=a(e.find(".entity-container .title").text()),n=t+"/"+i;c&&c.event({engagementType:"mattVote_categoryNominees_vote",engagementMeta:n,action:"Vote Button (Click)"})},trackButtonClick:function(e){var t=this.$(".voting-category.active .item").data("category"),i=(e.charAt(0).toLowerCase()+e.slice(1)).replace(/\s+/g,"");c&&c.event({engagementType:"mattVote_categoryNominees_"+i+"Button",engagementMeta:t,action:'"'+e+'" Button (Click)'})},trackSponsorClick:function(e){var t=d(e.currentTarget),i=t.data("sponsor-title"),a=t.closest(".voting-category"),n=a.data("category-title");c&&c.event({engagementType:"voting_sponsor",engagementMeta:n+"_"+i})}});p.register("voting_multi",{}),p.register("voting_single",{})}(this),function(e){"use strict";var t,i=e.Disney,a=e.Grill,n=e.Backbone,r=e._,s=e.jQuery,o=e.Whiskers,l=e.Math,c=e.sessionStorage,d=e.JSON,u=a.ModuleView.extend({style_classes:["full-width","full-height","skip-top-border"],required_template_sets:["module_header","entities"],template:o.modules.watch,assets:{scripts:["//a.dilcdn.com/a/videoplayer-c7d942b2f782.js"]},initialize:function(){var t=this,a=this.model.get("config_options"),n=this.model.collection&&this.model.collection.style,o=n&&n.video_player_skin_override;if(t.options.autoplay_mute=a&&a.autoplay_mute,o&&"matterhorn"!==o){var l=i.Style.AssetPaths.supported_videoplayer_skins;r.extend(this.playerConfig,{skinUrl:l[o]}),this.skinClass=o}this.hasPlaylist=!!/[&?]playlist=([^&]+)/.exec(e.location.search),t.h=s(e).on("resize."+t.cid,r.throttle(function(){var i=s(e).height();i!==t.h&&(t.h=i,t.layout())},100)).height()},render:function(){var e=r.first(this.model.get("data")),i=this.hidePromoLink?null:e.contentToolbarPromoLink,a=r.extend({tags:e.tags,contenttype:e.contenttype,upNext:this.upNext(),contentToolbarPromoLink:i,cds:this.options.cds,skinClass:this.skinClass,playlist_below:this.playlist_below,message_below:this.message_below,hasPlaylist:this.hasPlaylist},this.options.ads.helpers(),this.model.toJSON());this.$el.html(this.template.render(a,this.ctx_additions())),t=a.data[0],this.layout()},ready:function(){var t,a=this,n=a.options,s=r.first(a.model.get("data")),o=a.model.get("translations");if(a.loadContentSideBarView(),a.loadItemsWithinModule&&e.location.hash){var l=/(idx\/)([a-z0-9]*)/,c=l.exec(e.location.hash);c&&c[2]&&c[2]!==s.id&&(t=c[2],a.player=null)}s.ads=s.ads||{},s.ads.context=n.ads,r.extend(this.playerConfig,{video:s,autoPlay_mute:n.autoplay_mute,ads:{enabled:!n.cds&&!n.noAds},translations:o}),"undefined"==typeof t&&(this.player=new i.MatterhornVideoPlayer("player",this.playerConfig)),this.hasPlaylist&&(this.watchPlaylist=new i.WatchPlaylistView({el:this.$("#playlist-holder"),model:this.model,videoPlayer:this.player,cdsMode:n.cds,keepPlayListOpenOnLoad:a.keepPlayListOpenOnLoad,loadItemsWithinModule:a.loadItemsWithinModule,itemToPlayOnLoad:t})),a.postReady&&a.postReady()},loadContentSideBarView:function(){this.loadContentToolBarView()},loadContentToolBarView:function(){var e=this,t=e.options,a=e.$("#meta"),n=e.model.get("data")[0].not_embeddable,r=e.model.get("translations"),s=[{share_type:"share",share_text:r.share,output_label:r.quick_link}];n!==!0&&s.unshift({share_type:"embed",share_text:r.embed,output_label:r.embed}),e.$(".module_header").addClass("hide"),e.tb=new i.ContentToolbarView({el:a,template:e.toolbar_template,use_deprecated_social:e.use_deprecated_social,model:e.model,socialLinks:s,cdsMode:t.cds,ads:t.ads})},upNext:function(){var e=r.first(this.model.get("data")),t=c&&d.parse(c.getItem("videoHistoryOnDisneyVideo")||"[]"),i=e.next||[],a=[];r.each(i,function(e){a.push(e.id)});var n=r.first(r.difference(a,t)),s=r.find(i,function(e){return e.id===n});s||(s=r.first(i)),t.push(e.id),t.length>10&&t.shift();try{c.setItem("videoHistoryOnDisneyVideo",d.stringify(t))}catch(o){}return s},layout:function(){var e=this.$("#video_wrapper .bound");e.css("maxWidth",l.min(1024,l.max(320,l.ceil((this.h-120)/.5625))))},remove:function(){this.removePlayer(),a.BunView.prototype.remove.call(this),s(e).off("resize."+this.cid),this.tb.remove(),this.watchPlaylist&&this.watchPlaylist.remove()},removePlayer:function(){this.player&&(this.player.destroy(),this.player=null)}});u.register("watch",{toolbar_template:o.shared.contenttoolbar,use_deprecated_social:!0,playlist_below:!1,message_below:!1,playerConfig:{autoPlay:!0,clickToPlay:!1}}),u.register("watch_2",{toolbar_template:o.shared.contenttoolbar2,use_deprecated_social:!1,playlist_below:!0,message_below:!0,playerConfig:{autoPlay:!0,clickToPlay:!1}}),u.register("watch2_inline",{className:"bun module full-width full-height watch_2",toolbar_template:o.shared.contenttoolbar2,use_deprecated_social:!1,playlist_below:!0,message_below:!0,playerConfig:{autoPlay:!0,clickToPlay:!1,showEndCard:!1},loadItemsWithinModule:!0,keepPlayListOpenOnLoad:!0,hidePromoLink:!0,catalogEntityType:"Game",loadContentSideBarView:function(){var e=this,t=e.options,n=e.model.get("header_data"),s=r.last(e.model.get("data")),o=e.catalogEntityType&&s.type===e.catalogEntityType,l=e.model.get("translations"),c=e.$("#meta");if(e.loadItemsWithinModule&&o){var d=new a.Module({data:[s],translations:l});this.tb=new i.CatalogFloatView({el:c,model:d,cdsMode:t.cds,ads:t.ads}),n&&c.addClass("with-header")}else e.loadContentToolBarView()},postReady:function(){var e=this;e.setupImageAnimationControls(),e.listenTo(n,"loadNextItem",e.loadNextItem,e)},loadNextItem:function(t){var a=this,n=a.$(".image-controls-wrap");if(a.removePlayer(),a.imgTimer&&e.clearTimeout(a.imgTimer),"Video"===t.type){n.addClass("hide");var o=r.find(a.model.get("data"),function(e){return e.id===t.id});if("undefined"==typeof o)return a.watchPlaylist.updatePlayer(null),void a.watchPlaylist.loadNextPlaylistItem(t.id);r.extend(a.playerConfig,{video:o,autoPlay_mute:a.options.autoplay_mute,showEndCard:!1}),a.player=new i.MatterhornVideoPlayer("player",a.playerConfig),a.watchPlaylist.updatePlayer(a.player)}else"Image"===t.type&&(a.watchPlaylist.updatePlayer(null),n.removeClass("hide").addClass("play"),a.$("#player").empty().append(s("<img>",{src:t.image,alt:t.seo_title,id:t.id,width:"100%"})),a.imgTimer=e.setTimeout(function(){a.watchPlaylist.loadNextPlaylistItem(t.id)},5e3));e.location.replace("#idx/"+t.id)},setupImageAnimationControls:function(){var t=this,i=t.$("#player");t.$(".image-controls-wrap").click(function(){var a=s(this);a.toggleClass("play"),t.imgTimer&&e.clearTimeout(t.imgTimer),a.hasClass("play")&&(t.imgTimer=e.setTimeout(function(){t.watchPlaylist.loadNextPlaylistItem(i.find("img").attr("id"))},5e3))})}})}(this),Whiskers("modules.watch_message",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("data",e,t,1),e,t,0,9,100,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="bound"> '),i.s(i.f("watch_message",e,t,1),e,t,0,48,74,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<h4>"),i.b(i.v(i.f("watch_message",e,t,0))),i.b("</h4>")}),e.pop()),i.b(" </div> ")}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e._,a=e.Whiskers,n=t.ModuleView.extend({style_classes:["custom-padding"],render:function(){var e=i.first(this.model.get("data")),t=i.extend({data:e});this.$el.html(a.modules.watch_message.render(t))}});n.register("watch_message",{})}(this),Whiskers("modules.watch_playlist",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="watch-playlist slider-view pagination-styles dark"> <div class="bound"> <div class="hider"></div> <div class="slides peek-'),a.b(a.v(a.f("rpp",e,t,0))),a.b(' peeking"> <div class="peek left"></div> <div class="peek"></div> <ol class="slider-list peek-'),a.b(a.v(a.f("rpp",e,t,0))),a.b('"> '),a.s(a.f("pages",e,t,1),e,t,0,255,1081,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <li class="slider-page"> <ul class="col-container cols-'),i.b(i.v(i.f("rpp",e,t,0))),i.b(' rows-1"> '),i.s(i.f("models",e,t,1),e,t,0,339,1057,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="col item"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" class="entity-container ratio-16x9" data-next="'),i.b(i.v(i.f("nextItem",e,t,0))),i.b('"> <div class="thumb-box entity-box"> '),i.s(i.f("vType",e,t,1),e,t,0,500,622,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="thumb-play-btn-wrap"> <span class="thumb-play-btn-bg"> </span> <span class="thumb-play-btn"></span> </span> ')}),e.pop()),i.b(' <div class="aspect"> <div class="now-playing-title"> <h3 class="overlay-title" aria-hidden="true">'),i.b(i.v(i.f("now_playing",e,t,0))),i.b('</h3> </div> <div class="thumbnail"> <img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" class="thumb" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> '),i.s(i.f("badge",e,t,1),e,t,0,845,887,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="badge" alt="">')}),e.pop()),i.b(' </div> </div> <div class="hover-title"> <div class="text-hidden"><h3 class="skip-text-styles" aria-hidden="true">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h3></div> </div> </div> </a> </li> ")}),e.pop()),i.b(" </ul> </li> ")}),e.pop()),a.b(' </ol> <div class="count"> <p><span class="title">'),a.b(a.v(a.f("playlistTitle",e,t,0))),a.b(' &nbsp;|&nbsp; </span> <span class="item-index">'),a.b(a.v(a.f("currentIndex",e,t,0))),a.b("</span> "),a.b(a.v(a.d("translations.of",e,t,0))),a.b(" "),a.b(a.v(a.f("totolItems",e,t,0))),a.b('</p> </div> </div> </div> </div> <div class="pulldown-bar"><div class="arrow up"></div></div>'),a.fl()},partials:{},subs:{}}),function(e){"use strict";function t(e,t,i){for(var a=i?"&":"?",n=[],r=[],s=0,o=0;o<e.length;o++)if(e[o].href=e[o].href+a+"playlist="+t,(r=e[o].images)&&r.length>0){for(var l=0;l<r.length;l++)r[l].order=++s,r[l].type="Image",r[l].href=e[o].href+"#image/"+r[l].id,r[l].nextItem=e[o].href;n=n.concat(r)}else e[o].nextItem=e[o+1]?e[o+1].href+a+"playlist="+t:"",e[o].order=++s,n.push(e[o]);return n}function i(e,t,i){var a=e,n=t.id,r=(t.order||t.get("order"))-1;if(u.each(a.$(".slider-list li a .active"),function(e){a.$(e).removeClass("active")}),n){var s=a.$("#"+n);s.find(".thumb-box").addClass("active"),s.find(".thumbnail").addClass("active"),s.find(".now-playing-title").addClass("active"),a.$(".item-index").text(t.order)}if(i&&r>=0){var o=a.rpp(),l=Math.floor(r/o);a.$(".slides ol").swipeasaurus("slide",l)}}function a(t){t&&(e.location.href=t)}var n=e.Disney,r=n.Style.breakpoints,s=[r.midLow,r.midHigh],o=e.Backbone,l=e.jQuery,c=e.Whiskers,d=n.Cookie,u=e._,h=!1,f=null,p=o.Resize.width,m="manual-play";n.WatchPlaylistView=o.View.extend({videoPlayer:null,breakpoints:s.join(" "),events:{"click .pulldown-bar":function(){this.showPlaylist()},"click .hider":function(){this.showPlaylist()},"click .watch-playlist .slides":function(e){e.stopPropagation()}},showPlaylist:function(){f||(h?(h=!1,l("#playlist-holder").addClass("closed").removeClass("open"),l(".hider").fadeIn()):(h=!0,l("#playlist-holder").addClass("open").removeClass("closed"),l(".hider").fadeOut()))},initialize:function(){this.videoPlayer=this.options.videoPlayer||null,this.loadItemsWithinModule=this.options.loadItemsWithinModule||!1,this.init()},render:function(){var t=this,a=this.rpp(),n=this.options.keepPlayListOpenOnLoad||!1,s=this.model.get("translations"),o=t.options.itemToPlayOnLoad||t.model.get("data")[0].id,d=u.indexOf(u.pluck(this.listData.models,"id"),o);0>d&&(d=0);var h=t.listData.models[d],m=Math.floor(d/a),g={cds:this.options.cdsMode,rpp:a,currentTitle:h.get("title"),currentIndex:h.get("order"),totolItems:t.listData.length,playlistTitle:t.playlistTitle,pages:t.listData.pages(a,{nest:1}),translations:s};this.$el.html(c.modules.watch_playlist.render(g)),this.$(".slides ol").swipeasaurus({arrows:!0,loop:!1,right:.2/(a+.2),index:m}),t.$(".slides ol").delegate("a","click",function(e){var i=this;return i&&t.loadSelectedPlaylistItem(e.currentTarget,i),!1}),i(this,h),l(".hider").fadeOut(),!n&&p()>=r.midHigh&&(f=e.setTimeout(this.closePlaylist,5e3)),this.videoPlayer&&this.videoPlayer.adPattern.setPlaylistLoaded(!0),this.playlistLoaded=!0},closePlaylist:function(){f&&(e.clearTimeout(f),f=null),l("#playlist-holder").addClass("closed").removeClass("open"),l(".hider").fadeIn()},init:function(){var i=/(?:\?|^|&)playlist=([0-9a-f]+)/,a=this,r=i.exec(e.location.search);if(a.pageUrl=/[^\/]+?:\/\/[^#]+/.exec(e.location.href),r){r=r[1];var s=this.options.cdsMode?"?cds":"";l.ajax((n.ajaxBase||"/")+"lists/"+r+".json"+s,{dataType:"json",cache:!0}).then(function(e){a.playlistTitle=e.title,a.adTime=e.adTime,a.adPattern=e.adPattern,a.videoPlayer&&(a.videoPlayer.adPattern.setPlaylistAdTime(e.adTime),a.videoPlayer.adPattern.setPlaylistAdPattern(e.adPattern),a.videoPlayer.messageBus.addMessageListener("playComplete",u.bind(a.loadNextPlaylistItem,a))),a.vpListWithGalleryImages=t(e.data,r,a.options.cdsMode),a.listData=new o.LazyCollection(a.vpListWithGalleryImages),a.render(),a.options.itemToPlayOnLoad&&a.loadPlaylistItem(a.options.itemToPlayOnLoad,!1,!0),a.videoPlayer&&a.configureEndCard(a.videoPlayer)})}},rpp:function(){var e=p()>=r.midHigh;return e?4:2},isPlaylistLoaded:function(){return this.playlistLoaded},configureEndCard:function(){var e=l(".card"),t="#"+this.videoPlayer.config.video.id,i=l(t).attr("data-next");i?this.videoPlayer.config.showEndCard=!1:(this.videoPlayer.config.showEndCard=!0,e.find(".countdown_intro").css("display","none"),e.find(".btn_next").css("display","none"),e.find(".priority").removeClass("priority"),e.find(".btn_replay").css("left","410px"),d.set(m,"ON"),this.videoPlayer.endCard.replay=function(){var e=u.first(l(".item")),t=l(e).find("a").attr("href");a(t)})},loadNextPlaylistItem:function(){var e=this.videoPlayer&&this.videoPlayer.config.video&&this.videoPlayer.config.video.id||arguments&&arguments[0];if(this.loadItemsWithinModule)this.loadPlaylistItem(e,!0);else if(e){var t=this.$("#"+e).attr("data-next");a(t)}},loadSelectedPlaylistItem:function(t,i){var n=this.$(t),r=n.attr("id");if(this.loadItemsWithinModule)this.loadPlaylistItem(r,!1,!0);else{if(e.Tracker){var s=l.trim(n.find("img").attr("alt")||n.text()),o=n.attr("href"),c=this.$(".slides ol a").index(n),d=["stream","playlist",c,"link"].join("/"),u=[d,s].join("/");e.Tracker.link({linkName:u,linkPosition:d,href:o})}a(i)}},loadPlaylistItem:function(t,a,n){var r=this,s=u.find(r.vpListWithGalleryImages,function(e){return e.id===t});if("undefined"==typeof s&&(s=u.first(r.vpListWithGalleryImages),a=!1),a&&(s=r.vpListWithGalleryImages[s.order]||r.vpListWithGalleryImages[0]),n&&e.Tracker){var l=s.title||s.seo_title,c=r.pageUrl+"#idx/"+s.id,d=s.order-1,h=["stream","playlist",d,"link"].join("/"),f=[h,l].join("/");e.Tracker.link({linkName:f,linkPosition:h,href:c})}i(this,s,!0),o.trigger("loadNextItem",s)},updatePlayer:function(e){var t=this;t.videoPlayer=e,t.videoPlayer&&(t.videoPlayer.adPattern.setPlaylistAdTime(t.adTime),t.videoPlayer.adPattern.setPlaylistAdPattern(t.adPattern),t.videoPlayer.messageBus.addMessageListener("playComplete",u.bind(t.loadNextPlaylistItem,t)))}})}(this),Whiskers("modules.watch_playlist_2",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.b('<div class="bound"> <div id="video_watch_container" itemprop="video" itemscope itemtype="http://schema.org/VideoObject" '),a.s(a.f("skinClass",e,t,1),e,t,0,134,169,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b('class="skin-override-'),i.b(i.v(i.f("skinClass",e,t,0))),i.b('"')}),e.pop()),a.b('> <div id="video_wrapper_2" class="inverted video_wrapper_2"> '),a.s(a.f("header_data",e,t,1),e,t,0,261,279,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(i.rp("<module_header0",e,t,""))}),e.pop()),a.b(' <div class="scaler"></div> <div id="frame"> '),a.s(a.f("currentVideo",e,t,1),e,t,0,357,1297,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <!-- Orphan video markup --> <meta itemprop="duration" content="'),i.b(i.v(i.f("duration_iso",e,t,0))),i.b('"> <meta itemprop="thumbnail" content="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("description",e,t,0))),i.b('"> <meta itemprop="URL" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> '),i.s(i.f("embedURL",e,t,1),e,t,0,642,693,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <meta itemprop="embedURL" content="'),i.b(i.v(i.f("embedURL",e,t,0))),i.b('"> ')}),e.pop()),i.b(' <div id="'),i.b(i.v(i.f("player_id",e,t,0))),i.b('" class="player"> '),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,871,936,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),i.b(' </div> <!-- /Orphan video markup --> <div id="card" class="card watch_playlist_2"> <div class="card_header"> <p class="btn_replay skip-text-styles">'),i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b('</p> <p class="countdown_intro skip-text-styles">'),i.b(i.v(i.d("translations.next_video_start",e,t,0))),i.b(' <span class="countdown">10</span>'),i.b(i.v(i.d("translations.autoplay_off",e,t,0))),i.b("</span></p> </div> </div> ")}),e.pop()),a.b(' </div> </div><!-- End of video_wrapper --> </div><!-- End #video_watch_container--> <div class="playlist"> <div class="scaler"></div> <div class="up-next"> <h3>'),a.b(a.v(a.d("translations.up_next",e,t,0))),a.b('</h3> </div> <div class="playlist-item-container"> '),a.s(a.f("playlist",e,t,1),e,t,0,1563,1895,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(' <div class="playlist-item" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-index="'),i.b(i.v(i.f("index",e,t,0))),i.b('"> <img src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('" class="thumbnail"> <span class="thumbnail-overlay"></span> <span class="playlist-item-info"> <h3 class="video-title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h3> <span class="now-playing">'),i.b(i.v(i.d("translations.now_playing",e,t,0))),i.b('</span> <h4 class="desc">'),i.b(i.v(i.f("ptitle",e,t,0))),i.b("</h4> </span> </div> ")}),e.pop()),a.b(' </div> <div class="playlist-gradient"></div> </div> </div><!-- End of bound -->'),a.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,i=e.Grill,a=e._,n=e.jQuery,r=e.Whiskers,s=e.Math,o=e.Tracker,l=i.ModuleView.extend({style_classes:["full-width","full-height","skip-top-border"],required_template_sets:["module_header","entities"],template:r.modules.watch_playlist_2,assets:{scripts:["//a.dilcdn.com/a/videoplayer-c7d942b2f782.js"]},playlist:{},currentIndex:0,xhrStarted:!1,adCache:[],events:{"click .playlist-item":function(e){e.preventDefault();var t=n(e.currentTarget),i=t.data("index")||0;this.player.endCard&&this.player.endCard.playerCardOut(),this.trackPlaylistItem(t.data("id"),!1),this.handleNextVideo(i)}},initialize:function(){this.playlist=this.model.get("data")[0].video_list||this.model.get("data"),this.playlistId=this.model.get("data")[0].id,this.playlist.forEach(function(e,t){e.index=t});var i=this,r=this.model.collection&&this.model.collection.style,s=r&&r.video_player_skin_override,o=this.playlist[this.currentIndex];if(i.model.set("currentVideo",o),a.extend(i.options,this.model.get("config_options")),s&&"matterhorn"!==s){var l=t.Style.AssetPaths.supported_videoplayer_skins;a.extend(this.playerConfig,{skinUrl:l[s]}),this.skinClass=s}i.h=n(e).on("resize."+i.cid,a.throttle(function(){var t=n(e).height();t!==i.h&&(i.h=t,i.layout())},100)).height(),this.player_id="player_playlist"+this.model.get("ref").replace("-","")},render:function(){var e=this.playlist[this.currentIndex],t=a.extend({tags:e.tags,contenttype:e.contenttype,cds:this.options.cds,skinClass:this.skinClass,playlist:this.playlist,player_id:this.player_id},this.options.ads.helpers(),this.model.toJSON());this.$el.html(this.template.render(t,this.ctx_additions())),this.layout(),this.bindToScroll()},ready:function(){var i,n=this,r=n.options,s=this.playlist[this.currentIndex],o=n.model.get("translations");if(n.loadItemsWithinModule&&e.location.hash){var l=/(idx\/)([a-z0-9]*)/,c=l.exec(e.location.hash);c&&c[2]&&c[2]!==s.id&&(i=c[2],n.player=null)}a.extend(this.playerConfig,{video:a.extend(s,{ads:{enabled:!r.cds&&!r.noAds,context:r.ads}}),autoPlay_mute:this.options.autoplay_mute,autoPlay:this.model.get("autoplay"),translations:o,playlist:{id:this.playlistId}}),"undefined"==typeof i&&(this.player=new t.MatterhornVideoPlayer(this.player_id,this.playerConfig),this.initPlayerListeners()),n.postReady&&n.postReady(),n.$(".playlist-item").first().addClass("current")},getNextGrillData:function(i){var a=this,r=n.Deferred();if(i=s.min(i,this.playlist.length-1),this.adCache[i])r.resolve(a.adCache[i]);else{var o=e.document.createElement("a");o.href=this.playlist[i].href;var l=t.ajaxBase+"_grill/ads/"+o.hostname+"/"+e.encodeURI(o.pathname.replace(/^\//,""));n.getJSON(l).done(function(e){a.adCache[i]=e,r.resolve(e)})}return r},initPlayerListeners:function(){var t=this,i=this.player;this.player.messageBus.addMessageListener("progress",function(){var a=i.info.getPosition()/i.info.getDuration();a>.3&&e.isFinite(a)&&!t.xhrStarted&&(t.getNextGrillData(t.currentIndex+1),t.xhrStarted=!0)}),this.player.messageBus.addMessageListener("playComplete",function(){t.handleNextVideo(t.currentIndex+1),t.trackPlaylistItem(t.playlist[t.currentIndex].id,!0)})},bindToScroll:function(){this.$(".playlist-item-container").on("scroll."+this.cid,a.debounce(a.bind(this.onScroll,this),300))},onScroll:function(){var e=this.$(".playlist-gradient"),i=this.$(".playlist-item").last();t.Utilities.setElementVisibility(i,this.visibilityThreshold),i.data("visibility")?e.fadeOut():e.fadeIn()},handleNextVideo:function(e){this.currentIndex=s.min(e,this.playlist.length-1);var i=this,a=i.playlist[i.currentIndex];i.xhrStarted=!1,i.$(".playlist-item-container > .playlist-item").removeClass("current").eq(i.currentIndex).addClass("current"),i.getNextGrillData(i.currentIndex).done(function(n){i.player.config.showEndCard=i.currentIndex===i.playlist.length-1&&!i.options.disable_endcard,(a.ads=a.ads||{}).context=new t.Ads.AdContext(n),e<i.playlist.length&&i.player.loadVideoByObject(a)})},layout:function(){var e=this.$("#video_wrapper_2 .bound");e.css("maxWidth",s.min(1024,s.max(320,s.ceil((this.h-120)/.5625))))},remove:function(){this.removePlayer(),i.BunView.prototype.remove.call(this),n(e).off("resize."+this.cid),this.tb.remove()},removePlayer:function(){this.player&&(this.player.destroy(),this.player=null)},trackPlaylistItem:function(e,t){o.video({analyticsData:{PLAYLISTID:this.playlistId,KDPEVNT:"playlistLink",KDPDAT_VALUE:e,AUTO:t+""}})}});l.register("watch_playlist_2",{playerConfig:{autoPlay:!1,clickToPlay:!1,showEndCard:!1}})}(this),Whiskers("modules.weather",{code:function(e,t,i){"use strict";var a=this;return a.b(i=i||""),a.s(a.f("time_config",e,t,1),e,t,0,16,459,"{{ }}")&&(a.rs(e,t,function(e,t,i){i.b(" <div class='weather-elements "),i.b(i.v(i.f("time_category",e,t,0))),i.b(" "),i.b(i.v(i.f("time",e,t,0))),i.b("'> "),i.s(i.f("afternoon",e,t,1),e,t,0,89,212,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rainbow"> <span class="arc arc1"></span> <span class="arc arc2"></span> <span class="arc arc3"></span> </div> ')}),e.pop()),i.b(' <div class="moving-element moving-element1"></div> <div class="moving-element moving-element2"></div> <div class="container"> <div class="glow"></div> <div class="element-featured'),i.s(i.f("midnight",e,t,1),e,t,0,419,423,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" el2")}),e.pop()),i.b('"></div> </div> </div> ')}),e.pop()),a.fl()},partials:{},subs:{}}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,a=e.Disney,n=a.Style.breakpoints,r=e.Backbone,s=e.jQuery,o=e._;s(function(){a.topper_nav.on("ready",function(){var e=s(".module.junior_weather"),t=s("#takeover-area .overlay.default .main-image");e.insertBefore(t)})}),t.ModuleView.register("junior_weather",{template:i.modules.weather,render:function(){var e=this.getCurrentTime(),t={time_category:"daytime",time:e};switch(e){case"night":t.time_category="nighttime";break;case"midnight":t.time_category="nighttime",t.midnight=!0;break;case"afternoon":t.afternoon=!0}var i=o.extend({time_config:t},this.model);this.$el.html(this.template.render(i)),this.setTakeoverStyles(e)},ready:function(){var e=this,t=r.Resize.width()>=n.chromeMax,i=e.$(".weather-elements .container");t&&(o.delay(function(){i.addClass("visible")},1600),i.one("transitionend",function(t){var i=t.originalEvent.propertyName;("right"===i||"left"===i||"opacity"===i||"bottom"===i)&&o.delay(function(){e.setAnimation()},2e3)}))},setTakeoverStyles:function(e){var t=this.model.get("style_options"),i=t&&t.image_assets,n=i&&i.default_background.desktop,r=i&&i.day.desktop,s=i&&i.night.desktop,o=t&&t[e]&&t[e].main_background_color,l=t&&t[e]&&t[e].top_gradient_color,c={pushdown_safety_color:o,main_background_color:o,top_gradient:{color:l,color_stop:"15%"},main_image:n};c.repeating_image="night"===e||"midnight"===e?s:r,a.Style.applyTakeoverStyles(c,!1,!0)},getCurrentTime:function(){var t,i=e.location.search.split("?"),a={},n=["midnight","morning","afternoon","evening","night"];if(s.each(i,function(e,t){var i=t.split("=");i.length>1&&(a[i[0]]=i[1])}),a.time&&o.contains(n,a.time))t=a.time;else{var r=!isNaN(a.time)&&a.time||(new Date).getHours();t=this.convertHours(r)}return t},convertHours:function(e){return e>=0&&5>e?"midnight":e>=5&&11>e?"morning":e>=11&&17>e?"afternoon":e>=17&&21>e?"evening":e>=21&&24>=e?"night":"afternoon"},moveElements:function(e,t,i){var a=9e4,n=a+Math.floor(a*Math.random());e.addClass("move"),e.on("transitionend",function(a){a.stopPropagation(),"right"===a.originalEvent.propertyName&&(s(a.currentTarget).removeClass("move"),e.off("transitionend"),o.delay(i.moveElements,n,e,t,i))})},setAnimation:function(){var e=this,t=e.$(".moving-element1"),i=e.$(".moving-element2"),a=e.getCurrentTime();e.moveElements(t,a,e),o.delay(e.moveElements,15e3,i,a,e),"afternoon"===a&&e.$(".rainbow").addClass("visible")}})}(this);