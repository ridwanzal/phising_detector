function MatchChatAddConvo(n){var i=Cortado.Helpers.querystring(n),t=i.get("idto");return t?(Match.Chat.Controller.initiateConversationWith(t),!0):!0}(function(n){if(n.isArray||(n.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"}),n.url=function(){function i(n){for(var r="",t=0,i=0,u=0;t<n.length;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(u=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|u&63),t+=2):(u=n.charCodeAt(t+1),c3=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(u&63)<<6|c3&63),t+=3);return r}function r(i,r){var u={},f={"true":!0,"false":!1,"null":null};return n.each(i.replace(/\+/g," ").split("&"),function(i,e){var o=e.split("=");i=t(o[0]);e=u;var c=0,s=i.split("]["),h=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[h])?(s[h]=s[h].replace(/\]$/,""),s=s.shift().split("[").concat(s),h=s.length-1):h=0,o.length===2)if(o=t(o[1]),r&&(o=o&&!isNaN(o)?+o:o==="undefined"?undefined:f[o]!==undefined?f[o]:o),h)for(;c<=h;c++)i=s[c]===""?e.length:s[c],e=e[i]=c<h?e[i]||(s[c+1]&&isNaN(s[c+1])?{}:[]):o;else n.isArray(u[i])?u[i].push(o):u[i]=u[i]!==undefined?[u[i],o]:o;else i&&(u[i]=r?undefined:"")}),u}function u(n){var u,t,i;for(n=n||window.location,u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n),t={},i=u.length;i--;)t[u[i]]=n[i]||"";return t.query&&(t.params=r(t.query,!0)),t}function f(t){if(t.source)return encodeURI(t.source);var i=[];return t.protocol&&(t.protocol=="file"?i.push("file:///"):t.protocol=="mailto"?i.push("mailto:"):i.push(t.protocol+"://")),t.authority?i.push(t.authority):(t.userInfo?i.push(t.userInfo+"@"):t.user&&(i.push(t.user),t.password&&i.push(":"+t.password),i.push("@")),t.host&&(i.push(t.host),t.port&&i.push(":"+t.port))),t.path?i.push(t.path):(t.directory&&i.push(t.directory),t.file&&i.push(t.file)),t.query?i.push("?"+t.query):t.params&&i.push("?"+n.param(t.params,!0)),t.anchor&&i.push("#"+t.anchor),i.join("")}function e(n){return encodeURIComponent(n)}function t(n){return n=n||window.location.toString(),i(unescape(n.replace(/\+/g," ")))}return{encode:e,decode:t,parse:u,build:f}}(),n.fn.msg=function(t){try{if(t){var r=Array.prototype.slice.call(arguments).slice(1);this.each(function(){var u=this,i=Cortado.Behaviors.allFrom(u);for(behavior in i)i.hasOwnProperty(behavior)&&i[behavior].getInstance(function(i){t in i&&n.isFunction(i[t])&&i[t].apply(u,r)})})}}catch(i){Cortado.Helpers.log(i.name+": "+i.message)}return this},n.fn.broadcast=function(){var t=Array.prototype.slice.call(arguments);return this.each(function(){n("*[data-behavior]",this).andSelf().each(function(){n.fn.msg.apply(n(this),t)})}),this},n.fn.replaceClass=function(n,t){return this.removeClass(n).addClass(t),this},n.initBehaviorsFor=function(n){Cortado.Behaviors.parse(n)},n.fn.replaceClass=function(n,t){return this.removeClass(n).addClass(t),this},n.ns=n.namespace=function(n){for(var r=n.split("."),t=window,i=0;i<r.length;i++)t[r[i]]||(t[r[i]]={}),t=t[r[i]];return t},n.ns("Cortado"),Cortado.Promise=function(){var n="pending",i=null,r=null,t=null,u=function(){n=="resolved"&&i&&i.call(this,t);n=="rejected"&&r&&r.call(this,t)};return{then:function(t,f){i=t;r=f;n!="pending"&&u()},resolve:function(i){n=="pending"&&(t=i,n="resolved",u())},reject:function(i){n=="pending"&&(n="rejected",t=i,u())}}},Cortado.Uri=function(t){var i=n.url.parse(t);return{pieces:function(){return i},params:function(n,t){if(i.params||(i.params={}),arguments.length==0)return i.params;if(arguments.length>1)i.params[n]=t;else return i.params[n]},toString:function(){return i.source=null,n.url.build(i)}}},Cortado.ScriptUri=function(n){var t=new Cortado.Uri(n);return{seedValue:function(){return t.params("v")}}},Cortado.Behaviors=function(){var t=!1,i={parse:function(i){var o=n(i).attr("data-behavior"),u,r,f,e;if(o)for(u=o.split(" "),r=0;r<u.length;r++)f=u[r],e=new Cortado.Behaviors.BehaviorWrapper(f,i),i.behaviors||(i.behaviors=[]),i.behaviors[f]=e,(n(i).attr("data-init")=="true"||t)&&e.touch()},wireupEvents:function(){!window.opera&&!/webkit/i.test(navigator.userAgent)&&!/Firefox/i.test(navigator.userAgent)&&n.browser.msie&&n.browser.version<9||(document.addEventListener("DOMContentLoaded",function(){n(".extend").each(function(){Cortado.Behaviors.parse(this)})},!0),document.addEventListener("DOMNodeInserted",function(t){n(".extend",t.target).andSelf().each(function(){if(/MSIE 10.0/i.test(navigator.userAgent)||/Trident\/7.0/i.test(navigator.userAgent)){var t=n(this);t.attr("data-inserted")!=="true"&&t.hasClass("extend")&&(Cortado.Behaviors.parse(this),t.attr("data-inserted","true"))}else Cortado.Behaviors.parse(this)})},!0))},allFrom:function(n){return(i.ensure(n),!n.behaviors)?[]:n.behaviors},ensure:function(t){!t.behaviors&&n(t).attr("data-behavior")&&i.parse(t)},autoInit:function(i){i!=t&&i&&n("BODY").broadcast("wakeUp");t=i}};return i}(),Cortado.Behaviors.BehaviorWrapper=function(t,i){var f=t,o=i,r=null,u=!1,e=function(t){Cortado.Bootloader.requireByType(f,function(){r=eval("new "+f+"()");"wakeFrom"in r&&n.isFunction(r.wakeFrom)&&r.wakeFrom(o);u=!0;n.isFunction(t)&&t(r)})};return{getInstance:function(n){u?n(r):e(n)},touch:function(){u||e()}}},Cortado.Behaviors.wireupEvents(),Cortado.ErrorManager=function(){function u(){n=[];window.onerror=function(n,t,i){r(n,"Unhandled script error at line "+i+"("+t+")")}}function f(){setTimeout(i,9950);window.onbeforeunload=function(){i()}}function i(){n&&n.length>0&&($jq.ajax({type:"POST",url:"/Site/LogError",contentType:"application/json; charset=UTF-8",data:JSON.stringify({errorSummary:e()})}),n=[])}function e(){return{Errors:n,Path:location.pathname+location.hash}}function o(n){t.push(n)}function s(n){for(var i=0;i<t.length;i++)if(n.indexOf(t[i])!==-1)return!0;return!1}function h(t){for(var i=0;i<n.length;i++)if(t==n[i].message)return n[i].errorCount++,!0;return!1}function r(t,i){(Cortado.Helpers.error(t+"\n"+i),s(t)||h(t,i))||(n.length===0&&f(),n.push({message:t,details:i,errorCount:1}))}var t=[],n=[];return{init:u,flushErrors:i,addToIgnoreList:o,logError:r}}(),Cortado.Bootloader=function(){var t=[],i=!0,f={},r={},s=function(){if(!i)return(new Date).getTime().toString();var t=null;return n("script").each(function(){if(n(this).attr("src")&&n(this).attr("src").toLowerCase().indexOf("/cortado/bootstrap")>=0){var i=new Cortado.ScriptUri(n(this).attr("src"));t=i.seedValue()}}),t},e=function(n){return n.indexOf("~")==0?n.substring(1):n},h=function(n){n=e(n);var t=new Cortado.Uri(n);return t.params("v",s()),t.toString()},c=function(t){var r=e(t).toLowerCase(),i=!1;return n("script").each(function(){this.src&&this.src.toLowerCase().indexOf(r)>=0&&(i=!0)}),i},l=function(n,i){t[n]==null&&(t[n]=[]);t[n][t[n].length]=i},u=function(i){if(i in t)for(var r=0;r<t[i].length;r++)n.isFunction(t[i][r])&&t[i][r]();t[i]=[]},a=function(n){for(var r=n.split("."),t=window,i=0;i<r.length;i++){if(!t[r[i]])return null;t=t[r[i]]}return t},o={init:function(){i=Cortado.Helpers.querystring().get("caching")!="0"},requireByType:function(n,t){if(a(n)!=null)t();else{var i="/scripts/"+n.replace(".","/")+".js";o.require(i,t)}},require:function(t,i){var e,o;if(n.isFunction(i)&&l(t,i),c(t)){(!f[t]||r[t])&&u(t);return}f[t]=!0;e=document.createElement("script");e.src=h(t);e.async=!0;e.type="text/javascript";o=document.getElementsByTagName("head")[0];o||(o=document.body.parentNode.appendChild(document.createElement("head")));e.readyState?e.onreadystatechange=function(){(e.readyState=="complete"||e.readyState=="loaded")&&(r[t]=!0,u(t))}:e.onload=function(){r[t]=!0;u(t)};o.appendChild(e)},caching:function(n){i=n}};return o}(),Cortado.Helpers=function(){return window.console||function(){var t=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],n,i=t.length;for(window.console={},n=0;n<i;n++)window.console[t[n]]=function(){}}(),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),{safeInvoke:function(t){n.isFunction(t)&&t()},log:function(n){console.log(n)},info:function(n){console.info(n)},warn:function(n){console.warn(n)},error:function(n){console.error(n)},array:{any:function(n){if(n.length)return n.length>0;for(var t in n)if(n.hasOwnProperty(t))return!0;return!1}},querystring:function(n){var t="",i;return arguments.length>0?(i=n.indexOf("?"),i>=0&&(t=n.substring(i))):t=window.location.search,{get:function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+n+"=([^&#]*)",u=new RegExp(r),i=u.exec(t);return i==null?"":decodeURIComponent(i[1].replace(/\+/g," "))}}},scaleImage:function(n,t){var r=t.width==null?80:t.width,u=t.height==null?100:t.height,i=Math.min(n.width/r,n.height/u);return typeof t=="object"&&t.nodeName=="IMG"?(t.width=Math.round(i*r),t.height=Math.round(i*u),t):{width:Math.round(i*r),height:Math.round(i*u)}},serializeObject:function(n){for(var r={},i=n.serializeArray(),t=0;t<i.length;t++)r[i[t].name]=i[t].value;return r},isScrolledIntoView:function(t){var r=n(window).scrollTop(),u=r+n(window).height(),i=n(t).offset().top,f=i+n(t).height();return i<=u&&i>=r},localStorage:function(){return window.localStorage?{add:function(n,t){localStorage[n]=JSON.stringify(t)},remove:function(n){localStorage.removeItem(n)},getItemByKey:function(n){return localStorage[n]?JSON.parse(localStorage[n]):!1}}:!1}}}(),Cortado.ServiceProxy=function(){var t=null,i=null;return{invoke:function(r){i=new Cortado.Promise;t!==null&&(t.abort(),t=null);var u={url:"",type:"json",method:"get",data:{}};return n.extend(u,r),t=n.ajax({url:u.url,dataType:u.type,type:u.method,data:u.data,success:function(n){i.resolve(n)},error:function(n){i.reject(n)}}),i},abort:function(){t!==null&&(t.abort(),t=null,i.reject())}}},Cortado.ChunkLoader=function(){return{load:function(t){n.ajax({type:"GET",cache:!1,url:t.url,beforeSend:function(n){if(n.setRequestHeader("X-Cortado-ChunkLoad","true"),t.requestHeaders)for(var i in t.requestHeaders)t.requestHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,t.requestHeaders[i])},success:function(n,i,r){t.success(n,i,r)},error:function(n,i,r){n.status==401?window.location.href="/login/login.aspx":t.error(n,i,r)}})}}}(),Cortado.Session=function(){var o=new Cortado.ServiceProxy,i=new Cortado.Promise,t=null,u=!1,r=null,f=function(){var e=r.serialize(),f=n(".errors",r);u||(u=!0,r.msg("busy",!0),f.hide(),n.ajax({type:"GET",url:"/Membership/EnsureSession/",success:function(){n.ajax({url:"/Membership/Login/",type:"POST",data:e,dataType:"json",success:function(e){var s,o,h;if(e.hasOwnProperty("success")){if(!e.success)return s=e.reason,f.html(s).show(),r.msg("busy",!1),u=!1,!1;if(e.uid!==undefined&&(o=n("#cuid"),h=o.val().length>0?parseInt(o.val()):0,parseInt(e.uid)!=h))return window.location.reload(!0),!1;i.resolve();t!==null&&t.msg("dismiss")}i.reject()},error:function(){console.log("Failed to login via /membership/login/");i.reject()}})}}))},s=function(){return o.invoke({url:"/Membership/IsLoggedIn/",type:"",method:"GET"})},h=function(n){Cortado.ChunkLoader.load({url:"/Membership/LoginPanel/",success:function(t){n(t)},error:function(){console.log("failed to get login panel")}})},c=function(t){r=n("form",t);r.msg("busy",!1).get(0).reset();n(".errors",t).hide()},e=function(n){c(n);n.off().on("click",".login_confirm",function(n){n.preventDefault();f()}).on("keypress","form",function(n){n.which==13&&f()}).on("click",".prompt_dismiss",function(){t.msg("dismiss");i.reject({Success:!1,Reason:"UserAbandon"})})},l=function(){var f='<div class="dialog dialog-login extend" id="sessionLogin" data-behavior="Cortado.dialog Cortado.refreshable" data-refresh="/Membership/LoginPanel/" data-init="true" data-autoload="true"><\/div>',r=5,i=new Cortado.Promise,u=window.setInterval(function(){t=n("#sessionLogin");t.length<1&&n("body").append(f);t.length>0&&(clearInterval(u),t[0].style.display=="none"&&t.msg("show"),i.resolve());t.length==0&&r==0&&(clearInterval(u),i.reject());r--},500);return i};return{ensureLoggedIn:function(){return s()},loginBy:{dialog:function(){return l().then(function(){e(t)}),i},panel:function(n){return h(function(t){n.html(t);e(n)}),i}}}},Cortado.Facebook=function(){return n.ns("Facebook"),{connect:function(n){Cortado.Bootloader.require("/scripts/facebook/connect.js",function(){n?Facebook.Controller.Connect(n):Facebook.Controller.Load()})}}}(),Cortado.Advertising=function(){function e(n){var t=document.location.protocol;Cortado.Bootloader.require("https://d332bu9m24gdg8.cloudfront.net/adtag_v2.js",function(){var t=n.targeting.ehashxsell;rpo_adtag_ns.hash=t||""});Cortado.Bootloader.require(t+"//ox-d.match.servedbyopenx.com/w/1.0/jstag?nc=7214-Match",function(){Cortado.Bootloader.require(t+"//c.amazon-adsystem.com/aax2/amzn_ads.js",function(){Cortado.Bootloader.require(t+"//www.googletagservices.com/tag/js/gpt.js",function(){var t,u;googletag.cmd.push(function(){var e;if(i[n.id]){r==!1&&(amznads.getAdsCallback("3121",function(){try{amznads.setTargetingForGPTAsync("amznslots")}catch(n){}}),r=!0);googletag.pubads().refresh([i[n.id]]);rpo_adtag_ns.hash!=""&&rpo_adtag_ns.loadTargeting();return}n.isOutOfPageSlot?(i[n.id]=googletag.defineOutOfPageSlot(n.path,n.id),e=i[n.id].addService(googletag.pubads())):(i[n.id]=googletag.defineSlot(n.path,n.adSize,n.id),e=i[n.id].addService(googletag.pubads()));for(key in n.targeting)t=n.targeting[key],u=t.split(","),u.length>1?e.setTargeting(key,u):e.setTargeting(key,t);f===!1&&(f=!0,googletag.pubads().enableAsyncRendering(),googletag.enableServices());r==!1?(amznads.getAdsCallback("3121",function(){try{amznads.setTargetingForGPTAsync("amznslots")}catch(n){}r=!1}),r=!0,googletag.display(n.id)):googletag.display(n.id);rpo_adtag_ns.hash!=""&&rpo_adtag_ns.loadTargeting()})})})})}function o(n){var i=n.scriptSrc(),t=document.getElementById(n.id);t!=null&&(t.innerHTML="",EAS_load_fif(n.id,"/ads/matchAdsIframe.htm",i,n.adwidth,n.adheight))}var t=[],f=!1,i={},r=!1,u=function(n){Cortado.Bootloader.require("/scripts/EAS_Tag.1.0.js",function(){try{typeof EAS_load_fif=="function"&&(n.version&&n.version===2?e(n):o(n))}catch(t){console.log(n.id+" failed to load");console.log(t)}})};return{add:function(n){var i=n.id;return t[i]=n,n.autoLoad===!0&&u(n),this},load:function(i){if(n.isArray(i))for(var r=0;r<i.length;r++)t[i[r]]&&u(t[i[r]]);else t[i]&&u(t[i])},loadAll:function(n){for(var i in t)n?t[i].adzone===n&&u(t[i]):u(t[i])},info:function(){return t},allowAmznCall:function(){r=!1}}}(),Cortado.Bootloader.init(),n.browser.msie&&n.fn.jquery!=="1.2.6"){n(document).on("click","label>img",function(t){t.preventDefault();var i=n(this).parent();i.attr("for")?n("#"+i.attr("for")).click():i.find("input,select,button").first().click()});Date.prototype.toISOString||function(){function n(n){return n<10?"0"+n:n}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}()}})(jQuery),function(n){n.ns("Notifications");Notifications.Controller=function(){function l(){return{url:"/alert/GetAllAlerts/",data:{}}}var r=null,e=new Cortado.ServiceProxy,u=0,s=1e4,i=new l,t=null,h={TopSpot:function(t){n("#topspot-dash").msg("onMessageRecieved",t)},IM:function(t){t.Count>0&&Match.Chat.PollManager.enabled()===!0&&n("#globalChatAlertList").msg("refresh")}},o=function(n){return(t=new Cortado.Promise,u>=3)?(t.reject({HttpStatusCode:408}),f.Poller.Stop(),t):(e.invoke(i).then(function(r){if(r.StatusCode===401)return f.Poller.Stop(),t.reject({HttpStatusCode:r.StatusCode}),t;i.url="/alert/TopSpotPoller/";i.data.lastImpressionDt=(new Date).getTime();i.data.pollCt>=0?i.data.pollCt++:i.data.pollCt=0;n&&a(r.Notifications);u=0;t.resolve(r.Notifications)},function(n){u++;console.log("Failed to return notifications. Attempts "+u+". Reason : "+n.statusText);t.reject({HttpStatusCode:408})}),t)},a=function(n){for(var t in n)h.hasOwnProperty(t)&&h[t](n[t])},c=function(){r===null&&(r=setInterval(function(){o(!0)},s))},f={Poller:{Status:r,Stop:function(){return e.abort(),t.reject({HttpStatusCode:409}),e=new Cortado.ServiceProxy,clearInterval(r),r=null,f},Start:function(){o(!0).then(function(){c()})},Resume:function(){c()},Timeout:s},GetAllNotifications:function(n,t){var r=new Date;r.setSeconds(r.getSeconds()+20);u=0;i.data.lastImpressionDt=r.toISOString();o(!1).then(function(i){var r=i;n&&r.hasOwnProperty(n)&&(r=i[n]);t&&t(r)})}};return f}();n(document).ready(function(){var n=document.getElementById("cuid"),t;n!==null&&(t=n.value!=="0",t&&Notifications.Controller.Poller.Start())})}(jQuery);$.ajaxSetup({jsonp:!1});var $jq=jQuery.noConflict();jQuery.fn.containsOption=function(n){var t=!1;return this.each(function(){if(this.nodeName.toLowerCase()=="select"){for(var i=0;i<this.options.length;i++)if(n.value?t=n.value.constructor==RegExp?this.options[i].value.match(n.value):this.options[i].value==n.value:n.text&&(t=n.text.constructor==RegExp?this.options[i].text.match(n.text):this.options[i].text==n.text),t)break}else return this}),t};jQuery.fn.addOption=function(n){var t=n;return this.each(function(){if(this.nodeName.toLowerCase()=="select"){var n=document.createElement("OPTION");n.value=t.value;n.text=t.text;t.selected&&(n.selected=t.selected);this.options[this.options.length]=n}else return this}),this};jQuery.fn.clearOptions=function(){this.each(function(){this.nodeName.toLowerCase()=="select"&&(this.options.length=0)})};jQuery.fn.removeOption=function(n){return this.each(function(){if(this.nodeName.toLowerCase()=="select")for(var t=0;t<this.options.length;t++)this.options[t].value==n&&(this.options[t]=null);else return this}),this};jQuery.fn.selectOptionByValue=function(n){return this.each(function(){if(this.nodeName.toLowerCase()=="select")for(var t=0;t<this.options.length;t++)this.options[t].selected=this.options[t].value==n?!0:!1;else return this}),this};jQuery.fn.radioSelectByValue=function(n){return this.each(function(){if(this.nodeName.toLowerCase()=="input"&&jQuery(this).attr("type").toLowerCase()=="radio")this.checked=jQuery(this).val()==n?!0:!1;else return this}),this};jQuery.fn.radioSelectedValue=function(){var n=null;return this.each(function(){n==null&&this.nodeName.toLowerCase()=="input"&&jQuery(this).attr("type").toLowerCase()=="radio"&&this.checked&&(n=jQuery(this).val())}),n};jQuery.createCookie=function(n,t,i,r){var u,f;i?(u=new Date,u.setTime(u.getTime()+i*864e5),f="; expires="+u.toGMTString()):f="";arguments.length>3&&r&&(t=jQuery.serializeKeyValues(t));document.cookie=n+"="+t+f+"; path=/"};jQuery.readCookie=function(n,t){for(var i,r,f=n+"=",e=document.cookie.split(";"),u=0;u<e.length;u++){for(i=e[u];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(f)==0)return r=i.substring(f.length,i.length),r.indexOf("&")?jQuery.parseKeyValueString(r):r}return t==!1?"":null};jQuery.updateCookie=function(n,t){for(var i,f=n+"=",u=document.cookie.split(";"),r=0;r<u.length;r++){for(i=u[r];i.charAt(0)==" ";)i=i.substring(1,i.length);i.indexOf(f)==0&&(i=i+"&"+t,jQuery.createCookie(n,"",-1),document.cookie=i)}};jQuery.eraseCookie=function(n){jQuery.createCookie(n,"",-1)};jQuery.parseKeyValueString=function(n){for(var i,r=[],u=n.split("&"),t=0;t<u.length;t++)i=u[t].split("="),r[i[0]]=i[1];return r};jQuery.serializeKeyValues=function(n){var t,i;if(n!=null){t=[];for(i in n)t.push(i+"="+n[i]);return t.join("&")}return null};jQuery.namespace=function(n){for(var r=n.split("."),t=window,i=0;i<r.length;i++)t[r[i]]||(t[r[i]]={}),t=t[r[i]];return t};jQuery.logException=function(n){try{navigator.userAgent.match(/msie/i)||typeof debugging!=undefined&&typeof console!=undefined&&console.log(n.stack)}catch(t){}return this};jQuery.queryString=function(){var n=[],t=!1,r=function(){var f,r,u;if(!t){for(f=window.location.search.length>0?window.location.search.substring(1):"",r=f.split("&"),i=0;i<r.length;i++)u=r[i].split("="),n[u[0]]=u[1];t=!0}};return{get:function(i){t||r();for(var u in n)if(u.toLowerCase()==i.toLowerCase())return n[u];return null}}}();jQuery.fn.addBehavior=function(n,t){return this.each(function(){this.behaviors||(this.behaviors=[]);this.behaviors[n]=t}),this};jQuery.initBehavior=function(container,behaviorName,meta){try{var ctl=eval("new "+behaviorName+"()");return ctl.init({container:container,meta:meta}),jQuery(container).addBehavior(behaviorName,ctl),ctl}catch(e){$jq.logException(e)}return null};jQuery.fn.parseBehavior=function(){return this.each(function(){var n,i,r,t;try{if(n=$jq(this).attr("behavior"),n!=null&&n!=""){i=null;try{i=jQuery(this).metadata({type:"attr",name:"meta"})}catch(u){$jq.logException(u)}for(r=n.split(","),t=0;t<r.length;t++)jQuery.initBehavior(this,r[t],i)}}catch(u){$jq.logException(u)}}),this};jQuery.getBehavior=function(n,t){if(n.behaviors)return n.behaviors[t]};jQuery.fn.behavior=function(n,t){return this.each(function(){var i=jQuery.getBehavior(this,n);i!=null&&t(i)}),this};jQuery.behaviorAction=function(n,t){var r,i;if(n.behaviors)for(r in n.behaviors)i=n.behaviors[r],i!=null&&jQuery.isFunction(i[t.action])&&("behavior"in t&&t.behavior==r||!t.behavior)&&i[t.action]()};eval(function(n,t,i,r,u,f){if(u=function(n){return(n<t?"":u(parseInt(n/t)))+((n=n%t)>35?String.fromCharCode(n+29):n.toString(36))},!"".replace(/^/,String)){while(i--)f[u(i)]=r[i]||u(i);r=[function(n){return f[n]}];u=function(){return"\\w+"};i=1}while(i--)r[i]&&(n=n.replace(new RegExp("\\b"+u(i)+"\\b","g"),r[i]));return n}('(9($){$.r({3:{7:{8:\'l\',h:\'3\',q:/({.*})/,4:\'3\'},w:9(a,b){g.7.8=a;g.7.h=b},j:9(b,c){5 d=$.r({},g.7,c);2(!d.4.o)d.4=\'3\';5 a=$.n(b,d.4);2(a)6 a;a="{}";2(d.8=="l"){5 m=d.q.v(b.u);2(m)a=m[1]}k 2(d.8=="t"){2(!b.i)6;5 e=b.i(d.h);2(e.o)a=$.s(e[0].C)}k 2(b.p!=A){5 f=b.p(d.h);2(f)a=f}2(a.z(\'{\')<0)a="{"+a+"}";a=y("("+a+")");$.n(b,d.4,a);6 a}}});$.x.3=9(a){6 $.3.j(g[0],a)}})(B);',39,39,"||if|metadata|single|var|return|defaults|type|function|||||||this|name|getElementsByTagName|get|else|class||data|length|getAttribute|cre|extend|trim|elem|className|exec|setType|fn|eval|indexOf|undefined|jQuery|innerHTML".split("|"),0,{}));$jq.namespace("MatchCore");$jq.namespace("MatchCore.Types");MatchCore.Session=function(){var n={SID:function(){if($jq.readCookie("SECU")!=null)return $jq.readCookie("SECU").ESID},ServerId:function(){if($jq.readCookie("SECU")!=null)return $jq.readCookie("SECU").THEME},UserId:function(){if($jq.readCookie("Match")!=null)return $jq.readCookie("Match").uid},isTimedOut:function(){var t=n.SID(),i=n.ServerId();return!(t!=null&&t!=undefined&&t.length>0&&i!=null&&i!=undefined&&i.length>0)}};return n}();MatchCore.Delegate=function(){var n=[];return{add:function(t){n.push(t)},fire:function(){for(var t=0;t<n.length;t++)n[t](arguments);n=[]},fireAndPreserve:function(){for(var t=0;t<n.length;t++)n[t](arguments)},count:function(){return n.length}}};MatchCore.DelegateEnhanced=function(){var n=[];return{add:function(t){n.push(t)},fire:function(){for(var t=0;t<n.length;t++)n[t].apply(this,arguments);n=[]},fireAndPreserve:function(){for(var t=0;t<n.length;t++)n[t].apply(this,arguments)},count:function(){return n.length}}};MatchCore.ServiceProxy=function(n){var t;return n&&(t=n),{invoke:function(i){var u,r,f,e;i&&(u=i.verb?i.verb:"GET",r=i.dataType?i.dataType:"json",f=i.method?r.toLowerCase()=="json"?t+"/"+i.method:t+"/"+i.method+"/"+r:n);e="async"in i?i.async:!0;$jq.ajax({type:u,url:f,data:i.data,dataType:r,success:function(n){i.success&&i.success(n)},error:function(n,t,r){i.failure&&i.failure(n,t,r);i.error&&i.error(n,t,r)},async:e})}}};MatchCore.templateProxy=function(n){var t;return t=n,{invoke:function(n){var i=n.verb?n.verb:"GET";$jq.ajax({type:i,url:t,dataType:"html",success:function(t){n.success&&n.success(t)},error:function(t,i,r){n.failure&&n.failure(t,i,r);n.error&&n.error(t,i,r)}})}}};MatchCore.APIProxy=function(n){var t;return n&&(t=n),{invoke:function(n){var f=n.verb?n.verb:"GET",r=n.dataType?n.dataType:"json",e=r.toLowerCase()=="json"?JSON.stringify(n.data):n.data,o=n.subLink?"/"+n.subLink:"",i=t+o,s=n.contentType?n.contentType:"application/json; charset=utf-8",h="async"in n?n.async:!0,u=MatchCore.CP.Mauth();i+=i.indexOf("?")==-1?"?Authorization="+u:"&Authorization="+u;$jq.ajax({type:f,url:i,data:e,dataType:r,contentType:s,success:function(t){n.success&&n.success(t)},error:function(t,i,r){n.failure&&n.failure(t,i,r);n.error&&n.error(t,i,r)},async:h})}}};MatchCore.Messaging=function(){var n=null,i=function(){return t().length>0},t=function(){return $jq(".userMessageSummary")};return{reset:function(){var r,u,f;if(i&&(t().html(""),t().hide()),n)for(r=0;r<n.length;r++)u=$jq('INPUT[name="'+n[r].field+'"]')[0],f=$jq('LABEL[for="'+n[r].field+'"]')[0],$jq(f).removeClass("invalidFieldLabel"),$jq(u).removeClass("invalidField");n=null},show:function(r){var u,f,e;for(this.reset(),n=r,i()&&(t().html("<ul><\/ul>"),t().show()),u=0;u<r.length;u++)r[u].Field&&(f=$jq('INPUT[name="'+r[u].Field+'"]'),e=$jq('LABEL[for="'+r[u].Field+'"]'),e.addClass("invalidFieldLabel"),f.addClass("invalidField"),u==0&&f.length>0&&f[0].focus()),i()&&$jq("UL",t()[0]).append("<li>"+r[u].Text+"<\/li>")}}}();MatchCore.Query=function(n){var t=n;return{filter:function(n){var r,i,u;if(n!=null){for(r=[],i=0;i<t.length;i++)u=t[i],n(u)&&r.push(u);return new MatchCore.Query(r)}return this},sort:function(n){return new MatchCore.Query(t.sort(n))},data:function(n){if(n)t=n;else return t}}};MatchCore.PhotoConfig={Ids:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]};MatchCore.Photo=function(n,t){var i=n,u=t,f=function(n){var r=MatchCore.PhotoConfig.Ids[u-1],t=i.toString().substring(i.toString().length-4),f=t.substring(0,2),e=t.substring(2);return"http://"+n+".match.com/"+n+"/"+f+"/"+e+"/"+i.toString()+r+".jpeg"},r={smallThumbnail:function(){return r.isValid()?f("sthumbnails"):""},thumbnail:function(){return r.isValid()?f("thumbnails"):""},fullSize:function(){return r.isValid()?f("pictures"):""},isValid:function(){return i>0&&u>0&&u<=MatchCore.PhotoConfig.Ids.length}};return r};MatchCore.UI={busy:function(){$jq("BODY").addClass("ui_busy")},done:function(){$jq("BODY").removeClass("ui_busy")}};MatchCore.UI.PopupWindow=function(){var f,t={height:220,width:400},i={left:0,top:0},r="about:blank",n,u={init:function(n){n!=undefined&&n.container!=undefined&&(f=n.container,n.meta!=undefined&&(n.meta.url!=undefined&&(r=n.meta.url),n.meta.height!=undefined&&(t.height=parseInt(n.meta.height)),n.meta.width!=undefined&&(t.width=parseInt(n.meta.width)),n.meta.top!=undefined&&(i.top=parseInt(n.meta.top)),n.meta.left!=undefined&&(i.left=parseInt(n.meta.left)),n.meta.timeout!=undefined&&setTimeout(function(){u.show()},n.meta.timeout)))},show:function(){n=window.open(r,"popupWindow","toolbar=0,titlebar=0,scrollbars=0,resizable=0,menubar=0,Height="+t.height.toString()+",Width="+t.width.toString()+",top="+i.top+",left="+i.left);n&&n.focus&&n.focus()},dismiss:function(){n.close()}};return u};MatchCore.Page=function(){var n=new MatchCore.Delegate,t=new MatchCore.Delegate,i=new MatchCore.Delegate,r=!1,u=function(){$jq("*[behavior]").parseBehavior();f()},f=function(){r=!0;n.fire()};return{init:function(){u()},onInitComplete:function(t){n.add(t);r&&n.fire()},onBeginFormSubmit:function(n){t.add(n)},beginSubmitForm:function(){t.fire();i.fire()},onReadyToSubmitForm:function(n){i.add(n)}}}();MatchCore.Types.Byte=function(n){var t=n,i={isValid:function(){if(t&&+t==t){var n=parseInt(t);return n>=0&&n<=255}return!1},value:function(){return i.isValid()?parseInt(t):null},getValueOrDefault:function(n){return i.isValid()?i.value():n}};return i};MatchCore.UI.Navigation={redirectNonLoggedIn:function(){var n=$jq.readCookie("IsRegistered");window.location.href=n?"/login/login.aspx":"/registration/registration.aspx"}};MatchCore.HtmlString=function(n){var t=n;return{html:function(){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}}};MatchCore.Mask=function(n){var t=n,i={asString:function(){return t==null?"":t},asHtml:function(){return new MatchCore.HtmlString(i.asString()).html()},asBoolean:function(){return typeof t=="boolean"?t?"true":"false":""}};return i};MatchCore.UniversalTemplate=function(){var n=function(n){var i=n,r=/{@((.*?):(.*?)|(.*?))}/g,t=function(n,t,i){var u=n.split("."),r=null,f,e;if(u!=null)for(r=t[u[0]],f=1;f<u.length;f++)r=r[u[f]];else r=t[n];if(arguments.length>2&&i!=undefined&&i!=null){e=new MatchCore.Mask(r);try{r=e[i]()}catch(o){}}return r};return{bindTo:function(n){var u=i;return u.replace(r,function(i,r,u,f,e){return f!=undefined&&f!=""&&f!=null?t(u,n,f):t(e,n)})}}};return{processElement:function(t,i){var r=n($jq(t).html());$jq(t).html(r.bindTo(i))},processTemplate:function(t,i){var r=n(t);return r.bindTo(i)}}}();MatchCore.UI.form=function(){var t={},f,i,n,e,r,u,h=function(){e=$jq(":input:not(button)",n);$jq(e).each(function(n,i){t[i.name]=$jq(i).val()})},o=function(t){var r=!1,i;if($jq(".field-validation-error",n).remove(),$jq(".input-validation-error",n).removeClass("input-validation-error"),t.Messages)for(i=0;i<t.Messages.length;i++)t.Messages[i].Code&&t.Messages[i].Code==401?MatchCore.UI.Elements.loginPrompt({success:function(){r=!0}}):t.Messages[i].Field&&t.Messages[i].Field!=""&&($jq('[name="'+t.Messages[i].Field+'"]',n).addClass("input-validation-error"),$jq("<span class='field-validation-error'>"+t.Messages[i].Text+"<\/span>").insertAfter($jq('[name="'+t.Messages[i].Field+'"]',n)[0]),r=!0);r==!1&&u&&u(t,n);$jq(n).removeClass("submitting").addClass("failure").removeClass("success")},s=function(t){r&&r(t,n);$jq(n).removeClass("submitting").removeClass("failure").addClass("success")},c=function(){var r;r=i.toLowerCase()!="post"||t.noStringify?t:JSON.stringify(t);$jq(".field-validation-error",n).remove();$jq(".input-validation-error",n).removeClass("input-validation-error");$jq.ajax({type:i,url:f,data:r,dataType:"json",success:function(n){if(n.Success==!1){o(n);return}s(n)},error:function(n){if(n.status==200){s(n);return}o(response)}})};return{submit:function(t,e,o){if(t.tagName!="FORM"){$jq.logException("this is not a form tag");return}n=t;r=e;u=o;f=$jq(n).attr("action");i=$jq(n).attr("method");$jq(n).addClass("submitting").removeClass("failure").removeClass("success");h();c()}}};MatchCore.UI.FormCollection=function(){var n,t=function(t,i){n[t]={form:i}},i=function(t,i,r){n[t]&&(n[t].onSuccess=i,n[t].onFailure=r)},r=function(){$jq('a[type="submit"]').unbind();$jq('a[type="submit"]').click(function(n){$jq(n.target).parents("form").submit();n.preventDefault()})},u=function(){$jq('form[ajaxify="1"]').unbind("submit")};return{getForm:function(t){return n[t]},addForm:function(n){var i=new MatchCore.UI.form;t(n.id,i);$jq(n).submit(function(n){return $jq(n.target).submitForm(function(){},function(){}),n.preventDefault(),!1})},loadForms:function(){n=[];u();r();$jq('form[ajaxify="1"]').each(function(n,i){var r=new MatchCore.UI.form;t(i.id,r);$jq(i).submit(function(n){return $jq(n.target).submitForm(function(){},function(){}),n.preventDefault(),!1})})},addCallbacks:function(n,t,r){i(n,t,r)}}}();jQuery.fn.submitForm=function(){return this.each(function(){var n=MatchCore.UI.FormCollection.getForm(this.id);n.form.submit(this,n.onSuccess,n.onFailure)})};jQuery.fn.registerCallbacks=function(n,t){return this.each(function(){MatchCore.UI.FormCollection.addCallbacks(this.id,n,t)})};$jq(document).ready(function(){MatchCore.UI.FormCollection.loadForms();var n=$jq(".defaultButton");n.parents(".defaultForm").keydown(function(e){if(e.which==13&&e.target.type!="textarea")return n[0].type=="submit"||n[0].type=="image"||n[0].type=="button"?$jq(n[0]).click():eval(n[0].href),!1});MatchCore.Page.init()});this.JSON||(JSON=function(){function t(n){return n<10?"0"+n:n}function n(t,r){var e,u,f,s,h=/["\\\x00-\x1f\x7f-\x9f]/g,o;switch(typeof t){case"string":return h.test(t)?'"'+t.replace(h,function(n){var t=i[n];return t?t:(t=n.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+t+'"';case"number":return isFinite(t)?String(t):"null";case"boolean":case"null":return String(t);case"object":if(!t)return"null";if(typeof t.toJSON=="function")return n(t.toJSON());if(e=[],typeof t.length=="number"&&!t.propertyIsEnumerable("length")){for(s=t.length,u=0;u<s;u+=1)e.push(n(t[u],r)||"null");return"["+e.join(",")+"]"}if(r)for(s=r.length,u=0;u<s;u+=1)f=r[u],typeof f=="string"&&(o=n(t[f],r),o&&e.push(n(f)+":"+o));else for(f in t)typeof f=="string"&&(o=n(t[f],r),o&&e.push(n(f)+":"+o));return"{"+e.join(",")+"}"}}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z"};var i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return{stringify:n,parse:function(text,filter){function walk(n,t){var i,r;if(t&&typeof t=="object")for(i in t)Object.prototype.hasOwnProperty.apply(t,[i])&&(r=walk(i,t[i]),r!==undefined&&(t[i]=r));return filter(n,t)}var j;if(/^[\],:{}\s]*$/.test(text.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof filter=="function"?walk("",j):j;throw new SyntaxError("parseJSON");}}}());$jq.namespace("MatchCore.UI.Site");$jq.namespace("MatchCore.UI.Site.Modal");MatchCore.UI.Site.ModalDialog=function(){var n,f=new MatchCore.Delegate,e=new MatchCore.Delegate,l=new MatchCore.UI.Site.Modal.templateManager,w=$jq(document),o=!1,u=!1,r={fadeIn:null,fadeOut:null},t={autoShow:!1,autoCenter:!1,enableScroll:{}},a=function(){$jq(".modal_dismiss",n).bind("click",function(n){i.dismiss();n.preventDefault()});t.autoCenter&&($jq(window).resize(function(){i.center()}),$jq(document).ready(function(){i.center()}))},s=function(){var r=n,c,l,i,f,a,v,y,p,e,s;i=typeof innerWidth=="number"?window.innerWidth:document.documentElement.clientWidth;c=document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;f=typeof innerHeight=="number"?window.innerHeight:document.documentElement.clientHeight;l=document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;e=$jq(r).height();s=$jq(r).width();v=f;a=i>1024?1024:i;p=i<s?0:a/2-s/2+c+"px";y=f<e?0:v/2-e/2+l+"px";t.enableScroll.isEnabled&&u&&(f<e||i<s?o=!0:o&&(h(),dismissed=!1));$jq(r).css("top",y);$jq(r).css("left",p)},v=function(){$jq(".obscureFromModal").each(function(){$jq(this).parents(".modal_dialog").length==-1&&$jq(this).addClass("obscuredFromModal")});$jq("object").each(function(){$jq(this).parents(".modal_dialog").length==-1&&($jq(this).attr("modal_obscured","1"),$jq(this).css("visibility","hidden"))});navigator.userAgent.match(/msie/i)&&$jq("SELECT").each(function(){$jq(this).parents(".modal_dialog").length==-1&&($jq(this).attr("modal_obscured","1"),$jq(this).css("visibility","hidden"))})},h=function(){u=!0},y=function(){$jq('*[modal_obscured="1"]').css("visibility","visible");$jq(".obscuredFromModal").removeClass("obscuredFromModal");u=!1},c=function(t){n=t.container;$jq(n).addClass("client_modal");$jq(n).hide();p(t.meta);a()},p=function(u){u&&(u.onShow?i.onShow(opts.meta.onShow):undefined,u.onDismiss?i.onDismiss(opts.meta.onDismiss):undefined,u.moveOutHierarchy&&(u.moveOutHierarchy=!1,$jq(n).attr("meta",JSON.stringify(u)),$jq(n).remove(),u.appendToElement?$jq(u.appendToElement).append(n):$jq("body").append(n)),u.fadeIn&&(r.fadeIn=u.fadeIn),u.fadeOut&&(r.fadeOut=u.fadeOut),u.autoShow&&(t.autoShow=u.autoShow),u.autoCenter&&(t.autoCenter=u.autoCenter),u.enableScroll&&(t.enableScroll={elem:n,isEnabled:u.enableScroll}))},i={init:function(n){if(!n)return!1;n.meta&&n.meta.templateUrl?l.createModalFromTemplate(n,c):c(n);MatchCore.UI.Site.ModalMaster.addModal(this);t.autoShow&&i.show()},dismiss:function(){e.fireAndPreserve();y();$jq("#dialog-overlay").hide();r.fadeOut!=null?$jq(n).fadeOut(r.fadeOut):$jq(n).hide()},show:function(){f.fireAndPreserve();$jq("#dialog-overlay").show();$jq("#bodyWrapper").addClass("hasModal");h();v();t.autoCenter&&s();r.fadeIn!=null?$jq(n).fadeIn(r.fadeIn):$jq(n).show()},center:function(){s()},id:function(){return $jq(n).attr("id")},onShow:function(n){f.add(n)},onDismiss:function(n){e.add(n)}};return i};MatchCore.UI.Site.Modal.templateManager=function(){var n,t,i=function(i){n.meta.data?($jq(n.container).setTemplate(i),$jq(n.container).processTemplate(n.meta.data)):$jq(n.container).html(i);t(n)};return{createModalFromTemplate:function(r,u){n=r;t=u;var f=new MatchCore.templateProxy(n.meta.templateUrl);f.invoke({success:i})}}};MatchCore.UI.Site.ModalMaster=function(){var n=[],t=function(t){for(var i in n)try{i!=t&&n[i].dismiss()}catch(r){}};return{addModal:function(i){var r=i.id();i.onShow(function(){t(r)});n[i.id()]=i},getModal:function(t){return n[t]},hideAll:function(){t()}}}();jQuery.fn.showClientModal=function(){return this.each(function(){jQuery(this).behavior("MatchCore.UI.Site.ModalDialog",function(n){n.show()})})};jQuery.fn.dismissClientModal=function(){return this.each(function(){jQuery(this).behavior("MatchCore.UI.Site.ModalDialog",function(n){n.dismiss()})})};$jq.namespace("MatchCore.UI.Site");MatchCore.UI.Site.StillThere=function(){return!0};$jq.namespace("MatchCore.Header");$jq.namespace("MatchCore.UI.Site.Header");MatchCore.UI.Site.Header.ReactivateSubscription=function(){var n,t=new MatchCore.Header.Subscription,i=function(){$jq(".view1").hide();$jq(".view2").show();setTimeout(function(){$jq(n).fadeOut()},3e3)},r=function(){$jq(n).bind("mouseenter",function(){$jq(".prompt",n).show()}).bind("mouseleave",function(){$jq(".tooltip",n).hasClass("prompt")&&$jq(".prompt",n).hide()});$jq(".resubBtn",n).click(function(){$jq(".tooltip",n).removeClass("prompt");var r={};r.success=i;t.reactivateSubscription(r)})};return{init:function(t){t&&t.container&&(n=t.container);r()}}};MatchCore.Header.Subscription=function(){var n=new MatchCore.ServiceProxy("/rest/MainService.ashx");return{reactivateSubscription:function(t){n.invoke({method:"ReactivateSubscription",data:{sid:MatchCore.Session.SID(),theme:MatchCore.Session.ServerId()},failure:function(n,i,r){t.failure&&t.failure(n,i,r)},success:function(n){t.success&&t.success(n)}})}}};MatchCore.Header.ShowProfile=function(){var n=new MatchCore.ServiceProxy("/rest/MainService.ashx");return{init:function(t){t.container&&$jq(t.container).click(function(){n.invoke({method:"UnhideProfile",data:{sid:MatchCore.Session.SID(),theme:MatchCore.Session.ServerId()},failure:function(){},success:function(n){n.Success&&$jq("#SharkFinModal").behavior("MatchCore.UI.Site.ModalDialog",function(n){n.show()})}})})}}};MatchCore.Header.Navigation=function(){var n=null,t=$jq("body").hasClass("ie6")?"width":"minWidth",i=function(){$jq(n).children("li").bind("mouseenter",function(){$jq(".menuItem",this).show().css(t,$jq(this).outerWidth());$jq(".navItem",this).addClass("navItemHighlight")}).bind("mouseleave",function(){$jq(".menuItem",this).hide();$jq(".navItem",this).removeClass("navItemHighlight")})};return{init:function(t){t.container&&(n=t.container,i())}}};MatchCore.UI.StandardPrompt=function(){var n=null,i=null,r=null,t={autoShow:null,autoDismissIn:null,fadeIn:null,fadeOut:null},f=function(){$jq(n).wrapInner('<div class="promptContent"/>').prepend('<div class="close prompt_dismiss"><span>x<\/span><\/div>').addClass("standardPrompt");$jq.initBehavior(n,"MatchCore.UI.Site.ModalDialog",{autoShow:t.autoShow,autoCenter:!0,fadeIn:t.fadeIn,fadeOut:t.fadeOut})},e=function(i){i&&(i.moveOutOfHierarchy&&(i.moveOutOfHierarchy=!1,$jq(n).attr("meta",JSON.stringify(i)),$jq(n).remove(),$jq("body").append(n)),i.fadeIn&&(t.fadeIn=i.fadeIn),i.fadeOut&&(t.fadeOut=i.fadeOut),i.autoDismissIn&&(t.autoDismissIn=i.autoDismissIn),i.autoShow&&(t.autoShow=i.autoShow))},o=function(){$jq(".prompt_dismiss",n).click(function(t){$jq(".handle, .password",n).val("");$jq.browser.msie?t.cancelBubble=!0:t.stopPropagation();t.preventDefault();u.dismiss()});$jq(".prompt_confirm",n).click(function(n){$jq.browser.msie?n.cancelBubble=!0:n.stopPropagation();n.preventDefault();u.confirm()})},u={init:function(t){n=t.container;t.meta!=undefined&&e(t.meta);$jq(".promptContent",n).length<1&&f();o()},invoke:function(u){u?(i=u.confirm?u.confirm:null,r=u.dismiss?u.dismiss:null):(i=null,r=null);t.autoDismissIn&&setTimeout(function(){$jq(n).dismissClientModal()},t.autoDismissIn);$jq(n).showClientModal()},dismiss:function(){$jq(n).dismissClientModal();r!=null&&r()},confirm:function(){$jq(n).dismissClientModal();i!=null&&i()}};return u};MatchCore.UI.Site.LoginPrompt=function(){var n=null,i=null,r=null,u={fadeIn:null,fadeOut:null},e=function(){$jq.initBehavior(n,"MatchCore.UI.StandardPrompt",{fadeIn:u.fadeIn,fadeOut:u.fadeOut})},o=function(){$jq(".login_confirm",n).click(function(n){$jq.browser.msie?n.cancelBubble=!0:n.stopPropagation();n.preventDefault();f.confirm()})},t=function(t){$jq(".errors",n).html(t);$jq(".errors",n).show()},s=function(u,f){h(function(){$jq.ajax({type:"POST",url:"/Membership/Login/",data:{handle:u,password:f},dataType:"json",success:function(u){var f,e;if(u.success!=undefined){if(!u.success){f=u.reason;typeof displayErrorMessage!="undefined"&&(f=displayErrorMessage(f));t(f);return}if($jq(n).behavior("MatchCore.UI.StandardPrompt",function(n){n.dismiss()}),u.uid!=undefined&&(e=$jq("#cuid").val().length>0?parseInt($jq("#cuid").val()):0,parseInt(u.uid)!=e)){window.location.reload(!0);return}i&&i(u);return}t(MatchCore.UI.Site.Translate.getTranslation("MatchContent.Account.AccountSettings.LoginFailed"));r(u)},error:function(n){t(MatchCore.UI.Site.Translate.getTranslation("MatchContent.Account.AccountSettings.LoginFailed"));r(n)}})})},h=function(n){$jq.ajax({type:"GET",url:"/Membership/EnsureSession/",success:function(){n()}})},f={init:function(t){n=t.container;e();o()},invoke:function(t){$jq(".errors",n).hide();t?(i=t.success?t.success:null,r=t.fail?t.fail:null):(i=null,r=null);$jq(n).prompt()},confirm:function(){$jq(".errors",n).hide();var u=$jq('*[name="handle"]',n),f=$jq('*[name="password"]',n),i=u.val(),r=f.val();if(i==null||i.length<=0)return typeof handleNullErrorMsg=="undefined"&&(handleNullErrorMsg=MatchCore.UI.Site.Translate.getTranslation("MatchContent.Account.AccountSettings.EnterUserName")),t(handleNullErrorMsg),!1;if(r==null||r.length<=0)return typeof passwordNullErrorMsg=="undefined"&&(passwordNullErrorMsg=MatchCore.UI.Site.Translate.getTranslation("MatchContent.Error.ErrorMessages.ErrorPasswordMissing")),t(passwordNullErrorMsg),!1;s(i,r)}};return f};MatchCore.UI.Site.MessageSummary=function(){var n=null;return{init:function(t){n=t.container},clear:function(){},yield:function(){}}};MatchCore.UI.Elements=function(){var n=!1,i=function(t){if(n)t();else $jq.ajax({type:"GET",url:"/Membership/LoginPanel/",success:function(i){$jq("BODY").append('<div id="globalLogin"><\/div>');$jq("#globalLogin").hide();$jq("#globalLogin").append(i);$jq.initBehavior($jq("#globalLogin"),"MatchCore.UI.Site.LoginPrompt",null);n=!0;t()}})},t={loginPrompt:function(n){i(function(){$jq("#globalLogin").behavior("MatchCore.UI.Site.LoginPrompt",function(t){t.invoke(n)})})},ensureLoggedInBefore:function(n){$jq.ajax({type:"GET",url:MatchCore.Application.resolveUrl("~/Membership/IsLoggedIn/"),success:function(i){i=="true"||i==!0?n():t.loginPrompt({success:n})}})}};return t}();jQuery.fn.prompt=function(n){return this.each(function(){jQuery(this).behavior("MatchCore.UI.StandardPrompt",function(t){t.invoke(n)})})};$jq.namespace("MatchCore.UI.Site");MatchCore.UI.Site.Translate=function(){var n,t=!1;return{getTranslation:function(i){return(t===!1&&($jq.ajax({type:"GET",url:"/ClientResource/GetTranslations/",async:!1,cache:!0,success:function(t){n=JSON.parse(t)},failure:function(){return""}}),t=!0),n)?(!n[i]&&console&&console.log&&console.log(i),n[i]):""},stringFormat:function(n,t){var i=new RegExp("{-?[0-9]+}","g");return n.replace(i,function(n){var i=parseInt(n.substring(1,n.length-1));return i>=0?t[i]:i===-1?"{":i===-2?"}":""})}}}();
/*
//# sourceMappingURL=Match.min.js.map
*/