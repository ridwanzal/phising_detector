







(function(){



geolocation = {};
geolocation.requestGeo=function(c){geolocation.cdn3Requested=+new Date;var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=c;b.insertBefore(a,b.firstChild)};


var optly={nativity:{}};optly.nativity.getNativeGetElementsByClassName=function(){var a=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(a))var a=(window.optimizely||{}).getElementsByClassName,b=(window.optly||{}).getElementsByClassName,a=optly.nativity.isNativeFunction(a)?a:optly.nativity.isNativeFunction(b)?b:null;return a};optly.nativity.isNativeFunction=function(a){return a&&-1!==String(a).indexOf("[native code]")};optly.Cleanse={};optly.Cleanse.each=function(a,b,d){var h=!!Object.prototype.__lookupGetter__,e=!!Object.prototype.__lookupSetter__,c;for(c in a)if(a.hasOwnProperty(c)){var f=h?a.__lookupGetter__(c):null,g=e?a.__lookupSetter__(c):null;try{b.call(d,c,!f?a[c]:null,f,g)}catch(i){}}};
optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1;optly.Cleanse.each(optly.Cleanse.types,function(a,d){Object.prototype.__defineGetter__&&optly.Cleanse.each(optly.Cleanse.getters[a],function(c,b){d.prototype.__defineGetter__(c,b);optly.Cleanse.log("restored getter",a,c)});Object.prototype.__defineSetter__&&optly.Cleanse.each(optly.Cleanse.setters[a],function(c,b){d.prototype.__defineSetter__(c,b);optly.Cleanse.log("restored setter",a,c)});optly.Cleanse.each(optly.Cleanse.properties[a],
function(b,f){d.prototype[b]=f;optly.Cleanse.log("restored property",a,b)})});optly.Cleanse.unfixGetElementsByClassName();optly.Cleanse.log("finish");var a=window.console;if((-1!==window.location.hash.indexOf("optimizely_log=true")||-1!==window.location.search.indexOf("optimizely_log=true"))&&a&&a.log)for(var b=optly.Cleanse.logs,d=0;d<b.length;d++)a.log(b[d])}};
optly.Cleanse.log=function(a,b,d){b?(b=b.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a+": "+b+"."+d)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a)};
optly.Cleanse.start=function(){var a=window.location.hostname;if(!(-1!==a.indexOf("optimizely")&&-1===a.indexOf("edit")&&-1===a.indexOf("preview")&&-1===a.indexOf("test")))if(optly.Cleanse.running)optly.Cleanse.log("already running so didn't start");else{optly.Cleanse.log("start");optly.Cleanse.running=!0;for(var b in optly.Cleanse.types)optly.Cleanse.types[b]||delete optly.Cleanse.types[b];optly.Cleanse.each(optly.Cleanse.types,function(a,b){optly.Cleanse.getters[a]={};optly.Cleanse.properties[a]=
{};optly.Cleanse.setters[a]={};optly.Cleanse.each(b.prototype,function(e,c,f,g){optly.nativity.isNativeFunction(c)||optly.nativity.isNativeFunction(f)||optly.nativity.isNativeFunction(g)?optly.Cleanse.log("ignore native code",a,e):(f?(optly.Cleanse.getters[a][e]=f,optly.Cleanse.log("cleansed getter",a,e)):(optly.Cleanse.properties[a][e]=c,optly.Cleanse.log("cleansed property",a,e)),g&&(optly.Cleanse.setters[a][e]=g,optly.Cleanse.log("cleansed setter",a,e)),delete b.prototype[e])})});optly.Cleanse.fixGetElementsByClassName();
optly.Cleanse.hasRunStart=!0}};optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var a=optly.nativity.getNativeGetElementsByClassName();a?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=a):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}};
optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)};optly.Cleanse.getElementsByClassName=null;optly.Cleanse.getters={};optly.Cleanse.logs=[];optly.Cleanse.properties={};optly.Cleanse.setters={};optly.Cleanse.types={Object_:Object};window.optly=window.optly||{};window.optly.Cleanse={finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start};
optly.Cleanse.start();
/*

 jQuery JavaScript Library v1.11.3 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-offset,-dimensions
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-02-23T17:34Z
*/
(function(m,ia){"object"===typeof module&&"object"===typeof module.exports?module.exports=m.document?ia(m,!0):function(m){if(!m.document)throw Error("jQuery requires a window with a document");return ia(m)}:ia(m)})("undefined"!==typeof window?window:this,function(m,ia){function Ja(a){var b="length"in a&&a.length,c=d.type(a);return"function"===c||d.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}function Ka(a,b,c){if(d.isFunction(b))return d.grep(a,function(a,
d){return!!b.call(a,d,a)!==c});if(b.nodeType)return d.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(lc.test(b))return d.filter(b,a,c);b=d.filter(b,a)}return d.grep(a,function(a){return 0<=d.inArray(a,b)!==c})}function mb(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function nb(){l.addEventListener?(l.removeEventListener("DOMContentLoaded",K,!1),m.removeEventListener("load",K,!1)):(l.detachEvent("onreadystatechange",K),m.detachEvent("onload",K))}function K(){if(l.addEventListener||
"load"===event.type||"complete"===l.readyState)nb(),d.ready()}function ob(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(mc,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:nc.test(c)?d.parseJSON(c):c}catch(e){}d.data(a,b,c)}else c=void 0;return c}function La(a){for(var b in a)if(!("data"===b&&d.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function pb(a,b,c,e){if(d.acceptData(a)){var g=d.expando,f=a.nodeType,
h=f?d.cache:a,i=f?a[g]:a[g]&&g;if(i&&h[i]&&(e||h[i].data)||!(void 0===c&&"string"===typeof b)){i||(i=f?a[g]=L.pop()||d.guid++:g);h[i]||(h[i]=f?{}:{toJSON:d.noop});if("object"===typeof b||"function"===typeof b)e?h[i]=d.extend(h[i],b):h[i].data=d.extend(h[i].data,b);a=h[i];e||(a.data||(a.data={}),a=a.data);void 0!==c&&(a[d.camelCase(b)]=c);"string"===typeof b?(c=a[b],null==c&&(c=a[d.camelCase(b)])):c=a;return c}}}function qb(a,b,c){if(d.acceptData(a)){var e,g,f=a.nodeType,h=f?d.cache:a,i=f?a[d.expando]:
d.expando;if(h[i]){if(b&&(e=c?h[i]:h[i].data)){d.isArray(b)?b=b.concat(d.map(b,d.camelCase)):b in e?b=[b]:(b=d.camelCase(b),b=b in e?[b]:b.split(" "));for(g=b.length;g--;)delete e[b[g]];if(c?!La(e):!d.isEmptyObject(e))return}if(!c&&(delete h[i].data,!La(h[i])))return;f?d.cleanData([a],!0):k.deleteExpando||h!=h.window?delete h[i]:h[i]=null}}}function pa(){return!0}function $(){return!1}function rb(){try{return l.activeElement}catch(a){}}function sb(a){var b=tb.split("|"),a=a.createDocumentFragment();
if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function x(a,b){var c,e,g=0,f=typeof a.getElementsByTagName!==H?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==H?a.querySelectorAll(b||"*"):void 0;if(!f){f=[];for(c=a.childNodes||a;null!=(e=c[g]);g++)!b||d.nodeName(e,b)?f.push(e):d.merge(f,x(e,b))}return void 0===b||b&&d.nodeName(a,b)?d.merge([a],f):f}function oc(a){Ma.test(a.type)&&(a.defaultChecked=a.checked)}function ub(a,b){return d.nodeName(a,"table")&&d.nodeName(11!==
b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function vb(a){a.type=(null!==d.find.attr(a,"type"))+"/"+a.type;return a}function wb(a){var b=pc.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function Na(a,b){for(var c,e=0;null!=(c=a[e]);e++)d._data(c,"globalEval",!b||d._data(b[e],"globalEval"))}function xb(a,b){if(1===b.nodeType&&d.hasData(a)){var c,e,g;e=d._data(a);var f=d._data(b,e),h=e.events;if(h)for(c in delete f.handle,
f.events={},h){e=0;for(g=h[c].length;e<g;e++)d.event.add(b,c,h[c][e])}f.data&&(f.data=d.extend({},f.data))}}function yb(a,b){var c,e=d(b.createElement(a)).appendTo(b.body),g=m.getDefaultComputedStyle&&(c=m.getDefaultComputedStyle(e[0]))?c.display:d.css(e[0],"display");e.detach();return g}function qc(a){var b=l,c=zb[a];if(!c){c=yb(a,b);if("none"===c||!c)ja=(ja||d("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(ja[0].contentWindow||ja[0].contentDocument).document,b.write(),
b.close(),c=yb(a,b),ja.detach();zb[a]=c}return c}function Ab(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,d=Bb.length;d--;)if(b=Bb[d]+c,b in a)return b;return e}function Cb(a,b){for(var c,e,g,f=[],h=0,i=a.length;h<i;h++)if(e=a[h],e.style)if(f[h]=d._data(e,"olddisplay"),c=e.style.display,b)!f[h]&&"none"===c&&(e.style.display=""),""===e.style.display&&Oa(e)&&(f[h]=d._data(e,"olddisplay",qc(e.nodeName)));else if(g=Oa(e),c&&"none"!==c||!g)d._data(e,"olddisplay",g?c:d.css(e,
"display"));for(h=0;h<i;h++)if(e=a[h],e.style&&(!b||"none"===e.style.display||""===e.style.display))e.style.display=b?f[h]||"":"none";return a}function Db(a,b,c){return(a=rc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function Eb(a,b,c,e,g){for(var b=c===(e?"border":"content")?4:"width"===b?1:0,f=0;4>b;b+=2)"margin"===c&&(f+=d.css(a,c+aa[b],!0,g)),e?("content"===c&&(f-=d.css(a,"padding"+aa[b],!0,g)),"margin"!==c&&(f-=d.css(a,"border"+aa[b]+"Width",!0,g))):(f+=d.css(a,"padding"+aa[b],!0,g),"padding"!==
c&&(f+=d.css(a,"border"+aa[b]+"Width",!0,g)));return f}function Fb(a,b,c){var e=!0,g="width"===b?a.offsetWidth:a.offsetHeight,f=R(a),h=k.boxSizing&&"border-box"===d.css(a,"boxSizing",!1,f);if(0>=g||null==g){g=ba(a,b,f);if(0>g||null==g)g=a.style[b];if(Pa.test(g))return g;e=h&&(k.boxSizingReliable()||g===a.style[b]);g=parseFloat(g)||0}return g+Eb(a,b,c||(h?"border":"content"),e,f)+"px"}function Qa(a,b,c,e){var g;if(d.isArray(b))d.each(b,function(b,d){c||sc.test(a)?e(a,d):Qa(a+"["+("object"===typeof d?
b:"")+"]",d,c,e)});else if(!c&&"object"===d.type(b))for(g in b)Qa(a+"["+g+"]",b[g],c,e);else e(a,b)}var L=[],M=L.slice,Gb=L.concat,Ra=L.push,Hb=L.indexOf,qa={},tc=qa.toString,ca=qa.hasOwnProperty,k={},d=function(a,b){return new d.fn.init(a,b)},uc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,vc=/^-ms-/,wc=/-([\da-z])/gi,xc=function(a,b){return b.toUpperCase()};d.fn=d.prototype={jquery:"1.11.3 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-offset,-dimensions",
constructor:d,selector:"",length:0,toArray:function(){return M.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:M.call(this)},pushStack:function(a){a=d.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return d.each(this,a,b)},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(M.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var b=this.length,a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Ra,sort:L.sort,splice:L.splice};d.extend=d.fn.extend=function(){var a,b,c,e,g,f=arguments[0]||{},h=1,i=arguments.length,j=!1;"boolean"===typeof f&&(j=f,f=arguments[h]||{},h++);"object"!==typeof f&&!d.isFunction(f)&&(f={});h===i&&(f=this,h--);for(;h<i;h++)if(null!=(g=arguments[h]))for(e in g)a=f[e],c=g[e],f!==c&&(j&&c&&(d.isPlainObject(c)||
(b=d.isArray(c)))?(b?(b=!1,a=a&&d.isArray(a)?a:[]):a=a&&d.isPlainObject(a)?a:{},f[e]=d.extend(j,a,c)):void 0!==c&&(f[e]=c));return f};d.extend({expando:"jQuery"+("1.11.3 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-offset,-dimensions"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},
isFunction:function(a){return"function"===d.type(a)},isArray:Array.isArray||function(a){return"array"===d.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!d.isArray(a)&&0<=a-parseFloat(a)+1},isEmptyObject:function(a){for(var b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==d.type(a)||a.nodeType||d.isWindow(a))return!1;try{if(a.constructor&&!ca.call(a,"constructor")&&!ca.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return ca.call(a,
b);for(b in a);return void 0===b||ca.call(a,b)},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?qa[tc.call(a)]||"object":typeof a},globalEval:function(a){a&&d.trim(a)&&(m.execScript||function(a){m.eval.call(m,a)})(a)},camelCase:function(a){return a.replace(vc,"ms-").replace(wc,xc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,d=0,f=a.length;e=Ja(a);if(c)if(e)for(;d<f&&!(e=b.apply(a[d],c),!1===e);d++);
else for(d in a){if(e=b.apply(a[d],c),!1===e)break}else if(e)for(;d<f&&!(e=b.call(a[d],d,a[d]),!1===e);d++);else for(d in a)if(e=b.call(a[d],d,a[d]),!1===e)break;return a},trim:function(a){return null==a?"":(a+"").replace(uc,"")},makeArray:function(a,b){var c=b||[];null!=a&&(Ja(Object(a))?d.merge(c,"string"===typeof a?[a]:a):Ra.call(c,a));return c},inArray:function(a,b,c){var e;if(b){if(Hb)return Hb.call(b,a,c);e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1},
merge:function(a,b){for(var c=+b.length,e=0,d=a.length;e<c;)a[d++]=b[e++];if(c!==c)for(;void 0!==b[e];)a[d++]=b[e++];a.length=d;return a},grep:function(a,b,c){for(var e=[],d=0,f=a.length,h=!c;d<f;d++)c=!b(a[d],d),c!==h&&e.push(a[d]);return e},map:function(a,b,c){var e,d=0,f=a.length,h=[];if(Ja(a))for(;d<f;d++)e=b(a[d],d,c),null!=e&&h.push(e);else for(d in a)e=b(a[d],d,c),null!=e&&h.push(e);return Gb.apply([],h)},guid:1,proxy:function(a,b){var c,e;"string"===typeof b&&(e=a[b],b=a,a=e);if(d.isFunction(a))return c=
M.call(arguments,2),e=function(){return a.apply(b||this,c.concat(M.call(arguments)))},e.guid=a.guid=a.guid||d.guid++,e},now:function(){return+new Date},support:k});d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){qa["[object "+b+"]"]=b.toLowerCase()});var Sa=m,t=function(a,b,c,e){var d,f,h,i,j;(b?b.ownerDocument||b:B)!==z&&S(b);b=b||z;c=c||[];i=b.nodeType;if("string"!==typeof a||!a||1!==i&&9!==i&&11!==i)return c;if(!e&&F){if(11!==i&&(d=yc.exec(a)))if(h=
d[1])if(9===i)if((f=b.getElementById(h))&&f.parentNode){if(f.id===h)return c.push(f),c}else return c;else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&ka(b,f)&&f.id===h)return c.push(f),c}else{if(d[2])return N.apply(c,b.getElementsByTagName(a)),c;if((h=d[3])&&q.getElementsByClassName)return N.apply(c,b.getElementsByClassName(h)),c}if(q.qsa&&(!u||!u.test(a))){f=d=p;h=b;j=1!==i&&a;if(1===i&&"object"!==b.nodeName.toLowerCase()){i=la(a);(d=b.getAttribute("id"))?f=d.replace(zc,"\\$&"):b.setAttribute("id",
f);f="[id='"+f+"'] ";for(h=i.length;h--;)i[h]=f+ra(i[h]);h=Ta.test(a)&&Ua(b.parentNode)||b;j=i.join(",")}if(j)try{return N.apply(c,h.querySelectorAll(j)),c}catch(n){}finally{d||b.removeAttribute("id")}}}return Ib(a.replace(sa,"$1"),b,c,e)},Va=function(){function a(c,e){b.push(c+" ")>o.cacheLength&&delete a[b.shift()];return a[c+" "]=e}var b=[];return a},C=function(a){a[p]=!0;return a},G=function(a){var b=z.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}},
Wa=function(a,b){for(var c=a.split("|"),e=a.length;e--;)o.attrHandle[c[e]]=b},Kb=function(a,b){var c=b&&a,e=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||Jb)-(~a.sourceIndex||Jb);if(e)return e;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1},Ac=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}},Bc=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}},T=function(a){return C(function(b){b=+b;
return C(function(c,e){for(var d,f=a([],c.length,b),h=f.length;h--;)if(c[d=f[h]])c[d]=!(e[d]=c[d])})})},Ua=function(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a},Lb=function(){},ra=function(a){for(var b=0,c=a.length,e="";b<c;b++)e+=a[b].value;return e},Xa=function(a,b,c){var e=b.dir,d=c&&"parentNode"===e,f=Cc++;return b.first?function(b,c,f){for(;b=b[e];)if(1===b.nodeType||d)return a(b,c,f)}:function(b,c,j){var n,v,r=[D,f];if(j)for(;b=b[e];){if((1===b.nodeType||d)&&a(b,c,j))return!0}else for(;b=
b[e];)if(1===b.nodeType||d){v=b[p]||(b[p]={});if((n=v[e])&&n[0]===D&&n[1]===f)return r[2]=n[2];v[e]=r;if(r[2]=a(b,c,j))return!0}}},Ya=function(a){return 1<a.length?function(b,c,d){for(var g=a.length;g--;)if(!a[g](b,c,d))return!1;return!0}:a[0]},ta=function(a,b,c,d,g){for(var f,h=[],i=0,j=a.length,n=null!=b;i<j;i++)if(f=a[i])if(!c||c(f,d,g))h.push(f),n&&b.push(i);return h},Za=function(a,b,c,d,g,f){d&&!d[p]&&(d=Za(d));g&&!g[p]&&(g=Za(g,f));return C(function(f,i,j,n){var v,r,w=[],k=[],l=i.length,m;if(!(m=
f)){m=b||"*";for(var s=j.nodeType?[j]:j,o=[],q=0,p=s.length;q<p;q++)t(m,s[q],o);m=o}m=a&&(f||!b)?ta(m,w,a,j,n):m;s=c?g||(f?a:l||d)?[]:i:m;c&&c(m,s,j,n);if(d){v=ta(s,k);d(v,[],j,n);for(j=v.length;j--;)if(r=v[j])s[k[j]]=!(m[k[j]]=r)}if(f){if(g||a){if(g){v=[];for(j=s.length;j--;)if(r=s[j])v.push(m[j]=r);g(null,s=[],v,n)}for(j=s.length;j--;)if((r=s[j])&&-1<(v=g?U(f,r):w[j]))f[v]=!(i[v]=r)}}else s=ta(s===i?s.splice(l,s.length):s),g?g(null,i,s,n):N.apply(i,s)})},$a=function(a){var b,c,d,g=a.length,f=o.relative[a[0].type];
c=f||o.relative[" "];for(var h=f?1:0,i=Xa(function(a){return a===b},c,!0),j=Xa(function(a){return-1<U(b,a)},c,!0),n=[function(a,c,d){a=!f&&(d||c!==ua)||((b=c).nodeType?i(a,c,d):j(a,c,d));b=null;return a}];h<g;h++)if(c=o.relative[a[h].type])n=[Xa(Ya(n),c)];else{c=o.filter[a[h].type].apply(null,a[h].matches);if(c[p]){for(d=++h;d<g&&!o.relative[a[d].type];d++);return Za(1<h&&Ya(n),1<h&&ra(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(sa,"$1"),c,h<d&&$a(a.slice(h,d)),d<g&&$a(a=a.slice(d)),
d<g&&ra(a))}n.push(c)}return Ya(n)},da,q,o,va,Mb,la,ab,Ib,ua,O,ea,S,z,E,F,u,V,wa,ka,p="sizzle"+1*new Date,B=Sa.document,D=0,Cc=0,Nb=Va(),Ob=Va(),Pb=Va(),bb=function(a,b){a===b&&(ea=!0);return 0},Jb=-2147483648,Ec={}.hasOwnProperty,W=[],Fc=W.pop,Gc=W.push,N=W.push,Qb=W.slice,U=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Rb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Sb="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+
Rb+"))|)[\\x20\\t\\r\\n\\f]*\\]",cb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Sb+")*)|.*)\\)|)",Hc=RegExp("[\\x20\\t\\r\\n\\f]+","g"),sa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Ic=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Jc=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Kc=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Lc=RegExp(cb),Mc=RegExp("^"+Rb+
"$"),xa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Sb),PSEUDO:RegExp("^"+cb),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Nc=/^(?:input|select|textarea|button)$/i,Oc=/^h\d$/i,ma=/^[^{]+\{\s*\[native \w/,yc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ta=/[+~]/,zc=/'|\\/g,I=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),J=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|
55296,a&1023|56320)},Tb=function(){S()};try{N.apply(W=Qb.call(B.childNodes),B.childNodes),W[B.childNodes.length].nodeType}catch(od){N={apply:W.length?function(a,b){Gc.apply(a,Qb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}q=t.support={};Mb=t.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};S=t.setDocument=function(a){var b=a?a.ownerDocument||a:B;if(b===z||9!==b.nodeType||!b.documentElement)return z;z=b;E=b.documentElement;
(a=b.defaultView)&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",Tb,!1):a.attachEvent&&a.attachEvent("onunload",Tb));F=!Mb(b);q.attributes=G(function(a){a.className="i";return!a.getAttribute("className")});q.getElementsByTagName=G(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});q.getElementsByClassName=ma.test(b.getElementsByClassName);q.getById=G(function(a){E.appendChild(a).id=p;return!b.getElementsByName||!b.getElementsByName(p).length});
q.getById?(o.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&F){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}},o.filter.ID=function(a){var b=a.replace(I,J);return function(a){return a.getAttribute("id")===b}}):(delete o.find.ID,o.filter.ID=function(a){var b=a.replace(I,J);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});o.find.TAG=q.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a);
if(q.qsa)return b.querySelectorAll(a)}:function(a,b){var d,f=[],h=0,i=b.getElementsByTagName(a);if(a==="*"){for(;d=i[h++];)d.nodeType===1&&f.push(d);return f}return i};o.find.CLASS=q.getElementsByClassName&&function(a,b){if(F)return b.getElementsByClassName(a)};V=[];u=[];if(q.qsa=ma.test(b.querySelectorAll))G(function(a){E.appendChild(a).innerHTML="<a id='"+p+"'></a><select id='"+p+"-\f]' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&
u.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||u.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+p+"-]").length||u.push("~=");a.querySelectorAll(":checked").length||u.push(":checked");a.querySelectorAll("a#"+p+"+*").length||u.push(".#.+[+~]")}),G(function(a){var d=b.createElement("input");d.setAttribute("type","hidden");
a.appendChild(d).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&u.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||u.push(":enabled",":disabled");a.querySelectorAll("*,:x");u.push(",.*:")});(q.matchesSelector=ma.test(wa=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&G(function(a){q.disconnectedMatch=wa.call(a,"div");wa.call(a,"[s!='']:x");V.push("!=",cb)});u=u.length&&RegExp(u.join("|"));V=V.length&&
RegExp(V.join("|"));ka=(a=ma.test(E.compareDocumentPosition))||ma.test(E.contains)?function(a,b){var d=a.nodeType===9?a.documentElement:a,f=b&&b.parentNode;return a===f||!(!f||!(f.nodeType===1&&(d.contains?d.contains(f):a.compareDocumentPosition&&a.compareDocumentPosition(f)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return true;return false};bb=a?function(a,d){if(a===d){ea=true;return 0}var g=!a.compareDocumentPosition-!d.compareDocumentPosition;if(g)return g;g=(a.ownerDocument||a)===
(d.ownerDocument||d)?a.compareDocumentPosition(d):1;return g&1||!q.sortDetached&&d.compareDocumentPosition(a)===g?a===b||a.ownerDocument===B&&ka(B,a)?-1:d===b||d.ownerDocument===B&&ka(B,d)?1:O?U(O,a)-U(O,d):0:g&4?-1:1}:function(a,d){if(a===d){ea=true;return 0}var g,f=0;g=a.parentNode;var h=d.parentNode,i=[a],j=[d];if(!g||!h)return a===b?-1:d===b?1:g?-1:h?1:O?U(O,a)-U(O,d):0;if(g===h)return Kb(a,d);for(g=a;g=g.parentNode;)i.unshift(g);for(g=d;g=g.parentNode;)j.unshift(g);for(;i[f]===j[f];)f++;return f?
Kb(i[f],j[f]):i[f]===B?-1:j[f]===B?1:0};return b};t.matches=function(a,b){return t(a,null,null,b)};t.matchesSelector=function(a,b){(a.ownerDocument||a)!==z&&S(a);b=b.replace(Kc,"='$1']");if(q.matchesSelector&&F&&(!V||!V.test(b))&&(!u||!u.test(b)))try{var c=wa.call(a,b);if(c||q.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<t(b,z,null,[a]).length};t.contains=function(a,b){(a.ownerDocument||a)!==z&&S(a);return ka(a,b)};t.attr=function(a,b){(a.ownerDocument||a)!==
z&&S(a);var c=o.attrHandle[b.toLowerCase()],c=c&&Ec.call(o.attrHandle,b.toLowerCase())?c(a,b,!F):void 0;return void 0!==c?c:q.attributes||!F?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};t.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};t.uniqueSort=function(a){var b,c=[],d=0,g=0;ea=!q.detectDuplicates;O=!q.sortStable&&a.slice(0);a.sort(bb);if(ea){for(;b=a[g++];)b===a[g]&&(d=c.push(g));for(;d--;)a.splice(c[d],1)}O=null;return a};va=t.getText=function(a){var b,
c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=va(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d++];)c+=va(b);return c};o=t.selectors={cacheLength:50,createPseudo:C,match:xa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(I,J);a[3]=(a[3]||
a[4]||a[5]||"").replace(I,J);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||t.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&t.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(xa.CHILD.test(a[0]))return null;if(a[3])a[2]=a[4]||a[5]||"";else if(c&&Lc.test(c)&&(b=la(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length))a[0]=a[0].slice(0,b),a[2]=c.slice(0,
b);return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(I,J).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Nb[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Nb(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){d=t.attr(d,a);if(null==d)return"!="===
b;if(!b)return!0;d+="";return"="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+d.replace(Hc," ")+" ").indexOf(c):"|="===b?d===c||d.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,d,g){var f="nth"!==a.slice(0,3),h="last"!==a.slice(-4),i="of-type"===b;return 1===d&&0===g?function(a){return!!a.parentNode}:function(b,c,v){var r,w,k,l,m,c=f!==h?"nextSibling":"previousSibling",s=b.parentNode,o=i&&b.nodeName.toLowerCase(),
v=!v&&!i;if(s){if(f){for(;c;){for(w=b;w=w[c];)if(i?w.nodeName.toLowerCase()===o:1===w.nodeType)return!1;m=c="only"===a&&!m&&"nextSibling"}return!0}m=[h?s.firstChild:s.lastChild];if(h&&v){v=s[p]||(s[p]={});r=v[a]||[];l=r[0]===D&&r[1];k=r[0]===D&&r[2];for(w=l&&s.childNodes[l];w=++l&&w&&w[c]||(k=l=0)||m.pop();)if(1===w.nodeType&&++k&&w===b){v[a]=[D,l,k];break}}else if(v&&(r=(b[p]||(b[p]={}))[a])&&r[0]===D)k=r[1];else for(;w=++l&&w&&w[c]||(k=l=0)||m.pop();)if((i?w.nodeName.toLowerCase()===o:1===w.nodeType)&&
++k)if(v&&((w[p]||(w[p]={}))[a]=[D,k]),w===b)break;k-=g;return k===d||0===k%d&&0<=k/d}}},PSEUDO:function(a,b){var c,d=o.pseudos[a]||o.setFilters[a.toLowerCase()]||t.error("unsupported pseudo: "+a);return d[p]?d(b):1<d.length?(c=[a,a,"",b],o.setFilters.hasOwnProperty(a.toLowerCase())?C(function(a,c){for(var h,i=d(a,b),j=i.length;j--;)h=U(a,i[j]),a[h]=!(c[h]=i[j])}):function(a){return d(a,0,c)}):d}},pseudos:{not:C(function(a){var b=[],c=[],d=ab(a.replace(sa,"$1"));return d[p]?C(function(a,b,c,i){for(var i=
d(a,null,i,[]),j=a.length;j--;)if(c=i[j])a[j]=!(b[j]=c)}):function(a,f,h){b[0]=a;d(b,null,h,c);b[0]=null;return!c.pop()}}),has:C(function(a){return function(b){return 0<t(a,b).length}}),contains:C(function(a){a=a.replace(I,J);return function(b){return-1<(b.textContent||b.innerText||va(b)).indexOf(a)}}),lang:C(function(a){Mc.test(a||"")||t.error("unsupported lang: "+a);a=a.replace(I,J).toLowerCase();return function(b){var c;do if(c=F?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=
c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=Sa.location&&Sa.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===E},focus:function(a){return a===z.activeElement&&(!z.hasFocus||z.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===
b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!o.pseudos.empty(a)},header:function(a){return Oc.test(a.nodeName)},input:function(a){return Nc.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===
a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:T(function(){return[0]}),last:T(function(a,b){return[b-1]}),eq:T(function(a,b,c){return[0>c?c+b:c]}),even:T(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:T(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:T(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:T(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};o.pseudos.nth=o.pseudos.eq;for(da in{radio:!0,checkbox:!0,file:!0,
password:!0,image:!0})o.pseudos[da]=Ac(da);for(da in{submit:!0,reset:!0})o.pseudos[da]=Bc(da);Lb.prototype=o.filters=o.pseudos;o.setFilters=new Lb;la=t.tokenize=function(a,b){var c,d,g,f,h,i,j;if(h=Ob[a+" "])return b?0:h.slice(0);h=a;i=[];for(j=o.preFilter;h;){if(!c||(d=Ic.exec(h)))d&&(h=h.slice(d[0].length)||h),i.push(g=[]);c=!1;if(d=Jc.exec(h))c=d.shift(),g.push({value:c,type:d[0].replace(sa," ")}),h=h.slice(c.length);for(f in o.filter)if((d=xa[f].exec(h))&&(!j[f]||(d=j[f](d))))c=d.shift(),g.push({value:c,
type:f,matches:d}),h=h.slice(c.length);if(!c)break}return b?h.length:h?t.error(a):Ob(a,i).slice(0)};ab=t.compile=function(a,b){var c,d=[],g=[],f=Pb[a+" "];if(!f){b||(b=la(a));for(c=b.length;c--;)f=$a(b[c]),f[p]?d.push(f):g.push(f);var h=0<d.length,i=0<g.length;c=function(a,b,c,f,k){var l,m,q,s=0,p="0",x=a&&[],u=[],y=ua,A=a||i&&o.find.TAG("*",k),B=D+=null==y?1:Math.random()||0.1,C=A.length;for(k&&(ua=b!==z&&b);p!==C&&null!=(l=A[p]);p++){if(i&&l){for(m=0;q=g[m++];)if(q(l,b,c)){f.push(l);break}k&&(D=
B)}h&&((l=!q&&l)&&s--,a&&x.push(l))}s+=p;if(h&&p!==s){for(m=0;q=d[m++];)q(x,u,b,c);if(a){if(0<s)for(;p--;)!x[p]&&!u[p]&&(u[p]=Fc.call(f));u=ta(u)}N.apply(f,u);k&&(!a&&0<u.length&&1<s+d.length)&&t.uniqueSort(f)}k&&(D=B,ua=y);return x};c=h?C(c):c;f=Pb(a,c);f.selector=a}return f};Ib=t.select=function(a,b,c,d){var g,f,h,i,j="function"===typeof a&&a,n=!d&&la(a=j.selector||a),c=c||[];if(1===n.length){f=n[0]=n[0].slice(0);if(2<f.length&&"ID"===(h=f[0]).type&&q.getById&&9===b.nodeType&&F&&o.relative[f[1].type]){if(b=
(o.find.ID(h.matches[0].replace(I,J),b)||[])[0])j&&(b=b.parentNode);else return c;a=a.slice(f.shift().value.length)}for(g=xa.needsContext.test(a)?0:f.length;g--;){h=f[g];if(o.relative[i=h.type])break;if(i=o.find[i])if(d=i(h.matches[0].replace(I,J),Ta.test(f[0].type)&&Ua(b.parentNode)||b)){f.splice(g,1);a=d.length&&ra(f);if(!a)return N.apply(c,d),c;break}}}(j||ab(a,n))(d,b,!F,c,Ta.test(a)&&Ua(b.parentNode)||b);return c};q.sortStable=p.split("").sort(bb).join("")===p;q.detectDuplicates=!!ea;S();q.sortDetached=
G(function(a){return a.compareDocumentPosition(z.createElement("div"))&1});G(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||Wa("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});(!q.attributes||!G(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")}))&&Wa("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});
G(function(a){return null==a.getAttribute("disabled")})||Wa("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});d.find=t;d.expr=t.selectors;d.expr[":"]=d.expr.pseudos;d.unique=t.uniqueSort;d.text=t.getText;d.isXMLDoc=t.isXML;d.contains=t.contains;var Ub=d.expr.match.needsContext,Vb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lc=
/^.[^:#\[\.,]*$/;d.filter=function(a,b,c){var e=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?d.find.matchesSelector(e,a)?[e]:[]:d.find.matches(a,d.grep(b,function(a){return 1===a.nodeType}))};d.fn.extend({find:function(a){var b,c=[],e=this,g=e.length;if("string"!==typeof a)return this.pushStack(d(a).filter(function(){for(b=0;b<g;b++)if(d.contains(e[b],this))return!0}));for(b=0;b<g;b++)d.find(a,e[b],c);c=this.pushStack(1<g?d.unique(c):c);c.selector=this.selector?this.selector+" "+
a:a;return c},filter:function(a){return this.pushStack(Ka(this,a||[],!1))},not:function(a){return this.pushStack(Ka(this,a||[],!0))},is:function(a){return!!Ka(this,"string"===typeof a&&Ub.test(a)?d(a):a||[],!1).length}});var na,l=m.document,Pc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(d.fn.init=function(a,b){var c,e;if(!a)return this;if("string"===typeof a){if((c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Pc.exec(a))&&(c[1]||!b)){if(c[1]){if(b=b instanceof d?b[0]:b,d.merge(this,
d.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),Vb.test(c[1])&&d.isPlainObject(b))for(c in b)if(d.isFunction(this[c]))this[c](b[c]);else this.attr(c,b[c])}else{if((e=l.getElementById(c[2]))&&e.parentNode){if(e.id!==c[2])return na.find(a);this.length=1;this[0]=e}this.context=l;this.selector=a}return this}return!b||b.jquery?(b||na).find(a):this.constructor(b).find(a)}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(d.isFunction(a))return"undefined"!==typeof na.ready?na.ready(a):
a(d);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)}).prototype=d.fn;na=d(l);var Qc=/^(?:parents|prev(?:Until|All))/,Rc={children:!0,contents:!0,next:!0,prev:!0};d.extend({dir:function(a,b,c){for(var e=[],a=a[b];a&&9!==a.nodeType&&(void 0===c||1!==a.nodeType||!d(a).is(c));)1===a.nodeType&&e.push(a),a=a[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});d.fn.extend({has:function(a){var b,
c=d(a,this),e=c.length;return this.filter(function(){for(b=0;b<e;b++)if(d.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,e=0,g=this.length,f=[],h=Ub.test(a)||"string"!==typeof a?d(a,b||this.context):0;e<g;e++)for(c=this[e];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(h?-1<h.index(c):1===c.nodeType&&d.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?d.unique(f):f)},index:function(a){return!a?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===
typeof a?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){return this.pushStack(d.unique(d.merge(this.get(),d(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});d.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return mb(a,"nextSibling")},prev:function(a){return mb(a,"previousSibling")},
nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,c){return d.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.merge([],a.childNodes)}},function(a,b){d.fn[a]=function(c,
e){var g=d.map(this,b,c);"Until"!==a.slice(-5)&&(e=c);e&&"string"===typeof e&&(g=d.filter(e,g));1<this.length&&(Rc[a]||(g=d.unique(g)),Qc.test(a)&&(g=g.reverse()));return this.pushStack(g)}});var X=/\S+/g,Wb={};d.Callbacks=function(a){var b;if("string"===typeof a){if(!(b=Wb[a])){b=a;var c=Wb[b]={};d.each(b.match(X)||[],function(a,b){c[b]=!0});b=c}}else b=d.extend({},a);var a=b,e,g,f,h,i,j,n=[],k=!a.once&&[],r=function(b){g=a.memory&&b;f=!0;i=j||0;j=0;h=n.length;for(e=!0;n&&i<h;i++)if(!1===n[i].apply(b[0],
b[1])&&a.stopOnFalse){g=!1;break}e=!1;n&&(k?k.length&&r(k.shift()):g?n=[]:l.disable())},l={add:function(){if(n){var b=n.length;(function Dc(b){d.each(b,function(b,c){var e=d.type(c);"function"===e?(!a.unique||!l.has(c))&&n.push(c):c&&(c.length&&"string"!==e)&&Dc(c)})})(arguments);e?h=n.length:g&&(j=b,r(g))}return this},remove:function(){n&&d.each(arguments,function(a,b){for(var c;-1<(c=d.inArray(b,n,c));)n.splice(c,1),e&&(c<=h&&h--,c<=i&&i--)});return this},has:function(a){return a?-1<d.inArray(a,
n):!(!n||!n.length)},empty:function(){n=[];h=0;return this},disable:function(){n=k=g=void 0;return this},disabled:function(){return!n},lock:function(){k=void 0;g||l.disable();return this},locked:function(){return!k},fireWith:function(a,b){if(n&&(!f||k))b=b||[],b=[a,b.slice?b.slice():b],e?k.push(b):r(b);return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!f}};return l};d.extend({Deferred:function(a){var b=[["resolve","done",d.Callbacks("once memory"),"resolved"],
["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return d.Deferred(function(c){d.each(b,function(b,j){var n=d.isFunction(a[b])&&a[b];g[j[1]](function(){var a=n&&n.apply(this,arguments);if(a&&d.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[j[0]+"With"](this===e?c.promise():
this,n?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?d.extend(a,e):e}},g={};e.pipe=e.then;d.each(b,function(a,d){var i=d[2],j=d[3];e[d[1]]=i.add;j&&i.add(function(){c=j},b[a^1][2].disable,b[2][2].lock);g[d[0]]=function(){g[d[0]+"With"](this===g?e:this,arguments);return this};g[d[0]+"With"]=i.fireWith});e.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,c=M.call(arguments),e=c.length,g=1!==e||a&&d.isFunction(a.promise)?e:0,f=1===g?a:d.Deferred(),h=function(a,
b,c){return function(d){b[a]=this;c[a]=1<arguments.length?M.call(arguments):d;c===i?f.notifyWith(b,c):--g||f.resolveWith(b,c)}},i,j,n;if(1<e){i=Array(e);j=Array(e);for(n=Array(e);b<e;b++)c[b]&&d.isFunction(c[b].promise)?c[b].promise().done(h(b,n,c)).fail(f.reject).progress(h(b,j,i)):--g}g||f.resolveWith(n,c);return f.promise()}});var ya;d.fn.ready=function(a){d.ready.promise().done(a);return this};d.extend({isReady:!1,readyWait:1,holdReady:function(a){a?d.readyWait++:d.ready(!0)},ready:function(a){if(!(!0===
a?--d.readyWait:d.isReady)){if(!l.body)return setTimeout(d.ready);d.isReady=!0;!0!==a&&0<--d.readyWait||(ya.resolveWith(l,[d]),d.fn.triggerHandler&&(d(l).triggerHandler("ready"),d(l).off("ready")))}}});d.ready.promise=function(a){if(!ya)if(ya=d.Deferred(),"complete"===l.readyState)setTimeout(d.ready);else if(l.addEventListener)l.addEventListener("DOMContentLoaded",K,!1),m.addEventListener("load",K,!1);else{l.attachEvent("onreadystatechange",K);m.attachEvent("onload",K);var b=!1;try{b=null==m.frameElement&&
l.documentElement}catch(c){}b&&b.doScroll&&function g(){if(!d.isReady){try{b.doScroll("left")}catch(a){return setTimeout(g,50)}nb();d.ready()}}()}return ya.promise(a)};var H="undefined",Xb;for(Xb in d(k))break;k.ownLast="0"!==Xb;k.inlineBlockNeedsLayout=!1;d(function(){var a,b,c;if((b=l.getElementsByTagName("body")[0])&&b.style){a=l.createElement("div");c=l.createElement("div");c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b.appendChild(c).appendChild(a);if(typeof a.style.zoom!==
H&&(a.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===a.offsetWidth))b.style.zoom=1;b.removeChild(c)}});var Sc=l.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete Sc.test}catch(pd){k.deleteExpando=!1}}d.acceptData=function(a){var b=d.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||!0!==b&&a.getAttribute("classid")===b};var nc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,mc=/([A-Z])/g;d.extend({cache:{},
noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!La(a)},data:function(a,b,c){return pb(a,b,c)},removeData:function(a,b){return qb(a,b)},_data:function(a,b,c){return pb(a,b,c,!0)},_removeData:function(a,b){return qb(a,b,!0)}});d.fn.extend({data:function(a,b){var c,e,g,f=this[0],h=f&&f.attributes;if(void 0===a){if(this.length&&(g=d.data(f),1===f.nodeType&&!d._data(f,"parsedAttrs"))){for(c=
h.length;c--;)h[c]&&(e=h[c].name,0===e.indexOf("data-")&&(e=d.camelCase(e.slice(5)),ob(f,e,g[e])));d._data(f,"parsedAttrs",!0)}return g}return"object"===typeof a?this.each(function(){d.data(this,a)}):1<arguments.length?this.each(function(){d.data(this,a,b)}):f?ob(f,a,d.data(f,a)):void 0},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({queue:function(a,b,c){var e;if(a)return b=(b||"fx")+"queue",e=d._data(a,b),c&&(!e||d.isArray(c)?e=d._data(a,b,d.makeArray(c)):
e.push(c)),e||[]},dequeue:function(a,b){var b=b||"fx",c=d.queue(a,b),e=c.length,g=c.shift(),f=d._queueHooks(a,b),h=function(){d.dequeue(a,b)};"inprogress"===g&&(g=c.shift(),e--);g&&("fx"===b&&c.unshift("inprogress"),delete f.stop,g.call(a,h,f));!e&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return d._data(a,c)||d._data(a,c,{empty:d.Callbacks("once memory").add(function(){d._removeData(a,b+"queue");d._removeData(a,c)})})}});d.fn.extend({queue:function(a,b){var c=2;"string"!==
typeof a&&(b=a,a="fx",c--);return arguments.length<c?d.queue(this[0],a):void 0===b?this:this.each(function(){var c=d.queue(this,a,b);d._queueHooks(this,a);a==="fx"&&c[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,g=d.Deferred(),f=this,h=this.length,i=function(){--e||g.resolveWith(f,[f])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";h--;)if((c=d._data(f[h],
a+"queueHooks"))&&c.empty)e++,c.empty.add(i);i();return g.promise(b)}});var db=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,aa=["Top","Right","Bottom","Left"],Oa=function(a,b){a=b||a;return"none"===d.css(a,"display")||!d.contains(a.ownerDocument,a)},oa=d.access=function(a,b,c,e,g,f,h){var i=0,j=a.length,n=null==c;if("object"===d.type(c))for(i in g=!0,c)d.access(a,b,i,c[i],!0,f,h);else if(void 0!==e&&(g=!0,d.isFunction(e)||(h=!0),n&&(h?(b.call(a,e),b=null):(n=b,b=function(a,b,c){return n.call(d(a),
c)})),b))for(;i<j;i++)b(a[i],c,h?e:e.call(a[i],i,b(a[i],c)));return g?a:n?b.call(a):j?b(a[0],c):f},Ma=/^(?:checkbox|radio)$/i,za=l.createElement("input"),y=l.createElement("div"),Yb=l.createDocumentFragment();y.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";k.leadingWhitespace=3===y.firstChild.nodeType;k.tbody=!y.getElementsByTagName("tbody").length;k.htmlSerialize=!!y.getElementsByTagName("link").length;k.html5Clone="<:nav></:nav>"!==l.createElement("nav").cloneNode(!0).outerHTML;
za.type="checkbox";za.checked=!0;Yb.appendChild(za);k.appendChecked=za.checked;y.innerHTML="<textarea>x</textarea>";k.noCloneChecked=!!y.cloneNode(!0).lastChild.defaultValue;Yb.appendChild(y);y.innerHTML="<input type='radio' checked='checked' name='t'/>";k.checkClone=y.cloneNode(!0).cloneNode(!0).lastChild.checked;k.noCloneEvent=!0;y.attachEvent&&(y.attachEvent("onclick",function(){k.noCloneEvent=!1}),y.cloneNode(!0).click());if(null==k.deleteExpando){k.deleteExpando=!0;try{delete y.test}catch(qd){k.deleteExpando=
!1}}var Aa,Ba,Zb=l.createElement("div");for(Aa in{submit:!0,change:!0,focusin:!0})if(Ba="on"+Aa,!(k[Aa+"Bubbles"]=Ba in m))Zb.setAttribute(Ba,"t"),k[Aa+"Bubbles"]=!1===Zb.attributes[Ba].expando;var eb=/^(?:input|select|textarea)$/i,Tc=/^key/,Uc=/^(?:mouse|pointer|contextmenu)|click/,$b=/^(?:focusinfocus|focusoutblur)$/,ac=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(a,b,c,e,g){var f,h,i,j,n,k,l,m,o;if(i=d._data(a)){if(c.handler){j=c;c=j.handler;g=j.selector}if(!c.guid)c.guid=d.guid++;if(!(h=
i.events))h=i.events={};if(!(n=i.handle)){n=i.handle=function(a){return typeof d!==H&&(!a||d.event.triggered!==a.type)?d.event.dispatch.apply(n.elem,arguments):void 0};n.elem=a}b=(b||"").match(X)||[""];for(i=b.length;i--;){f=ac.exec(b[i])||[];m=k=f[1];o=(f[2]||"").split(".").sort();if(m){f=d.event.special[m]||{};m=(g?f.delegateType:f.bindType)||m;f=d.event.special[m]||{};k=d.extend({type:m,origType:k,data:e,handler:c,guid:c.guid,selector:g,needsContext:g&&d.expr.match.needsContext.test(g),namespace:o.join(".")},
j);if(!(l=h[m])){l=h[m]=[];l.delegateCount=0;if(!f.setup||f.setup.call(a,e,o,n)===false)a.addEventListener?a.addEventListener(m,n,false):a.attachEvent&&a.attachEvent("on"+m,n)}if(f.add){f.add.call(a,k);if(!k.handler.guid)k.handler.guid=c.guid}g?l.splice(l.delegateCount++,0,k):l.push(k);d.event.global[m]=true}}a=null}},remove:function(a,b,c,e,g){var f,h,i,j,k,l,m,o,p,q,t,s=d.hasData(a)&&d._data(a);if(s&&(l=s.events)){b=(b||"").match(X)||[""];for(k=b.length;k--;){i=ac.exec(b[k])||[];p=t=i[1];q=(i[2]||
"").split(".").sort();if(p){m=d.event.special[p]||{};p=(e?m.delegateType:m.bindType)||p;o=l[p]||[];i=i[2]&&RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(j=f=o.length;f--;){h=o[f];if((g||t===h.origType)&&(!c||c.guid===h.guid)&&(!i||i.test(h.namespace))&&(!e||e===h.selector||e==="**"&&h.selector)){o.splice(f,1);h.selector&&o.delegateCount--;m.remove&&m.remove.call(a,h)}}if(j&&!o.length){(!m.teardown||m.teardown.call(a,q,s.handle)===false)&&d.removeEvent(a,p,s.handle);delete l[p]}}else for(p in l)d.event.remove(a,
p+b[k],c,e,true)}if(d.isEmptyObject(l)){delete s.handle;d._removeData(a,"events")}}},trigger:function(a,b,c,e){var g,f,h,i,j,k,o=[c||l],r=ca.call(a,"type")?a.type:a;j=ca.call(a,"namespace")?a.namespace.split("."):[];h=g=c=c||l;if(!(c.nodeType===3||c.nodeType===8)&&!$b.test(r+d.event.triggered)){if(r.indexOf(".")>=0){j=r.split(".");r=j.shift();j.sort()}f=r.indexOf(":")<0&&"on"+r;a=a[d.expando]?a:new d.Event(r,typeof a==="object"&&a);a.isTrigger=e?2:3;a.namespace=j.join(".");a.namespace_re=a.namespace?
RegExp("(^|\\.)"+j.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=void 0;if(!a.target)a.target=c;b=b==null?[a]:d.makeArray(b,[a]);j=d.event.special[r]||{};if(e||!(j.trigger&&j.trigger.apply(c,b)===false)){if(!e&&!j.noBubble&&!d.isWindow(c)){i=j.delegateType||r;if(!$b.test(i+r))h=h.parentNode;for(;h;h=h.parentNode){o.push(h);g=h}if(g===(c.ownerDocument||l))o.push(g.defaultView||g.parentWindow||m)}for(k=0;(h=o[k++])&&!a.isPropagationStopped();){a.type=k>1?i:j.bindType||r;(g=(d._data(h,"events")||{})[a.type]&&
d._data(h,"handle"))&&g.apply(h,b);if((g=f&&h[f])&&g.apply&&d.acceptData(h)){a.result=g.apply(h,b);a.result===false&&a.preventDefault()}}a.type=r;if(!e&&!a.isDefaultPrevented()&&(!j._default||j._default.apply(o.pop(),b)===false)&&d.acceptData(c)&&f&&c[r]&&!d.isWindow(c)){(g=c[f])&&(c[f]=null);d.event.triggered=r;try{c[r]()}catch(p){}d.event.triggered=void 0;g&&(c[f]=g)}return a.result}}},dispatch:function(a){var a=d.event.fix(a),b,c,e,g,f=[],h=M.call(arguments);b=(d._data(this,"events")||{})[a.type]||
[];var i=d.event.special[a.type]||{};h[0]=a;a.delegateTarget=this;if(!(i.preDispatch&&i.preDispatch.call(this,a)===false)){f=d.event.handlers.call(this,a,b);for(b=0;(e=f[b++])&&!a.isPropagationStopped();){a.currentTarget=e.elem;for(g=0;(c=e.handlers[g++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(c.namespace)){a.handleObj=c;a.data=c.data;c=((d.event.special[c.origType]||{}).handle||c.handler).apply(e.elem,h);if(c!==void 0&&(a.result=c)===false){a.preventDefault();
a.stopPropagation()}}}i.postDispatch&&i.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,e,g,f,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||a.type!=="click"))for(;j!=this;j=j.parentNode||this)if(j.nodeType===1&&(j.disabled!==true||a.type!=="click")){g=[];for(f=0;f<i;f++){e=b[f];c=e.selector+" ";g[c]===void 0&&(g[c]=e.needsContext?d(c,this).index(j)>=0:d.find(c,this,null,[j]).length);g[c]&&g.push(e)}g.length&&h.push({elem:j,handlers:g})}i<b.length&&h.push({elem:this,
handlers:b.slice(i)});return h},fix:function(a){if(a[d.expando])return a;var b,c,e;b=a.type;var g=a,f=this.fixHooks[b];f||(this.fixHooks[b]=f=Uc.test(b)?this.mouseHooks:Tc.test(b)?this.keyHooks:{});e=f.props?this.props.concat(f.props):this.props;a=new d.Event(g);for(b=e.length;b--;){c=e[b];a[c]=g[c]}if(!a.target)a.target=g.srcElement||l;if(a.target.nodeType===3)a.target=a.target.parentNode;a.metaKey=!!a.metaKey;return f.filter?f.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){if(a.which==null)a.which=b.charCode!=null?b.charCode:b.keyCode;return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,g=b.button,f=b.fromElement;if(a.pageX==null&&b.clientX!=null){c=a.target.ownerDocument||l;d=c.documentElement;c=c.body;a.pageX=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||
c&&c.clientLeft||0);a.pageY=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0)}if(!a.relatedTarget&&f)a.relatedTarget=f===a.target?b.toElement:f;if(!a.which&&g!==void 0)a.which=g&1?1:g&2?3:g&4?2:0;return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==rb()&&this.focus)try{this.focus();return false}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===rb()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(d.nodeName(this,
"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(a){return d.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){if(a.result!==void 0&&a.originalEvent)a.originalEvent.returnValue=a.result}}},simulate:function(a,b,c,e){a=d.extend(new d.Event,c,{type:a,isSimulated:true,originalEvent:{}});e?d.event.trigger(a,null,b):d.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};d.removeEvent=l.removeEventListener?function(a,b,c){a.removeEventListener&&
a.removeEventListener(b,c,false)}:function(a,b,c){b="on"+b;if(a.detachEvent){typeof a[b]===H&&(a[b]=null);a.detachEvent(b,c)}};d.Event=function(a,b){if(!(this instanceof d.Event))return new d.Event(a,b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===false?pa:$}else this.type=a;b&&d.extend(this,b);this.timeStamp=a&&a.timeStamp||d.now();this[d.expando]=true};d.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,
isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};
d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){d.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,g=a.relatedTarget,f=a.handleObj;if(!g||g!==this&&!d.contains(this,g)){a.type=f.origType;e=f.handler.apply(this,arguments);a.type=b}return e}}});k.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;d.event.add(this,"click._submit keypress._submit",function(a){a=a.target;
if((a=d.nodeName(a,"input")||d.nodeName(a,"button")?a.form:void 0)&&!d._data(a,"submitBubbles")){d.event.add(a,"submit._submit",function(a){a._submit_bubble=true});d._data(a,"submitBubbles",true)}})},postDispatch:function(a){if(a._submit_bubble){delete a._submit_bubble;this.parentNode&&!a.isTrigger&&d.event.simulate("submit",this.parentNode,a,true)}},teardown:function(){if(d.nodeName(this,"form"))return false;d.event.remove(this,"._submit")}});k.changeBubbles||(d.event.special.change={setup:function(){if(eb.test(this.nodeName)){if(this.type===
"checkbox"||this.type==="radio"){d.event.add(this,"propertychange._change",function(a){if(a.originalEvent.propertyName==="checked")this._just_changed=true});d.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger)this._just_changed=false;d.event.simulate("change",this,a,true)})}return false}d.event.add(this,"beforeactivate._change",function(a){a=a.target;if(eb.test(a.nodeName)&&!d._data(a,"changeBubbles")){d.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&
!a.isTrigger)&&d.event.simulate("change",this.parentNode,a,true)});d._data(a,"changeBubbles",true)}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return!eb.test(this.nodeName)}});k.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){d.event.simulate(b,a.target,d.event.fix(a),true)};d.event.special[b]=
{setup:function(){var e=this.ownerDocument||this,g=d._data(e,b);g||e.addEventListener(a,c,true);d._data(e,b,(g||0)+1)},teardown:function(){var e=this.ownerDocument||this,g=d._data(e,b)-1;if(g)d._data(e,b,g);else{e.removeEventListener(a,c,true);d._removeData(e,b)}}}});d.fn.extend({on:function(a,b,c,e,g){var f,h;if(typeof a==="object"){if(typeof b!=="string"){c=c||b;b=void 0}for(f in a)this.on(f,b,c,a[f],g);return this}if(c==null&&e==null){e=b;c=b=void 0}else if(e==null)if(typeof b==="string"){e=c;
c=void 0}else{e=c;c=b;b=void 0}if(e===false)e=$;else if(!e)return this;if(g===1){h=e;e=function(a){d().off(a);return h.apply(this,arguments)};e.guid=h.guid||(h.guid=d.guid++)}return this.each(function(){d.event.add(this,a,e,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var e;if(a&&a.preventDefault&&a.handleObj){e=a.handleObj;d(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a==="object"){for(e in a)this.off(e,
b,a[e]);return this}if(b===false||typeof b==="function"){c=b;b=void 0}c===false&&(c=$);return this.each(function(){d.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return d.event.trigger(a,b,c,true)}});var tb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vc=/ jQuery\d+="(?:null|\d+)"/g,
bc=RegExp("<(?:"+tb+")[\\s/>]","i"),fb=/^\s+/,cc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,dc=/<([\w:]+)/,ec=/<tbody/i,Wc=/<|&#?\w+;/,Xc=/<(?:script|style|link)/i,Yc=/checked\s*(?:[^=]|=\s*.checked.)/i,fc=/^$|\/(?:java|ecma)script/i,pc=/^true\/(.*)/,Zc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,A={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>",
"</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},gb=sb(l).appendChild(l.createElement("div"));A.optgroup=A.option;A.tbody=A.tfoot=A.colgroup=A.caption=A.thead;A.th=A.td;d.extend({clone:function(a,b,c){var e,g,f,h,i,j=d.contains(a.ownerDocument,a);if(k.html5Clone||d.isXMLDoc(a)||!bc.test("<"+a.nodeName+">"))f=a.cloneNode(true);
else{gb.innerHTML=a.outerHTML;gb.removeChild(f=gb.firstChild)}if((!k.noCloneEvent||!k.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){e=x(f);i=x(a);for(h=0;(g=i[h])!=null;++h)if(e[h]){var n=e[h],l=void 0,m=void 0,o=void 0;if(n.nodeType===1){l=n.nodeName.toLowerCase();if(!k.noCloneEvent&&n[d.expando]){o=d._data(n);for(m in o.events)d.removeEvent(n,m,o.handle);n.removeAttribute(d.expando)}if(l==="script"&&n.text!==g.text){vb(n).text=g.text;wb(n)}else if(l==="object"){if(n.parentNode)n.outerHTML=
g.outerHTML;if(k.html5Clone&&g.innerHTML&&!d.trim(n.innerHTML))n.innerHTML=g.innerHTML}else if(l==="input"&&Ma.test(g.type)){n.defaultChecked=n.checked=g.checked;if(n.value!==g.value)n.value=g.value}else if(l==="option")n.defaultSelected=n.selected=g.defaultSelected;else if(l==="input"||l==="textarea")n.defaultValue=g.defaultValue}}}if(b)if(c){i=i||x(a);e=e||x(f);for(h=0;(g=i[h])!=null;h++)xb(g,e[h])}else xb(a,f);e=x(f,"script");e.length>0&&Na(e,!j&&x(a,"script"));return f},buildFragment:function(a,
b,c,e){for(var g,f,h,i,j,l,m=a.length,o=sb(b),p=[],q=0;q<m;q++)if((f=a[q])||f===0)if(d.type(f)==="object")d.merge(p,f.nodeType?[f]:f);else if(Wc.test(f)){h=h||o.appendChild(b.createElement("div"));i=(dc.exec(f)||["",""])[1].toLowerCase();l=A[i]||A._default;h.innerHTML=l[1]+f.replace(cc,"<$1></$2>")+l[2];for(g=l[0];g--;)h=h.lastChild;!k.leadingWhitespace&&fb.test(f)&&p.push(b.createTextNode(fb.exec(f)[0]));if(!k.tbody)for(g=(f=i==="table"&&!ec.test(f)?h.firstChild:l[1]==="<table>"&&!ec.test(f)?h:0)&&
f.childNodes.length;g--;)d.nodeName(j=f.childNodes[g],"tbody")&&!j.childNodes.length&&f.removeChild(j);d.merge(p,h.childNodes);for(h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h);k.appendChecked||d.grep(x(p,"input"),oc);for(q=0;f=p[q++];)if(!(e&&d.inArray(f,e)!==-1)){a=d.contains(f.ownerDocument,f);h=x(o.appendChild(f),"script");a&&Na(h);if(c)for(g=0;f=h[g++];)fc.test(f.type||"")&&c.push(f)}return o},cleanData:function(a,
b){for(var c,e,g,f,h=0,i=d.expando,j=d.cache,l=k.deleteExpando,m=d.event.special;(c=a[h])!=null;h++)if(b||d.acceptData(c))if(f=(g=c[i])&&j[g]){if(f.events)for(e in f.events)m[e]?d.event.remove(c,e):d.removeEvent(c,e,f.handle);if(j[g]){delete j[g];l?delete c[i]:typeof c.removeAttribute!==H?c.removeAttribute(i):c[i]=null;L.push(g)}}}});d.fn.extend({text:function(a){return oa(this,function(a){return a===void 0?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(a))},null,
a,arguments.length)},append:function(){return this.domManip(arguments,function(a){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&ub(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=ub(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,e=a?d.filter(a,this):this,g=0;(c=e[g])!=null;g++){!b&&c.nodeType===1&&d.cleanData(x(c));if(c.parentNode){b&&d.contains(c.ownerDocument,c)&&Na(x(c,"script"));c.parentNode.removeChild(c)}}return this},empty:function(){for(var a,b=0;(a=this[b])!=null;b++){for(a.nodeType===1&&d.cleanData(x(a,false));a.firstChild;)a.removeChild(a.firstChild);if(a.options&&d.nodeName(a,"select"))a.options.length=
0}return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){return oa(this,function(a){var c=this[0]||{},e=0,g=this.length;if(a===void 0)return c.nodeType===1?c.innerHTML.replace(Vc,""):void 0;if(typeof a==="string"&&!Xc.test(a)&&(k.htmlSerialize||!bc.test(a))&&(k.leadingWhitespace||!fb.test(a))&&!A[(dc.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(cc,"<$1></$2>");try{for(;e<g;e++){c=this[e]||{};if(c.nodeType===1){d.cleanData(x(c,
false));c.innerHTML=a}}c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(b){a=this.parentNode;d.cleanData(x(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,true)},domManip:function(a,b){var a=Gb.apply([],a),c,e,g,f,h=0,i=this.length,j=this,l=i-1,m=a[0],o=d.isFunction(m);if(o||i>1&&typeof m==="string"&&!k.checkClone&&Yc.test(m))return this.each(function(c){var d=
j.eq(c);o&&(a[0]=m.call(this,c,d.html()));d.domManip(a,b)});if(i){f=d.buildFragment(a,this[0].ownerDocument,false,this);c=f.firstChild;f.childNodes.length===1&&(f=c);if(c){g=d.map(x(f,"script"),vb);for(e=g.length;h<i;h++){c=f;if(h!==l){c=d.clone(c,true,true);e&&d.merge(g,x(c,"script"))}b.call(this[h],c,h)}if(e){f=g[g.length-1].ownerDocument;d.map(g,wb);for(h=0;h<e;h++){c=g[h];if(fc.test(c.type||"")&&!d._data(c,"globalEval")&&d.contains(f,c))c.src?d._evalUrl&&d._evalUrl(c.src):d.globalEval((c.text||
c.textContent||c.innerHTML||"").replace(Zc,""))}}f=c=null}}return this}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(a){for(var e=0,g=[],f=d(a),h=f.length-1;e<=h;e++){a=e===h?this:this.clone(true);d(f[e])[b](a);Ra.apply(g,a.get())}return this.pushStack(g)}});var ja,zb={},gc=/^margin/,Pa=RegExp("^("+db+")(?!px)[a-z%]+$","i"),R,ba,$c=/^(top|right|bottom|left)$/;m.getComputedStyle?(R=function(a){return a.ownerDocument.defaultView.opener?
a.ownerDocument.defaultView.getComputedStyle(a,null):m.getComputedStyle(a,null)},ba=function(a,b,c){var e,g,f=a.style;g=(c=c||R(a))?c.getPropertyValue(b)||c[b]:void 0;if(c){g===""&&!d.contains(a.ownerDocument,a)&&(g=d.style(a,b));if(Pa.test(g)&&gc.test(b)){a=f.width;b=f.minWidth;e=f.maxWidth;f.minWidth=f.maxWidth=f.width=g;g=c.width;f.width=a;f.minWidth=b;f.maxWidth=e}}return g===void 0?g:g+""}):l.documentElement.currentStyle&&(R=function(a){return a.currentStyle},ba=function(a,b,c){var d,g,f,h=a.style;
f=(c=c||R(a))?c[b]:void 0;f==null&&(h&&h[b])&&(f=h[b]);if(Pa.test(f)&&!$c.test(b)){c=h.left;if(g=(d=a.runtimeStyle)&&d.left)d.left=a.currentStyle.left;h.left=b==="fontSize"?"1em":f;f=h.pixelLeft+"px";h.left=c;if(g)d.left=g}return f===void 0?f:f+""||"auto"});var Ga=function(){var a,b,c,d;if((b=l.getElementsByTagName("body")[0])&&b.style){a=l.createElement("div");c=l.createElement("div");c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b.appendChild(c).appendChild(a);
a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";Ca=Da=false;Ea=true;if(m.getComputedStyle){Ca=(m.getComputedStyle(a,null)||{}).top!=="1%";Da=(m.getComputedStyle(a,null)||{width:"4px"}).width==="4px";d=a.appendChild(l.createElement("div"));d.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";
d.style.marginRight=d.style.width="0";a.style.width="1px";Ea=!parseFloat((m.getComputedStyle(d,null)||{}).marginRight);a.removeChild(d)}a.innerHTML="<table><tr><td></td><td>t</td></tr></table>";d=a.getElementsByTagName("td");d[0].style.cssText="margin:0;border:0;padding:0;display:none";if(Fa=d[0].offsetHeight===0){d[0].style.display="";d[1].style.display="none";Fa=d[0].offsetHeight===0}b.removeChild(c)}},fa,Y,hc,Ca,Da,Fa,Ea;fa=l.createElement("div");fa.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
if(Y=(hc=fa.getElementsByTagName("a")[0])&&hc.style)Y.cssText="float:left;opacity:.5",k.opacity="0.5"===Y.opacity,k.cssFloat=!!Y.cssFloat,fa.style.backgroundClip="content-box",fa.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===fa.style.backgroundClip,k.boxSizing=""===Y.boxSizing||""===Y.MozBoxSizing||""===Y.WebkitBoxSizing,d.extend(k,{reliableHiddenOffsets:function(){Fa==null&&Ga();return Fa},boxSizingReliable:function(){Da==null&&Ga();return Da},pixelPosition:function(){Ca==
null&&Ga();return Ca},reliableMarginRight:function(){Ea==null&&Ga();return Ea}});d.swap=function(a,b,c,d){var g,f={};for(g in b){f[g]=a.style[g];a.style[g]=b[g]}c=c.apply(a,d||[]);for(g in b)a.style[g]=f[g];return c};var hb=/alpha\([^)]*\)/i,ad=/opacity\s*=\s*([^)]*)/,bd=/^(none|table(?!-c[ea]).+)/,rc=RegExp("^("+db+")(.*)$","i"),cd=RegExp("^([+-])=("+db+")","i"),dd={position:"absolute",visibility:"hidden",display:"block"},ic={letterSpacing:"0",fontWeight:"400"},Bb=["Webkit","O","Moz","ms"];d.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var c=ba(a,"opacity");return c===""?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var g,f,h,i=d.camelCase(b),j=a.style,b=d.cssProps[i]||(d.cssProps[i]=Ab(j,i));h=d.cssHooks[b]||d.cssHooks[i];if(c!==void 0){f=typeof c;if(f==="string"&&(g=cd.exec(c))){c=
(g[1]+1)*g[2]+parseFloat(d.css(a,b));f="number"}if(!(c==null||c!==c)){f==="number"&&!d.cssNumber[i]&&(c=c+"px");!k.clearCloneStyle&&(c===""&&b.indexOf("background")===0)&&(j[b]="inherit");if(!h||!("set"in h)||(c=h.set(a,c,e))!==void 0)try{j[b]=c}catch(l){}}}else return h&&"get"in h&&(g=h.get(a,false,e))!==void 0?g:j[b]}},css:function(a,b,c,e){var g,f;f=d.camelCase(b);b=d.cssProps[f]||(d.cssProps[f]=Ab(a.style,f));(f=d.cssHooks[b]||d.cssHooks[f])&&"get"in f&&(g=f.get(a,true,c));g===void 0&&(g=ba(a,
b,e));g==="normal"&&b in ic&&(g=ic[b]);if(c===""||c){a=parseFloat(g);return c===true||d.isNumeric(a)?a||0:g}return g}});d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(a,e,g){if(e)return bd.test(d.css(a,"display"))&&a.offsetWidth===0?d.swap(a,dd,function(){return Fb(a,b,g)}):Fb(a,b,g)},set:function(a,e,g){var f=g&&R(a);return Db(a,e,g?Eb(a,b,g,k.boxSizing&&d.css(a,"boxSizing",false,f)==="border-box",f):0)}}});k.opacity||(d.cssHooks.opacity={get:function(a,b){return ad.test((b&&
a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,g=d.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=e&&e.filter||c.filter||"";c.zoom=1;if((b>=1||b==="")&&d.trim(f.replace(hb,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(b===""||e&&!e.filter)return}c.filter=hb.test(f)?f.replace(hb,g):f+" "+g}});var ed=k.reliableMarginRight,fd=function(a,b){if(b)return d.swap(a,{display:"inline-block"},ba,
[a,"marginRight"])};d.cssHooks.marginRight={get:function(){var a=ed();if(a!=null)if(a)delete this.get;else return(this.get=fd).apply(this,arguments)}};d.each({margin:"",padding:"",border:"Width"},function(a,b){d.cssHooks[a+b]={expand:function(c){for(var d=0,g={},c=typeof c==="string"?c.split(" "):[c];d<4;d++)g[a+aa[d]+b]=c[d]||c[d-2]||c[0];return g}};if(!gc.test(a))d.cssHooks[a+b].set=Db});d.fn.extend({css:function(a,b){return oa(this,function(a,b,g){var f,h={},i=0;if(d.isArray(b)){g=R(a);for(f=b.length;i<
f;i++)h[b[i]]=d.css(a,b[i],false,g);return h}return g!==void 0?d.style(a,b,g):d.css(a,b)},a,b,arguments.length>1)},show:function(){return Cb(this,true)},hide:function(){return Cb(this)},toggle:function(a){return typeof a==="boolean"?a?this.show():this.hide():this.each(function(){Oa(this)?d(this).show():d(this).hide()})}});d.fn.delay=function(a,b){a=d.fx?d.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,d){var g=setTimeout(b,a);d.stop=function(){clearTimeout(g)}})};var P,ga,ib,Ha,jb;ga=l.createElement("div");
ga.setAttribute("className","t");ga.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Ha=ga.getElementsByTagName("a")[0];ib=l.createElement("select");jb=ib.appendChild(l.createElement("option"));P=ga.getElementsByTagName("input")[0];Ha.style.cssText="top:1px";k.getSetAttribute="t"!==ga.className;k.style=/top/.test(Ha.getAttribute("style"));k.hrefNormalized="/a"===Ha.getAttribute("href");k.checkOn=!!P.value;k.optSelected=jb.selected;k.enctype=!!l.createElement("form").enctype;
ib.disabled=!0;k.optDisabled=!jb.disabled;P=l.createElement("input");P.setAttribute("value","");k.input=""===P.getAttribute("value");P.value="t";P.setAttribute("type","radio");k.radioValue="t"===P.value;var gd=/\r/g;d.fn.extend({val:function(a){var b,c,e,g=this[0];if(arguments.length){e=d.isFunction(a);return this.each(function(c){if(this.nodeType===1){c=e?a.call(this,c,d(this).val()):a;c==null?c="":typeof c==="number"?c=c+"":d.isArray(c)&&(c=d.map(c,function(a){return a==null?"":a+""}));b=d.valHooks[this.type]||
d.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,c,"value")===void 0)this.value=c}})}if(g){if((b=d.valHooks[g.type]||d.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&(c=b.get(g,"value"))!==void 0)return c;c=g.value;return typeof c==="string"?c.replace(gd,""):c==null?"":c}}});d.extend({valHooks:{option:{get:function(a){var b=d.find.attr(a,"value");return b!=null?b:d.trim(d.text(a))}},select:{get:function(a){for(var b,c=a.options,e=a.selectedIndex,g=(a=a.type==="select-one"||
e<0)?null:[],f=a?e+1:c.length,h=e<0?f:a?e:0;h<f;h++){b=c[h];if((b.selected||h===e)&&(k.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!d.nodeName(b.parentNode,"optgroup"))){b=d(b).val();if(a)return b;g.push(b)}}return g},set:function(a,b){for(var c,e,g=a.options,f=d.makeArray(b),h=g.length;h--;){e=g[h];if(d.inArray(d.valHooks.option.get(e),f)>=0)try{e.selected=c=true}catch(i){e.scrollHeight}else e.selected=false}if(!c)a.selectedIndex=-1;return g}}}});d.each(["radio",
"checkbox"],function(){d.valHooks[this]={set:function(a,b){if(d.isArray(b))return a.checked=d.inArray(d(a).val(),b)>=0}};if(!k.checkOn)d.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value}});var ha,jc,Q=d.expr.attrHandle,kb=/^(?:checked|selected)$/i,Z=k.getSetAttribute,Ia=k.input;d.fn.extend({attr:function(a,b){return oa(this,d.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})}});d.extend({attr:function(a,b,c){var e,
g,f=a.nodeType;if(a&&!(f===3||f===8||f===2)){if(typeof a.getAttribute===H)return d.prop(a,b,c);if(f!==1||!d.isXMLDoc(a)){b=b.toLowerCase();e=d.attrHooks[b]||(d.expr.match.bool.test(b)?jc:ha)}if(c!==void 0)if(c===null)d.removeAttr(a,b);else{if(e&&"set"in e&&(g=e.set(a,c,b))!==void 0)return g;a.setAttribute(b,c+"");return c}else{if(e&&"get"in e&&(g=e.get(a,b))!==null)return g;g=d.find.attr(a,b);return g==null?void 0:g}}},removeAttr:function(a,b){var c,e,g=0,f=b&&b.match(X);if(f&&a.nodeType===1)for(;c=
f[g++];){e=d.propFix[c]||c;d.expr.match.bool.test(c)?Ia&&Z||!kb.test(c)?a[e]=false:a[d.camelCase("default-"+c)]=a[e]=false:d.attr(a,c,"");a.removeAttribute(Z?c:e)}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&b==="radio"&&d.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);if(c)a.value=c;return b}}}}});jc={set:function(a,b,c){b===false?d.removeAttr(a,c):Ia&&Z||!kb.test(c)?a.setAttribute(!Z&&d.propFix[c]||c,c):a[d.camelCase("default-"+c)]=a[c]=true;return c}};d.each(d.expr.match.bool.source.match(/\w+/g),
function(a,b){var c=Q[b]||d.find.attr;Q[b]=Ia&&Z||!kb.test(b)?function(a,b,d){var h,i;if(!d){i=Q[b];Q[b]=h;h=c(a,b,d)!=null?b.toLowerCase():null;Q[b]=i}return h}:function(a,b,c){if(!c)return a[d.camelCase("default-"+b)]?b.toLowerCase():null}});if(!Ia||!Z)d.attrHooks.value={set:function(a,b,c){if(d.nodeName(a,"input"))a.defaultValue=b;else return ha&&ha.set(a,b,c)}};Z||(ha={set:function(a,b,c){var d=a.getAttributeNode(c);d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c));d.value=b=b+"";if(c===
"value"||b===a.getAttribute(c))return b}},Q.id=Q.name=Q.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&d.value!==""?d.value:null},d.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);if(c&&c.specified)return c.value},set:ha.set},d.attrHooks.contenteditable={set:function(a,b,c){ha.set(a,b===""?false:b,c)}},d.each(["width","height"],function(a,b){d.attrHooks[b]={set:function(a,d){if(d===""){a.setAttribute(b,"auto");return d}}}}));k.style||(d.attrHooks.style={get:function(a){return a.style.cssText||
void 0},set:function(a,b){return a.style.cssText=b+""}});var hd=/^(?:input|select|textarea|button|object)$/i,id=/^(?:a|area)$/i;d.fn.extend({prop:function(a,b){return oa(this,d.prop,a,b,arguments.length>1)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=void 0;delete this[a]}catch(b){}})}});d.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var e,g,f;f=a.nodeType;if(a&&!(f===3||f===8||f===2)){if(f=f!==1||!d.isXMLDoc(a)){b=d.propFix[b]||b;
g=d.propHooks[b]}return c!==void 0?g&&"set"in g&&(e=g.set(a,c,b))!==void 0?e:a[b]=c:g&&"get"in g&&(e=g.get(a,b))!==null?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=d.find.attr(a,"tabindex");return b?parseInt(b,10):hd.test(a.nodeName)||id.test(a.nodeName)&&a.href?0:-1}}}});k.hrefNormalized||d.each(["href","src"],function(a,b){d.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});k.optSelected||(d.propHooks.selected={get:function(a){if(a=a.parentNode){a.selectedIndex;a.parentNode&&
a.parentNode.selectedIndex}return null}});d.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){d.propFix[this.toLowerCase()]=this});k.enctype||(d.propFix.enctype="encoding");var lb=/[\t\r\n\f]/g;d.fn.extend({addClass:function(a){var b,c,e,g,f,h=0,i=this.length;b=typeof a==="string"&&a;if(d.isFunction(a))return this.each(function(b){d(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(X)||[];h<i;h++){c=
this[h];if(e=c.nodeType===1&&(c.className?(" "+c.className+" ").replace(lb," "):" ")){for(f=0;g=b[f++];)e.indexOf(" "+g+" ")<0&&(e=e+(g+" "));e=d.trim(e);if(c.className!==e)c.className=e}}return this},removeClass:function(a){var b,c,e,g,f,h=0,i=this.length;b=arguments.length===0||typeof a==="string"&&a;if(d.isFunction(a))return this.each(function(b){d(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(X)||[];h<i;h++){c=this[h];if(e=c.nodeType===1&&(c.className?(" "+c.className+
" ").replace(lb," "):"")){for(f=0;g=b[f++];)for(;e.indexOf(" "+g+" ")>=0;)e=e.replace(" "+g+" "," ");e=a?d.trim(e):"";if(c.className!==e)c.className=e}}return this},toggleClass:function(a,b){var c=typeof a;return typeof b==="boolean"&&c==="string"?b?this.addClass(a):this.removeClass(a):d.isFunction(a)?this.each(function(c){d(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string")for(var b,g=0,f=d(this),h=a.match(X)||[];b=h[g++];)f.hasClass(b)?f.removeClass(b):
f.addClass(b);else if(c===H||c==="boolean"){this.className&&d._data(this,"__className__",this.className);this.className=this.className||a===false?"":d._data(this,"__className__")||""}})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(this[b].nodeType===1&&(" "+this[b].className+" ").replace(lb," ").indexOf(a)>=0)return true;return false}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){d.fn[b]=function(a,d){return arguments.length>0?this.on(b,null,a,d):this.trigger(b)}});d.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)}});d.fn.extend({wrapAll:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapAll(a.call(this,
b))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(b){d(this).wrapInner(a.call(this,b))}):this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=d.isFunction(a);return this.each(function(c){d(this).wrapAll(b?
a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()}});d.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&(a.style&&a.style.display||d.css(a,"display"))==="none"};d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)};var jd=/%20/g,sc=/\[\]$/,kc=/\r?\n/g,kd=/^(?:submit|button|image|reset|file)$/i,ld=/^(?:input|select|textarea|keygen)/i;d.param=
function(a,b){var c,e=[],g=function(a,b){b=d.isFunction(b)?b():b==null?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===void 0&&(b=d.ajaxSettings&&d.ajaxSettings.traditional);if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,function(){g(this.name,this.value)});else for(c in a)Qa(c,a[c],b,g);return e.join("&").replace(jd,"+")};d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=d.prop(this,"elements");
return a?d.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!d(this).is(":disabled")&&ld.test(this.nodeName)&&!kd.test(a)&&(this.checked||!Ma.test(a))}).map(function(a,b){var c=d(this).val();return c==null?null:d.isArray(c)?d.map(c,function(a){return{name:b.name,value:a.replace(kc,"\r\n")}}):{name:b.name,value:c.replace(kc,"\r\n")}}).get()}});d.parseHTML=function(a,b,c){if(!a||typeof a!=="string")return null;if(typeof b==="boolean"){c=b;b=false}var b=b||l,e=Vb.exec(a),c=!c&&
[];if(e)return[b.createElement(e[1])];e=d.buildFragment([a],b,c);c&&c.length&&d(c).remove();return d.merge([],e.childNodes)};"function"===typeof define&&define.amd&&define("jquery",[],function(){return d});var md=m.jQuery,nd=m.$;d.noConflict=function(a){if(m.$===d)m.$=nd;if(a&&m.jQuery===d)m.jQuery=md;return d};typeof ia===H&&(m.jQuery=m.$=d);return d});

var $ = window.jQuery.noConflict(true);

var optimizelyCode = function(){
var DATA={"log_host":"log.optimizely.com","goal_expressions":{"2665920128":["^enterprise\\_trial$"],"1297401345":["(https?://)?(www\\.)?getfeedback\\.com\\/join/?"],"4576624262":["^all\\_ctas$"],"5191113096":["^clicked\\_button$"],"333045386":["^sign\\ up\\ click$"],"4597132810":["^center\\_cta$"],"4106074636":["^(https?://)?(www\\.)?getfeedback\\.com\\/surveys/?(\\?.*)?(#.*)?$"],"6189331470":["^(https?://)?(www\\.)?getfeedback\\.com\\/contact\\_us/?(\\?.*)?(#.*)?$"],"4155847710":["^clicked\\_submit\\_on\\_join\\_form$"],"4662542754":["^joined$"],"827982886":["^(https?://)?(www\\.)?getfeedback\\.com\\/surveys/?$","^(https?://)?(www\\.)?getfeedback\\.com\\/surveys/?$"],"1335152042":["^free\\_cta$"],"6152830535":["^clicked\\_visit\\_sfdc$"],"1333351988":["^personal\\_cta$"],"299450526":["^engagement$"],"6784420531":["^homepage\\_hero\\_cta\\_click$"],"6778915514":["^(https?://)?(www\\.)?getfeedback\\.com\\/pricing/?(\\?.*)?(#.*)?$"],"1273940287":["^professional\\_cta$"],"4122020680":["^complete\\_sign\\_up\\_form$"],"1447670028":["(https?://)?(www\\.)?getfeedback\\.com\\/conversion/?"],"1325192140":["^enterprise\\_cta$"],"6809240143":["^salesforce\\_page\\_\\-\\_form\\_submit$"],"6809860186":["^(https?://)?(www\\.)?getfeedback\\.com\\/salesforce/?(\\?.*)?(#.*)?$"],"4647745245":["^upgraded$"],"6791971302":["^nav\\_cta\\_click$"],"821670379":["^huzzah\\!$"],"6135561323":["^click\\_contact\\_us$"],"4580790135":["^nav\\_bar\\_cta$"],"4671240572":["^above\\_the\\_fold\\_ctas$"]},"experiments":{"6811470586":{"name":"Pricing Page - Uniform CTA buttons","variation_ids":["6814280917","6806441139"],"urls":[{"match":"simple","value":"http://getfeedback.com/pricing"}],"enabled_variation_ids":["6814280917","6806441139"]},"6768767076":{"variation_weights":{"6811480512":4999,"6777945459":5001},"name":"Salesforce page CTA - Aug 2016","enabled":true,"variation_ids":["6777945459","6811480512"],"urls":[{"match":"simple","value":"http://getfeedback.com/salesforce"}],"enabled_variation_ids":["6777945459","6811480512"]},"6797600166":{"variation_weights":{"6800690192":5000,"6813540136":5000},"name":"Homepage hide content - Aug 2016","enabled":true,"variation_ids":["6800690192","6813540136"],"urls":[{"match":"simple","value":"http://getfeedback.com"}],"enabled_variation_ids":["6800690192","6813540136"]}},"audiences":{"4868472633":{"conditions":["and",["or",["or",{"dimension_id":4952300055,"value":"Customer-Satisfaction-Survey","match":"substring"}]]],"name":"Customer Satisfaction Survey - AW","segment_id":4949770054}},"www_host":"app.optimizely.com","public_suffixes":{"getfeedback.com":["getfeedback.com"]},"force_variation":true,"dimensions":{"4952300055":{"condition_type":"campaign"}},"version":"master-2489.394646598026232077","admin_account_id":299611060,"blacklisted_experiments":[3999874945,4949390723,1557680005,5247350917,3720490892,3722330386,4573505299,5205451031,3730135067,5875340578,6155160581,5960460273,5749310266,3981350076,4895800786,5485970393,3699771870,3734530085,4789551084,3715591410,4668991859,5479550966,3725073149,3696742526],"project_id":299611060,"revision":563,"summary_revenue_goal_id":293960636,"installation_verified":true,"slave":true,"preview_host":"//optimizely.s3.amazonaws.com","api_host":"api.optimizely.com","variations":{"6811480512":{"code":"$(\".btn-cta\").html(\"Try for Free\");\n$(\".btn-no-shadow\").html(\"Try for Free\");\n$(\"a.btn-primary\").html(\"Try for Free\");","name":"Try for Free"},"6813540136":{"code":"$(\".Features-callout\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#mainContentWrapper > div:eq(5)\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#mainContentWrapper > div:eq(7)\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#mainContentWrapper > div:eq(9)\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\"#mainContentWrapper > div:eq(8)\").css({\"display\":\"none\", \"visibility\":\"\"});\n$(\".gray .Heading\").css({\"display\":\"none\", \"visibility\":\"\"});","name":"Short homepage"},"6800690192":{"name":"Original"},"6777945459":{"name":"Original (Set up a Demo)"},"6814280917":{"name":"Original"},"6806441139":{"name":"Variation #1"}},"segments":{"301896240":{"segment_value_type":"browser","api_name":"optimizely_browser","id":301896240,"name":"Browser"},"301852313":{"segment_value_type":"source_type","api_name":"optimizely_source_type","id":301852313,"name":"Source Type"},"301802339":{"segment_value_type":"mobile","api_name":"optimizely_mobile","id":301802339,"name":"Mobile Visitors"},"4540749815":{"segment_value_type":"campaign","api_name":"optimizely_campaign","id":4540749815,"name":"Campaign"},"4949770054":{"audience_id":4868472633,"id":4949770054,"name":"Customer Satisfaction Survey - AW"}},"click_goals":[{"event_name":"SIgn Up CLick","experiments":{"1298700241":true,"821450379":true},"selector":".error .homepage-registration-button,.col-lg-12 .homepage-registration-button,.homepage-header-row > .col-xs-5 > a:eq(1)"},{"event_name":"huzzah!","experiments":{"1298700241":true,"821450379":true},"selector":".btn-lg"},{"event_name":"professional_cta","experiments":{"1373927562":true,"1333520069":true},"selector":".professional .Plans-plan-button"},{"event_name":"enterprise_cta","experiments":{"1373927562":true,"1333520069":true},"selector":".enterprise .Plans-plan-button"},{"event_name":"personal_cta","experiments":{"1373927562":true,"1333520069":true},"selector":".personal .Plans-plan-button"},{"event_name":"free_cta","experiments":{"1373927562":true,"1333520069":true},"selector":".free .Plans-plan-button"},{"event_name":"enterprise_trial","experiments":{"2652580462":true},"selector":".enterprise .Plans-plan-button"},{"event_name":"complete_sign_up_form","experiments":{"4137131082":true},"selector":".btn"},{"event_name":"clicked_submit_on_join_form","experiments":{"4168875676":true},"selector":".btn"},{"event_name":"all_ctas","experiments":{"4573505299":true},"selector":".Homepage-header-button-create,a.btn-primary,.enterprise .signup-modal-trigger,.enterprise .clearfix > a:eq(1),.salesforce .Plans-plan-button,.personal .signup-modal-trigger,.personal .clearfix > a:eq(1),.professional .clearfix > a:eq(1),.professional .signup-modal-trigger,.col-lg-12 .btn"},{"event_name":"nav_bar_cta","experiments":{"4573505299":true,"4731400403":true},"selector":"a.btn-primary,input.signup-modal-trigger"},{"event_name":"center_cta","experiments":{"4573505299":true,"4731400403":true},"selector":".Homepage-header-button-create"},{"event_name":"above_the_fold_ctas","experiments":{"4656360391":true,"4731400403":true,"5247350917":true},"selector":"input.signup-modal-trigger,.Homepage-header-button-create-small,a.btn-primary,.Homepage-header-button-create"},{"event_name":"clicked_button","experiments":{"5205451031":true},"selector":".salesforce .Plans-plan-button"},{"event_name":"click_contact_us","experiments":{"6155160581":true},"selector":".Pricing-page-salesforce-info > a:eq(1)"},{"event_name":"clicked_visit_sfdc","experiments":{"6155160581":true},"selector":".Plans-salesforce-link"},{"event_name":"homepage_hero_cta_click","experiments":{"6797600166":true},"selector":".SalesforcePage-cta"},{"event_name":"nav_cta_click","experiments":{"6797600166":true},"selector":".btn-no-shadow"},{"event_name":"salesforce_page_-_form_submit","experiments":{"6768767076":true,"6797600166":true},"selector":"#submit"}]};

function h(a){throw a;}var i=void 0,j=!0,l=null,o=!1;function aa(){return function(a){return a}}function ba(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}function ca(a,b,c){return a.call.apply(a.bind,arguments)}function da(a,b,c){a||h(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return p.apply(l,arguments)}function t(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};function u(a){try{return window.JSON.stringify(a)}catch(b){h(Error("JSON: Unable to stringify ("+b.message+")"))}}function ea(a){try{return window.JSON.parse(a)}catch(b){h(Error("JSON: Unable to parse ("+b.message+")"))}};var fa=/\s*;\s*/,ha=/^([^=]+)=?(.*)$/;function v(a){var b=[];w(ia(),function(c){a===c.name&&b.push(ja(c.value))});if(0===b.length)return l;1<b.length&&x("Cookie","Values found for %s: %s",a,b.length);return b.pop()}var ka=o;function ia(){var a,b=[];a=a||"";w((document.cookie||"").split(fa),function(c){var d=c.match(ha);d&&0===d[1].indexOf(a)&&b.push({name:d[1],value:d[2],P:c})});return b}
function y(a,b,c){if(ka)x("Cookie","Already initialized.");else{x("Cookie","Initializing.");var d=document.location.hostname;if(la()){ma=d;for(var d=document.location.hostname.split("."),e=[],f=d.length-1;0<=f;--f){var g=d.slice(f).join("."),m="optimizelyDomainTest-"+Math.random().toString(16).replace("0.",""),n=Math.random().toString(16).replace("0.","");na(m,n,g,3);v(m)===n&&e.push(g)}oa=e;0<oa.length?(ma=oa[0],x("Cookie","Highest level domain: %s",ma)):(x("Cookie","Disabling event tracking because cookies could not be set"),
qa=o)}else e=d.split("."),f=d,g=e[e.length-1],2<e.length&&"appspot"===e[e.length-2]&&"com"===g?f=e[e.length-3]+".appspot.com":1<e.length&&ra(g,ta)&&(f=e[e.length-2]+"."+g),ua=f,x("Cookie","Guessed public suffix: %s",ua),va=wa(d),x("Cookie","Public suffix (from data): %s",va);xa&&x("Cookie","Domain specified by API: %s",xa);ka=j;x("Cookie","Done initializing.")}b=b||"";la()?(w(oa,function(b){ya(a,b)}),d=za(),na(a,b,d,c),c=v(a)===b?"Succeeded":"Failed",x("Cookie","%s setting %s=%s on %s",c,a,b,d)):
(d=za(),e=document.location.hostname,!va&&z("remote_public_suffix")&&Aa.push({yb:c,name:a,value:b}),d&&(d===va&&d!==ua)&&(ya(a,e),ya(a,ua)),na(a,b,d,c),f=v(a),f===b)?x("Cookie","Successfully set %s=%s on %s",a,b,d):(x("Cookie","Setting %s on %s apparently failed (%s != %s)",a,d,f,b),x("Cookie","Setting %s on %s",a,e),na(a,b,e,c),f=v(a),f===b?(x("Cookie","Setting %s on %s worked; saving as new public suffix",a,e),ua=e):(x("Cookie","Could not set cookie %s, disabling event tracking.",a),qa=o))}
function ya(a,b){var c=[a,"=","; ",Ba(b),"; path=/","; expires=",(new Date(0)).toUTCString()];document.cookie=c.join("")}function za(){return la()?xa||ma:xa||va||ua}function Ba(a){var b=[];b.push("domain=");"localhost"!==a&&(b.push("."),b.push(a));return b.join("")}function na(a,b,c,d){a=[a,"=",encodeURIComponent(b),"; ",Ba(c),"; path=/"];d&&a.push("; expires=",(new Date(+new Date+1E3*d)).toUTCString());document.cookie=a.join("")}
function Ca(a){za()!==a&&(xa=String(a)||"",x("Cookie","Api public suffix set to: %s",xa))}var ua="",xa="",ma="",oa=[],va="",Aa=[];var Da=window.OPTIMIZELY_TEST_MODULE,ta="com local net org xxx edu es gov biz info fr nl ca de kr it me ly tv mx cn jp il in iq test".split(" "),Ea=/\/\*\s*_optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")?( +id="([^"]*)")?\s*\*\//;var Fa,Ga=0,Ha=o,B=j,Ia=o,Ja=o,Ka=o,La="",Ma=o,Na=o,Oa=o,Pa=o,Qa=o,Ra=o,qa=j,Sa=31536E4;function Ua(){var a=v("optimizelyEndUserId");a||(a="oeu"+ +new Date+"r"+Math.random(),y("optimizelyEndUserId",a,Sa));return a}function Va(){return v("optimizelyPPID")};function Wa(a,b){var c=j;w(a,function(a){if(!b(a))return c=o});return c}function D(a,b){var c=o;w(a,function(a){if(b(a))return c=j});return c}function E(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return j;return o}function Xa(a,b){var c=Ya(arguments,1);return function(){var b=Ya(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}
function w(a,b){var c=l;if(F(a))for(var d=a.length,e=0;e<d&&!(c=b.call(i,a[e],e),H(c));++e);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b.call(i,d,a[d]),H(c)))break;return c}function I(a,b){if("function"===typeof a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}function J(a,b){w(b,function(b,d){a[b]=d});return a}function Za(a,b){if(F(b)){for(var c=a,d=0;d<b.length;d++){var e=b[d];if(!ba(c)||!c.hasOwnProperty(e))return;c=c[e]}return c}}
function K(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f)&&c.push(f)}return c}function ra(a,b){return w(b,function(b){if(b===a)return j})||o}function F(a){return!!a&&"object"===typeof a&&"number"===typeof a.length}function H(a){return"undefined"!==typeof a}function $a(a){return"object"===typeof a&&a!==l}function ab(a){return("number"===typeof a||"string"===typeof a)&&Number(a)==a}function bb(a){return"string"===typeof a}
function L(a){L=Object.zb||function(a){var c=[];w(a,function(a){c.push(a)});return c};return L.call(l,a)}
function cb(a,b){function c(){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;c.type="text/javascript";b.appendChild(c)}if(b)try{if("loading"===document.readyState){var d="optimizely_synchronous_script_"+Math.floor(1E5*Math.random());-1!==a.indexOf('"')?M("loadScript","Blocked attempt to load unsafe script: "+a):(document.write('<script id="'+d+'" src="'+a+'"><\/script>'),1!==$("#"+d).length&&h(Error("Document.write failed to append script")))}else h(Error("Not safe to attempt document.write"))}catch(e){try{var f=
new XMLHttpRequest;f.open("GET",a,o);f.onload=function(){eval(f.responseText)};f.onerror=function(){h(Error())};f.send()}catch(g){x("Common","Failed to load %s synchronously",a),c()}}else c()}function x(a,b,c){var d=window.console;if(Oa&&d&&d.log){var e=Ya(arguments,1);e[0]="Optimizely / "+a+" / "+b;Function.prototype.apply.call(d.log,d,e)}}function ja(a){try{return decodeURIComponent(a)}catch(b){return a}}function Ya(a,b){return Array.prototype.slice.call(a,b||0,a.length)}
function db(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function eb(a){this.r=a;this.c={totalGets:0,totalGetLength:0,totalGetTime:0,totalSets:0,totalSetLength:0,totalSetTime:0,numKeys:0,totalSize:0}}eb.prototype.get=function(a){try{var b=+new Date,c=this.r.getItem([fb,a].join("$$")),d=ea(c);this.c.totalGetTime+=+new Date-b;this.c.totalGets++;this.c.totalGetLength+=(c||"").length;return d}catch(e){return l}};
eb.prototype.set=function(a,b){try{var c=+new Date,d=u(b);H(b)?this.r.setItem([fb,a].join("$$"),d):this.r.removeItem([fb,a].join("$$"));this.c.totalSetTime+=+new Date-c;this.c.totalSets++;this.c.totalSetLength+=d.length}catch(e){}};eb.prototype.va=function(){var a=0,b=0,c;for(c in this.r)if(0===c.indexOf(fb)){b++;var d=this.r.getItem(c),a=a+(c.length+(d?d.length:0))}this.c.numKeys=b;this.c.totalSize=a;return this.c};
var gb={get:function(){},set:function(){},va:function(){return{}}},fb="optimizely_data",N=gb,hb=gb;
try{var N=new eb(window.localStorage),hb=new eb(window.sessionStorage),ib=N,jb=ib.r.getItem(fb),kb={};try{kb=ea(jb)||{}}catch(lb){}if(0!==L(kb).length){var mb=Va()||v("optimizelyEndUserId"),nb=kb[mb]||{},ob;for(ob in nb)if(nb.hasOwnProperty(ob)){var pb=[mb,ob].join("$$");ib.get(pb)===l&&ib.set(pb,nb[ob])}delete kb[mb];for(ob in kb)kb.hasOwnProperty(ob)&&(ib.get(ob)===l&&ib.set(ob,kb[ob]),delete kb[ob]);try{jb=u(kb)}catch(qb){jb={}}ib.r.setItem(fb,jb)}}catch(rb){};function sb(){return z("admin_account_id")}function tb(a){return z("audiences",a)}function ub(a){a=z("audiences",a,"segment_id");return!a?l:a}
function vb(){if(!wb){var a=z("click_goals")||[];wb=[];for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=d.selector.split(","),f=0,g=e.length;f<g;f++){var m=e[f];m&&(m={event_name:d.event_name,selector:m},"experiments"in d?m.experiments=d.experiments:"url_conditions"in d&&(m.url_conditions=d.url_conditions),"revenue"in d&&(m.revenue=d.revenue),wb.push(m))}}return wb}function xb(a,b){return z("dimensions",a,b)}function yb(a){a=xb(a,"condition_type");return!a?l:a}
function zb(a){a=xb(a,"name");return!a?l:a}function Ab(){Cb||(Cb=K(Db(),Eb));return Cb}function Fb(a){var b=z("goal_expressions"),c=[],d;for(d in b)if(b.hasOwnProperty(d))for(var e=b[d],f=0;f<e.length;f++)try{if(RegExp(e[f],"i").test(a)){c.push(d);break}}catch(g){}return c}function Gb(a){var b=Hb(),c;for(c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];if(d&&d.api_name===a)return String(c)}return l}function Ib(){return z("experiments")||{}}
function Db(){return L(z("experiments")||{})}function Jb(a){return"manual"===O(a,"activation_mode")}function Kb(a){return"conditional"===O(a,"activation_mode")}function Lb(a){return O(a,"name")||"Exp "+a}function Mb(a){return'experiment "'+Lb(a)+'" ('+a+")"}function Nb(a){return O(a,"section_ids")||[]}function Ob(a){return O(a,"variation_ids")||[]}function Pb(){return z("list_targeted_keys")||{}}function Qb(){return z("project_id")}function Hb(){return z("segments")||{}}
function Rb(a,b){for(var c=Nb(a),d=0;d<c.length;d++){var e=Sb(c[d]);if(E(e,b))return c[d]}return""}function wa(a){var b={},c=z("public_suffixes")||{};w(c,function(a,c){w(c,function(c){b[c]=a})});wa=function(a){return b[a]||""};return wa.call(l,a)}function Sb(a){return z("sections",a,"variation_ids")||[]}function Tb(a){var b=[];w(a.split("_"),function(a){(a=z("variations",a,"code"))&&b.push(a)});return b.join("\n")}
function P(a){if(!Ub){var b={};w(Db(),function(a){w(Nb(a),function(d){w(Sb(d),function(d){b[d]=a})});w(Ob(a),function(d){b[d]=a})});Ub=b}return Ub[a.split("_")[0]]||""}function Vb(a){var b=P(a),c=Nb(b);if(0===c.length){c=Ob(b);for(b=0;b<c.length;b++)if(c[b]===a)return b}else{for(var a=a.split("_"),b=[],d=0;d<c.length;d++)for(var e=Sb(c[d]),f=0;f<e.length;f++)e[f]===a[d]&&b.push(f);if(b!==[])return b}return-1}function Wb(a){var b;return Xb(a).join(b||", ")}
function Xb(a){var b=[];w(a.split("_"),function(a){b.push(z("variations",a,"name")||"Var "+a)});return b}function Yb(){return z("www_host")}function Eb(a){return!!O(a,"enabled")}function la(){return!!z("simple_cookies")}function O(a,b){return z("experiments",a,b)}function Zb(a){a=O(a,"comscore");return H(a)?a.url:l}function ac(a){return O(a,"google_analytics")}function bc(a,b){var c=O(a,"universal_analytics");return H(c)?c[b]:l}
function z(a){var b=DATA;if(w(arguments,function(a){a=b[a];if(H(a))b=a;else return l})!==l)return b}function cc(a,b){return z("segments",a,b)}function dc(){var a=z("rum_sampling_rate");return H(a)?a:0.001}var wb=l,Cb=l,Ub=l;function ec(a,b){function c(a,b){var c=b&65535;return((b-c)*a|0)+(c*a|0)|0}for(var d=a.length,e=b||0,f=d&-4,g,m=0;m<f;m+=4)g=a.charCodeAt(m)&255|(a.charCodeAt(m+1)&255)<<8|(a.charCodeAt(m+2)&255)<<16|(a.charCodeAt(m+3)&255)<<24,g=c(g,3432918353),g=(g&131071)<<15|g>>>17,g=c(g,461845907),e^=g,e=(e&524287)<<13|e>>>19,e=5*e+3864292196|0;g=0;switch(d%4){case 3:g=(a.charCodeAt(f+2)&255)<<16;case 2:g|=(a.charCodeAt(f+1)&255)<<8;case 1:g|=a.charCodeAt(f)&255,g=c(g,3432918353),e^=c((g&131071)<<15|g>>>17,461845907)}e^=
d;e=c(e^e>>>16,2246822507);e=c(e^e>>>13,3266489909);return e^e>>>16};var fc=Math.pow(2,32);function gc(a,b){var c=ec(a,b);return(c>>>16).toString(16)+(c&65535).toString(16)};function hc(){return ic=ic||jc()}function kc(){return hc().ba}function lc(){return hc().ca}function mc(){return hc().F}function nc(a){if(!a)return"";try{return a.match(/:\/\/(?:www[0-9]?\.)?(.[^/:]+)/)[1]}catch(b){return""}}function oc(){return hc().platform}function pc(a){return N.get([Va()||Ua(),a].join("$$"))}function qc(a){N.set([Va()||Ua(),"asyncInfo"].join("$$"),a)}
function rc(){var a="android;blackberry;ipad;iphone;ipod;windows phone".split(";");return E(a,mc().id)?mc().id:E(a,oc().id)?oc().id:sc()?"mobile":"unknown"}function sc(){return mc().w}function tc(){return uc?"returning":"new"}oc=function(){return hc().platform};function vc(a){x("User","Setting current URL to %s",a);wc=a}var wc=i,ic=i,uc=i;function M(a,b,c){xc.push({Ea:new Date,Ca:a,message:b,ta:c||o});yc&&zc()}function Ac(){Oa=j}function Bc(){Pa=Oa=j}function zc(){Oa&&(w(xc,function(a){if(!a.bb&&(!a.ta||a.ta===Pa)){var b=+a.Ea;x(a.Ca,a.message+(" [time "+(Cc?b-Cc:0)+" +"+(Ec?b-Ec:0)+"]"));Ec=b;Cc||(Cc=b);a.bb=j}}),yc=j)}var Ec=l,Cc=l,xc=[],yc=o;var Q={};function Fc(a,b){Q[a]=b}function Gc(a,b){var c=pc("asyncInfo")||{};c[a]=b;qc(c)}function Hc(){var a=(Q.odds||l)&&(Q.odds||l).ip||(Q.cdn3||l)&&(Q.cdn3||l).ip;return a?Ic(a):l}function Jc(){return!Q.odds?l:(Q.odds||l).lists||{}}
function Kc(a){if(!Jc())return M("Async Info","Invalid response from ODDS"),{value:i,M:o};if(!Jc().hasOwnProperty(a))return M("Async Info","Deduced cachetime value that was checked for presence in list: "+a),{value:i,M:j};var b=!Q.odds?l:(Q.odds||l).lists_metadata||{};if(!b||!b[a]||!b[a][0])return M("Async Info","Can't find cachetime value that was checked for presence in list: "+a),{value:i,M:o};M("Async Info","Found cachetime value that was checked for presence in list: "+a);return{value:b[a][0].value,
M:j}}function Lc(a){var b=Pb()[a],c=H(b)&&Mc(b);if(c){var d=Nc(b);if(d===l)return M("Async Info","Deduced membership status (false) for list: "+a),o;M("Async Info","Found current value to check for presence in list: "+a)}b=Jc();if(!b)return M("Async Info","No list membership info."),l;if(c&&(c=Kc(a),c.M&&c.value!==d))return M("Async Info","Ignoring out-of-date membership status for list: "+a),l;d=!!b[a];M("Async Info","Found membership status ("+d+") for list: "+a);return d}
function Oc(){if(!Q.cdn3)return l;var a=(Q.cdn3||l).location||{};return{continent:Ic(a.continent),country:Ic(a.country),region:Ic(a.region),city:Ic(a.city)}}var Pc={get:function(){return Q.dcps||l},set:function(a){Gc("dcps",a);Q.dcps=a}};function Qc(){var a=Pc.get();return!a||a.rulesResults===l?l:a.rulesResults||{}}function Ic(a){return"string"!==typeof a||"N/A"===a.toUpperCase()?l:a.toUpperCase()};function Rc(a){a=a||{};if(qa){a&&a.sVariable&&(Sc=a.sVariable);var b=Sc||("undefined"!==typeof window.s?window.s:l);if(b)if(Tc){a=Uc;if(a!==l&&b)try{x("Integrator","Fixing SiteCatalyst referrer to %s",a),b.referrer=String(a)}catch(c){x("Integrator","Error setting SiteCatalyst referrer: %s",c)}x("Integrator","Tracking with SiteCatalyst");w(Vc(),function(a){var c=P(a),a=R(c,a,100,100,25,j),f=a.key+": "+a.value,a=[],g=O(c,"site_catalyst_evar")||l,c=O(c,"site_catalyst_prop")||l;g!==l&&a.push("eVar"+g);
c!==l&&a.push("prop"+c);w(a,function(a){x("Integrator","Setting SiteCatalyst %s='%s'",a,f);b[a]=f})})}else Wc=j;else M("Integrator","Error with SiteCatalyst integration: 's' variable not defined")}}function Xc(a){a=ab(a)?Number(a):-1;if(-1!==[1,2,3].indexOf(a))Yc=a;else return Yc}
function Zc(){if(qa){var a=Uc;if(a!==l)try{x("Integrator","Fixing _gaq._setReferrerOverride with %s",a),_gaq.push(["_setReferrerOverride",a])}catch(b){x("Integrator","Error setting Google Analytics referrer: %s",b)}var c=[];w(Vc(),function(a){var b=P(a);if(O(b,"chartbeat")){var d=$c;$c="";var e=R(b,a,10,10,5,o);$c=d;d=Vb(a);ad=e.key+": "+String(d);try{x("Integrator","Calling _cbq.push"),_cbq.push(["_optlyx",ad])}catch(k){M("Integrator","Error sending Chartbeat data for "+Mb(b))}}if(Zb(b)){var e=Zb(b),
d=R(b,a,100,100,25,j),r=e+(-1!==e.indexOf("?")?"&":"?")+"optimizely_experiment_id="+b+"&optimizely_experiment_name="+encodeURIComponent(d.key)+"&optimizely_variation_id="+a+"&optimizely_variation_name="+encodeURIComponent(d.value)+"&ns_m_exp=("+b+") "+encodeURIComponent(d.key)+"&ns_m_chs=("+a+") "+encodeURIComponent(d.value)+"&type=hidden";try{$(window).load(function(){M("Integrator","Sending comScore log call");bd(r,l)})}catch(q){M("Integrator","Error sending comScore data for "+Mb(b))}}if(O(b,"crazyegg")){e=
R(b,a,100,100,15,o);try{x("Integrator","Defining CE_SNAPSHOT_NAME"),window.CE_SNAPSHOT_NAME=e.key+": "+e.value}catch(G){M("Integrator","Error sending CrazyEgg data for "+Mb(b))}}if(ac(b)){e=ac(b);d=0;H(e)&&(d=e.slot||d);var e=d,d=ac(b),A="";H(d)&&(A=d.tracker||A);d=A;A=R(b,a,28,24,5,j);try{var C="";""!==d&&(C=d+".");x("Integrator","Calling _gaq._setCustomVar for slot %d and scope %d",e,Yc);_gaq.push([C+"_setCustomVar",e,A.key,A.value,Yc])}catch(pa){M("Integrator","Error sending Google Analytics data for "+
Mb(b))}}if(O(b,"inspectlet")){e=$c;$c="";d=R(b,a,100,100,25,o);$c=e;try{M("Integrator","Calling __insp.push for sending data to Inspectlet"),window.__insp=window.__insp||[],window.__insp.push(["tagSession",{"Optimizely Experiment Name":d.key,"Optimizely Variation Name":d.value,"Optimizely Experiment ID":b,"Optimizely Variation ID":a}])}catch(Ta){M("Integrator","Error sending Inspectlet data for "+Mb(b))}}if(z("kissmetrics")){e=R(b,a,100,100,15,j);d={};d[e.key]=e.value;try{x("Integrator","Calling _kmq.set"),
_kmq.push(["set",d])}catch(Fh){M("Integrator","Error sending KISSmetrics data for "+Mb(b))}}if(O(b,"mixpanel")){e=R(b,a,100,100,15,o);d={};d[e.key]=e.value;try{x("Integrator","Calling mixpanel.push"),mixpanel.push(["register",d])}catch(Gh){M("Integrator","Error sending Mixpanel data for "+Mb(b))}}if(O(b,"moat")){e=R(b,a,100,100,15,o);e=e.key+": "+e.value;try{x("Integrator","Calling optimizelyMoat.push"),optimizelyMoat.push(e)}catch($b){M("Integrator","Error sending Moat data for "+Mb(b))}}O(b,"sessioncam")&&
(c=c.concat(cd(b,a)));O(b,"at_internet")&&(e=R(b,a,28,24,5,j),a=b+"["+encodeURIComponent(e.key)+"]-0-"+a+"["+encodeURIComponent(e.value)+"]",a in dd||(x("Integrator","Queueing AT Internet log call: %s",a),dd[a]=o))});if(0<c.length){a=c;try{M("Integrator","Calling sessioncamConfiguration object"),window.sessioncamConfiguration=window.sessioncamConfiguration||{},window.sessioncamConfiguration.customDataObjects=window.sessioncamConfiguration.customDataObjects||[],window.sessioncamConfiguration.customDataObjects=
window.sessioncamConfiguration.customDataObjects.concat(a)}catch(d){M("Integrator","Error sending sessioncam data "+a)}}0<L(dd).length&&("function"===typeof window.xt_mvt?ed():$(window).bind("load.ATInternet",ed));a=v("optimizelyChartbeat")||"";try{if(a&&ad!=a&&(x("Integrator","Calling _cbq.push for referral"),_cbq.push(["_optlyr",a])),ad!=a)x("Integrator","Set new Chartbeat referral cookie."),y("optimizelyChartbeat",ad)}catch(e){M("Integrator","Error sending Chartbeat referral for "+a)}Tc=j;fd&&
(gd(),fd=o);Wc&&(Rc(),Wc=o)}}
function hd(){if(window.ClickTaleContext){try{window.ClickTaleContext.getAggregationContextAsync("1",function(a){a.Location&&window.optimizely.push(["overrideUrl",a.Location]);for(var b in a.PageEvents){var e=a.PageEvents[b][2].match(/x[0-9]+=[0-9_]+/g);x("Integrator","Playback ClickTale Integration - %s",e);for(b=0;b<e.length;b++){x("Integrator","Playback ClickTale Integration - %s",e[b]);for(var f=e[b].split("=")[0].substr(1),g=e[b].split("=")[1].split("_"),m=0;m<g.length;m++)id(g[m])?x("Integrator",
"Skip activation for redirect."):window.optimizely.push(["activate",f,g[m],{force:j}])}}})}catch(a){x("Integrator","Playback ClickTale Aggregation Integration failed.")}try{window.ClickTaleContext.getRecordingContextAsync("1.1",function(a){if(a.inSingleRecordingScope){a.location&&window.optimizely.push(["overrideUrl",a.location]);x("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var b in a.fields)x("Integrator","Playback ClickTale Integration - %s=%s",b,a.fields[b]),id(a.fields[b])?
x("Integrator","Skip activation for redirect."):window.optimizely.push(["activate",b,a.fields[b],{force:j}])}})}catch(b){x("Integrator","Playback ClickTale Recording Integration failed.")}}else x("Integrator","ClickTaleContext not defined.")}
function jd(){x("Integrator","Tracking with ClickTale.");"function"==typeof window.ClickTaleField?w(Vc(),function(a){var b=P(a),c=R(b,a,100,100,15,o),c=c.key+": "+c.value+" (x"+b+"="+a+")";x("Integrator","Setting ClickTale - %s",c);window.ClickTaleField(b,a);window.ClickTaleEvent(c)}):x("Integrator","ClickTaleField() not defined.")}function kd(a){$c=a}function ld(a){Sc=a}function md(a,b){return a.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,b)}
function Vc(){var a=nd.concat(S),b=[];w(od(),function(c){var e=P(c),f=o;if(Eb(e)){var g=Wb(c);E(a,e)&&(x("Integrator",'"%s" relevant because experiment active',g),f=j);f&&b.push(c)}});var c=pd;c&&b.push(c);return b}function id(a){if(a=Tb(a))if(a=qd(a.toString()))return a[1];return l}
function gd(){if(qa)if(Tc){var a=window[window.GoogleAnalyticsObject||"ga"];if(a){var b=Uc;if(b!==l)try{x("Integrator","Fixing Universal Analytics set referrer with %s",b),(0,window[window.GoogleAnalyticsObject||"ga"])("set","referrer",b)}catch(c){x("Integrator","Error setting Universal Analytics referrer: %s",c)}x("Integrator","Tracking with Universal Analytics");w(Vc(),function(b){var c=P(b);if(bc(c,"slot")){var f=bc(c,"slot"),g=bc(c,"tracker"),m=R(c,b,100,100,25,j),b=m.key+" ("+c+"): "+m.value;
150<b.length&&(b=m.key.substring(0,80)+" ("+c+"): "+m.value,b=b.substring(0,149));c=g?g+".":"";x("Integrator","Calling ua set dimension - ga(%sset, dimension%d, %s)",c,f,b);a(c+"set","dimension"+f,b)}})}else M("Integrator","Error with Universal Analytics integration: 'GoogleAnalyticsObject' not defined")}else fd=j}function cd(a,b){M("Integrator","Preparing to send data to Sessioncam");return[R(a,b,100,100,15,o),{key:"Optimizely Exp "+a,value:"Optimizely Var "+b}]}
function ed(){try{$(window).unbind("load.ATInternet"),window.xt_mvt&&w(dd,function(a,c){c||(x("Integrator","Sending AT Internet log call: %s",a),window.xt_mvt("","",a),dd[a]=j)})}catch(a){M("Integrator","Error sending AT Internet data: "+a.toString())}}function R(a,b,c,d,e,f){a=$c+Lb(a);b=Xb(b);1<b.length?(b=$.map(b,function(a){return a.substr(0,e-1)}),b=b.join("~")):b=b[0];f?(a=md(a,c),b=md(b.replace("#",""),d)):(a=a.substring(0,c),b=b.substring(0,d));return{key:a,value:b}}
function rd(a,b,c){try{var d=N.get(sd)||{},e=d[a],f;if(c&&e){var c={},g;if(e)for(g in e)e.hasOwnProperty(g)&&(c[g]=e[g]);if(b)for(g in b)if(b.hasOwnProperty(g)){var e=c,m=g,n;if(c[g]){var k=c[g],r=b[g];F(k)||(k=[k]);F(r)||(r=[r]);for(var q=[].concat(k),G=i,G=0;G<r.length;G++)ra(r[G],q)||q.push(r[G]);n=q}else n=b[g];e[m]=n}f=c}else f=b;d[a]=f;N.set(sd,d)}catch(A){}}var fd=o,Wc=o,dd={},ad="",Yc=2,Tc=o,$c="Optimizely ",Sc=l,sd="thirdParty";function td(a,b,c,d){if(!B)return o;var e="number"===typeof c||"string"===typeof c?String(c):l,f=!!(c===j||c&&c.force===j||d&&d.force===j),d=("object"===typeof c?c:d)||{},c=d.skip===j,g=d.skipPageview===j,d=d.enabledStatus;if(e)try{ud(b,e,j)}catch(m){M("Activator","Error while activating experiment "+b+" for variation "+e+" -- proceeding without bucketing user.")}var n=[];ab(b)?n.push(b):w(Db(),function(a){Jb(a)&&n.push(a)});vd(a,n,{Ga:f,cb:j,Fa:d,ib:c,za:g})}
function wd(a,b,c){if(!B)return o;if(!("object"===typeof b&&"string"===typeof c))if("object"===typeof b&&!H(c))c=b.hasOwnProperty("lists")?"odds":"cdn3";else if(H(b)||H(c)){M("Activator","Unrecognized arguments to activateGeoDelayedExperiment: "+arguments);return}if("object"===typeof b&&"string"===typeof c){M("Activator","Saving async info from '"+c+"'");"cdn3"===c&&T("geoArrive");Gc(c,b);var d=(Q[c]=b)&&b.lists||{},e={},f,g,m,n,k;for(k in d)d.hasOwnProperty(k)&&(0===k.indexOf("_")&&d[k])&&(f=k.substring(1).split("__"),
g=f.shift(),m=f.shift(),f=f.join("__"),g&&(m&&f)&&(n=e,n[g]||(n[g]={}),n=n[g],n[m]||(n[m]=[]),n=n[m],n.push(f)));for(g in e)rd(g,e[g],o);xd?(M("Activator","Post-timeout; too late to act on new async info."),geolocation.cdn3Requested&&T("geoFailed")):(d=yd.slice(),M("Activator","Trying to activate "+d.length+" delayed segments"),zd(d),d=Ad.slice(),M("Activator","Trying to activate "+d.length+" experiments"),vd(a,d,{za:Ra}),Bd(),"object"===typeof b&&"string"===typeof c&&"cdn3"===c&&T("geoSuccess"))}else M("Activator",
"Timeout: will not act on future async info."),T("geoTimeout"),xd=j}
function vd(a,b,c){M("Activator","Triaging "+b.length+" experiments.");var d=[],e=[],f=[];w(b,function(b){c.Ga?(M("Activator","Force-ignoring conditions for experiment "+b),d.push(b)):Cd(b)?Dd(b,{manualActivation:c.cb,objectType:"experiment",enabledStatus:c.Fa,visitor:a})?(M("Activator","Passed conditions for experiment "+b),d.push(b)):(M("Activator","Failed conditions for experiment "+b),f.push(b)):(M("Activator","Can't test conditions for experiment "+b),e.push(b))});w(e,Ed);Fd(d);Fd(f);var g=[];
w(d,function(a){Gd(a,c.ib)&&g.push(a)});Hd(g,b);Id();Zc();B&&!c.za&&Jd(document.location.href,"pageview",{hb:j})}
function zd(a){M("Activator","Triaging "+a.length+" segments.");var b=[],c=[],d=[],e=[];w(a,function(a){cc(a,"is_api_only")?(M("Activator","Ignoring API-only segment "+a),e.push(a)):Cd(a)?Dd(a,{objectType:"segment"})?(M("Activator","Passed conditions for segment "+a),b.push(a)):(M("Activator","Failed conditions for segment "+a),d.push(a)):(M("Activator","Can't test conditions for segment "+a),c.push(a))});w(c,Kd);Ld(b);Ld(d);Ld(e);w(b,Md)}
function Ed(a){M("Activator","Deferring test for experiment "+a);E(Ad,a)||Ad.push(a)}function Kd(a){M("Activator","Deferring test for segment "+a);E(yd,a)||yd.push(a)}function Fd(a){Ad=K(Ad,function(b){return!ra(b,a)})}function Ld(a){yd=K(yd,function(b){return!ra(b,a)})}var Ad=[],yd=[],xd=o;/*


 UAParser.js v0.7.9
 Lightweight JavaScript-based User-Agent string parser
 https://github.com/faisalman/ua-parser-js

 Copyright ? 2012-2015 Faisal Salman <fyzlman@gmail.com>
 Dual licensed under GPLv2 & MIT
*/
function Qd(){}var Rd={extend:function(a,b){for(var c in b)-1!=="browser cpu device engine os".indexOf(c)&&0===b[c].length%2&&(a[c]=b[c].concat(a[c]));return a},has:function(a,b){return"string"===typeof a?-1!==b.toLowerCase().indexOf(a.toLowerCase()):o},N:function(a){return a.toLowerCase()},ua:function(a){return"string"===typeof a?a.split(".")[0]:i}};
function Sd(){for(var a,b=0,c,d,e,f,g,m,n=arguments;b<n.length&&!g;){var k=n[b],r=n[b+1];if("undefined"===typeof a)for(e in a={},r)f=r[e],"object"===typeof f?a[f[0]]=i:a[f]=i;for(c=d=0;c<k.length&&!g;)if(g=k[c++].exec(this.ra()))for(e=0;e<r.length;e++)m=g[++d],f=r[e],"object"===typeof f&&0<f.length?2==f.length?a[f[0]]="function"==typeof f[1]?f[1].call(this,m):f[1]:3==f.length?a[f[0]]="function"===typeof f[1]&&(!f[1].exec||!f[1].test)?m?f[1].call(this,m,f[2]):i:m?m.replace(f[1],f[2]):i:4==f.length&&
(a[f[0]]=m?f[3].call(this,m.replace(f[1],f[2])):i):a[f]=m?m:i;b+=2}return a}function Td(a,b){for(var c in b)if("object"===typeof b[c]&&0<b[c].length)for(var d=0;d<b[c].length;d++){if(Rd.has(b[c][d],a))return"?"===c?i:c}else if(Rd.has(b[c],a))return"?"===c?i:c;return a}
var Ud={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Vd={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,
/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],
["name","version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],["version",["name","Android Browser"]],[/FBAV\/([\w\.]+);/i],["version",["name","Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],
["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",Td,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,
/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],da:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",Rd.N]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],
[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",Rd.N]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",Rd.N]]],F:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor",
"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",Td,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],
["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],
[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[["vendor","Sony"],["model","Xperia Phone"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[3portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",Td,{HTC:"APA",Sprint:"Sprint"}],["model",
Td,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g,
" "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,
/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(samsung);smarttv/i],["vendor","model",["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],
[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+(\w+)\s+build\/hm\1/i,
/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/(mobile|tablet);.+rv\:.+gecko\//i],[["type",Rd.N],"vendor","model"]],fa:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],
[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],wa:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",Td,Ud]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",Td,Ud]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,
/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,
/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,
/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]};
function Wd(a,b){if(!(this instanceof Wd))return(new Wd(a,b)).Ta();var c=a||(Qd&&Qd.navigator&&Qd.navigator.userAgent?Qd.navigator.userAgent:""),d=b?Rd.extend(Vd,b):Vd;this.u=function(){var a=Sd.apply(this,d.browser);a.ua=Rd.ua(a.version);return a};this.Ka=function(){return Sd.apply(this,d.da)};this.K=function(){return Sd.apply(this,d.F)};this.Pa=function(){return Sd.apply(this,d.fa)};this.oa=function(){return Sd.apply(this,d.wa)};this.Ta=function(){return{Ab:this.ra(),browser:this.u(),fa:this.Pa(),
wa:this.oa(),F:this.K(),da:this.Ka()}};this.ra=function(){return c};this.gb=function(a){c=a};this.gb(c);return this}Wd.VERSION="0.7.9";Wd.kb={e:"name",qb:"major",VERSION:"version"};Wd.mb={jb:"architecture"};Wd.nb={sb:"model",VENDOR:"vendor",g:"type",lb:"console",rb:"mobile",vb:"smarttv",wb:"tablet",xb:"wearable",ob:"embedded"};Wd.pb={e:"name",VERSION:"version"};Wd.ub={e:"name",VERSION:"version"};Qd.Ba=Wd;function jc(){var a=new Qd.Ba(window.navigator.userAgent),b=a.u(),c=a.oa(),a=a.K(),d=a.model in Xd?Xd[a.model]:"unknown",e=(c.name||"unknown").toLowerCase(),f;a:if(E(["mobile","tablet"],a.type))f=j;else{if(d&&"unknown"!==d)for(f in Xd)if(d===Xd[f]){f=j;break a}f=E(["android","blackberry","ios","windows phone"],e)?j:o}return{ba:Yd(b.name),ca:b.version,platform:{id:e,version:c.version},F:{id:d,type:a.type||(f?"mobile":"desktop"),w:f}}}
function Yd(a){a=(a||"").toLowerCase();if(a in Zd)return a;for(var b in Zd)if(D(Zd[b]||[],function(b){return b.toLowerCase()===a}))return b;return"unknown"}var Zd={gc:["Chrome","chromium","silk","yandex","maxthon"],ie:["Internet Explorer","iemobile"],edge:["Edge"],ff:["Firefox","iceweasel"],opera:["Opera","opera mini","opera tablet"],safari:["Safari","mobile safari","webkit"],ucbrowser:["UC Browser"]},Xd={iPhone:"iphone",iPad:"ipad"};function qd(a){return a.match(/_optimizely_redirect(?:_no_cookie)?=(\S+)/)}function $d(a){return-1!==a.indexOf("_optimizely_redirect_no_cookie")}function ae(a){var a=a||"",b=v("optimizelyRedirect");return $d(a)||!b||b&&"true"===b.split("|")[1]?j:o}function be(){var a;a=H(a)?a:document.referrer;y("optimizelyReferrer",a,5)}
var Uc=l,pd="",ce=/^\/\* _optimizely_redirect.+\*\/[ ]*\nwindow\.location\.replace\(_optly\.redir\.href.*\)[ ]*[;]?$/,de=/^\/\* _optimizely_redirect.+\*\/[ ]*\nvar[ ]*_optly[ ]*=[ ]*\{[ ]*redir:document\.createElement\("a"\)\}[;]?\n_optly\.redir\.href=.*\n_optly\.cur=.+\nif \(_optly.cur\)[ ]?\{.+\}[ ]*\nwindow\.location\.replace\(_optly\.redir\.href.*\)[ ]*[;]?$/,ee=/^\/\* _optimizely_redirect.+\*\/[ ]*[\n]+window\.location\.replace\([ ]*redirectFirst.*\)[ ]*[;]?$/;var fe,ge;function he(){var a={disable:ie,optOut:je,setCookieDomain:Ca,setCookieExpiration:ke,verifyPreviewProject:function(a){Qb()!==a&&M("API","Preview projectId ("+Qb()+") does not match expected ("+a+"), disabling.")}},b=window.optimizely,c=[];B&&F(b)&&(w(b,function(b){var e=b;F(b)?e=b[0]:$a(b)&&(e=b.type);a[e]?le([a],b,j):c.push(b)}),window.optimizely=c)}function me(a,b,c){rd(a,b,!!c);Bd()}
function ne(a,b){var c=Gb(a)||a,d=Hb()[c];d?d.audience_id?U.D(d.audience_id):d.dimension_id?U.B(d.dimension_id,b||j,o):oe(c,b):M("API","Unable to find segment: "+c)}
function ud(a,b,c){Qa=j;B&&c!==j&&Jd(document.location.href,"pageview",{hb:j});var a=String(a),b=String(b),d=l,e=b.split("_"),f=Nb(a),b=f&&0!==f.length;if("-1"===e[0]){c=a;pe[c]&&delete pe[c];qe[c]&&delete qe[c];for(e=0;e<V.length;e++)V[e].H===c&&V.splice(e,1);re()}else if(b&&e.length==f.length)d=[],w(e,function(a,b){256>=Number(a)?d.push(Sb(f[b])[a]):d.push(a)}),d=d.join("_");else if(!b&&1==e.length&&256>=Number(e[0])){var c=String,e=e[0],g=Ob(a),m=l;try{m=g[e]}catch(n){}d=c(m)}else 1==e.length?
d=e[0]:M("API","Error: could not bucket user. Unknown arguments.");d&&(b&&Rb(a,d)?(b=d,c=Rb(a,b),se[a]=se[a]||{},se[a][c]=b,M("Distributor","Preferring variation partial "+b+" of section "+c+" of experiment "+a),a=te(a),1===a.length&&ue(a[0],"api.bucketUser",j)):ue(d,"api.bucketUser",j));Id()}function ie(a){a&&"tracking"===a||(M("API","Optimizely disabled"),B=o);qa=o}function ve(){M("API","Finalizing API.");Bd();fe=j}
function we(){if(z("slave"))return SLAVE_CLIENT.optimizely.get.apply(l,Array.prototype.slice.call(arguments))}var xe=[];function ye(a){xe.push(a);Bd()}function le(a,b,c){var d=[],e=b,c=H(c)?c:o,f=0;F(b)?(e=b[0],d=Ya(b,1)):$a(b)&&(f=H(b.version)?b.version:1,e=b.type,d=[b]);var a=a[f],g;a&&(g=a[e]);g?(M("API",'Called function "'+e+'"'),g.apply(l,d),ze.S[0===f?e:"v"+f+"."+e]=j):c||M("API",'Error for unknown function "'+e+'"');z("slave")&&SLAVE_CLIENT.optimizely.push(b);zc()}
function Ae(a,b){fe?M("API","Error: can't add custom tags after Optimizely loads"):(ge=ge||{},2==arguments.length?ge[a]=b:1==arguments.length&&$.extend(j,ge,a))}function Be(a,b){var c=Gb(a)||a,b=H(b)?b:j,d=Hb()[c];d?d.audience_id?U.aa(d.audience_id):d.dimension_id?U.B(d.dimension_id,l):Ce(c,b):M("API","Unable find segment for: "+c)}function De(){var a=L(Hb());w(a,function(a){Be(a,o)});Ee()}
function Bd(){Fe={};Ge={};He={};w(od(),function(a){var b=P(a);Fe[b]=a.split("_");Ge[b]=Vb(a);He[b]=Wb(a)});W={};var a=z("audiences");X(W,"audiences",a||i,"data.audiences");X(W,"customTags",ge,"data.customTags");X(W,"thirdParty",N.get(sd)||{},"data.thirdParty");for(var b={},c=Db(),a=0;a<c.length;a++){var d=c[a],e={};e.code=O(d,"code")||"";e.name=Lb(d);e.conditional=Kb(d);e.manual=Jb(d);e.section_ids=Nb(d);e.variation_ids=Ob(d);b[d]=e}X(W,"experiments",b,"data.experiments");b={};c=L(Hb());for(a=0;a<
c.length;a++)d=c[a],e={name:cc(d,"name")||"Seg "+d},b[d]=e;X(W,"segments",b,"data.segments");b={};c=L(z("sections")||{});for(a=0;a<c.length;a++)d=c[a],e={},e.name=z("sections",d,"name")||"Sec "+d,e.variation_ids=Sb(d),b[d]=e;X(W,"sections",b,"data.sections");b={};c=L(z("variations")||{});for(a=0;a<c.length;a++)d=c[a],e={},e.name=Wb(d),e.code=Tb(d),b[d]=e;X(W,"variations",b,"data.variations");var a=kc(),a=Zd[a]?Zd[a][0]:a,b=lc(),c=mc().id,d=mc().type,e=oc(),f=sc(),g=rc(),m=oc().id,n={};w(Pb(),function(a){n[a]=
Lc(a)});var b={browser:a,browserVersion:b,device:c,deviceType:d,platform:e,mobile:f,mobileId:g,os:m,lists:n,location:Oc(),ip:Hc(),matchingRules:Qc(),referrer:String(document.referrer),segments:Ie(),dimensions:U.t,audiences:U.p},k;for(k in b)X(b,k,b[k],"data.visitor."+k);k={};c=Je();c.reverse();a=0;for(d=c.length;a<d;a++)try{k[ja(c[a][0])]=ja(c[a][1])}catch(r){M("API","Failed to decode parameter "+c[a][0]+"="+c[a][1])}X(b,"params",k,"data.visitor.params");W.visitor=b;k={};X(k,"activeExperiments",nd||
[],"data.state.activeExperiments");a:{if(a=pd)if(b=P(a)){a={variationId:a,experimentId:b,referrer:Uc};break a}a=i}X(k,"redirectExperiment",a,"data.state.redirectExperiment");X(k,"variationIdsMap",Fe,"data.state.variationIdsMap");X(k,"variationMap",Ge,"data.state.variationMap");X(k,"variationNamesMap",He,"data.state.variationNamesMap");X(k,"enabled",B,"data.state.enabled");k.integrations={};X(k.integrations,"activeOAuthClientIds",xe,"data.state.integrations.activeOAuthClientIds");W.state=k;k={activeExperiments:nd,
allExperiments:Ib(),all_experiments:Ib(),variationIdsMap:Fe,variationMap:Ge,variationNamesMap:He,variation_map:Ge};window.optimizely.data=W;w(k,function(a,b){X(window.optimizely,a,b)})}function X(a,b,c,d){try{var e="o.",e=d?e+d:e+b;Object.defineProperty(a,b,{configurable:j,enumerable:j,get:function(){ze.S[e]=j;return c},set:function(a){c=a}})}catch(f){a[b]=c}}function Ke(a){if(!ab(a))return o;Ga=Number(a)}function Le(){Ka=j}
function ke(a){var b="";"number"!==typeof a?(b="must be a number.",a=31536E4):a=Math.floor(86400*a);7776E3>a&&(b="less then minimum.",a=7776E3);M("API",(b&&"Days argument "+b)+" Cookie expiration set to "+a+" seconds.");Sa=a}function Me(){Ra=j}function Ne(){v("optimizelyReportableFix")?M("API","skipping because cookie is set"):(w(z("audiences"),function(a){ub(a)&&(M("API","Removing from reportable audience: "+a),U.aa(a))}),y("optimizelyReportableFix","1",7776E3))}
function Oe(a){var b=Va();!a&&0!==a?(M("API","Clearing PPID"),ya("optimizelyPPID",za())):"string"===typeof a||"number"===typeof a?(M("API","Setting PPID to "+a),a=String(a),y("optimizelyPPID",a,Sa)):M("API","Ignoring non-string, non-number PPID: "+a);Va()!==b&&(M("API","Clearing plan because of PPID change"),M("Plan","Resetting visitor buckets"),Pe={},pe={},qe={},V=[],Id())}
var Re={event:function(a){Qe(a.eventName,a.tags)},user:function(a){a.userId&&Oe(a.userId);a.attributes&&w(a.attributes,function(a,c){U.B(a,c)})},integration:function(a){a.OAuthClientId&&ye(a.OAuthClientId)}},W={},Se={},Fe={},Ge={},He={},U=l;function Qe(a,b){var c;a:{c={};var d,e=z("custom_revenue_goals");e&&(a in e&&ab(e[a]))&&(d=Number(e[a]));if(b)if(ab(b))d=Number(b);else if("object"===typeof b){if(c=J({},b),"revenue"in c)if(ab(c.revenue))d=Number(c.revenue),delete c.revenue;else{x("tracker","Revenue field %s not a number.",c.revenue);c=l;break a}}else{x("tracker","Revenue argument %s not a number.",b);c=l;break a}H(d)&&(c.Q=d)}if(c===l)x("tracker","Bad options. Will not track this event.");else{d=Ab();var f={};w(d,function(a){f[a]=
j});$.extend(c,{T:f});Jd(a,"custom",c)}}function Jd(a,b,c){c=c||{};qa&&(Te.push({name:a,type:b,ea:+new Date/1E3,options:c}),Ue?(Ve(),M("Tracker","Tracking event '"+a+"'")):M("Tracker","Queued tracking event '"+a+"'"))}function We(){Xe();$("html").bind("mousedown",Ye);$("html").bind("touchstart",Ze)}function Xe(){$("html").unbind("touchstart",Ze);$("html").unbind("mousedown touchend",Ye);$("html").unbind("touchmove",We)}function Ze(){$("html").bind("touchend",Ye);$("html").bind("touchmove",We)}
function $e(){var a=document.location.href,b=z("pageview_revenue_goals");b&&0<L(b)?w(L(b),function(c){Jd(a,"pageview",{Q:c,T:b[c]})}):Jd(a,"pageview")}function af(){var a=v("optimizelyPendingLogEvents")||"[]",b=[];try{b=ea(a)}catch(c){}if(F(b))for(var a=0,d=b.length;a<d;a++){var e=b[a];if("string"!==typeof e){b=[];break}else try{ea(e);b=[];break}catch(f){}}else b=[];return b}
function bf(a){a=I(a.split("&"),function(a){return a.split("=")});a.sort(function(a,c){return a[0]<c[0]?-1:a[0]>c[0]?1:0});return I(a,function(a){return a.join("=")}).join("&")}
function bd(a,b){if(cf&&-1!==a.indexOf(df))try{var c=new XMLHttpRequest;if("withCredentials"in c){c.onload=b;c.open("GET",a,j);c.withCredentials=j;c.send();return}cf=o;M("Tracker","Found that XHR with credentials is not supported in this browser.")}catch(d){M("Tracker","XHR not supported"),cf=o}var c=a,e=new Image;e.onload=b;c=c.replace("&"+df,"");e.src=c;ef.push(e)}
function je(a,b){a=!H(a)||"true"===String(a);H(b)||(b=window.alert);var c=a?"true":"false";a?(y("optimizelyOptOut",c,Sa),y("optimizelyBuckets",c,Sa),b("You have successfully opted out of Optimizely for this domain.")):(y("optimizelyOptOut",c,Sa),b("You are NOT opted out of Optimizely for this domain."))}function gf(){return"true"===v("optimizelyOptOut")}function Ye(){Xe();Jd("engagement","engagement")}var Te=[],Ue=o;
function Ve(){var a=["a="+Qb(),"d="+sb(),"y="+!!z("ip_anonymization"),"src=js"];Qa&&a.push("override=true");w(od(),function(b){var c=P(b);a.push("x"+c+"="+b)});w(Ie(),function(b,c){c=encodeURIComponent(ja(c));a.push("s"+b+"="+c)});a.push("tsent="+ +new Date/1E3);var b=[],c=Ua(),d=Va();w(Te,function(a){var e=[],f=[];a.name&&(e.push("n="+encodeURIComponent(a.name)),f=f.concat(Fb(a.name)));if(a.type&&"pageview"===a.type){var f=f.concat(nd.concat(S)),g=pd;g&&(g=P(g),f.push(g))}a.options.anonymous!==j&&
(e.push("u="+c),d&&e.push("p="+encodeURIComponent(d)));cf&&e.push(df);a.ea&&e.push("time="+a.ea);Ka&&e.push("dtpc="+Ka);var m=!!a.options&&!!a.options.Q&&a.options.T||{},g=L(m),k=K(Ab(),function(a){return!m[a]}),f=[{U:g,sa:f.concat([z("summary_revenue_goal_id")||l]),ga:["v="+encodeURIComponent(a.options.Q)]},{U:k,sa:f,ga:[]}];w(f,function(a){(a.U.length||Ha)&&b.push(e.concat(a.ga).concat(["f="+a.U.join(","),"g="+a.sa.join(",")]).join("&"))});if("custom"===a.type)try{var n=a.name,$b=Ua(),q=N.get("customEvents")||
{},r=q[$b]||(q[$b]=[]),r=F(r)?r:[];-1!==$.inArray(n,r)&&r.splice($.inArray(n,r),1);r.push(n);100<r.length&&r.shift();q[$b]=r;N.set("customEvents",q);ya("optimizelyCustomEvents",za())}catch(ff){}});var e=b.concat(af());hf(e);var f=a.join("&"),e=jf?b:e;jf=j;for(var g=0,m=e.length;g<m;g++){var n=e[g],k=f+"&"+n;M("Tracker","Making a log request.");var k=k+("&cx2="+gc(bf(k),65259)),r=Qb(),q=z("log_host");r&&(q=r.toString()+"."+q);bd("https://"+q+"/event?"+k,function(){for(var a=n,b=af(),c=0,d=b.length;c<
d;c++)if(b[c]===a){b.splice(c,1);break}hf(b);M("Tracker","Removed a pending log event from the pending events cookie.")})}Te=[];Ue=j}function hf(a){for(var b=u(a);1536<b.length;)a=a.slice(0,-1),b=u(a);y("optimizelyPendingLogEvents",b,15)}var ef=[],jf=o,df="wxhr=true",cf=j;var Y={e:"n",b:"t",g:"y",l:"c",m:"r",o:"s",f:"o"};function kf(a,b,c,d,e){this[Y.e]=a;this[Y.g]=b;"string"===typeof c&&0<db(c).length&&(this[Y.l]=db(c));d&&0<L(d).length&&(this[Y.f]=d);H(e)&&(this[Y.m]=e)}
kf.prototype.hash=function(){if(this.v)return this.v;var a;a=[];a.push(encodeURIComponent(Y.e)+"="+encodeURIComponent(this[Y.e]));a.push(encodeURIComponent(Y.g)+"="+encodeURIComponent(this[Y.g]));this[Y.l]&&a.push(encodeURIComponent(Y.l)+"="+encodeURIComponent(this[Y.l]));this[Y.m]&&a.push(encodeURIComponent(Y.m)+"="+encodeURIComponent(this[Y.m]));if(this[Y.f])for(var b=this[Y.f]||{},c=K(L(b),function(a){return b.hasOwnProperty(a)}),c=c.sort(),d=0;d<c.length;d++)a.push(encodeURIComponent(c[d])+"="+
encodeURIComponent(b[c[d]]));a=a.join("&");var e=String.fromCharCode;a=a.replace(/[\S\s]/gi,function(a){var a=a.charCodeAt(0),b=e(a&255);255<a&&(b=e(a>>>8&255)+b);65535<a&&(b=e(a>>>16)+b);return b});return this.v=gc(a,2716770798)};
function lf(a,b){if(a.hash()!==b.hash()||a[Y.e]!==b[Y.e]||a[Y.g]!==b[Y.g]||a[Y.l]!==b[Y.l]||a[Y.m]!==b[Y.m])return o;if(!a[Y.f]&&!b[Y.f])return j;var c=a[Y.f]||{},d=b[Y.f]||{},e=K(L(c),function(a){return c.hasOwnProperty(a)}),f=K(L(d),function(a){return d.hasOwnProperty(a)});if(e.length!==f.length)return o;for(f=0;f<e.length;f++){var g=e[f];if(!d.hasOwnProperty(g)||c[g]!==d[g])return o}return j}kf.prototype.k=function(a,b){var c=Za(this,a);return H(c)?c:b};
kf.prototype.R=function(a,b){if(a===Y.e||a===Y.g||a===Y.l||a===Y.m||a===Y.f)this[a]=b,this.v=l,this.hash()};function mf(a,b,c){this.G=a;this[Y.b]=b;H(c)&&(this[Y.o]=c)}mf.prototype.k=function(a,b){if(0===a.length)return this;var c={};c[Y.b]=this[Y.b];c[Y.o]=this[Y.o];c=Za(c,a);return H(c)?c:this.G.k(a,b)};mf.prototype.R=function(a,b){a===Y.b||a===Y.o?this[a]=b:this.G.R(a,b)};var nf={},of=[];function pf(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=qf(d);b[c]=new mf(e,d[Y.b])}return b}function qf(a,b){var c=new kf(a[Y.e],a[Y.g],a[Y.l],a[Y.f],a[Y.m]);H(b)&&(c.v=b);return c}function rf(a){for(var b=[],c=0;c<a.length;c++)for(var d=a[c],e=qf(d.eb,d.h),f=d.tb,d=d.ts,g=0;g<d.length;g++){var m=d[g];b[m.i]=new mf(e,f+m.d)}return b};function sf(){try{var a;if(z("is_behavior_enabled")){if(0===of.length&&z("is_behavior_enabled")){var b=pc("events")||[],c=pc("event_queue")||[];if(0===b.length&&0===c.length)of=[];else{"eb"in(b[0]||c[0])?(b=rf(b),c=rf(c)):(b=pf(b),c=pf(c));of=b.concat(c);1E3<of.length&&(of=of.slice(-1E3));c=of;for(b=0;b<c.length;b++){var d=c[b],e;b:{var f=c[b].G,g=f.hash(),m=nf[g];if("undefined"===typeof m)nf[g]=[f];else{for(var n=0;n<m.length;n++)if(lf(f,m[n])){e=m[n];break b}m.push(f)}e=f}d.G=e}}var d=of,k=d.length;
if(0!==k){d[0].R(Y.o,d[0].k([Y.b]));for(e=1;e<k;e++){var r=d[e-1],q=d[e];q.R(Y.o,18E5>Math.abs(r.k([Y.b],0)-q.k([Y.b],0))?r.k([Y.o]):q.k([Y.b]))}}}a=of.slice(-1E3)}else a=[];return a}catch(G){x("Behavior","Error "+G.toString()+" getting events")}return[]};function tf(){return(new Date).getTime()-(uf||0)}var uf=tf();function vf(a,b,c){for(var a=a.slice(),d=a.length-1;0<d;d--){var e=Math.floor(Math.random()*(d+1)),f=a[d];a[d]=a[e];a[e]=f}for(d=a.join(b);d.length>c;)a.pop(),d=a.join(b);return d}function T(a){var b=ze;b.n[a]||(b.n[a]=tf())}var wf;try{wf=!document.getElementsByTagName("body")[0]}catch(xf){wf=l}var yf=l;try{window.requestAnimationFrame(function(){yf=tf()})}catch(zf){}
var Af=/\/\/[^.]+\.optimizely\.(com|test)\/(js|api\/client)\/[\d]+\.js/gi,ze=new function(){this.n={};this.S={};this.Za=Math.random()<dc();geolocation.cdn3Requested&&(this.n.geoRequest=geolocation.cdn3Requested-uf)};function Gd(a,b){var b=b===j,c,d=l;w(V,function(b){a==b.H&&(d=b.id)});if((c=d)&&0<c.length)return M("Distributor","Not distributing experiment "+a+" (already in plan)"),j;if(b||a in pe)return M("Distributor","Not distributing experiment "+a+" (is ignored)"),o;c=O(a,"enabled_variation_ids")||[];if(0===c.length)return M("Distributor","Permanently ignoring experiment "+a+" (no enabled variations)"),Bf(a),o;var e=O(a,"ignore")||0,f=Cf();if(e>Math.floor(1E4*((ec(f+a,0)>>>0)/fc)))return M("Distributor",
"Permanently ignoring experiment "+a+"("+e/100+"% likelihood)"),Bf(a),o;e=c;se[a]!==i&&(M("Distributor","Taking into account bucketUser variations for experiment "+a),e=te(a));var f=e,g=[],m=O(a,"variation_weights")||{};w(f,function(a){g.push(m[a])});f=Df(a,g);e=e[f];M("Distributor","Picked variation "+e+" [index "+f+" of "+c.length+"]");ue(e,"distributor");return j}
function Ef(a,b){b=b||{};M("Distributor","Configuring conditionally-activated experiment: "+a);Se[a]?M("Distributor","Not configuring conditionally-activated experiment (already done): "+a):!Eb(a)&&b.force!==j?M("Distributor","Not configuring conditionally-activated experiment (not enabled): "+a):(Ff(a,b),fe&&Bd())}
function Ff(a,b){function c(){td(U,a,b);n.isActive=E(nd.concat(S),a);M("Distributor","Activating conditionally activated experiment "+a)}var d=O(a,"conditional_code"),e=j,f,g;if("function"===typeof d)e=o,f=d;else try{g=eval("(function() {return "+("("+d+")")+";})()"),"function"===typeof g&&(e=o,f=g)}catch(m){}var n={isActive:o,experimentId:a};if(e){if(e={objectType:"experiment",enabledStatus:b.enabledStatus},b.force||!Cd(a)||Dd(a,e)){var k=function(){Cd(a)&&(Gf(0,{value:d})||g)?c():setTimeout(k,50)};
k();M("Distributor","Set up conditional polling for "+a);Se[a]=j}}else try{f(c,n),M("Distributor","Set up conditional callback for "+a),Se[a]=j}catch(r){M("Distributor","Error running conditional callback function for "+a)}}function Cf(){return Va()||Ua()}function Df(a,b){var c=b.length;if(0===c)return l;if(1===c)return 0;for(var d=0,e=0;e<c;e++)d+=b[e];e=Cf();d*=(ec(e+a,1)>>>0)/fc;for(e=0;e<c;e++){if(d<b[e])return e;d-=b[e]}d=Cf();return Math.floor((ec(d+a,2)>>>0)/fc*c)}
function te(a){var b=[];w(O(a,"enabled_variation_ids")||[],function(c){var d=j,e;for(e in se[a])-1===c.indexOf(se[a][e])&&(d=o);d&&b.push(c)});return b}var se={};function Hf(){for(var a=z("dcp_keyfield_locators")||[],b=l,c=[],d=0;d<a.length;d++){var e=a[d],f=e.dcp_datasource_id||l,g=e.is_optimizely||o,m=e.type,e=e.name||"";if(f===l)M("DCP","No DCP datasource id specified");else{var n=l;m===If?n=Z.I(e):m===Jf?n=Z.la(e):m===Kf?n=Z.j(e):m===Lf&&(n=Mf());if(ab(n)||"string"===typeof n)f={datasourceId:f,id:n},g?b=f:c.push(f)}}return{q:b,z:c}}var Mf=Cf;function Nf(){var a=Hf(),b=Pc.get()||{};if(Of(a.z,b.aliases||{}))return o;b.rulesResults=l;Pc.set(b);return j}
function Of(a,b){b=b||{};return Wa(a,function(a){return b[a.datasourceId]===a.id})}var If="cookie",Jf="js_variable",Kf="query_param",Lf="uid";function Nc(a){if(!Mc(a))return M("Async Request","Can't determine a value for this list-targeted key: "+a),l;var b=a.split("_"),c=b[0],b=b.slice(1).join("_"),d=i;if("c"===c)d=Z.I(b);else if("j"===c)d=Z.la(b);else if("q"===c)d=Z.j(b);else return M("Async Request","Can't determine a value for this list-targeted key: "+a),l;if("string"===typeof d||"number"===typeof d||"boolean"===typeof d)d=d.toString();else return d===l||"undefined"===typeof d?M("Async Request","No value is set for this list-targeted key: "+
a):M("Async Request","Unacceptable value (must be string, number, or boolean) for this list-targeted key: "+a),l;if(100<d.length)return M("Async Request","Withholding the overlong value for this list-targeted key: "+a),l;M("Async Request","Returning a value for this list-targeted key: "+a);return d}function Mc(a){return-1!==a.indexOf("_")?E(["c","j","q"],a.split("_")[0]):o};function Pf(a){if(0===$("body").length)setTimeout(function(){Pf(a)},20);else{var b;b='<div id="optimizely-loading" style="position:absolute;top:0;right:0;left:0;bottom:0;background-color:white;opacity:0.9;z-index: 3271000;"><h2 style="color:#9a9a9a;top:40%;position:absolute;font-size:2.25em;text-align:center;width:100%;font-family:\'Lucida Grande\',sans-serif;">'+a+"</h2></div>";$("#optimizely-loading").remove();$("body").append(b)}}var Qf=z("preview_host");function Je(){var a=window.location.search||"";0===a.indexOf("?")&&(a=a.substring(1));for(var a=a.split("&"),b=[],c=0;c<a.length;c++){var d="",e="",f=a[c].split("=");0<f.length&&(d=f[0]);1<f.length&&(e=f[1]);b.push([d,e])}return b}function Rf(){for(var a=window.location.search,b,c=/optimizely_([^=]+)=([^&]*)/g,d={};b=c.exec(a);)d[b[1]]=b[2];return d}var Sf=/x(\d+)/;function Tf(a){return a&&-1!==String(a).indexOf("[native code]")};function Uf(a){var b=a||Vf;M("Segmenter","Loading segments cookie.");if(a=v("optimizelySegments")){try{a=ea(a)}catch(c){a={}}w(a,function(a,c){var d=Hb()[a];M("Segmenter","Segments cookie contains segment id: "+a);d&&d.audience_id?b.D(d.audience_id):d&&d.dimension_id?b.B(d.dimension_id,c,o):Wf[a]=c})}zd(L(Hb()));Xf.push(Yf);Ee();M("Integrator","Loading third-party segments.");if(window.bk_results){a=window.bk_results;M("Integrator","Loading BlueKai segments.");try{w(a.campaigns,function(a){a=a.seg_id;
Hb()[a]?oe(a,j):tb(a)&&b.D(a)})}catch(d){M("Integrator","Error loading BlueKai segments.")}}}function Yf(){var a={};w(Wf,function(b,c){c&&(a[b]=c)});y("optimizelySegments",u(a),Sa)}function oe(a,b){a&&!isNaN(parseInt(a,10))?(!b&&""!==b&&(b=j),Wf[a]=b,Ee()):M("Segmenter","Unable to find segment for ID: "+a)}function Ee(){w(Xf,function(a){a()})}function Md(a){M("Segmenter","Evaluating Segment "+a);var b=Zf(a);b!==l&&oe(a,b)}
function Zf(a){if(cc(a,"is_api_only"))return l;var b=l,c=l;switch(cc(a,"segment_value_type")||""){case "browser":b=Z.ia();c="unknown";break;case "campaign":b=Z.La();c="none";break;case "country":b=Z.L().country;c="unknown";break;case "language":b=Z.V();c="none";break;case "mobile":b=Z.w();break;case "os":b=Z.pa().id;c="unknown";break;case "referrer":b=Z.Sa();c="none";break;case "source_type":b=Z.Ua();c="direct";break;default:return"true"}if(b===l){if(Wf.hasOwnProperty(a))return l;b=c}return $f(b)}
function ag(){var a=Z.X();if(Z.j("utm_source")||Z.j("utm_campaign")||Z.j("gclid")||Z.j("otm_source"))return"campaign";for(var b=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","https://(www\\.)?google\\..*?/$","http(s)?://www\\.bing\\.\\w{2,3}(\\.\\w{2,3})?/","r\\.search\\.yahoo\\.\\w{2,3}(\\.\\w{2,3})?/","baidu\\.\\w{2,3}(\\.\\w{2,3})?/"],c=0;c<b.length;c++){var d=b[c];try{if(a.match(d))return"search"}catch(e){x("Segmenter","%s: %s while matching %s",e.name,e.message,d)}}return a&&nc(a)!==nc(Z.J())?
"referral":l}function bg(){var a=[];w(Wf,function(b,c){c&&a.push(b)});return a}function Ie(){var a={};w(Wf,function(b,c){c&&(a[String(b)]=c)});return a}function cg(a){return w(Wf,function(b,c){if((cc(b,"segment_value_type")||"")==a)return c})}function Ce(a,b){var c=Gb(a)||a;Wf[c]?(Wf[c]=o,("undefined"===typeof b||b)&&Ee()):M("Segmenter","Not removing "+a+", not found")}
function $f(a,b){var c,b=H(b)?b:j;c=c||dg;a=ja(a);a=String(a);b&&(a=a.toLowerCase());a=a.substring(0,c);return encodeURIComponent(a)}var Xf=[],Wf={},dg=20;function eg(){}
J(eg.prototype,{ia:kc,Ja:lc,Ra:rc,w:sc,u:function(){return{id:this.ia(),version:this.Ja(),mobileId:this.Ra()}},La:function(){return this.j("utm_campaign")},I:v,K:mc,W:Hc,la:function(a){try{return window[a]}catch(b){return l}},Ia:sf,V:function(){var a="";try{a=navigator.userLanguage||window.navigator.language,a=a.toLowerCase()}catch(b){a=""}return a},Na:function(){return(pc("visitor_profile")||{}).defaultBehavior||{}},L:Oc,J:function(){return wc||window.location.href},na:tc,Qa:function(){return!uc?j:
!!hb.get("first_session")},Ha:Je,pa:oc,X:function(){return v("optimizelyReferrer")||document.referrer||""},Va:function(a){var a=a.split("."),b=a[0];a:{for(var a=a.slice(1),b=(N.get(sd)||{})[b],c=0,d=a.length;c<d;c++)if(ba(b)&&b.hasOwnProperty(a[c]))b=b[a[c]];else{a=i;break a}a=b}return a},Xa:function(){return Va()!==l},Sa:function(){return nc(this.X())},qa:bg,Ua:ag,Oa:function(){return document.referrer},j:function(a){a:{for(var b=this.Ha(),b=b||Je(),c=0;c<b.length;c++){var d=b[c];if(d[0]===a){a=
d[1];a=a.replace(/\+/g," ");a=ja(a);break a}}a=l}return a},Ma:function(){return ge},ja:function(a){return(this.Ma()||{})[a]},Wa:function(){var a=(N.get("customEvents")||{})[Ua()]||[];return F(a)?a:[]},Ya:function(a){var b=this.qa();return E(b,a)},Aa:function(a){return E(this.Wa(),a)},getDate:function(){return new Date},ma:Lc,ka:Qc});var Z=new eg;function fg(a,b,c){if(a.k)return a.k(b,c);a=Za(a,b);"undefined"===typeof a&&(a=c);return a}function gg(a){return"string"===typeof a?db(a).toLowerCase():a}
var hg=["*"],jg={eq:function(a){a=I(a,gg);return a[0]==a[1]},is:function(a){return a[0]===a[1]},gt:function(a){return a[0]>a[1]},lt:function(a){return a[0]<a[1]},gte:function(a){return a[0]>=a[1]},lte:function(a){return a[0]<=a[1]},"in":function(a){var b=I(a[1]||[],gg);return E(b,gg(a[0]))},between:function(a){return a[1]<=a[0]&&a[0]<=a[2]},contains:function(a){a=I(a,function(a){return"string"===typeof a?a.toLowerCase():a});return-1!==(a[0]||"").indexOf(a[1])},regex:function(a){try{var b,c;"string"===
typeof a[1]?(b=a[1],c="i"):(b=a[1][0]||"",c=a[1][1]||"");return RegExp(b,c).test(a[0])}catch(d){return x("Rules",'In operator "regex", error: '+(d.message||"invalid RegExp /"+[b,c].join("/"))),o}},exists:function(a){return"undefined"!==typeof a[0]},and:function(a){return Wa(a,aa())},or:function(a){return D(a,aa())},not:function(a){return!a[0]}},kg={"+":function(a){return(a[0]||0)+(a[1]||0)},"-":function(a){return(a[0]||0)-(a[1]||0)},"/":function(a){return(a[0]||0)/(a[1]||1)},"%":function(a){return(a[0]||
0)%(a[1]||1)}},lg={sum:function(a,b){for(var c=a[0]||hg,d=0,e=0;e<b.length;e++)d+=fg(b[e],c,0);return d},avg:function(a,b){if(0==b.length)return 0;for(var c=a[0]||hg,d=0,e=0;e<b.length;e++)d+=fg(b[e],c,0);return d/b.length},max:function(a,b){for(var c=a[0]||hg,d=Number.NEGATIVE_INFINITY,e=0;e<b.length;e++)d=Math.max(d,fg(b[e],c,Number.NEGATIVE_INFINITY));return d},min:function(a,b){for(var c=a[0]||hg,d=Number.POSITIVE_INFINITY,e=0;e<b.length;e++)d=Math.min(d,fg(b[e],c,Number.POSITIVE_INFINITY));return d},
count:function(a,b){return b.length}},mg={now:function(){return+new Date}};
function ng(a,b){if(b.hasOwnProperty("value"))return b.value;if(b.hasOwnProperty("field"))return fg(a,b.field);if(b.hasOwnProperty("eval")){if(!(b.eval in mg)){x("Rules","Unknown function: "+b.eval);return}return mg[b.eval]()}if(b.op){var c=b.op in jg?jg[b.op]:b.op in kg?kg[b.op]:l;if(c){var d=t(ng,a),e=I(b.args||[],function(a){return d(a)});return c(e,a)}x("Rules","Unknown operator: "+b.op)}else x("Rules","No operator specified: "+u(b))}
function og(a){function b(a,e){F(a)&&("and"!==a[0]&&("or"!==a[0]&&"not"!==a[0])&&x("Rules","Unexpected operation "+a[0]+". Continuing optimistically."),a={op:a[0],args:a.slice(1)});if(a.hasOwnProperty("field")||a.hasOwnProperty("value")||a.hasOwnProperty("eval"))return a;if(e&&a.op in lg){var f="_"+a.op+"_"+((a.args&&a.args[0]||{}).field||hg).join(".");f in d||(c.push({op:a.op,args:a.args}),d[f]=j);return{field:[f]}}for(var f=[],g=a.args||[],q=0;q<g.length;q++)f[q]=b(g[q],e);return{op:a.op,args:f}}
var c=[],d={},e={};a.hasOwnProperty("where")&&(e.where=b(a.where,o));a.hasOwnProperty("having")&&(e.having=b(a.having,j));if(a.hasOwnProperty("aggregate")||0<c.length)e.aggregate=(a.aggregate||[]).concat(c);for(var f=["groupBy","orderBy","select","limit"],g=0;g<f.length;g++)a.hasOwnProperty(f[g])&&(e[f[g]]=a[f[g]]);a.hasOwnProperty("from")&&(e.from=og(a.from));return e}
function pg(a,b){var b=b||0,c=[];a.hasOwnProperty("where")?a.where.op?a.where.op in jg||c.push("Non-boolean WHERE clause operator"):c.push("Missing WHERE clause operator"):c.push("Missing WHERE clause");a.hasOwnProperty("having")&&(a.having.op?a.having.op in jg||c.push("Non-boolean HAVING clause operator"):c.push("Missing HAVING clause operator"));a.hasOwnProperty("groupBy")&&!a.hasOwnProperty("aggregate")&&c.push("No AGGREGATE clause specified with GROUP_BY clause");if(a.hasOwnProperty("select")){var d=
a.select;if(F(d))for(var e=0;e<d.length;e++)d[e].op&&d[e].op in lg&&c.push('In SELECT clause, aggregate operator "'+d[e].op+'" specified in selector at index '+e);else c.push("SELECT clause must be an array")}a.hasOwnProperty("limit")&&(d=a.limit,(!ab(d)||0>=Number(d)||Number(d)!=Math.floor(Number(d)))&&c.push("LIMIT must be a positive integer"));0<b&&(c=I(c,function(a){return"Sub-rule "+b+": "+a}));a.hasOwnProperty("from")&&(c=c.concat(pg(a.from,b+1)));return c}
function qg(a,b){var c=b;a.hasOwnProperty("from")&&(c=qg(a.from,c));c=K(c,function(b){return ng(b,a.where)});if(a.hasOwnProperty("aggregate")){var d=a.groupBy;if("undefined"===typeof d||!F(d)||0===d.length){var d={},e={};e[hg]="_";d[hg+"=_"]={ha:e,n:c};c=d}else{for(var d=I(d,function(a){return a.field}),e={},f=0;f<c.length;f++){for(var g=c[f],m=[],n={},k=0;k<d.length;k++){var r=d[k],q=fg(g,r,"_"),r=r.join(".");n[r]=q;m.push(encodeURIComponent(r)+"="+encodeURIComponent(String(q)))}m=m.join("&");e.hasOwnProperty(m)||
(e[m]={ha:n,n:[]});e[m].n.push(g)}c=e}var G=a.aggregate,A={};w(c,function(a,b){A[a]={};for(var c=0;c<G.length;c++){var d=G[c],e=d.op;if(e in lg){var f=(d.args&&d.args[0]||{}).field||hg,d="_"+e+"_"+f.join("."),e=lg[e]([f],b.n);A[a][d]=e}else x("Rules","Unknown aggregate operator "+e)}});var C=[];w(c,function(a,b){var c=J({},b.ha);J(c,A[a]||{});C.push(c)});c=C}a.hasOwnProperty("having")&&(c=K(c,function(b){return ng(b,a.having)}));if(a.hasOwnProperty("orderBy")){var pa=a.orderBy;F(pa)?c=0==pa.length?
c:c.sort(function(a,b){for(var c=0;c<pa.length;c++){var d=pa[c],e="ASC"===(d.direction||"ASC")?1:-1,f=d.field,d=fg(a,f,0),f=fg(b,f,0);if(d<f)return-e;if(d>f)return e}return 0}):x("Rules","groupBy rule must be an array")}a.hasOwnProperty("limit")&&(c=c.slice(0,Number(a.limit)));if(a.hasOwnProperty("select"))var Ta=a.select,c=I(c,function(a){return I(Ta,function(b){return ng(a,b)})});return c}
function rg(a,b){try{var c;c=og(a);var d=pg(c);0<d.length&&h(Error("Rule "+u(c)+" has violations: "+d.join("\n")));return 0<qg(c,b).length}catch(e){return x("Rules","Error "+e.toString()+" while evaluating rule "+u(a)),o}};function sg(){this.p={};this.t={};this.A={};this.ya={}}sg.prototype.ab=function(a){var b=this.A.hasOwnProperty(a)||this.ya.hasOwnProperty(a);if(!this.p.hasOwnProperty(a)||!b)try{var c=this.p,d=tb(a);d||h(Error("Unable to find audience for id: "+a));var e=tg(this,d.conditions);M("Visitor","Checking if in audience "+a+": "+e);c[a]=e}catch(f){M("Visitor","Error: "+f.message)}return this.p[a]};
function ug(a,b,c,d){d=J({O:j,xa:j,C:j},d);if(tb(b)){a.p[b]=c;var e=ub(b);e?a.ya[b]=c:d.O?a.A[b]=c:delete a.A[b];e&&d.C&&a.C(e,c);if(!e&&d.O&&d.xa){var f=[];w(a.A,p(function(a){this.p[a]&&f.push(a)},a));f.sort();y("optimizelyAudiences",f.join(","),31536E4)}}else M("Visitor","Unable to find audience "+b)}sg.prototype.D=function(a){ug(this,a,j)};sg.prototype.aa=function(a){ug(this,a,o)};sg.prototype.fb=function(){w(this.p,p(function(a){ug(this,a,o,{O:!!this.A.hasOwnProperty(a)})},this))};
function vg(a,b,c,d){d=!H(d)||d;H(c)&&c!==l&&String(c)?(d&&(c=$f(String(c),o)),a.t[b]=c):delete a.t[b];return a.t[b]}sg.prototype.B=function(a,b,c){var d;a:{for(d in z("dimensions")||{}){var e=a,f=xb(d,"api_name");if(e===(!f?l:f))break a}d=l}d=d||a;z("dimensions",d)?"custom_dimension"===yb(d)?(b=vg(this,d,b,c),a=xb(d,"segment_id"),(a=!a?l:a)&&this.C(a,b),M("Visitor",'Set dimension "'+d+'" to "'+b+'"')):M("Visitor",'Unknown dimension "'+d+'"'):M("Visitor","Unable to find dimension "+a)};
sg.prototype.C=function(a,b){b?oe(a,b):Ce(a)};var Vf=new sg;function wg(a,b){bb(b)&&(b=[b]);b=b||hg;return["_"+a+"_"+b.join(".")]}function xg(a){bb(a)&&(a=[a]);a=a||hg;return[a.join(".")]}var yg={"<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","==":"eq"};function zg(a){a=db((a||"").toString());return yg[a]||a}function Ag(a,b,c){bb(b)&&(b=[b]);return{op:zg(a),args:[{field:b},{value:c}]}}function Bg(a){for(var b=[],c=0;c<a.length;c++)b[c]={field:a[c]};return b}function Cg(a,b){bb(b)&&(b=[b]);b=b||hg;return{op:a,args:[{field:b}]}}var Dg={};
w(Y,function(a,b){Dg[b]=j});function Eg(a,b){var c=[];bb(a)?(c=[a],"events"===(b||"events")&&!(a in Dg)&&(c=[Y.f,a])):c=a;return c};function Fg(a){var b=a.split(":");2!==b.length&&h(Error("optly.timeAndDayInterval.timeStringToMinutes: Invalid time string "+a));return 60*parseInt(b[0],10)+parseInt(b[1],10)};function Dd(a,b){var c=!!b.manualActivation,d=b.objectType?b.objectType:"experiment",e="experiment"===d,f=b.enabledStatus,g=b.visitor||Vf;M("Condition","Testing "+d+" "+a);var f=e&&(H(f)?!!f:Eb(a)),m=e&&Jb(a),n;a:switch(d){case "experiment":n=O(a,"conditions");break a;case "segment":n=cc(a,"add_condition");break a;default:n=[]}if(e&&!f)return M("Condition","Failed for "+d+" "+a+" (paused)"),o;if(e&&!c&&m)return M("Condition"," Failed for "+d+" "+a+" (manual activation mode)"),o;if(n){var k="experiment"===
(d||"experiment"),r=j;w(n,function(b){var c=b.type;if(k&&b.only_first_time&&Gg(a))M("Condition",c+" condition passed because it only gets checked when bucketing",j);else{var d=!b.not,b=(0,Hg[c])(b),e=b!==d;M("Condition","Found that "+("the visitor "+(b?"passed":"failed")+" a "+c+" targeting condition  when it needed to "+(d?"pass":"fail")),!e);if(e)return r=o}});if(!r)return M("Condition","Failed for "+d+" "+a+" (condition failed)"),o}else{a:{c=[];e=[];if("experiment"===d)c=O(a,"audiences")||[],e=
O(a,"urls")||[];else if("segment"===d)(f=cc(a,"audience_id"))&&(c=[f]);else{M("Condition","Not a valid objectType: "+d);d=o;break a}if(0<c.length&&(M("Condition","Testing audiences for "+d+" "+a+": "+c),!D(c,p(g.ab,g)))){M("Condition","Failed to match any audiences for "+d+" "+a);d=o;break a}if(0<e.length){M("Condition","Testing URLs for "+d+" "+a);var g=e,q=Z.J(),G=[],A=[];w(g,function(a){a.negate?A.push(a):G.push(a)});g=function(a){return D(a,function(a){return Ig(q,a)})};if(g(A)||!(0===G.length||
g(G))){M("Condition","Failed to match any URL for "+d+" "+a);d=o;break a}}d=j}if(!d)return o}return j}function Jg(a,b){if(!b)return 0;for(var c=b.toString().split("."),d=a.toString().split("."),e=0;e<c.length;e++)if(H(d[e])){if(Number(d[e])<Number(c[e]))return-1;if(Number(d[e])>Number(c[e]))return 1}else return-1;return 0}function Kg(a,b){var c=b.value,d=a.id,e=a.version,f=a.mobileId;return f&&"unknown"!==f?(M("Condition",f,j),"mobile"===c||c===f):0===c.indexOf(d)?0===Jg(e,c.substr(d.length)):o}
function Gf(a,b){var c=b.value;if(c===i)return j;try{return Boolean(Lg(c))}catch(d){return o}}function Mg(a,b){return Ng(b.value,b.match,a)}function Og(a,b){return Ng(b.value,b.match,a)}
function Pg(a,b){if(a===l)return o;var c=b.value;switch(b.match){case "exact":if(a==c&&""!=a)return j;break;case "prefix":if(0==a.indexOf(c))return j;break;case "regex":try{var d=RegExp(c)}catch(e){break}if(d.test(a))return j;break;case "cidr":try{var f;a:{var g=new Qg(c),m=Rg(a);m===l&&h(Error("Invalid ip: "+a));for(c=0;4>c;c++)if((m[c]&g.Y[c])!==g.Z[c]){f=o;break a}f=j}return f}catch(n){}}return o}function Sg(a,b){var c=b.value;return"any"===c||0===a.indexOf(c)}
function Tg(a,b){if(a===l)return o;var c=b.value.split("|"),d=$.trim(c[0]),e=$.trim(c[1]),f=$.trim(c[2]),g=$.trim(c[3]);switch(c.length){case 1:if(a.country===d)return j;break;case 2:if(a.region===e&&a.country===d)return j;break;case 3:if(a.city===f&&(a.region===e||""===e)&&a.country===d)return j;break;case 4:if(a.continent===g)return j}return o}function Ug(a,b){return Ng(b.value,b.match,a)}
function Vg(a,b){var c=b.value,d=b.match;M("Condition","Testing referrer "+a+" against  "+c+" ("+d+")",j);return Wg(a,c,d)}function Xg(a){return!!a}function Yg(a){var b=Z.J();return D(a.values,t(Ig,b))}function Ig(a,b){var c=b.value,d=b.match;M("Condition","Testing URL "+a+" against  "+c+" ("+d+")",j);return Wg(a,c,d)}function Zg(a,b){switch(b.value){case "new":if("returning"===a)return o;break;case "returning":return"returning"===a}return j}
function tg(a,b){var c={and:function(b){return Wa(b,t(tg,a))},or:function(b){return D(b,t(tg,a))},not:function(b){1!==b.length&&h(Error('"not" argument too long: '+u(b)));return!tg(a,b[0])}};if(F(b)){if(b[0]in c)return c[b[0]](b.slice(1));h(Error("Not an operator"))}var c=b.dimension_id,d=yb(c),e=b.value;d||h(Error("No dimension type for dimension: "+c));var f=$g[d];f||h(Error("Unknown dimension type: "+d));d=i;if(a.t.hasOwnProperty(c))d=a.t[c];else try{var g=yb(c)||"",m,n;z("dimensions",c)||h(Error("Unable to find dimension for id: "+
c));"custom_dimension"===g&&h(Error("calculateDimensionValue called on custom dimension "+c));(m={browser:p(Z.u,Z),browser_version:p(Z.u,Z),behavior:p(Z.Ia,Z),campaign:t(cg,"campaign"),cookies:p(Z.I,Z),custom_tag:p(Z.ja,Z),default_behavior:p(Z.Na,Z),device:p(Z.K,Z),event:p(Z.Aa,Z),first_session:p(Z.Qa,Z),has_ppid:p(Z.Xa,Z),ip:p(Z.W,Z),language:p(Z.V,Z),list:p(Z.ma,Z),location:p(Z.L,Z),query:p(Z.j,Z),platform:p(Z.pa,Z),referrer:p(Z.X,Z),segment:p(Z.Ya,Z),source_type:t(cg,"source_type"),third_party_dimension:p(Z.Va,
Z),time_and_day:p(Z.getDate,Z),url:p(Z.J,Z),visitor:p(Z.na,Z),dynamic_customer_profile:p(Z.ka,Z)}[g])&&(n=m(zb(c)));M("Visitor","Got dimension ("+g+") value "+c+": "+u(n));d=n}catch(k){M("Visitor","Error: "+k.message)}return f(d,{value:e,match:b.match||"exact"})}
function Cd(a){var b=j;!O(a,"conditions")&&!cc(a,"add_condition")?(b=[cc(a,"audience_id")],b[0]||(b=O(a,"audiences")||[]),b=Wa(b,function(a){a=tb(a);return!a.conditions?j:ah(a.conditions)})):(O(a,"uses_geotargeting")||cc(a,"uses_geotargeting"))&&(b=bh.ip(l)||bh.location(l));b||M("Condition","Not ready to test (geotargeting): "+a);return b}function ah(a){if(F(a))return Wa(a.slice(1),ah);var b=yb(a.dimension_id)||"";return(b=bh[b])?b(a):j}
var Hg={browser:function(a){var b=Z.u();return D(a.values,function(a){return Kg(b,{value:a})})},code:function(a){return Gf(0,a)},cookies:function(a){for(var b=a.names||[],a=a.values||[],c,d=0;d<b.length;d++)if(c=b[d],Mg(Z.I(c),{value:a[d]||i}))return j;return o},custom_tag:function(a){return D(a.values,function(a){return Og(Z.ja(a.key),{value:a.value})})},event:function(a){return D(a.values,function(a){return Z.Aa(a)})},ip:function(a){var b=Z.W();return D(a.values,t(Pg,b))},language:function(a){var b=
Z.V();return D(a.values,function(a){return Sg(b,{value:a})})},location:function(a){var b=Z.L();return D(a.values,function(a){return Tg(b,{value:a})})},query:function(a){return 0===a.values.length?j:D(a.values,function(a){return Ug(Z.j(a.key),{value:a.value})})},referrer:function(a){return D(a.values,t(Vg,Z.Oa()))},segment:function(a){var b=Z.qa();return D(a.values,function(a){return Xg(ra(a,b))})},url:Yg,visitor:function(a){var b=Z.na();return Zg(b,a)}},$g={browser:Kg,browser_version:function(a,b){var c=
b.value,d=a.id,e=a.version;return 0===c.indexOf(d)?0===Jg(e,c.substr(d.length)):o},behavior:function(a,b){try{var c=ea(b.value),d;if(H(c.version)){!c.action&&(!c.filters||0===c.filters.length)&&h(Error('Audience spec must have an "action" field or at least one "filter" '+u(c)));var e=Ag("gt",Y.b,0),f=[],g=[];c.action&&(g.push(Ag("eq",Y.e,c.action.value)),c.action.type&&g.push(Ag("eq",Y.g,c.action.type)));if(c.time)if("last_days"===c.time.type)g.push({op:zg("lte"),args:[{op:"-",args:[{eval:"now"},
{field:[Y.b]}]},{value:864E5*c.time.days}]});else if("range"===c.time.type){var m;var n=[c.time.start,c.time.stop];F(n)?m={op:"between",args:[{field:[Y.b]},{value:n[0]||+new Date(0)},{value:n[1]||+new Date}]}:(M("Rule builder","rangeTimeComparison passed invalid range "+u(n)),m=l);m&&g.push(m)}else M("Rule builder",'Audience spec has bad "time" type',c.time.type);e={op:"and",args:g};c.count&&f.push({where:Ag(c.count.comparator,"0",c.count.value),from:{select:[{field:wg("count")}],where:e,aggregate:[Cg("count")]}});
c.filters&&w(c.filters,function(a){var b=Eg(a.name,c.source),d,m;if(a.modifier==="most_frequent"){d=Cg("count");m=wg("count")}else if(a.modifier==="most_recent"){d=Cg("max",Y.b);m=wg("max",Y.b)}if(d){var k=xg(b);f.push({where:Ag(a.comparator,"0",a.value),from:{select:[{field:k}],where:e,groupBy:Bg([b]),aggregate:[d],orderBy:[{field:m,direction:"DESC"}],limit:1}})}else g.push(Ag(a.comparator,b,a.value))});if(c.pick){0<f.length&&h(Error('A "pick" clause must not be specified with "count" or "most_recent", "most_frequent" modifiers'+
u(c)));var k;var r=c.pick,q=c.source;m={where:e};r.count&&(m.limit=r.count);if("most_frequent"===r.modifier){var G=Eg(r.name,q);k=J(m,{select:[{field:xg(G)}],groupBy:Bg([G]),aggregate:[Cg("count")],orderBy:[{field:wg("count"),direction:"DESC"}]})}else k=J(m,{orderBy:[{field:[Y.b],direction:"DESC"}]});d=[k]}else d=0<f.length?f:[{where:e}]}else d=[c];return Wa(d,function(b){return rg(b,a)})}catch(A){}return o},campaign:function(a,b){var c=b.value;"string"===typeof c&&("regex"===b.match?a=ja(a):c=$f(c));
"none"===a&&(a=l);return Ng(c,b.match,a)},code:Gf,cookies:Mg,custom_dimension:function(a,b){var c=b.value;return!H(c)?H(a):c==a},custom_tag:Og,default_behavior:function(a,b){try{var a=a||{},c=ea(b.value);return rg(c,[a])}catch(d){}return o},device:function(a,b){var c=b.value;return"unknown"!==a.id?a.id===c:"tablet"===c?"tablet"===a.type:"mobile"===c?a.w&&"tablet"!==a.type:"desktop"===c?!a.w:o},event:aa(),first_session:aa(),ip:Pg,language:Sg,list:function(a,b){if(a===l||!H(a))return o;var c=b.value;
return!H(c)?""===a||a!==o:a.toString()===c},location:Tg,query:Ug,platform:function(a,b){var c=b.value.split("_"),d=c[0],c=c.slice(1);return d===a.id?0===c.length?j:1<c.length?0<=Jg(a.version,c[0])&&0>=Jg(a.version,c[1]):0===Jg(a.version,c[0]):o},referrer:Vg,segment:Xg,source_type:function(a,b){return b.value===a},time_and_day:function(a,b){var c,d,e;c=b.value;e=c.split("_");3!==e.length&&h(Error("Invalid time and day string "+c));c=e[0];d=e[1];e=e[2].split(",");c=Fg(c);d=Fg(d);var f=60*a.getHours()+
a.getMinutes(),g="sunday monday tuesday wednesday thursday friday saturday".split(" ")[a.getDay()];return f>=c&&f<=d&&-1!==$.inArray(g,e)},third_party_dimension:function(a,b){return F(a)?D(a,t(Ng,b.value,b.match)):Ng(b.value,b.match,a)},url:Ig,visitor:Zg,dynamic_customer_profile:function(a,b){return a===l?o:!!a[b.value]},has_ppid:aa()},bh={ip:function(){T("checkGeo");return Z.W()!==l},location:function(){T("checkGeo");return Z.L()!==l},list:function(a){return Z.ma(zb(a.dimension_id)||"")!==l},dynamic_customer_profile:function(a){var b=
Z.ka();return $a(b)&&a.value in b}};function Ng(a,b,c){var d=H(c)&&c!==l,e=H(a)&&a!==l;switch(b||(e?"exact":"exists")){case "exists":return d;case "exact":return d&&String(c)===a;case "substring":return d&&-1!==String(c).indexOf(a);case "regex":try{return e&&d?Boolean(String(c).match(RegExp(a))):o}catch(f){return o}case "range":return a=a.split(":"),b=parseFloat(a[1]),c=parseFloat(c),c>=parseFloat(a[0])&&c<=b;default:return o}};var ch=[function(){var a=jc();if("ie"===a.ba){try{var b=Number(a.ca)}catch(c){return}7>b&&h(Error("IE is only supported on version 8+ (detected "+b+")"));8>b&&("windows"===a.platform.id&&a.platform.version&&E(["xp","vista"],a.platform.version.toLowerCase()))&&h(Error("IE7 is not supported"))}},function(){return ea(u({a:123}))}];function ue(a,b,c){var d;d=o===j;var c=c===j,e=o,f=P(a);if(f&&(c||!Gg(f))){e=j;if(c&&Gg(f))for(c=0;c<V.length;c++)V[c].H===f&&V.splice(c,1);V.push({H:f,id:a,source:b});d&&(S=S||[],S.push(f));qe[f]=j;re();M("Plan","Added experiment "+f+" and variation id "+a+" to the plan, source is "+b,j)}return e}function Gg(a){return a in pe||a in qe}function od(a){var b=[],c=!H(a),a=a||[];w(V,function(d){(c||E(a,d.H))&&b.push(d.id)});return b}function Bf(a){var b;if(b===j||!Gg(a))pe[a]=j,re()}
function Id(){var a={};w(Pe,function(b,c){a[b]=c});w(V,function(b){var c=P(b.id);a[c]=b.id});w(pe,function(b){a[b]="0"});w(z("blacklisted_experiments")||{},function(b){b in a&&delete a[b]});y("optimizelyBuckets",u(a),Sa)}function re(){w(dh,function(a){a()})}
function eh(a,b,c,d){if(-1!==a.indexOf("_optimizely_redirect"))b.push({code:a,type:"code forced (redirect)",variationId:d});else{for(var a=a.split("\n"),e=o,f=o,g=[],m=[];0<a.length;){var n=db(a.shift()),k=0<m.length;if(n)if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)))f=j;else if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i))||Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)))f=o;else if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)))e=
j;else if(Boolean(n.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)))e=o;else if(!fh.exec(n)&&!e)if(f)g.push(n);else{if(!k){var r=gh.exec(n),q=[];r?(q.push(r[1].replace(/^['"]|['"]$/g,"")),(r=hh.exec(n))&&4<r.length&&q.push(r[4]),c.push({code:n,selector:q,type:"safe jquery",waitUntilSelectorReady:j,variationId:d})):k=j}k&&m.push(n)}}0<g.length&&b.push({code:g.join("\n"),type:"forced evaluation",variationId:d});0<m.length&&c.push({code:m.join("\n"),type:"safe non-jquery",waitUntilDocumentReady:j,
variationId:d})}}function ih(a,b,c){for(var d={values:[]},e=0,f=a.length;e<f;e++)d.values.push({value:a[e],match:b[e]||c});return d}var dh=[],Pe={},pe={},hh=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,fh=/^(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,gh=/^\$j?\((['"].+?['"]|document)\)\..+;(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,qe={},V=[];function jh(a){Wf={};Uf(a)};function kh(a,b){if(a&&b)if(lh)M("Evaluator","Bound event "+b+" to selector "+a),mh(a,b);else{var c={eventName:b,selector:a,type:"event '"+b+"' (click goal)",waitUntilSelectorReady:j};M("Evaluator","Add step to bind event "+c.eventName+" to selector "+c.selector);nh.push(c)}}
function Hd(a,b){if(B){F(a)?oh(a):(a=[],oh(b));a=a.concat(S);S=[];for(var c=0;c<a.length;c++)E(nd,a[c])||nd.push(a[c]);c=a;c===i?c=[]:ab(c)&&(c=[c]);for(var d=od(c),e=[],f=[],g=[],m=[],n=K(vb(),function(a){return a.experiments?o:Yg(a.url_conditions||[])}),k=0,r=n.length;k<r;k++){var q={eventName:n[k].event_name,selector:n[k].selector,type:"event '"+n[k].event_name+"' (click goal)",waitUntilSelectorReady:j};"revenue"in n[k]&&(q.revenue=n[k].revenue);e.push(q)}w(c,function(a){var b={},c=O(a,"events")||
{};w(c,function(a,c){b[a]=[c]});var c=K(vb(),function(b){return"experiments"in b?a in b.experiments:o}),d=0;for(;d<c.length;d++){var k=c[d];b[k.selector]||(b[k.selector]=[]);b[k.selector].push({eventName:k.event_name,revenue:k.revenue,experimentIds:k.experiments})}w(b,function(b,c){w(c,function(c){e.push({eventName:c.eventName,experimentIds:c.experimentIds,revenue:c.revenue,selector:b,type:"event '"+c.eventName+"' (experiment "+a+")",waitUntilSelectorReady:j})})});var n=O(a,"css")||"";n&&g.push({code:function(){$("body").append("<style>"+
n+"</style>")},selector:"body",type:"global css (experiment "+a+")",waitUntilSelectorReady:j});if(c=O(a,"steps")){w(c.forced,function(a){f.push(a)});w(c.safe,function(a){m.push(a)})}else(c=O(a,"code")||"")&&eh(c,f,m)});w(d,function(a){var b=z("variations",a,"pages");if(b)w(b,function(a){if(a.steps&&(!a.includes||Yg({values:a.includes}))&&(!a.excludes||!Yg({values:a.excludes}))){f.push.apply(f,a.steps.forced);m.push.apply(m,a.steps.safe)}});else{for(var b=Tb(a),b=b.split("\n"),c=[],d=j,e=0,g=b.length;e<
g;e++){var k=$.trim(b[e]);if(k==="/* _optimizely_variation_url_end */")d=j;else if(k!==""){var n=Ea.exec(k);if(n&&n.length===13){var q=n[2]?n[2].split(" "):[],k=n[4]?n[4].split(" "):[],r=n[6]?n[6]:"substring",ff=n[8]?n[8].split(" "):[],n=n[10]?n[10].split(" "):[];if(q.length>0){d=ih(q,ff,r);d=Yg(d)}if(d&&k.length>0){d=ih(k,n,r);d=!Yg(d)}}else d&&c.push(k)}}b=c.join("\n");eh(b,f,m,a)}});c=[];c.push.apply(c,f);c.push.apply(c,g);c.push.apply(c,m);c.push.apply(c,e);nh.push.apply(nh,c);ph()}}
function ph(){var a=o;qh=l;for(M("Evaluator",rh+" times waited");!a&&0<nh.length;){M("Evaluator",nh.length+" steps remaining");var b=nh.shift(),c=b,a=o;if(c.waitUntilDocumentReady&&!lh)M("Evaluator","Document not ready yet"),a=j;else if(c.waitUntilSelectorReady&&!lh&&(c=c.selector))for(var c=F(c)?c:[c],d=0;d<c.length;d++){var e=c[d];if(!(e===l||e===i||!e.length))if(0===("document"==e?$(document):$(e)).length)M("Evaluator","'"+e+"' not found"),a=j}a?nh.unshift(b):b.eventName?(sh(),M("Evaluator","Bound event "+
b.eventName+" to selector "+b.selector),c={},b.revenue&&(c={Q:b.revenue,T:b.experimentIds}),mh(b.selector,b.eventName,c)):b.code&&(M("Evaluator","Run code: "+b.code.toString()),th(b.code,b.variationId))}a?(qh=setTimeout(ph,0===rh?10:50),rh++):(M("Evaluator",rh+" total times waited"),sh())}function Lg(a){return"string"===typeof a?eval(a):a()}function sh(){T("flash");0<Ad.length||T("flashGeo")}
function th(a,b){if(a){var c=o,d;"string"===typeof a?(d=a,c=j):d=a.toString();if(qd(d))if(M("Evaluator","Redirect detected"),ae(d)){M("Evaluator","OK to redirect");var e=$d(d);M("Evaluator","setting a redirect cookie"+(b?" for variation: "+b:""));y("optimizelyRedirect",(b||"unknown variation")+"|"+(e?"true":"false"),5);be()}else{M("Evaluator","NOT OK to redirect");return}c&&eval("var $j = $;");try{if(qd(d)){$("head").append("<style type='text/css'>body{display:none;visibility:hidden;}</style>");M("Evaluator",
"Hiding body before redirect");var f=de.test(d)||ce.test(d)||ee.test(d),g=/_keep_body_hidden=(\S+)/.test(d);f||g?M("Evaluator","Standard redirect detected - Will not unhide body."):setTimeout(function(){if(document.body){document.body.style.visibility="visible";document.body.style.display="block";M("Evaluator","Unhiding body -- did not redirect");T("bodyUnhidden")}},1700)}Lg(a)}catch(m){c=Oa,Oa=j,M("Evaluator","Error: "+m.message),M("Evaluator","Code: "+d),Oa=c,M("Evaluator","Failed to run code: "+
m.message)}}}
function mh(a,b,c){c=c||{};if(!uh[a]||!uh[a][b]){var d=function(){Jd(b,"custom",c)},e=$(a);if(0<e.length){var f=function(){e.unbind("touchend",d);e.unbind("touchmove",f);e.unbind("mousedown",d)},g=function(){f();e.bind("touchmove",f);e.bind("touchend",d)};e.bind("mousedown",d);e.bind("touchstart",g)}else e=$("html"),f=function(){e.undelegate(a,"touchend",d);e.undelegate(a,"touchmove",f);e.undelegate(a,"mousedown",d)},e.delegate(a,"touchstart",function(){f();e.delegate(a,"touchend",d);e.delegate(a,
"touchmove",f)}),e.delegate(a,"mousedown",d);uh[a]||(uh[a]={});uh[a][b]="mousedown touchstart"}}function vh(a){wh=a}function oh(a){a||(a=Db());for(var b=0;b<a.length;b++)Mb(a[b])}var uh={},nd=[],S=S||[],wh=0,lh=o,nh=[],qh=l,rh=0;$(function(){setTimeout(function(){T("docReady");lh=j;qh!==l&&(M("Evaluator","Document is ready"),clearTimeout(qh),0<wh?setTimeout(ph,wh):ph())},50)});function Qg(a){this.Da=$.trim(a);a=xh(this.Da);a===l&&h(Error("Invalid CIDR specification"));this.Z=a.Z;this.Y=a.Y}function xh(a){a=a.split("/");if(2!=a.length)return l;var b=parseInt(a[1],10);if(isNaN(b)||0>b||32<b)return l;a=Rg(a[0]);if(a===l)return l;if(0>b||32<b)b=l;else{for(var c=[],d=0;4>d;d++)c[d]=0;for(var e=Math.floor(b/8),d=0;d<e;d++)c[d]=255;4>e&&(c[e]=yh[b%8]);b=c}for(c=0;4>c;c++)a[c]&=b[c];return{Z:a,Y:b}}
function Rg(a){a=a.split(".");if(4!=a.length)return l;for(var b=[],c=0;4>c;c++){var d;d=a[c];if(3<d.length)d=l;else{var e=parseInt(d,10);d=isNaN(e)||d!==e.toString()||0>e||255<e?l:e}if(d===l)return l;b[c]=d}return b}var yh=[0,128,192,224,240,248,252,254,255];function Wg(a,b,c){var d=a.split("?");if(d[1]){var e=[];$.each(d[1].split("&"),function(){0!==this.indexOf(zh)&&e.push(this)});d[1]=e.join("&");a=d.join("?")}switch(c){case "exact":return a=Ah(a),a===Ah(b);case "regex":try{return Boolean(a.match(b))}catch(f){return o}case "simple":return a=Ah(Bh(a)),b=Ah(Bh(b)),a===b;case "substring":return a=Ah(a,j),b=Ah(b,j),-1!==a.indexOf(b);default:return o}}
function Bh(a){var b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));return a}function Ah(a,b){var a=a.replace("/?","?"),a=a.toLowerCase().replace(/[/&?]+$/,""),c=Ch.slice(0);b||(c=c.concat(Dh));for(var d=c.length,e=0;e<d;e++)a=a.replace(RegExp("^"+c[e]),"");return a}
var Ch=["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"],Dh=["www."],zh="optimizely_";function Eh(a){return function(b){if("object"===typeof b&&Hh()){var c=l,d;for(d in b)b.hasOwnProperty(d)&&(c=a.call(this,d,b[d]));return c}return a.apply(this,arguments)}}function Hh(){for(var a in{})return j;return o};function Ih(){if(!Da){var a=$;a.fn.attr=Eh(a.fn.attr);a.fn.css=Eh(a.fn.css);a.fn.extend=Eh(a.fn.extend);var b=a.each;a.each=function(c,d,e){if(!(c.length===i||a.isFunction(c))||!Hh())b.apply(this,arguments);else if(e)for(var f in c){if(c.hasOwnProperty(f)&&d.apply(c[f],e)===o)break}else for(f in c)if(c.hasOwnProperty(f)&&!d.call(c[f],f,c[f])===o)break;return c};var c=a.fn.$a,d=function(a,b,d){return new c(a,b,d)},e,f=document.getElementsByClassName;if(!Tf(f))var f=(window.optimizely||{}).getElementsByClassName,
g=(window.optly||{}).getElementsByClassName,f=Tf(f)?f:Tf(g)?g:l;e=f;a.fn.$a=function(b,c,f){var g=d,k=document.getElementsByClassName;!Tf(k)&&e&&(g=function(a,b,c){document.getElementsByClassName=e;a=d(a,b,c);document.getElementsByClassName=k;return a});if(!("string"===typeof b&&c&&"object"===a.type(c)&&Hh()))return g(b,c,f);b=g(b,i,f);b.attr(c);return b}}M("Main","Started, revision "+z("revision"));try{var m=[];w(ch,function(a){try{a()}catch(b){m.push(b.message)}});0<m.length&&h(Error("Feature(s) not supported: "+
m.join("; ")))}catch(n){M("Main","Disabling: "+n.message);return}var f=Rf(),g=o,k;for(k in f)if(Sf.exec(k)){g=j;break}("true"===f.opt_out||"false"===f.opt_out)&&je("true"===f.opt_out);Ha="true"===f.force_tracking;if("true"===f.disable||"true"===f.opt_out||gf())B=o;Ia="true"===f.editor;Ja="true"===f.p13n;Na="true"===f.show_preview;(k=v("optimizelyToken"))&&y("optimizelyToken",k,15);k=f.token||k;/^[0-9a-f]{64}$/.test(k)?La=k:/^[0-9a-f]{32}$/.test(k)?(M("Query","Using legacy MD5 token"),La=k):(ya("optimizelyToken",
za()),M("Query","Blocked request to load unsafe script: "+k));Oa="true"===f.log;Pa="true"===f.verbose;qa=!(Na||g)||Ha;"false"===f.client&&(B=o,Fa="js/"+Qb()+".js");if(Ja)M("Main","Disabling because personalization editor flag is set."),cb("https://"+Yb()+"/js/innie.js?_="+ +new Date);else if(he(),gf())M("Main","Disabling because opted out"),zc();else if(La){if(!window.optimizelyPreview){if(!window.optimizely||!window.optimizely.unshift)window.optimizely=[];window.optimizely.unshift(["verifyPreviewProject",
Qb()]);cb([Qf,"/js/preview/",La,".js"].join(""),j);Na&&Pf('Loading Preview<br /><img alt="loading" src="//'+Yb()+'/static/img/loading-32.gif" style="padding-top:20px; width: 32px; margin: 0 auto;" />')}}else if(Na&&!La)Pf("This preview link has expired. Please return to Optimizely and preview again to get a new link.");else{if(B&&(k=z("project_js")))M("Evaluator","Running project level javascript."),th(k);he();if(B){k=v("optimizelyEndUserId");uc=k!==i&&k!==l;a:{k="googlebot;yahoo! slurp;bingbot;bingpreview;msnbot;keynote;ktxn;khte;gomezagent;alertsite;yottaamonitor;pingdom.com_bot;aihitbot;baiduspider;adsbot-google;mediapartners-google;applebot".split(";");
f=navigator.userAgent;f=f.toLowerCase();for(g=0;g<k.length;g++)if(-1!==f.indexOf(k[g])){k=j;break a}k=o}k?qa=o:uc||hb.set("first_session",j)}if(k=N.get("asyncInfo"))pc("asyncInfo")||qc(k),N.set("asyncInfo",l);(k=pc("asyncInfo"))&&w(k,Fc);if(z("uses_list_targeting")){k="https://odds.optimizely.com/js/geo2.js";var r={};w(Pb(),function(a,b){var c=Nc(b);typeof c==="string"&&(r[b]=c)});r.project=Qb().toString();var f=[],q;for(q in r)r.hasOwnProperty(q)&&f.push(encodeURIComponent(q)+"="+encodeURIComponent(r[q]));
f.length&&(k+="?"+f.join("&"));cb(k)}z("uses_dynamic_customer_profile_targeting")&&(Nf(),q=Hf(),!q.q||!q.q.datasourceId?(M("DCP","No Optimizely datasource found in data."),q=l):(k=q.q.datasourceId,f=q.q.id,k=I([Qb().toString(),k,f],encodeURIComponent),k=["https://vis.optimizely.com/api/targetingEmbed"].concat(k).join("/"),f=(Pc.get()||{}).aliases||{},Of(q.z,f)||(q=I(q.z,function(a){return encodeURIComponent(a.datasourceId)+"="+encodeURIComponent(a.id)}),k+="?"+q.join("&")),q=k),q!==l&&cb(q));(z("dcp_service_id")||
l)!==l&&setTimeout(function(){var a=z("dcp_service_id")||l;if(a!==l){var b=Hf();if(b.q)if(b.z.length===0)M("DCP","Must specify at least one non-Optimizely datasource to alias");else if(Nf()){var a=I([a,b.q.datasourceId,b.q.id],encodeURIComponent).join("/"),c=b.z;try{var d=new XMLHttpRequest;d.open("POST",["https://vis.optimizely.com/api/alias",a].join("/"));if("withCredentials"in d)d.withCredentials=j;d.setRequestHeader("Content-Type","application/json;charset=UTF-8");var e={};w(c,function(a){e[a.datasourceId]=
a.id});d.onerror=function(){M("DCP","Failed to POST alias request")};d.onload=function(){if(d.status>=200&&d.status<300){var a=Pc.get()||{},b=a.aliases||{},b=b||{};w(c,function(a){b[a.datasourceId]=a.id});a.aliases=b;Pc.set(a)}else M("DCP","Alias POST failed with",d.statusText)};d.send(u({data:e}))}catch(f){M("DCP","Exception %s trying to POST alias request",f)}}else M("DCP","Duplicate alias request; skipping.");else M("DCP","Must specify Optimizely datasource in alias")}},0);if(q=v("optimizelyBuckets")){try{q=
ea(q)}catch(G){q={}}var A={};w(q,function(a,b){var b=String(b),c=P(b);if(Nb(c).length>1&&b.indexOf("_")===-1){A[c]=A[c]||{};A[c][a]=b}else b!=="0"?ue(b,"cookie")||(Pe[a]=b):Bf(a)});w(A,function(a,b){var c;a:{c=[];for(var d=Nb(a),e=0;e<d.length;e++){var f=b[d[e]];if(f==="0"){c="";break a}c.push(f)}c=c.join("_")}c.length>0?ue(c,"cookie"):Bf(a)})}Uf();pd=(v("optimizelyRedirect")||"|").split("|")[0];q=v("optimizelyReferrer");q!==l&&(Uc=0==q.length?"":q,y("optimizelyReferrer",""));q=Vf;M("Visitor","Initializing");
(k=v("optimizelyAudiences"))&&0<k.length&&w(k.split(","),p(function(a){ug(this,a,j,{O:j,xa:o})},q));w(bg(),p(function(a){M("Visitor","Found segment "+a);var b=Hb()[a];if(b&&b.audience_id){M("Visitor","Adding to audience "+b.audience_id);ug(this,b.audience_id,j,{C:o})}else if(b&&b.dimension_id){M("Visitor","Setting dimension value "+b.dimension_id);vg(this,b.dimension_id,Wf[a],o)}},q));U=Vf;fe=o;Xf.push(Bd);dh.push(Bd);q={$:$,activeExperiments:nd||[],allExperiments:Ib(),all_experiments:Ib(),allVariations:z("variations")||
{},getElementsByClassName:document.getElementsByClassName,revision:z("revision"),variationIdsMap:Fe,variation_map:Ge,variationMap:Ge,variationNamesMap:He};for(var C in q)X(q,C,q[C]);q.data=W;C={};var pa=Xa(le,[C,Re]);J(C,{activate:t(td,U),activateGeoDelayedExperiments:t(wd,U),activateSiteCatalyst:Rc,activateUniversalAnalytics:gd,addOAuthClientId:ye,addToAudience:p(U.D,U),addToSegment:ne,bindTrackElement:kh,bucketUser:ud,bucketVisitor:ud,clickTaleRecord:jd,clickTalePlayback:hd,customTag:Ae,delayDomReadyEval:vh,
delayPageviewTracking:Ke,disable:ie,log:Ac,getAccountId:sb,getProjectId:Qb,googleAnalyticsCustomVariableScope:Xc,integrationPrefix:kd,optOut:je,overrideUrl:vc,push:pa,removeFromAllAudiences:p(U.fb,U),removeFromAllSegments:De,removeFromAudience:p(U.aa,U),removeFromSegment:Be,sc_activate:Rc,sc_svar:ld,skipPageTracking:Me,optOutThirdPartyCookies:Le,setDimensionValue:p(U.B,U),setUserId:Oe,storeThirdPartyData:me,timeout:ie,trackEvent:Qe,verbose:Bc});z("slave")&&J(C,{get:we});C.removeFromReportableAudiences=
Ne;J(q,C);C=window.optimizely;F(C)&&w(C,function(a){pa(a)});window.optimizely=q;T("apiInitialize");window.optimizely.iapi={evaluateSegments:t(jh,i)};var Ta=!z("force_variation");C=Rf();w(C,function(a,b){var c=Sf.exec(a);if(c)if(Ta){Ma=j;x("Query","Ignored parameter %s",a)}else{c=c[1];ud(c,b,j);Kb(c)?Ef(c,{force:j,skipPageviewTracking:j}):Dd(c,{})||td(U,c,{force:j,skipPageviewTracking:j})}});Ma?Pf("Force parameters are disabled for this project. See Project Code Settings."):(Ih.log(),Ia&&cb("https://"+
Yb()+"/js/innie.js?_="+ +new Date),B&&(T("distributeExperiments"),w(Db(),function(a){if(!ra(a,S))if(Kb(a))Ef(a);else if(Cd(a)){if(Dd(a,{objectType:"experiment"})){M("Distributor","Going to distribute "+Mb(a));if(Gd(a)){S=S||[];S.push(a)}}}else!Jb(a)&&!E(nd,a)&&Ed(a)}),Id(),We(),Ra||(0<Ga?setTimeout(function(){$e()},Ga):$e()),Ve(),Zc()),Oa&&(w(pe,function(a){var b=Lb(a);M("Plan","Ignore experiment '"+b+"' ("+a+")")}),w(V,function(a){var b=P(a.id),c=Wb(a.id);M("Plan",Mb(b)+' in variation "'+c+'" ('+
a.id+")")})),Ia?ve():B&&(T("beginEvaluate"),Hd(),ve(),zc(),!z("installation_verified")&&qa&&(C="https://"+Yb()+"/account/snippet_installed?project_id="+Qb()+"&wxhr=true",M("Tracker","Making snippet verification request."),bd(C,l))),setTimeout(function(){wd(U)},2E3),setTimeout(function(){if(qa){var a=ze;if(a.Za){var b=Ua(),c=Va(),d=Qb(),e=z("revision"),f=wf,g=uf,k=yf,m=dc(),n=nd.concat(S).length,q=sf().length,r;r=pc("events")||[];var C=pc("event_queue")||[];r=u(r).length+u(C).length;var A;a:{try{A=
window.optimizely.get("behavior").getEvents()[0].timestamp;break a}catch(G){}A=i}var b={user:b,ppid:c,project:d,revision:e,sync:f,timebase:g,render:k,sampleRate:m,numExps:n,numBehaviorEvents:q,behaviorEventsSize:r,oldestBehaviorEventAge:!A?0:(new Date).getTime()-A.getTime(),integrationOAuthClientIds:vf(xe,",",64),codeVersion:z("version"),hasSlave:!!z("slave"),docVisibilityState:document.Bb||document.webkitVisibilityState,wxhr:j,apis:vf(L(a.S),"!",1E3)},sa;a:{c=l;try{sa=K(window.performance.getEntries(),
function(a){return!!Af.test(a.name)})[0]}catch(pa){sa=c;break a}if(sa){var c={},Bb;for(Bb in sa)typeof sa[Bb]==="number"&&sa[Bb]!==0&&(c[Bb]=sa[Bb])}sa=c}J(b,sa||{});J(b,a.n);var Ta=["optimizelyAudiences","optimizelyBuckets","optimizelyCustomEvents","optimizelyPendingLogEvents","optimizelyReferrer","optimizelySegments"],Nd={},Od=0,Pd=0;w(ia(),function(a){if(a.name.indexOf("optimizely")===0){if(E(Ta,a.name)){M("RUM","Cookie size for "+a.name+": "+a.P.length);Nd[a.name+"Len"]=a.P.length}Od=Od+a.P.length}Pd=
Pd+a.P.length});J(Nd,{allOptimizelyCookiesLen:Od,allCookiesLen:Pd});J(b,Nd||{});var ig={};w(N.va()||{},function(a,b){ig["ls"+a]=b});J(b,ig);var a=[],Dc;for(Dc in b)Object.prototype.hasOwnProperty.call(b,Dc)&&a.push(window.encodeURIComponent(Dc)+"="+window.encodeURIComponent(b[Dc]));bd("https://rum.optimizely.com/rum?"+a.join("&"),l)}}},3E3),M("Main","End of main"),T("mainEnd"))}}
Ih.log=function(){M("Info","Is enabled: "+B);M("Info","Diagnostic enabled: false");M("Info","Force variation enabled: "+!!z("force_variation"));M("Info","Script to load: "+(Fa||"none"));M("Info","Browser type: "+kc());M("Info","Browser version: "+lc());var a=rc();"unknown"!==a&&M("Info","Mobile browser type: "+a);M("Info","New vs returning: "+tc());M("Info","Source type: "+ag());M("Info","User ID: "+Ua())};Ih();
};
var SLAVE_CLIENT = {optimizely:[]};
optimizelyCode();
optly.Cleanse.finish();

var PROJECT_ID_FOR_SLAVE_PREVIEW = 299611060;
!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(){function e(e){var t=[u];t.push(n(128)),t.push(n(145)),t.push(n(146)),t.push(n(150)),t.push(n(154)),t.push(n(156)),t.push(n(160)),t.push(n(161)),p.initialize({clientData:e,plugins:t}),h.shouldActivate()&&f.emitActivateEvent()}function t(e,t,n){return"/dist/preview_data.js?token=__TOKEN__&preview_layer_ids=__PREVIEW_LAYER_IDS__".replace("__TOKEN__",e).replace("__PROJECT_ID__",t).replace("__PREVIEW_LAYER_IDS__",n.join(","))}var i=n(1),r=n(11),a=n(4);r.onPreAction(i.onPreAction),r.onPostAction(i.onPostAction);var o=n(52);if(!o.isCORSSupported())throw new Error("CORS is not supported on this browser, aborting.");var s,u=n(59),c=n(79),l=n(67),d=n(81),f=n(82),g={"layers": [{"holdback": 0, "activation": {}, "integrationSettings": {}, "viewIds": ["6490830055"], "experiments": [{"weightDistributions": [{"entityId": "6505020132", "endOfRange": 3333}, {"entityId": "6505161420", "endOfRange": 6666}, {"entityId": "6508481493", "endOfRange": 10000}], "audienceName": "Everyone else", "name": null, "bucketingStrategy": null, "audienceIds": null, "variations": [{"id": "6505020132", "actions": [], "name": "Original"}, {"id": "6505161420", "actions": [{"viewId": "6490830055", "changes": [{"selector": "h1", "dependencies": [], "attributes": {"html": "Send beautiful surveys in minutes"}, "type": "attribute", "id": "265CAC64-38B1-4872-8D90-27E6E2A30E19", "css": {}}, {"selector": "h3", "dependencies": ["265CAC64-38B1-4872-8D90-27E6E2A30E19"], "attributes": {"html": "Boost your response rates and better understand your customers with beautiful, mobile-friendly surveys from GetFeedback. Try us for free!"}, "type": "attribute", "id": "C9D0CA3A-22C0-4A24-AB14-B5F0AE235D9C", "css": {}}]}], "name": "Variation #1 - Benefit Copy"}, {"id": "6508481493", "actions": [{"viewId": "6490830055", "changes": [{"selector": "h3", "dependencies": [], "attributes": {"remove": true}, "type": "attribute", "id": "58AAF8D0-BEE3-482B-A6ED-03B1F7AFC2D0", "css": {}}]}], "name": "Variation #2 - Minimal Copy"}], "id": "6506080120"}], "id": "6508591193", "weightDistributions": null, "name": "Signup Page Copy - July 2016 (Fixed)", "commitId": "6506472262", "decisionMetadata": null, "policy": "random", "changes": null}, {"holdback": 0, "activation": {}, "integrationSettings": {}, "viewIds": ["5812800041", "6790971707", "6802650061"], "experiments": [{"weightDistributions": [{"entityId": "6803440024", "endOfRange": 5000}, {"entityId": "6800780018", "endOfRange": 10000}], "audienceName": "Everyone else", "name": null, "bucketingStrategy": null, "audienceIds": null, "variations": [{"id": "6803440024", "actions": [], "name": "Original"}, {"id": "6800780018", "actions": [{"viewId": "5812800041", "changes": [{"selector": ".btn-no-shadow", "dependencies": [], "attributes": {"html": "TRY FOR FREE"}, "type": "attribute", "id": "459F4621-B07B-45D7-AB73-9A1C8107B76F"}, {"selector": ".SalesforcePage-cta", "dependencies": ["459F4621-B07B-45D7-AB73-9A1C8107B76F"], "attributes": {"html": "Try for Free"}, "type": "attribute", "id": "9BDA2D52-C60F-47A1-B2B2-8B032F7040FA"}, {"selector": ".gray .btn-cta.signup-modal-trigger", "dependencies": ["9BDA2D52-C60F-47A1-B2B2-8B032F7040FA"], "attributes": {"html": "Try for Free"}, "type": "attribute", "id": "86C06345-1C14-4F90-A730-361EE4894B8A"}]}], "name": "TRY FOR FREE CTA"}], "id": "6794410104"}], "id": "6797730323", "weightDistributions": null, "name": "Homepage Nav CTA", "commitId": "6786151547", "decisionMetadata": null, "policy": "single_experiment", "changes": null}], "dimensions": [], "views": [{"category": "landing_page", "staticConditions": ["and", ["or", {"type": "url", "value": "www.getfeedback.com/contact_us", "match": "simple"}]], "name": "Contact Us - Green Form", "tags": [], "apiName": "salesforce_contact_us", "id": "6790971707"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "www.getfeedback.com/salesforce", "match": "simple"}]], "name": "Salesforce Page", "tags": [], "apiName": "salesforce_page", "id": "6802650061"}, {"category": "home", "staticConditions": ["and", ["or", {"type": "url", "value": "www.getfeedback.com", "match": "simple"}]], "name": "Homepage", "tags": [], "apiName": "homepage", "id": "6802660023"}], "projectId": "299611060", "integrationSettings": [], "audiences": [], "listTargetingCookies": [], "visitorAttributes": [], "accountId": "299611060", "events": [{"category": "other", "name": "Upgraded", "eventType": "custom", "viewId": null, "apiName": "Upgraded", "id": "5804620243", "eventFilter": null}, {"category": "sign_up", "name": "Signed Up (Home Page)", "eventType": "click", "viewId": "5812800041", "apiName": "signed_up_home_page", "id": "5807580672", "eventFilter": {"filterType": "target_selector", "selector": ".col-sm-5 > .Homepage-header-button"}}, {"category": "other", "name": "Joined", "eventType": "custom", "viewId": null, "apiName": "Joined", "id": "5814220111", "eventFilter": null}, {"category": "other", "name": "Homepage Nav CTA click", "eventType": "click", "viewId": "6802660023", "apiName": "homepage_nav_cta_click", "id": "6771521025", "eventFilter": {"filterType": "target_selector", "selector": ".btn-no-shadow"}}, {"category": "other", "name": "Homepage hero CTA click", "eventType": "click", "viewId": "6802660023", "apiName": "homepage_hero_cta_click", "id": "6798790232", "eventFilter": {"filterType": "target_selector", "selector": ".SalesforcePage-cta"}}, {"category": "other", "name": "Salesforce page form submit - Modal", "eventType": "click", "viewId": "6802650061", "apiName": "lead_form_submit__modal", "id": "6799780078", "eventFilter": {"filterType": "target_selector", "selector": "#submit"}}, {"category": "other", "name": "Lead submit - global", "eventType": "custom", "viewId": null, "apiName": "lead-submit", "id": "6801440108", "eventFilter": null}, {"category": "other", "name": "Homepage bottom CTA click", "eventType": "click", "viewId": "6802660023", "apiName": "homepage_bottom_cta_click", "id": "6801530201", "eventFilter": {"filterType": "target_selector", "selector": ".gray .btn-cta.signup-modal-trigger"}}, {"category": "other", "name": "Contact Us Form Submit", "eventType": "click", "viewId": "6790971707", "apiName": "contact_us_form_submit_1", "id": "6802630083", "eventFilter": {"filterType": "target_selector", "selector": "#submit"}}], "revision": "563"},p=n(84),v=n(15),h=v.get("stores/directive");if(c.populateDirectiveData(),h.shouldLoadInnie())return a.log("Main / Disabling because editor flag is set."),void l.addScriptAsync("https://app.optimizely.com/js/innie.js");if(h.shouldLoadPreview())h.isSlave()||(d.registerFunction("getProjectId",function(){return g.projectId}),l.addScriptSync("")),n(127).setupPreviewGlobal(),n(127).pushToPreviewGlobal({type:"pushPreviewData",name:"liveCommitData",data:g});else if(h.shouldBootstrapDataForPreview()){d.registerFunction("initializeOptimizelyPreview",e);var _=h.isSlave()?PROJECT_ID_FOR_SLAVE_PREVIEW:d.getFunction("getProjectId")();s=t(h.getProjectToken(),_,h.getPreviewLayerIds()),l.addScriptSync(s),n(127).setupPreviewGlobal(),l.addScriptAsync("/dist/js/preview_ui.js")}else h.shouldBootstrapDataForEditor()?(d.registerFunction("initializeOptimizelyPreview",e),l.addScriptAsync(window.optimizely_editor_data_endpoint)):h.shouldInitialize()&&e(g)}try{i()}catch(r){try{n(126).handleError(r)}catch(a){console.log(a)}}},function(e,t,n){function i(e){return o[e]||r.LogLevel.ALL}var r=n(2),a=n(4),o={LOG:r.LogLevel.ALL+1};t.onPreAction=function(e,t){var n=a.shouldLog(i(e));if(n){var r="[object]";try{r=JSON.stringify(t)}catch(o){}r&&r.length>50&&(r=r.substr(0,50)+"..."),a.groupCollapsed("DISPATCH: "+e+" | "+r),a.logAlways("payload: ",t)}},t.onPostAction=function(e,t){a.shouldLog(i(e))&&(a.logAlways("stores:",this.getState()),a.groupEnd())}},function(e,t,n){var i=n(3);t.COOKIES={OPT_OUT:"optimizelyOptOut",PREVIEW:"optimizelyPreview",REDIRECT:"optimizelyRedirectData",TOKEN:"optimizelyToken",VISITOR_ID:"optimizelyEndUserId",VISITOR_UUID:"optimizelyPPID"},t.LayerActivationTypes={CONDITIONAL:"conditional",IMMEDIATE:"immediate",MANUAL:"manual",READY:"ready",TIMEOUT:"timeout"},t.LogLevel={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,ALL:5},t.Lifecycle=i({preActivate:null,postVisitorProfileLoad:null,postViewsActivated:null,postActivate:null}),t.ViewActivationTypes=i({immediate:null,manual:null,callback:null,polling:null}),t.StorageKeys={PENDING_EVENTS:"pending_events"}},function(e,t){"use strict";var n=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=n},function(e,t,n){function i(e){e=a.extend({logLevel:"ERROR"},e),this.setLogLevel(e.logLevel),this.logs=[],this.timebase=s.now()}function r(){var e=u.getQueryParamValue("optimizely_log"),t=null===e?"OFF":e;return String(t).toUpperCase()}var a=n(5),o=n(2),s=n(8),u=n(9),c=n(11),l=n(14);i.prototype.setLogLevel=function(e){var t=this.e(e),n=this.logLevel;null===t?console.error("Unknown log level: "+e):(this.logLevel=t,this.logLevel>o.LogLevel.OFF&&(console.log("Setting log level to "+t),a.isUndefined(n)||this.flush()))},i.prototype.shouldLog=function(e){return this.logLevel>=e},i.prototype.storeLog=function(e,t){var n={logLevel:e,logMessage:t};c.dispatch(l.LOG,n)},i.prototype.flush=function(){var e=n(15),t=e.get("stores/log"),i=t.getLogs();a.each(i,function(e){this.t(e.logLevel,e.logMessage,!0)}.bind(this))},i.prototype.t=function(e,t,n){var i,r=e;if(console)switch(e){case"GROUPSTART":i=console.groupCollapsed,r=o.LogLevel.DEBUG;break;case"GROUPEND":i=console.groupEnd,r=o.LogLevel.DEBUG;break;case o.LogLevel.ERROR:i=console.error;break;case o.LogLevel.WARN:i=console.warn;break;case o.LogLevel.DEBUG:i=console.debug;break;default:i=console.log}try{n||(a.isArray(t)&&a.isString(t[0])&&(t=this.i(t)),this.storeLog(e,t)),i&&this.shouldLog(r)&&i.apply(console,t)}catch(s){console&&(console.error?console.error(s):console.log(s))}},i.prototype.debug=function(){this.t(o.LogLevel.DEBUG,[].slice.call(arguments))},i.prototype.log=function(){this.t(o.LogLevel.INFO,[].slice.call(arguments))},i.prototype.logAlways=function(){var e=this.i([].slice.call(arguments));console&&console.log&&console.log.apply&&console.log.apply(console,e),this.storeLog(o.LogLevel.INFO,e)},i.prototype.warn=function(){this.t(o.LogLevel.WARN,[].slice.call(arguments))},i.prototype.error=function(e){var t=[].slice.call(arguments);1===t.length&&e.stack?(this.t(o.LogLevel.ERROR,[this.a(),e]),this.t(o.LogLevel.INFO,[e.stack])):this.t(o.LogLevel.ERROR,t)},i.prototype.groupCollapsed=function(){this.t("GROUPSTART",[].slice.call(arguments))},i.prototype.groupEnd=function(){this.t("GROUPEND",[].slice.call(arguments))},i.prototype.i=function(e){var t=this.a().toString();return t.length<6&&(t=("     "+t).slice(-6)),[t+"| Optly / "+e[0]].concat(e.slice(1))},i.prototype.a=function(){return this.timebase?s.now()-this.timebase:0},i.prototype.e=function(e){return e&&(e=e.toUpperCase(),"TRUE"===e&&(e="INFO"),"FALSE"===e&&(e="OFF"),!a.isUndefined(o.LogLevel[e]))?o.LogLevel[e]:null},e.exports=new i({logLevel:r()})},function(e,t,n){e.exports=n(6)._.noConflict()},function(e,t,n){(function(e,n){(function(){function i(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function a(e,t){return u(we(e),ln)}function o(e,t){return!!e.length&&d(e,t,0)>-1}function s(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function u(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function c(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],o=t(a);if(null!=o&&(s===yn?o===o:n(o,s)))var s=o,u=a}return u}function l(e,t,n,i){var r;return n(e,function(e,n,a){if(t(e,n,a))return r=i?n:e,!1}),r}function d(e,t,n){if(t!==t)return I(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function f(e,t,n,i,r){return r(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function g(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function p(e){return function(t){return e(t)}}function v(e,t){return Ee(t,function(t){return e[t]})}function h(e){return e&&e.Object===Object?e:null}function _(e,t){if(e!==t){var n=null===e,i=e===yn,r=e===e,a=null===t,o=t===yn,s=t===t;if(e>t&&!a||!r||n&&!o&&s||i&&s)return 1;if(e<t&&!n||!s||a&&!i&&r||o&&r)return-1}return 0}function E(e){return di[e]}function I(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var a=e[r];if(a!==a)return r}return-1}function m(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function y(e,t){return e="number"==typeof e||ui.test(e)?+e:-1,t=null==t?Nn:t,e>-1&&e%1==0&&e<t}function S(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function T(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function A(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function D(e){if(Bt(e)&&!ur(e)){if(e instanceof w)return e;if(Ai.call(e,"__wrapped__"))return et(e)}return new w(e)}function w(e,t){this.u=e,this.l=[],this.d=!!t}function O(){}function R(e,t){return L(e,t)&&delete e[t]}function b(e,t){if(qi){var n=e[t];return n===Dn?yn:n}return Ai.call(e,t)?e[t]:yn}function L(e,t){return qi?e[t]!==yn:Ai.call(e,t)}function N(e,t,n){e[t]=qi&&n===yn?Dn:n}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function V(){this.f={hash:new O,map:Hi?new Hi:[],string:new O}}function F(e){var t=this.f;return $e(e)?R("string"==typeof e?t.string:t.hash,e):Hi?t.map["delete"](e):K(t.map,e)}function P(e){var t=this.f;return $e(e)?b("string"==typeof e?t.string:t.hash,e):Hi?t.map.get(e):W(t.map,e)}function x(e){var t=this.f;return $e(e)?L("string"==typeof e?t.string:t.hash,e):Hi?t.map.has(e):Q(t.map,e)}function k(e,t){var n=this.f;return $e(e)?N("string"==typeof e?n.string:n.hash,e,t):Hi?n.map.set(e,t):X(n.map,e,t),this}function U(e){var t=-1,n=e?e.length:0;for(this.f=new C;++t<n;)this.push(e[t])}function M(e,t){var n=e.f;if($e(t)){var i=n.f,r="string"==typeof t?i.string:i.hash;return r[t]===Dn}return n.has(t)}function G(e){var t=this.f;if($e(e)){var n=t.f,i="string"==typeof e?n.string:n.hash;i[e]=Dn}else t.set(e,Dn)}function B(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function j(){this.f={array:[],map:null}}function H(e){var t=this.f,n=t.array;return n?K(n,e):t.map["delete"](e)}function Y(e){var t=this.f,n=t.array;return n?W(n,e):t.map.get(e)}function z(e){var t=this.f,n=t.array;return n?Q(n,e):t.map.has(e)}function q(e,t){var n=this.f,i=n.array;i&&(i.length<Tn-1?X(i,e,t):(n.array=null,n.map=new C(i)));var r=n.map;return r&&r.set(e,t),this}function K(e,t){var n=J(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Mi.call(e,n,1),!0}function W(e,t){var n=J(e,t);return n<0?yn:e[n][1]}function Q(e,t){return J(e,t)>-1}function J(e,t){for(var n=e.length;n--;)if(Rt(e[n][0],t))return n;return-1}function X(e,t,n){var i=J(e,t);i<0?e.push([t,n]):e[i][1]=n}function $(e,t,n,i){return e===yn||Rt(e,Si[n])&&!Ai.call(i,n)?t:e}function Z(e,t,n){(n===yn||Rt(e[t],n))&&("number"!=typeof t||n!==yn||t in e)||(e[t]=n)}function ee(e,t,n){var i=e[t];Ai.call(e,t)&&Rt(i,n)&&(n!==yn||t in e)||(e[t]=n)}function te(e,t){return e&&er(t,an(t),e)}function ne(e){return"function"==typeof e?e:gn}function ie(e,t,n,i,r,a,o){var s;if(i&&(s=a?i(e,r,a,o):i(e)),s!==yn)return s;if(!Gt(e))return e;var u=ur(e);if(u){if(s=We(e),!t)return we(e,s)}else{var c=Ke(e),l=c==kn||c==Un;if(cr(e))return be(e,t);if(c==Bn||c==Cn||l&&!a){if(m(e))return a?e:{};if(s=Qe(l?{}:e),!t)return s=te(s,e),n?ke(e,s):s}else{if(!li[c])return a?e:{};s=Je(e,c,t)}}o||(o=new B);var d=o.get(e);return d?d:(o.set(e,s),(u?$i:de)(e,function(r,a){ee(s,a,ie(r,t,n,i,a,e,o))}),n&&!u?ke(e,s):s)}function re(e){return Gt(e)?ki(e):{}}function ae(e,t,n){if("function"!=typeof e)throw new TypeError(An);return setTimeout(function(){e.apply(yn,n)},t)}function oe(e,t,n,i){var r=-1,a=o,u=!0,c=e.length,l=[],d=t.length;if(!c)return l;n&&(t=Ee(t,p(n))),i?(a=s,u=!1):t.length>=Tn&&(a=M,u=!1,t=new U(t));e:for(;++r<c;){var f=e[r],g=n?n(f):f;if(u&&g===g){for(var v=d;v--;)if(t[v]===g)continue e;l.push(f)}else a(t,g,i)||l.push(f)}return l}function se(e,t){var n=!0;return $i(e,function(e,i,r){return n=!!t(e,i,r)}),n}function ue(e,t){var n=[];return $i(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function ce(e,t,n,i){i||(i=[]);for(var r=-1,a=e.length;++r<a;){var o=e[r];t>0&&Ct(o)&&(n||ur(o)||Lt(o))?t>1?ce(o,t-1,n,i):u(i,o):n||(i[i.length]=o)}return i}function le(e,t){return null==e?e:Zi(e,t,on)}function de(e,t){return e&&Zi(e,t,an)}function fe(e,t){return ue(t,function(t){return Ut(e[t])})}function ge(e,t,n,i,r){return e===t||(null==e||null==t||!Gt(e)&&!Bt(t)?e!==e&&t!==t:pe(e,t,ge,n,i,r))}function pe(e,t,n,i,r,a){var o=ur(e),s=ur(t),u=Vn,c=Vn;o||(u=Oi.call(e),u=u==Cn?Bn:u),s||(c=Oi.call(t),c=c==Cn?Bn:c);var l=u==Bn&&!m(e),d=c==Bn&&!m(t),f=u==c;a||(a=[]);var g=pt(a,function(t){return t[0]===e});if(g&&g[1])return g[1]==t;if(a.push([e,t]),f&&!l){var p=o||Qt(e)?He(e,t,n,i,r,a):Ye(e,t,u,n,i,r,a);return a.pop(),p}if(!(r&bn)){var v=l&&Ai.call(e,"__wrapped__"),h=d&&Ai.call(t,"__wrapped__");if(v||h){var p=n(v?e.value():e,h?t.value():t,i,r,a);return a.pop(),p}}if(!f)return!1;var p=ze(e,t,n,i,r,a);return a.pop(),p}function ve(e){var t=typeof e;return"function"==t?e:null==e?gn:("object"==t?Ie:Ae)(e)}function he(e){return Bi(Object(e))}function _e(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function Ee(e,t){var n=-1,i=Nt(e)?Array(e.length):[];return $i(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function Ie(e){var t=an(e);return function(n){var i=t.length;if(null==n)return!i;for(n=Object(n);i--;){var r=t[i];if(!(r in n&&ge(e[r],n[r],yn,Rn|bn)))return!1}return!0}}function me(e,t,n,i,r){if(e!==t){var a=ur(t)||Qt(t)?yn:on(t);$i(a||t,function(o,s){if(a&&(s=o,o=t[s]),Gt(o))r||(r=new B),ye(e,t,s,n,me,i,r);else{var u=i?i(e[s],o,s+"",e,t,r):yn;u===yn&&(u=o),Z(e,s,u)}})}}function ye(e,t,n,i,r,a,o){var s=e[n],u=t[n],c=o.get(u);if(c)return void Z(e,n,c);var l=a?a(s,u,n+"",e,t,o):yn,d=l===yn;d&&(l=u,ur(u)||Qt(u)?ur(s)?l=s:Ct(s)?l=we(s):(d=!1,l=ie(u,!a)):qt(u)||Lt(u)?Lt(s)?l=Zt(s):!Gt(s)||i&&Ut(s)?(d=!1,l=ie(u,!a)):l=s:d=!1),o.set(u,l),d&&r(l,u,i,a,o),o["delete"](u),Z(e,n,l)}function Se(e,t){return e=Object(e),Et(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Te(e,t){var n={};return le(e,function(e,i){t(e,i)&&(n[i]=e)}),n}function Ae(e){return function(t){return null==t?yn:t[e]}}function De(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}function we(e){return De(e,0,e.length)}function Oe(e,t){var n;return $i(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Re(e,t){var n=e;return Et(t,function(e,t){return t.func.apply(t.thisArg,u([e],t.args))},n)}function be(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Le(e){var t=new e.constructor(e.byteLength);return new Vi(t).set(new Vi(e)),t}function Ne(e){return Et(T(e),i,new e.constructor)}function Ce(e){var t=new e.constructor(e.source,oi.exec(e));return t.lastIndex=e.lastIndex,t}function Ve(e){return Et(A(e),r,new e.constructor)}function Fe(e){return Xi?Object(Xi.call(e)):{}}function Pe(e,t){var n=t?Le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xe(e,t,n,i){n||(n={});for(var r=-1,a=t.length;++r<a;){var o=t[r],s=i?i(n[o],e[o],o,n,e):e[o];ee(n,o,s)}return n}function ke(e,t){return er(e,nr(e),t)}function Ue(e){return Dt(function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:yn;for(a="function"==typeof a?(r--,a):yn,t=Object(t);++i<r;){var o=n[i];o&&e(t,o,i,a)}return t})}function Me(e,t){return function(n,i){if(null==n)return n;if(!Nt(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Object(n);(t?a--:++a<r)&&i(o[a],a,o)!==!1;);return n}}function Ge(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var u=o[e?s:++r];if(n(a[u],u,a)===!1)break}return t}}function Be(e){return function(){var t=arguments,n=re(e.prototype),i=e.apply(n,t);return Gt(i)?i:n}}function je(e,t,n,i){function r(){for(var t=-1,s=arguments.length,u=-1,c=i.length,l=Array(c+s),d=this&&this!==mi&&this instanceof r?o:e;++u<c;)l[u]=i[u];for(;s--;)l[u++]=arguments[++t];return d.apply(a?n:this,l)}if("function"!=typeof e)throw new TypeError(An);var a=t&wn,o=Be(e);return r}function He(e,t,n,i,r,a){var o=-1,s=r&bn,u=r&Rn,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;for(var d=!0;++o<c;){var f,g=e[o],p=t[o];if(f!==yn){if(f)continue;d=!1;break}if(u){if(!Oe(t,function(e){return g===e||n(g,e,i,r,a)})){d=!1;break}}else if(g!==p&&!n(g,p,i,r,a)){d=!1;break}}return d}function Ye(e,t,n,i,r,a,o){switch(n){case Fn:case Pn:return+e==+t;case xn:return e.name==t.name&&e.message==t.message;case Gn:return e!=+e?t!=+t:e==+t;case jn:case Yn:return e==t+""}return!1}function ze(e,t,n,i,r,a){var o=r&bn,s=an(e),u=s.length,c=an(t),l=c.length;if(u!=l&&!o)return!1;for(var d=u;d--;){var f=s[d];if(!(o?f in t:Ai.call(t,f)))return!1}for(var g=!0,p=o;++d<u;){f=s[d];var v,h=e[f],_=t[f];if(!(v===yn?h===_||n(h,_,i,r,a):v)){g=!1;break}p||(p="constructor"==f)}if(g&&!p){var E=e.constructor,I=t.constructor;E!=I&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof I&&I instanceof I)&&(g=!1)}return g}function qe(e,t){var n=e[t];return Ht(n)?n:yn}function Ke(e){return Oi.call(e)}function We(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Ai.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Qe(e){return"function"!=typeof e.constructor||Ze(e)?{}:re(Pi(e))}function Je(e,t,n){var i=e.constructor;switch(t){case Kn:return Le(e);case Fn:case Pn:return new i((+e));case Wn:case Qn:case Jn:case Xn:case $n:case Zn:case ei:case ti:case ni:return Pe(e,n);case Mn:return Ne(e);case Gn:case Yn:return new i(e);case jn:return Ce(e);case Hn:return Ve(e);case zn:return Fe(e)}}function Xe(e){var t=e?e.length:yn;return Mt(t)&&(ur(e)||Wt(e)||Lt(e))?g(t,String):null}function $e(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function Ze(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Si;return e===n}function et(e){var t=new w(e.u,e.d);return t.l=we(e.l),t}function tt(e){return ue(e,Boolean)}function nt(e){var t=e?e.length:0;return t?ce(e,1):[]}function it(e){var t=e?e.length:0;return t?ce(e,Ln):[]}function rt(e){return e?e[0]:yn}function at(e,t,n){var i=e?e.length:0;n="number"==typeof n?n<0?ji(i+n,0):n:0;for(var r=(n||0)-1,a=t===t;++r<i;){var o=e[r];if(a?o===t:o!==o)return r}return-1}function ot(e){var t=e?e.length:0;return t?e[t-1]:yn}function st(e,t,n){var i=e?e.length:0;return t=null==t?0:+t,n=n===yn?i:+n,i?De(e,t,n):[]}function ut(e){var t=D(e);return t.d=!0,t}function ct(e,t){return t(e),e}function lt(e,t){return t(e)}function dt(){return Re(this.u,this.l)}function ft(e,t,n){return t=n?yn:t,se(e,ve(t))}function gt(e,t){return ue(e,ve(t))}function pt(e,t){return l(e,ve(t),$i)}function vt(e,t){return $i(e,ne(t))}function ht(e,t,n,i){e=Nt(e)?e:ln(e),n=n&&!i?lr(n):0;var r=e.length;return n<0&&(n=ji(r+n,0)),Wt(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&d(e,t,n)>-1}function _t(e,t){return Ee(e,ve(t))}function Et(e,t,n){return f(e,ve(t),n,arguments.length<3,$i)}function It(e){return null==e?0:(e=Nt(e)?e:an(e),e.length)}function mt(e,t,n){return t=n?yn:t,Oe(e,ve(t))}function yt(e,t){var n=0;return t=ve(t),Ee(Ee(e,function(e,i,r){return{value:e,index:n++,criteria:t(e,i,r)}}).sort(function(e,t){return _(e.criteria,t.criteria)||e.index-t.index}),Ae("value"))}function St(e,t){var n;if("function"!=typeof t)throw new TypeError(An);return e=lr(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=yn),n}}function Tt(e){if("function"!=typeof e)throw new TypeError(An);return function(){return!e.apply(this,arguments)}}function At(e){return St(2,e)}function Dt(e,t){if("function"!=typeof e)throw new TypeError(An);return t=ji(t===yn?e.length-1:lr(t),0),function(){for(var n=arguments,i=-1,r=ji(n.length-t,0),a=Array(r);++i<r;)a[i]=n[t+i];var o=Array(t+1);for(i=-1;++i<t;)o[i]=n[i];return o[t]=a,e.apply(this,o)}}function wt(e){return Gt(e)?ur(e)?we(e):er(e,an(e)):e}function Ot(e){return ie(e,!0,!0)}function Rt(e,t){return e===t||e!==e&&t!==t}function bt(e,t){return e>t}function Lt(e){return Ct(e)&&Ai.call(e,"callee")&&(!Ui.call(e,"callee")||Oi.call(e)==Cn)}function Nt(e){return null!=e&&Mt(tr(e))&&!Ut(e)}function Ct(e){return Bt(e)&&Nt(e)}function Vt(e){return e===!0||e===!1||Bt(e)&&Oi.call(e)==Fn}function Ft(e){return Bt(e)&&Oi.call(e)==Pn}function Pt(e){if(Nt(e)&&(ur(e)||Wt(e)||Ut(e.splice)||Lt(e)))return!e.length;for(var t in e)if(Ai.call(e,t))return!1;return!0}function xt(e,t){return ge(e,t)}function kt(e){return"number"==typeof e&&Gi(e)}function Ut(e){var t=Gt(e)?Oi.call(e):"";return t==kn||t==Un}function Mt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Nn}function Gt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Bt(e){return!!e&&"object"==typeof e}function jt(e){return zt(e)&&e!=+e}function Ht(e){return null!=e&&(Ut(e)?bi.test(Ti.call(e)):Bt(e)&&(m(e)?bi:si).test(e))}function Yt(e){return null===e}function zt(e){return"number"==typeof e||Bt(e)&&Oi.call(e)==Gn}function qt(e){if(!Bt(e)||Oi.call(e)!=Bn||m(e))return!1;var t=Pi(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Ti.call(n)==wi}function Kt(e){return Gt(e)&&Oi.call(e)==jn}function Wt(e){return"string"==typeof e||!ur(e)&&Bt(e)&&Oi.call(e)==Yn}function Qt(e){return Bt(e)&&Mt(e.length)&&!!ci[Oi.call(e)]}function Jt(e){return e===yn}function Xt(e,t){return e<t}function $t(e){return Nt(e)?e.length?we(e):[]:ln(e)}function Zt(e){return er(e,on(e))}function en(e){return"string"==typeof e?e:null==e?"":e+""}function tn(e,t){var n=re(e);return t?fr(n,t):n}function nn(e,t){return e&&de(e,ne(t))}function rn(e,t){return null!=e&&Ai.call(e,t)}function an(e){var t=Ze(e);if(!t&&!Nt(e))return he(e);var n=Xe(e),i=!!n,r=n||[],a=r.length;for(var o in e)!Ai.call(e,o)||i&&("length"==o||y(o,a))||t&&"constructor"==o||r.push(o);return r}function on(e){for(var t=-1,n=Ze(e),i=_e(e),r=i.length,a=Xe(e),o=!!a,s=a||[],u=s.length;++t<r;){var c=i[t];o&&("length"==c||y(c,u))||"constructor"==c&&(n||!Ai.call(e,c))||s.push(c)}return s}function sn(e,t){return t=ve(t),Te(e,function(e,n){return!t(e,n)})}function un(e,t){return null==e?{}:Te(e,ve(t))}function cn(e,t,n){var i=null==e?yn:e[t];return i===yn&&(i=n),Ut(i)?i.call(e):i}function ln(e){return e?v(e,an(e)):[]}function dn(e){return e=en(e),e&&ri.test(e)?e.replace(ii,E):e}function fn(e){return function(){return e}}function gn(e){return e}function pn(e){return Ie(fr({},e))}function vn(e,t,n){var i=an(t),r=fe(t,i);null!=n||Gt(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=fe(t,an(t)));var a=!(Gt(n)&&"chain"in n)||n.chain,o=Ut(e);return $i(r,function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.d;if(a||t){var n=e(this.u),r=n.l=we(this.l);return r.push({func:i,args:arguments,thisArg:e}),n.d=t,n}return i.apply(e,u([this.value()],arguments))})}),e}function hn(){return mi._===this&&(mi._=Ri),this}function _n(){}function En(e){var t=++Di;return en(e)+t}function In(e){return e&&e.length?c(e,gn,bt):yn}function mn(e){return e&&e.length?c(e,gn,Xt):yn}var yn,Sn="4.6.1",Tn=200,An="Expected a function",Dn="__lodash_hash_undefined__",wn=1,On=32,Rn=1,bn=2,Ln=1/0,Nn=9007199254740991,Cn="[object Arguments]",Vn="[object Array]",Fn="[object Boolean]",Pn="[object Date]",xn="[object Error]",kn="[object Function]",Un="[object GeneratorFunction]",Mn="[object Map]",Gn="[object Number]",Bn="[object Object]",jn="[object RegExp]",Hn="[object Set]",Yn="[object String]",zn="[object Symbol]",qn="[object WeakMap]",Kn="[object ArrayBuffer]",Wn="[object Float32Array]",Qn="[object Float64Array]",Jn="[object Int8Array]",Xn="[object Int16Array]",$n="[object Int32Array]",Zn="[object Uint8Array]",ei="[object Uint8ClampedArray]",ti="[object Uint16Array]",ni="[object Uint32Array]",ii=/[&<>"'`]/g,ri=RegExp(ii.source),ai=/[\\^$.*+?()[\]{}|]/g,oi=/\w*$/,si=/^\[object .+?Constructor\]$/,ui=/^(?:0|[1-9]\d*)$/,ci={};ci[Wn]=ci[Qn]=ci[Jn]=ci[Xn]=ci[$n]=ci[Zn]=ci[ei]=ci[ti]=ci[ni]=!0,ci[Cn]=ci[Vn]=ci[Kn]=ci[Fn]=ci[Pn]=ci[xn]=ci[kn]=ci[Mn]=ci[Gn]=ci[Bn]=ci[jn]=ci[Hn]=ci[Yn]=ci[qn]=!1;var li={};li[Cn]=li[Vn]=li[Kn]=li[Fn]=li[Pn]=li[Wn]=li[Qn]=li[Jn]=li[Xn]=li[$n]=li[Mn]=li[Gn]=li[Bn]=li[jn]=li[Hn]=li[Yn]=li[zn]=li[Zn]=li[ei]=li[ti]=li[ni]=!0,li[xn]=li[kn]=li[qn]=!1;var di={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},fi={"function":!0,object:!0},gi=fi[typeof t]&&t&&!t.nodeType?t:yn,pi=fi[typeof e]&&e&&!e.nodeType?e:yn,vi=pi&&pi.exports===gi?gi:yn,hi=h(gi&&pi&&"object"==typeof n&&n),_i=h(fi[typeof self]&&self),Ei=h(fi[typeof window]&&window),Ii=h(fi[typeof this]&&this),mi=hi||Ei!==(Ii&&Ii.window)&&Ei||_i||Ii||Function("return this")(),yi=Array.prototype,Si=Object.prototype,Ti=Function.prototype.toString,Ai=Si.hasOwnProperty,Di=0,wi=Ti.call(Object),Oi=Si.toString,Ri=mi._,bi=RegExp("^"+Ti.call(Ai).replace(ai,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Li=vi?mi.Buffer:yn,Ni=mi.Reflect,Ci=mi.Symbol,Vi=mi.Uint8Array,Fi=Ni?Ni.enumerate:yn,Pi=Object.getPrototypeOf,xi=Object.getOwnPropertySymbols,ki=Object.create,Ui=Si.propertyIsEnumerable,Mi=yi.splice,Gi=mi.isFinite,Bi=Object.keys,ji=Math.max,Hi=qe(mi,"Map"),Yi=qe(mi,"Set"),zi=qe(mi,"WeakMap"),qi=qe(Object,"create"),Ki=Hi?Ti.call(Hi):"",Wi=Yi?Ti.call(Yi):"",Qi=zi?Ti.call(zi):"",Ji=Ci?Ci.prototype:yn,Xi=Ji?Ji.valueOf:yn,$i=Me(de),Zi=Ge();Fi&&!Ui.call({valueOf:1},"valueOf")&&(_e=function(e){return S(Fi(e))});var er=xe,tr=Ae("length"),nr=xi||function(){return[]};(Hi&&Ke(new Hi)!=Mn||Yi&&Ke(new Yi)!=Hn||zi&&Ke(new zi)!=qn)&&(Ke=function(e){var t=Oi.call(e),n=t==Bn?e.constructor:null,i="function"==typeof n?Ti.call(n):"";if(i)switch(i){case Ki:return Mn;case Wi:return Hn;case Qi:return qn}return t});var ir=Dt(function(e,t){return ur(e)||(e=null==e?[]:[Object(e)]),t=ce(t,1),a(e,t)}),rr=Dt(function(e,t,n){return je(e,wn|On,t,n)}),ar=Dt(function(e,t){return ae(e,1,t)}),or=Dt(function(e,t,n){return ae(e,dr(t)||0,n)}),sr=Dt(function(e,t){return je(e,On,yn,t)}),ur=Array.isArray,cr=Li?function(e){return e instanceof Li}:fn(!1),lr=Number,dr=Number,fr=Ue(function(e,t){er(t,an(t),e)}),gr=Ue(function(e,t){er(t,on(t),e)}),pr=Ue(function(e,t,n,i){xe(t,on(t),e,i)}),vr=Dt(function(e){return e.push(yn,$),pr.apply(yn,e)}),hr=Ue(function(e,t,n){me(e,t,n)}),_r=Dt(function(e,t){return null==e?{}:(t=Ee(ce(t,1),String),Se(e,oe(on(e),t)))}),Er=Dt(function(e,t){return null==e?{}:Se(e,ce(t,1))}),Ir=ve;w.prototype=re(D.prototype),w.prototype.constructor=w,O.prototype=qi?qi(null):Si,C.prototype.clear=V,C.prototype["delete"]=F,C.prototype.get=P,C.prototype.has=x,C.prototype.set=k,U.prototype.push=G,B.prototype.clear=j,B.prototype["delete"]=H,B.prototype.get=Y,B.prototype.has=z,B.prototype.set=q,D.assign=fr,D.assignIn=gr,D.before=St,D.bind=rr,D.chain=ut,D.compact=tt,D.concat=ir,D.create=tn,D.defaults=vr,D.defer=ar,D.delay=or,D.filter=gt,D.flatten=nt,D.flattenDeep=it,D.iteratee=Ir,D.keys=an,D.map=_t,D.matches=pn,D.merge=hr,D.mixin=vn,D.negate=Tt,D.omit=_r,D.omitBy=sn,D.once=At,D.partial=sr,D.pick=Er,D.pickBy=un,D.slice=st,D.sortBy=yt,D.tap=ct,D.thru=lt,D.toArray=$t,D.values=ln,D.extend=gr,vn(D,D),D.clone=wt,D.cloneDeep=Ot,D.escape=dn,D.every=ft,D.find=pt,D.forEach=vt,D.forOwn=nn,D.has=rn,D.head=rt,D.identity=gn,D.includes=ht,D.indexOf=at,D.isArguments=Lt,D.isArray=ur,D.isBoolean=Vt,D.isDate=Ft,D.isEmpty=Pt,D.isEqual=xt,D.isFinite=kt,D.isFunction=Ut,D.isNaN=jt,D.isNull=Yt,D.isNumber=zt,D.isObject=Gt,D.isRegExp=Kt,D.isString=Wt,D.isUndefined=Jt,D.last=ot,D.max=In,D.min=mn,D.noConflict=hn,D.noop=_n,D.reduce=Et,D.result=cn,D.size=It,D.some=mt,D.uniqueId=En,D.each=vt,D.first=rt,vn(D,function(){var e={};return de(D,function(t,n){Ai.call(D.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),D.VERSION=Sn,$i(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?String.prototype:yi)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|join|replace|shift)$/.test(e);D.prototype[e]=function(){var e=arguments;return i&&!this.d?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=dt,(Ei||_i||{})._=D,gi&&pi&&(vi&&((pi.exports=D)._=D),gi._=D)}).call(this)}).call(t,n(7)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){t.now=function(){return+new Date}},function(e,t,n){var i=n(5),r=n(10);t.getQueryParams=function(){var e=r.getLocationSearch()||"";if(0===e.indexOf("?")&&(e=e.substring(1)),0===e.length)return[];for(var t=e.split("&"),n=[],i=0;i<t.length;i++){var a="",o="",s=t[i].split("=");s.length>0&&(a=s[0]),s.length>1&&(o=s[1]),n.push([a,o])}return n},t.getQueryParamValue=function(e){for(var n=t.getQueryParams(),i=0;i<n.length;i++)if(n[i][0]===e)return n[i][1];return null},t.queryStringFromMap=function(e){return i.map(e,function(e,t){return t+"="+e}).join("&")}},function(e,t){t.getUserAgent=function(){return window.navigator.userAgent},t.getLocationSearch=function(){return window.location.search},t.getNavigatorLanguage=function(){return window.navigator.language||window.navigator.userLanguage},t.getHref=function(){return window.location.href},t.getLocation=function(){return window.location},t.setLocation=function(e){window.location.replace(e)},t.setGlobal=function(e,t){window[e]=t},t.getGlobal=function(e){return window[e]},t.addEventListener=function(){return window.addEventListener.apply(window,arguments)}},function(e,t,n){var i=n(12);e.exports=i.create()},function(e,t,n){function i(e){e=e||{},this.g={},this.v={},this.h=0,this.I=[],this.S=[]}function r(e,t){return function(){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}}var a=n(13),o=n(5);i.prototype.registerStores=function(e){o.forOwn(e,function(e,t){this.g[t]=new a(t,this,e)}.bind(this))},i.prototype.getStore=function(e){return this.g[e]},i.prototype.dispatch=function(e,t){this.dispatchId++,o.each(this.I,function(n){n.call(this,e,t)}.bind(this)),o.forOwn(this.g,function(n){n.T(e,t)}),o.each(this.S,function(n){n.call(this,e,t)}.bind(this)),o.forOwn(this.g,function(e,t){e.hasChanges()&&this.v[t]&&(e.resetChange(),o.each(this.v[t],function(t){t(e)}))}.bind(this))},i.prototype.reset=function(){this.v={},o.forOwn(this.g,function(e,t){e.A()})},i.prototype.getState=function(){var e={};return o.forOwn(this.g,function(t,n){e[n]=t.D()}),e},i.prototype.onPreAction=function(e){var t=this.I;return t.push(e),r(t,e)},i.prototype.onPostAction=function(e){var t=this.S;return t.push(e),r(t,e)},i.prototype.w=function(e,t){this.v[e]||(this.v[e]=[]),this.v[e].push(t);var n=this.v[e];return r(n,t)},e.exports={create:function(e){return new i(e)}}},function(e,t,n){function i(e,t,n){this.O=e,this.R=t,this.b=0,this.L=!1,this.N={},r.extend(this,n),this.C={},this.initialize&&this.initialize()}var r=n(5);i.prototype.T=function(e,t){var n=this.N[e];n&&"function"==typeof n&&n.call(this,t,e)},i.prototype.D=function(){return r.cloneDeep(this.C)},i.prototype.on=function(e,t){this.N[e]=t.bind(this)},i.prototype.observe=function(e){return this.R.w(this.O,e)},i.prototype.emitChange=function(){this.L=!0,this.b++},i.prototype.hasChanges=function(){return this.L},i.prototype.resetChange=function(){this.L=!1},i.prototype.getStateId=function(){return this.b},i.prototype.A=function(){this.reset&&"function"==typeof this.reset&&this.reset(),this.initialize()},e.exports=i},function(e,t,n){var i=n(3);e.exports=i({LOG:null,SET_LOGLEVEL:null,INITIALIZE_STATE:null,ACTIVATE:null,UPDATE_BEHAVIOR_STORE:null,DATA_LOADED:null,LOAD_PERSISTED_LAYER_STATES:null,RECORD_GLOBAL_DECISION:null,RECORD_LAYER_DECISION:null,RECORD_LAYER_DECISION_TICKET:null,SET_VISITOR_ATTRIBUTE:null,SET_VISITOR_ATTRIBUTE_PENDING:null,LOAD_EXISTING_VISITOR_PROFILE:null,SET_VISITOR_EVENTS:null,SET_FOREIGN_VISITOR_EVENTS:null,SET_FOREIGN_VISITOR_EVENT_QUEUE:null,SET_VISITOR_ID:null,REFRESH_SESSION:null,LOAD_SESSION_STATE:null,UPDATE_VARIATION_ID_MAP:null,MERGE_VARIATION_ID_MAP:null,TRACK_DECISION_EVENT:null,TRACK_VIEW_ACTIVATED_EVENT:null,REGISTER_ASYNC_DEFERRED:null,RESOLVE_DEFERRED:null,REJECT_DEFERRED:null,REGISTER_API_MODULE:null,REGISTER_VISITOR_PROFILE_PROVIDER:null,REGISTER_VIEW_PROVIDER:null,REGISTER_AUDIENCE_MATCHER:null,REGISTER_VIEW_MATCHER:null,REGISTER_EVENT_PUBLISHER:null,REGISTER_EVENT_FILTER:null,REGISTER_ANALYTICS_TRACKER:null,REGISTER_VIEW_TAG_LOCATOR:null,REGISTER_USER_FEATURE:null,REGISTER_CHANGE_APPLIER:null,REGISTER_DECIDER:null,ADD_CLEANUP_FN:null,CLEAR_CLEANUP_FN:null,ACTION_EXECUTED:null,REGISTER_ACTION:null,SET_VIEW_ACTIVE_STATE:null,UPDATE_PARSED_VIEW_METADATA:null,UPDATE_USER_SUPPLIED_METADATA:null,REGISTER_VIEWS:null,SET_GLOBAL_TAGS:null,ATTACH_EVENT_STREAM_PUBLISHERS:null,DETACH_EVENT_STREAM_PUBLISHERS:null,LOAD_DIRECTIVE:null,SET_COOKIE_AGE:null,SET_COOKIE_DOMAIN:null,XDOMAIN_SET_TARGET:null,XDOMAIN_SET_ORIGIN:null,XDOMAIN_SET_MESSAGE:null,XDOMAIN_ADD_SUBSCRIBER:null,ADD_EMITTER_HANDLER:null,REMOVE_EMITTER_HANDLER:null,SET_INTEGRATION_SETTINGS:null,ADD_CHANGE:null,ADD_PENDING_EVENT:null,REMOVE_PENDING_EVENT:null,LOAD_PENDING_EVENTS:null})},function(e,t,n){var i=n(5),r=n(11),a=n(16),o=a.create(),s={action_data:n(17),
async_request:n(18),audience_data:n(19),change_data:n(20),cleanup:n(21),cookie_options:n(22),event_data:n(23),event_emitter:n(24),dimension_data:n(25),directive:n(26),event_stream:n(27),global:n(28),global_state:n(29),integration_settings:n(30),layer:n(31),layer_data:n(32),log:n(33),pending_events:n(34),plugins:n(35),provider_status:n(36),session:n(37),view:n(39),view_data:n(40),visitor:n(41),visitor_attribute_entity:n(42),visitor_events:n(43),visitor_events_manager:n(49),visitor_id:n(50),xdomain:n(51)};r.registerStores(s),i.forOwn(s,function(e,t){o.register("stores/"+t,r.getStore(t))}),o.register("xhr",n(52)),o.register("logger",n(4)),o.register("sources/browser",n(58)),e.exports=o},function(e,t,n){function i(){this.V={}}var r=n(5);i.prototype.register=function(e,t){if(1===arguments.length){var n=this;return void r.each(e,function(e,t){n.register(t,e)})}if(this.V[e])throw new Error("Module already registered for: "+e);this.V[e]=t},i.prototype.get=function(e){return this.V[e]},i.prototype.getModuleKeys=function(){var e=this.V;return r.keys(e)},i.prototype.evaluate=function(e){var t=e.length,n=e.slice(0,t-1),i=e[t-1];if("function"!=typeof i)throw new Error("Evaluate must take a function as last element in array");var a=r.map(n,this.get.bind(this));return i.apply(null,a)},i.prototype.reset=function(){this.V={}},e.exports={create:function(){return new i}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.F)},F:function(e){var t=this;i.isEmpty(e.data.layers)||(i.each(e.data.layers,function(e){if(e.changes){var n="layerId:"+e.id;t.C[n]={id:n,layerId:e.id,changeSet:e.changes,type:"layer"}}i.each(e.experiments,function(n){i.each(n.variations,function(r){i.each(r.actions,function(i){var a=n.id+":"+r.id+":"+i.viewId;t.C[a]={id:a,layerId:e.id,experimentId:n.id,variationId:r.id,viewId:i.viewId,changeSet:i.changes,type:"variation"}})})})}),this.emitChange())},get:function(e){return i.cloneDeep(this.C[e])},getByChangeId:function(e){return i.find(this.C,{changeSet:[{id:e}]})},getExperimentVariationActions:function(e,t){return i.cloneDeep(i.filter(this.C,{experimentId:e,variationId:t}))},getLayerActions:function(e){return i.cloneDeep(i.filter(this.C,{id:"layerId:"+e}))},getAll:function(){return i.cloneDeep(i.values(this.C))}}},function(e,t,n){var i=n(14);e.exports={initialize:function(){this.C={},this.on(i.REGISTER_ASYNC_DEFERRED,this.P),this.on(i.RESOLVE_DEFERRED,this.x),this.on(i.REJECT_DEFERRED,this.k),this.on(i.ACTIVATE,this.A)},getRequest:function(e){return this.C[e]},getPromise:function(e){var t=this.getRequest(e);if(t)return t.promise},A:function(){this.C={},this.emitChange()},P:function(e){this.C[e.source]={promise:e.promise,resolver:e.resolver,rejecter:e.rejecter}},x:function(e){var t=this.getRequest(e.source);if(!t)throw new Error("No request registered for source: "+e.source);t.resolver(e.resolveWith)},k:function(e){var t=this.getRequest(e.source);if(!t)throw new Error("No request registered for source: "+e.source);if(!t.rejecter)throw new Error("No rejecter registered for source: "+e.source);t.rejecter(e.rejectWith)}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.F)},F:function(e){i.isEmpty(e.data.audiences)||(i.each(e.data.audiences,function(e){this.C[e.id]=e}.bind(this)),this.emitChange())},getAll:function(){return i.cloneDeep(i.values(this.C))},get:function(e){return i.cloneDeep(this.C[e])},getAudienceName:function(e){var t=i.find(i.values(this.C),{id:e});return t.name||"Aud "+e}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.ADD_CHANGE,this.U),this.on(r.DATA_LOADED,this.F)},getChangeData:function(e){return this.C[e]},F:function(e){i.isEmpty(e.data.changes)||i.each(e.data.changes,this.U.bind(this))},U:function(e){var t=e.id,n=this.getChangeData(t);this.C[t]=n?i.extend(n,e):e,this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14),a=n(2);e.exports={initialize:function(){this.C={},i.each(a.Lifecycle,function(e){this.C[e]=[]}.bind(this)),this.on(r.ADD_CLEANUP_FN,this.M),this.on(r.CLEAR_CLEANUP_FN,this.G)},getCleanupFns:function(e){return i.cloneDeep(this.C[e])},M:function(e){this.C[e.lifecycle].push(e.cleanupFn),this.emitChange()},G:function(e){var t=this.C[e.lifecycle];if(e.cleanupFn){var n=t.indexOf(e.cleanupFn);n>-1&&(t.splice(n,1),this.emitChange())}else this.C[e.lifecycle]=[],this.emitChange()}}},function(e,t,n){var i=n(14),r=31536e4;e.exports={initialize:function(){this.C={currentDomain:null,defaultAgeSeconds:r},this.on(i.SET_COOKIE_DOMAIN,this.B),this.on(i.SET_COOKIE_AGE,this.j)},getCurrentDomain:function(){return this.C.currentDomain},getDefaultAgeInSeconds:function(){return this.C.defaultAgeSeconds},B:function(e){this.C.currentDomain=e,this.emitChange()},j:function(e){this.C.defaultAgeSeconds=e,this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.F)},getAll:function(){return i.cloneDeep(i.values(this.C))},get:function(e){return i.cloneDeep(this.C[e])},getByApiName:function(e){return i.find(i.values(this.C),{apiName:e})},F:function(e){i.isEmpty(e.data.events)||(i.each(e.data.events,function(e){this.C[e.id]=e}.bind(this)),this.emitChange())}}},function(e,t,n){function i(e){var t=[];return e&&r.isObject(e)?(e.type&&t.push(e.type),t.push(o),e.type&&e.name&&t.push(e.name),t.join("")):o}var r=n(5),a=n(14),o="|";e.exports={initialize:function(){this.C={handlers:{}},this.on(a.ADD_EMITTER_HANDLER,this.H),this.on(a.REMOVE_EMITTER_HANDLER,this.Y)},getHandlers:function(e,t){var n=[null,{type:e.type},{type:e.type,name:e.name}],a=[];return r.each(n,function(e){var t=i(e),n=this.C.handlers[t];n&&(a=a.concat(n))}.bind(this)),t&&(a=r.filter(a,function(e){return!e.publicOnly})),r.map(a,function(e){return e.handler})},H:function(e){var t=i(e.filter);this.C.handlers[t]||(this.C.handlers[t]=[]),this.C.handlers[t].push({handler:e.handler,token:e.token,publicOnly:!!e.publicOnly}),this.emitChange()},Y:function(e){var t=!1,n=e.token;r.forOwn(this.C.handlers,function(e,i){r.each(e,function(i,r){i.token===n&&(t=!0,e.splice(r,1))})}),t&&this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.F)},F:function(e){i.isEmpty(e.data.dimensions)||(i.each(e.data.dimensions,function(e){this.C[e.id]=e}.bind(this)),this.emitChange())},getAll:function(){return i.cloneDeep(i.values(this.C))},getById:function(e){return i.cloneDeep(this.C[e])},getByApiName:function(e){return i.cloneDeep(i.find(i.values(this.C),{apiName:e}))}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={disabled:!1,forceAudienceIds:[],forceVariationIds:[],isEditor:!1,isPreview:!1,isLegacyPreview:!1,isSlave:!1,previewLayerIds:[],projectToken:null,shouldOptOut:!1,trackingDisabled:!1,isRunningInV2Editor:!1},this.on(r.LOAD_DIRECTIVE,this.z)},getAll:function(){return i.cloneDeep(this.C)},isDisabled:function(){return this.C.disabled},isEditor:function(){return this.C.isEditor},getForceAudienceIds:function(){return this.C.forceAudienceIds},getForceVariationIds:function(){return this.C.forceVariationIds},getPreviewLayerIds:function(){return this.C.previewLayerIds},getProjectToken:function(){return this.C.projectToken},shouldActivate:function(){return!this.C.isEditor&&!this.isDisabled()},shouldBootstrapDataForPreview:function(){return this.C.isPreview},shouldBootstrapDataForEditor:function(){return this.C.isEditor},shouldInitialize:function(){return!(this.shouldOptOut()||this.shouldLoadPreview()||this.isDisabled()||this.getProjectToken())},shouldLoadPreview:function(){return!(this.C.isPreview||this.C.isLegacyPreview||!this.getProjectToken()||this.C.isEditor)},shouldLoadInnie:function(){return!this.C.isSlave&&!this.C.isEditor&&this.C.isRunningInV2Editor},shouldOptOut:function(){return this.C.shouldOptOut},shouldSendTrackingData:function(){return!(this.C.isPreview||this.C.trackingDisabled||this.getForceVariationIds().length||this.getForceAudienceIds().length)},isSlave:function(){return this.C.isSlave},isRunningInV2Editor:function(){return this.C.isRunningInV2Editor},z:function(e){i.extend(this.C,e),this.emitChange()}}},function(e,t,n){var i=n(14);e.exports={initialize:function(){this.C={publishersAttached:!1,detachData:[]},this.on(i.ATTACH_EVENT_STREAM_PUBLISHERS,this.q),this.on(i.DETACH_EVENT_STREAM_PUBLISHERS,this.K)},arePublishersAttached:function(){return this.C.publishersAttached},getDetachData:function(){return this.C.detachData},q:function(e){this.C.publishersAttached=!0,this.C.detachData=e.detachData,this.emitChange()},K:function(){this.C.publishersAttached=!1,this.C.detachData=[],this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={holdback:0,isGlobalHoldback:null,listTargetingCookies:[],revision:null,projectId:null,accountId:null,activationId:null,dcpServiceId:null,dcpKeyfieldLocators:[]},this.on(r.DATA_LOADED,this.W),this.on(r.ACTIVATE,this.Q),this.on(r.RECORD_GLOBAL_DECISION,this.J)},getRevision:function(){return this.C.revision},getGlobalHoldbackThreshold:function(){return this.C.holdback},getProjectId:function(){return this.C.projectId},getAccountId:function(){return this.C.accountId},getActivationId:function(){return this.C.activationId},isGlobalHoldback:function(){return!!this.C.isGlobalHoldback},getListTargetingCookieNames:function(){return this.C.listTargetingCookies.slice()},getDCPServiceId:function(){return this.C.dcpServiceId},getDCPKeyfieldLocators:function(){return this.C.dcpKeyfieldLocators},Q:function(e){this.C.activationId=e.activationId,this.C.isGlobalHoldback=null},J:function(e){var t=e.isGlobalHoldback;if(null!==this.C.isGlobalHoldback&&this.C.isGlobalHoldback!==t)throw new Error("Attempted to change already set global holdback!");this.C.isGlobalHoldback=t,this.emitChange()},W:function(e){var t=i.pick(e.data,["holdback","accountId","projectId","revision","listTargetingCookies","dcpServiceId","dcpKeyfieldLocators"]);if(0!==i.keys(t).length){var n={listTargetingCookies:[],dcpServiceId:null,dcpKeyfieldLocators:[]};i.extend(this.C,n,t),this.emitChange()}}}},function(e,t,n){var i=n(14);e.exports={initialize:function(){this.C={effectiveReferrer:null,effectiveVariationId:null},this.on(i.INITIALIZE_STATE,this.X)},getEffectiveReferrer:function(){return this.C.effectiveReferrer},getEffectiveVariationId:function(){return this.C.effectiveVariationId},X:function(e){e.effectiveReferrer&&(this.C.effectiveReferrer=e.effectiveReferrer),e.effectiveVariationId&&(this.C.effectiveVariationId=e.effectiveVariationId),this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.F),this.on(r.SET_INTEGRATION_SETTINGS,this.Z)},F:function(e){i.isEmpty(e.data.integrationSettings)||(i.each(e.data.integrationSettings,function(e){this.C[e.id]=e}.bind(this)),this.emitChange())},Z:function(e){var t=this.C[e.id];t?i.extend(t,e):this.C[e.id]=e},getAll:function(){return i.cloneDeep(i.values(this.C))},get:function(e){return i.cloneDeep(this.C[e])}}},function(e,t,n){var i=n(5),r=n(4),a=n(14);e.exports={initialize:function(){this.C={},this.on(a.LOAD_PERSISTED_LAYER_STATES,this.ee),this.on(a.RECORD_LAYER_DECISION,this.te),this.on(a.TRACK_DECISION_EVENT,this.ne),this.on(a.ACTION_EXECUTED,this.ie)},getLayerState:function(e){return i.cloneDeep(this.C[e])},getLayerStates:function(){var e=[];for(var t in this.C)e.push(i.cloneDeep(this.C[t]));return e},ee:function(e){e.merge||(this.C={}),i.each(e.layerStates,function(t){var n=t.layerId,r=this.C[n];(!e.merge||i.isUndefined(r)||t.decisionTimestamp>(r.decisionTimestamp||0))&&(this.C[n]=t)}.bind(this)),this.emitChange()},ie:function(e){var t=e.action.layerId;return this.C[t]?(this.C[t].actionTriggered=!0,this.C[t].actionSessionId=e.sessionId,this.C[t].actionActivationId=e.activationId,this.C[t].actionTimestamp=e.timestamp,void this.emitChange()):void r.warn("No Campaign registered for action executed",e)},te:function(e){this.C[e.layerId]={layerId:e.layerId,revision:e.revision,decision:e.decision,decisionSessionId:e.sessionId,decisionActivationId:e.activationId,decisionTimestamp:e.timestamp,decisionEventId:null,actionTriggered:!1,actionSessionId:null,actionActivationId:null,actionTimestamp:null,decisionTicket:e.decisionTicket,decisionTicketTimestamp:e.timestamp},this.emitChange()},ne:function(e){var t=e.layerId;return this.C[t]?(this.C[t].decisionEventId=e.decisionEvent.uid,void this.emitChange()):void r.warn("Campaign not registered",t)}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.F)},F:function(e){i.isEmpty(e.data.layers)||(i.each(e.data.layers,function(e){this.C[e.id]=e}.bind(this)),this.emitChange())},getAll:function(){return i.cloneDeep(i.values(this.C))},get:function(e){return i.cloneDeep(this.C[e])},getLayerByExperimentId:function(e){var t=i.values(this.C),n=i.find(t,function(t){return i.find(t.experiments,{id:e})});return n},getExperimentByVariationId:function(e){var t,n=i.values(i.cloneDeep(this.C));return i.some(n,function(n){return i.some(n.experiments,function(n){return i.find(n.variations,{id:e})&&(t=n),t}),t}),t}}},function(e,t,n){var i=n(14);e.exports={initialize:function(){this.C={logs:[]},this.on(i.LOG,this.re)},getLogs:function(){return this.C.logs},re:function(e){this.C.logs.push(e),this.emitChange()},D:function(){return this.C.logs.slice()}}},function(e,t,n){var i=n(5),r=n(14),a=1e3;e.exports={initialize:function(){this.C={},this.on(r.ADD_PENDING_EVENT,this.ae),this.on(r.REMOVE_PENDING_EVENT,this.oe),this.on(r.LOAD_PENDING_EVENTS,this.se)},getEvents:function(){return this.C},ae:function(e){i.keys(this.C).length>=a&&this.ue(),this.C[e.id]||(this.C[e.id]={id:e.id,timeStamp:e.timeStamp,data:e.data},this.emitChange())},oe:function(e){delete this.C[e.id],this.emitChange()},se:function(e){this.C=e.events,this.ue(),this.emitChange()},ue:function(){for(var e=i.sortBy(this.C,"timeStamp"),t=0;t<=e.length-a;t++)delete this.C[e[t].id];this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14),a=n(4);e.exports={initialize:function(){this.C={visitorProfileProviders:[],viewProviders:[],eventPublishers:{},eventFilters:{},audienceMatchers:{},viewMatchers:{},analyticsTrackers:[],viewTagLocators:{},userFeatureDefs:{},apiModules:{},changeAppliers:{},deciders:{}},this.on(r.REGISTER_VISITOR_PROFILE_PROVIDER,this.ce),this.on(r.REGISTER_VIEW_PROVIDER,this.le),this.on(r.REGISTER_AUDIENCE_MATCHER,this.de),this.on(r.REGISTER_VIEW_MATCHER,this.fe),this.on(r.REGISTER_EVENT_PUBLISHER,this.ge),this.on(r.REGISTER_EVENT_FILTER,this.pe),this.on(r.REGISTER_ANALYTICS_TRACKER,this.ve),this.on(r.REGISTER_VIEW_TAG_LOCATOR,this.he),this.on(r.REGISTER_USER_FEATURE,this._e),this.on(r.REGISTER_API_MODULE,this.Ee),this.on(r.REGISTER_CHANGE_APPLIER,this.Ie),this.on(r.REGISTER_DECIDER,this.me)},getAnalyticsTrackingFns:function(e){var t=n(15),r=[];return i.each(this.C.analyticsTrackers,function(n){if(n[e])try{r.push(t.evaluate(n[e]))}catch(i){a.error(i)}}),r},getApiModule:function(e){return this.C.apiModules[e]},getVisitorProfileProviders:function(){return this.C.visitorProfileProviders},getChangeApplier:function(e){return this.C.changeAppliers[e]},getViewProviders:function(){return this.C.viewProviders},getEventPublishers:function(){return this.C.eventPublishers},getEventFilter:function(e){return this.C.eventFilters[e]},getAudienceMatchersMap:function(){return this.C.audienceMatchers},getViewMatchersMap:function(){return this.C.viewMatchers},getViewTagLocatorsMap:function(){return this.C.viewTagLocators},getUserFeatureDefs:function(){return i.toArray(this.C.userFeatureDefs)},getDecider:function(e){if(!this.C.deciders[e])throw new Error("No decider found for policy: "+e);return this.C.deciders[e]},Ee:function(e){this.C.apiModules[e.name]=e.module},ce:function(e){this.C.visitorProfileProviders.push(e.provider),this.emitChange()},pe:function(e){this.C.eventFilters[e.filterType]=e.filter},ge:function(e){this.C.eventPublishers[e.eventType]=e.event},de:function(e){this.C.audienceMatchers[e.matchesType]=e.matcher,this.emitChange()},he:function(e){this.C.viewTagLocators[e.locatorType]=e.locatorFn,this.emitChange()},le:function(e){this.C.viewProviders.push(e.provider),this.emitChange()},fe:function(e){this.C.viewMatchers[e.matchesType]=e.matcher,this.emitChange()},ve:function(e){this.C.analyticsTrackers.push(e.tracker),this.emitChange()},_e:function(e){var t=e.def,n=t.type+"|"+t.name;this.C.userFeatureDefs[n]=e.def,this.emitChange()},Ie:function(e){this.C.changeAppliers[e.type]=e.changeApplier,this.emitChange()},me:function(e){this.C.deciders[e.type]=e.decider,this.emitChange()}}},function(e,t,n){var i=n(14);e.exports={initialize:function(){this.C={},this.on(i.SET_VISITOR_ATTRIBUTE_PENDING,this.ye)},getPendingAttributeValue:function(e){if(this.C[e])return this.C[e].pending},ye:function(e){this.C[e.key]={pending:e.pending},this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14),a=n(8),o=n(38),s=18e5;e.exports={initialize:function(){this.C={lastSessionTimestamp:0,sessionId:null},this.on(r.REFRESH_SESSION,this.Se),this.on(r.LOAD_SESSION_STATE,this.Te)},getState:function(){return i.cloneDeep(this.C)},getSessionId:function(){return this.C.sessionId},Te:function(e){this.C.sessionId=e.sessionId,this.C.lastSessionTimestamp=e.lastSessionTimestamp,this.emitChange()},Se:function(){var e=a.now(),t=this.C.lastSessionTimestamp;(!this.C.sessionId||e-t>s)&&(this.C.sessionId=o.generate()),this.C.lastSessionTimestamp=e,this.emitChange()}}},function(e,t){t.generate=function n(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n)}},function(e,t,n){var i=n(5),r=n(4),a=n(14),o={globalTags:{},viewStates:{}};e.exports={initialize:function(){this.A(),this.on(a.REGISTER_VIEWS,this.Ae),this.on(a.SET_VIEW_ACTIVE_STATE,this.De),this.on(a.UPDATE_PARSED_VIEW_METADATA,this.we),this.on(a.UPDATE_USER_SUPPLIED_METADATA,this.Oe),this.on(a.TRACK_VIEW_ACTIVATED_EVENT,this.Re),this.on(a.SET_GLOBAL_TAGS,this.be),this.on(a.ACTIVATE,this.A)},getAll:function(){var e={};for(var t in this.C.viewStates)e[t]=this.getViewState(t);return e},getViewState:function(e){var t=i.cloneDeep(this.C.viewStates[e]),n=this.C.globalTags;return t.metadata=i.extend({},t.parsedMetadata,n,t.userSuppliedMetadata),t},getActiveViewTags:function(){var e=this.getActiveViewStates(),t=i.map(e,function(e){return e.metadata}),n=[{}].concat(t);return i.extend.apply(i,n)},getActivationEventId:function(e){return this.C.viewStates[e]?this.C.viewStates[e].activationEventId:null},getActiveViewStates:function(){return i.reduce(this.C.viewStates,function(e,t,n){return this.isViewActive(n)&&e.push(this.getViewState(n)),e}.bind(this),[])},isViewActive:function(e){var t=this.C.viewStates[e];return t||r.warn("No Page registered with id",e),!!t.isActive},getGlobalTags:function(){return i.cloneDeep(this.C.globalTags)},A:function(){this.C=i.cloneDeep(o),this.emitChange()},Ae:function(e){i.each(e.views,function(e){var t=e.id;this.C.viewStates[t]={id:t,isActive:!1,activatedTimestamp:null,activationEventId:null,parsedMetadata:{},userSuppliedMetadata:{}}}.bind(this)),this.emitChange()},De:function(e){var t=e.view.id;if(!this.C.viewStates[t])throw new Error("No view exists with id "+t);this.C.viewStates[t].isActive=e.isActive,e.isActive?this.C.viewStates[t].activatedTimestamp=e.timestamp:(this.C.viewStates[t].parsedMetadata={},this.C.viewStates[t].userSuppliedMetadata={}),this.emitChange()},we:function(e){var t=e.viewId;if(!this.C.viewStates[t])throw new Error("No view exists with id "+t);i.merge(this.C.viewStates[t].parsedMetadata,e.metadata),this.emitChange()},Oe:function(e){var t=e.viewId;if(!this.C.viewStates[t])throw new Error("No view exists with id "+t);i.merge(this.C.viewStates[t].userSuppliedMetadata,e.metadata),this.emitChange()},Re:function(e){var t=e.viewId;this.C.viewStates[t]&&(this.C.viewStates[t].activationEventId=e.eventData.eventId,this.emitChange())},be:function(e){i.extend(this.C.globalTags,e),this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.F)},getAll:function(){return i.cloneDeep(i.values(this.C))},get:function(e){return i.cloneDeep(this.C[e])},getByApiName:function(e){return i.cloneDeep(i.find(i.values(this.C),{apiName:e}))},F:function(e){i.isEmpty(e.data.views)||(i.each(e.data.views,function(e){this.C[e.id]=e}.bind(this)),this.emitChange())}}},function(e,t,n){var i=n(14);e.exports={initialize:function(){this.C={},this.on(i.SET_VISITOR_ATTRIBUTE,this.Le),this.on(i.LOAD_EXISTING_VISITOR_PROFILE,this.Ne)},getVisitorProfile:function(){return this.C},getAttribute:function(e,t){var n=this.C;return t&&(n=n[t]||{}),n[e]},Ne:function(e){this.C=e.visitorProfile,this.emitChange()},Le:function(e){var t=this.C;e.type&&(t=this.C[e.type]=this.C[e.type]||{}),t[e.key]=e.value,this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={},this.on(r.DATA_LOADED,this.Ce)},getCustomBehavioralAttributes:function(){return i.filter(this.C,function(e){return!!e.rule_json})},getVisitorAttribute:function(e){var t=i.values(this.C);if(e.datasourceId&&(t=i.filter(t,{dcp_datasource_id:String(e.datasourceId)})),e.attributeName&&e.attributeId)throw new Error("Must not specify both attribute name and attribute ID");if(e.attributeId){var n=this.C[e.attributeId];if(!n)throw new Error("Unrecognized attribute ID: "+e.attributeId);return n}if(e.attributeName){var r=i.filter(t,{name:e.attributeName});if(!r.length)throw new Error("Unrecognized attribute name: "+e.attributeName);if(r.length>1)throw new Error("Too many attributes with name: "+e.attributeName);return r[0]}throw new Error("Must specify attribute name or attribute ID")},Ce:function(e){i.isEmpty(e.data.visitorAttributes)||(i.each(e.data.visitorAttributes,function(e){this.C[e.id]=e}.bind(this)),this.emitChange())}}},function(e,t,n){var i=(n(5),n(14));n(44).Event;e.exports={initialize:function(){this.C={events:[],foreignEvents:{},foreignEventQueues:{}},this.on(i.SET_VISITOR_EVENTS,this.F),this.on(i.SET_FOREIGN_VISITOR_EVENTS,this.Ve),this.on(i.SET_FOREIGN_VISITOR_EVENT_QUEUE,this.Fe)},getEvents:function(){return this.C.events},getForeignEvents:function(){return this.C.foreignEvents},getForeignEventQueues:function(){return this.C.foreignEventQueues},F:function(e){this.C.events=e,this.emitChange()},Ve:function(e){this.C.foreignEvents[e.key]=e.value},Fe:function(e){this.C.foreignEventQueues[e.key]=e.value}}},function(e,t,n){function i(e,t,n,i,r){this[o.FIELDS.NAME]=e,this[o.FIELDS.TYPE]=t,a.isString(n)&&n.trim().length>0&&(this[o.FIELDS.CATEGORY]=n),i&&a.keys(i).length>0&&(this[o.FIELDS.OPTIONS]=i),a.isUndefined(r)||(this[o.FIELDS.REVENUE]=r)}function r(e,t,n){this.eventBase=e,this[o.FIELDS.TIME]=t,a.isUndefined(n)||(this[o.FIELDS.SESSION_ID]=n)}var a=n(5),o=n(45),s=n(46),u=n(48).getFieldValue;t.EventBase=i,i.prototype.digest=function(){var e=function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)},t=[];if(t.push(e(o.FIELDS.NAME,this[o.FIELDS.NAME])),t.push(e(o.FIELDS.TYPE,this[o.FIELDS.TYPE])),this[o.FIELDS.CATEGORY]&&t.push(e(o.FIELDS.CATEGORY,this[o.FIELDS.CATEGORY])),this[o.FIELDS.REVENUE]&&t.push(e(o.FIELDS.REVENUE,this[o.FIELDS.REVENUE])),!this[o.FIELDS.OPTIONS])return t.join("&");var n=this[o.FIELDS.OPTIONS]||{},i=a.filter(a.keys(n),function(e){return n.hasOwnProperty(e)});i=i.sort();for(var r=0;r<i.length;r++)t.push(e(i[r],n[i[r]]));return t.join("&")},i.prototype.hash=function(){return this.hash_?this.hash_:(this.hash_=s.hashToHex(s.toByteString(this.digest()),s.Seed.BEHAVIOR_EVENT),this.hash_)},i.prototype.setHash=function(e){this.hash_=e},i.prototype.reHash=function(){this.hash_=null,this.hash()},i.prototype.equals=function(e){if(this.hash()!==e.hash())return!1;if(this[o.FIELDS.NAME]!==e[o.FIELDS.NAME]||this[o.FIELDS.TYPE]!==e[o.FIELDS.TYPE]||this[o.FIELDS.CATEGORY]!==e[o.FIELDS.CATEGORY]||this[o.FIELDS.REVENUE]!==e[o.FIELDS.REVENUE])return!1;if(!this[o.FIELDS.OPTIONS]&&!e[o.FIELDS.OPTIONS])return!0;var t=this[o.FIELDS.OPTIONS]||{},n=e[o.FIELDS.OPTIONS]||{},i=a.filter(a.keys(t),function(e){return t.hasOwnProperty(e)}),r=a.filter(a.keys(n),function(e){return n.hasOwnProperty(e)});if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++){var u=i[s];if(!n.hasOwnProperty(u)||t[u]!==n[u])return!1}return!0},i.prototype.getValueOrDefault=function(e,t){var n=u(this,e);return a.isUndefined(n)?t:n},i.prototype.setFieldValue=function(e,t){e!==o.FIELDS.NAME&&e!==o.FIELDS.TYPE&&e!==o.FIELDS.CATEGORY&&e!==o.FIELDS.REVENUE&&e!==o.FIELDS.OPTIONS||(this[e]=t,this.reHash())},t.Event=r,r.prototype.getValueOrDefault=function(e,t){if(0===e.length)return this;var n={};n[o.FIELDS.TIME]=this[o.FIELDS.TIME],n[o.FIELDS.SESSION_ID]=this[o.FIELDS.SESSION_ID];var i=u(n,e);return a.isUndefined(i)?this.eventBase.getValueOrDefault(e,t):i},r.prototype.setFieldValue=function(e,t){e===o.FIELDS.TIME||e===o.FIELDS.SESSION_ID?this[e]=t:this.eventBase.setFieldValue(e,t)};var c={n:"name",y:"type",c:"category",r:"revenue",s:"session_id",o:"tags"};r.prototype.readableEvent=function(){var e,t,n=function(e){return a.isString(e)?'"'+e+'"':e},i=this,r=[];a.each([o.FIELDS.NAME,o.FIELDS.TYPE,o.FIELDS.CATEGORY,o.FIELDS.REVENUE,o.FIELDS.SESSION_ID],function(o){e=c[o],t=i.getValueOrDefault([o]),a.isUndefined(t)||r.push(e+": "+n(t))});var s=[];if(e=c[o.FIELDS.OPTIONS],t=i.getValueOrDefault([o.FIELDS.OPTIONS]),a.isUndefined(t)||(a.each(t,function(e,t){s.push(t+": "+String(n(e)))}),r.push(e+": {\n\t\t"+s.join(",\n\t\t")+"\n\t}")),t=i.getValueOrDefault([o.FIELDS.TIME]),a.isNumber(t)&&(t=n(new Date(t).toString())),!a.isUndefined(t)){var u="timestamp";r.push(u+": "+t)}return"{\n\t"+r.join(",\n\t")+"\n}"},r.prototype.toObject=function(e){var t,n,i={},r=this;a.each([o.FIELDS.NAME,o.FIELDS.TYPE,o.FIELDS.CATEGORY,o.FIELDS.REVENUE,o.FIELDS.OPTIONS],function(e){t=c[e],n=r.getValueOrDefault([e],e===o.FIELDS.OPTIONS?{}:void 0),a.isUndefined(n)||(i[t]=n)});var s=c[o.FIELDS.OPTIONS],u=c[o.FIELDS.REVENUE];if(e&&e.revenueAsTag&&i[u]&&(i[s]=i[s]||{},i[s][u]=i[u],delete i[u]),n=r.getValueOrDefault([o.FIELDS.TIME]),a.isNumber(n))if(e&&e.timeAsTimestamp){var l="timestamp";i[l]=new Date(n)}else{var d="time";i[d]=n}return i}},function(e,t){t.FIELDS={NAME:"n",TIME:"t",TYPE:"y",CATEGORY:"c",REVENUE:"r",SESSION_ID:"s",OPTIONS:"o"},t.FIELDS_V0_2={name:t.FIELDS.NAME,time:t.FIELDS.TIME,type:t.FIELDS.TYPE,category:t.FIELDS.CATEGORY,tags:t.FIELDS.OPTIONS}},function(e,t,n){var i=n(47).v3,r={IGNORING:0,BUCKETING:1,FALLBACK:2,HOLDBACK:3,BEHAVIOR_EVENT:2716770798},a=Math.pow(2,32),o=function(e,t,n){return Math.floor(u(e,t)*n)},s=function(e,t){var n=i(e,t);return(n>>>16).toString(16)+(65535&n).toString(16)},u=function(e,t){var n=i(e,t);return(n>>>0)/a},c=function(e){var t=String.fromCharCode;return e.replace(/[\S\s]/gi,function(e){e=e.charCodeAt(0);var n=t(255&e);return e>255&&(n=t(e>>>8&255)+n),e>65535&&(n=t(e>>>16)+n),n})};e.exports={Seed:r,hashToHex:s,hashToInt:o,hashToReal:u,toByteString:c}},function(e,t,n){!function(){function t(e,t){for(var n,i=e.length,r=t^i,a=0;i>=4;)n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^n,i-=4,++a;switch(i){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r^=255&e.charCodeAt(a),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),r^=r>>>15,r>>>0}function n(e,t){var n,i,r,a,o,s,u,c;for(n=3&e.length,i=e.length-n,r=t,o=3432918353,s=461845907,c=0;c<i;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,r^=u,r=r<<13|r>>>19,a=5*(65535&r)+((5*(r>>>16)&65535)<<16)&4294967295,r=(65535&a)+27492+(((a>>>16)+58964&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:u^=255&e.charCodeAt(c),u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,r^=u}return r^=e.length,r^=r>>>16,r=2246822507*(65535&r)+((2246822507*(r>>>16)&65535)<<16)&4294967295,r^=r>>>13,r=3266489909*(65535&r)+((3266489909*(r>>>16)&65535)<<16)&4294967295,r^=r>>>16,r>>>0}var i=n;i.v2=t,i.v3=n;e.exports=i}()},function(e,t,n){var i=n(5);t.getFieldValue=function(e,t){if(i.isArray(t)){for(var n=e,r=0;r<t.length;r++){var a=t[r];if(!i.isObject(n)||!n.hasOwnProperty(a))return;n=n[a]}return n}}},function(e,t,n){var i=n(14);e.exports={initialize:function(){this.C={baseMap:{},eventQueue:[],lastEvent:null,initialized:!1,cleared:!1},this.on(i.UPDATE_BEHAVIOR_STORE,this.Pe)},getBaseMap:function(){return this.C.baseMap},getEventQueue:function(){return this.C.eventQueue},getLastEvent:function(){return this.C.lastEvent},getCleared:function(){return this.C.cleared},getInitialized:function(){return this.C.initialized},Pe:function(e){this.C[e.key]=e.value}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={randomId:null,UUID:null,variationIdMap:{}},this.on(r.SET_VISITOR_ID,this.F),this.on(r.UPDATE_VARIATION_ID_MAP,this.xe),this.on(r.MERGE_VARIATION_ID_MAP,this.ke)},getBucketingId:function(){return this.getUUID()||this.getRandomId()},getRandomId:function(){return this.C.randomId},getUUID:function(){return this.C.UUID},getVariationIdMap:function(){return i.cloneDeep(this.C.variationIdMap)},xe:function(e){var t=this.C.variationIdMap,n=t[e.layerId]||{};n[e.experimentId]!==e.variationId&&(n[e.experimentId]=e.variationId,this.C.variationIdMap[e.layerId]=n,this.emitChange())},ke:function(e){var t=this.getVariationIdMap(),n=e.variationIdMap;i.merge(n,t),this.C.variationIdMap=n,this.emitChange()},F:function(e){i.extend(this.C,e),this.emitChange()}}},function(e,t,n){var i=n(5),r=n(14);e.exports={initialize:function(){this.C={target:null,origin:null,messages:[],subscribers:[]},this.on(r.XDOMAIN_SET_TARGET,this.Ue),this.on(r.XDOMAIN_SET_ORIGIN,this.Me),this.on(r.XDOMAIN_SET_MESSAGE,this.Ge),this.on(r.XDOMAIN_ADD_SUBSCRIBER,this.Be)},getTarget:function(){return this.C.target},getMessages:function(){return i.cloneDeep(this.C.messages)},getNextMessageId:function(){return this.C.messages.length},getMessageById:function(e){return this.C.messages[e]},getOrigin:function(){return this.C.origin},getSubscribers:function(){return this.C.subscribers},Ue:function(e){this.C.target=e},Me:function(e){this.C.origin=e},Ge:function(e){this.C.messages[e.messageId]=e.message},Be:function(e){this.C.subscribers.push(e.subscriber)}}},function(e,t,n){var i=n(53).Promise,r=n(5),a=n(14),o=n(11),s=n(4),u=n(8);t.isCORSSupported=function(){return"withCredentials"in new XMLHttpRequest},t.request=function(e,n){return e=r.extend({method:"GET",async:!0},e),n&&o.dispatch(a.ADD_PENDING_EVENT,{id:n,timeStamp:u.now(),data:e}),new i(function(i,u){if(!t.isCORSSupported())return u("CORS is not supported");var c=new XMLHttpRequest;c.onload=function(){n&&o.dispatch(a.REMOVE_PENDING_EVENT,{id:n}),e.success&&e.success(c),i(c)},c.onerror=function(){n&&o.dispatch(a.REMOVE_PENDING_EVENT,{id:n}),e.error&&e.error(c),u(c)},r.isObject(e.data)&&(e.data=JSON.stringify(e.data)),c.open(e.method,e.url,e.async),e.contentType&&c.setRequestHeader("Content-Type",e.contentType),n&&s.debug("Sending event ",n),c.send(e.data)})}},function(e,t,n){var i;(function(e,r,a,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.3.0
	 */
(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function u(e){return"function"==typeof e}function c(e){return"object"==typeof e&&null!==e}function l(e){W=e}function d(e){$=e}function f(){var t=e.nextTick,n=e.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(t=r),function(){t(_)}}function g(){return function(){K(_)}}function p(){var e=0,t=new te(_),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function v(){var e=new MessageChannel;return e.port1.onmessage=_,function(){e.port2.postMessage(0)}}function h(){return function(){setTimeout(_,1)}}function _(){for(var e=0;e<X;e+=2){var t=re[e],n=re[e+1];t(n),re[e]=void 0,re[e+1]=void 0}X=0}function E(){try{var e=n(56);return K=e.runOnLoop||e.runOnContext,g()}catch(t){return h()}}function I(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function S(e){try{return e.then}catch(t){return ue.error=t,ue}}function T(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function A(e,t,n){$(function(e){var i=!1,r=T(n,t,function(n){i||(i=!0,t!==n?O(e,n):b(e,n))},function(t){i||(i=!0,L(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,L(e,r))},e)}function D(e,t){t._state===oe?b(e,t._result):t._state===se?L(e,t._result):N(t,void 0,function(t){O(e,t)},function(t){L(e,t)})}function w(e,t){if(t.constructor===e.constructor)D(e,t);else{var n=S(t);n===ue?L(e,ue.error):void 0===n?b(e,t):u(n)?A(e,t,n):b(e,t)}}function O(e,t){e===t?L(e,m()):s(t)?w(e,t):b(e,t)}function R(e){e._onerror&&e._onerror(e._result),C(e)}function b(e,t){e._state===ae&&(e._result=t,e._state=oe,0!==e._subscribers.length&&$(C,e))}function L(e,t){e._state===ae&&(e._state=se,e._result=t,$(R,e))}function N(e,t,n,i){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+oe]=n,r[a+se]=i,0===a&&e._state&&$(C,e)}function C(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,r,a=e._result,o=0;o<t.length;o+=3)i=t[o],r=t[o+n],i?P(n,i,r,a):r(a);e._subscribers.length=0}}function V(){this.error=null}function F(e,t){try{return e(t)}catch(n){return ce.error=n,ce}}function P(e,t,n,i){var r,a,o,s,c=u(n);if(c){if(r=F(n,i),r===ce?(s=!0,a=r.error,r=null):o=!0,t===r)return void L(t,y())}else r=i,o=!0;t._state!==ae||(c&&o?O(t,r):s?L(t,a):e===oe?b(t,r):e===se&&L(t,r))}function x(e,t){try{t(function(t){O(e,t)},function(t){L(e,t)})}catch(n){L(e,n)}}function k(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(I),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?b(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&b(n.promise,n._result))):L(n.promise,n._validationError())}function U(e){return new le(this,e).promise}function M(e){function t(e){O(r,e)}function n(e){L(r,e)}var i=this,r=new i(I);if(!J(e))return L(r,new TypeError("You must pass an array to race.")),r;for(var a=e.length,o=0;r._state===ae&&o<a;o++)N(i.resolve(e[o]),void 0,t,n);return r}function G(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(I);return O(n,e),n}function B(e){var t=this,n=new t(I);return L(n,e),n}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Y(e){this._id=ve++,this._state=void 0,this._result=void 0,this._subscribers=[],I!==e&&(u(e)||j(),this instanceof Y||H(),x(this,e))}function z(){var e;if("undefined"!=typeof a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(e.Promise=he)}var q;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K,W,Q,J=q,X=0,$=({}.toString,function(e,t){re[X]=e,re[X+1]=t,X+=2,2===X&&(W?W(_):Q())}),Z="undefined"!=typeof window?window:void 0,ee=Z||{},te=ee.MutationObserver||ee.WebKitMutationObserver,ne="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ie="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3);Q=ne?f():te?p():ie?v():void 0===Z?E():h();var ae=void 0,oe=1,se=2,ue=new V,ce=new V;k.prototype._validateInput=function(e){return J(e)},k.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},k.prototype._init=function(){this._result=new Array(this.length)};var le=k;k.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,i=e._input,r=0;n._state===ae&&r<t;r++)e._eachEntry(i[r],r)},k.prototype._eachEntry=function(e,t){var n=this,i=n._instanceConstructor;c(e)?e.constructor===i&&e._state!==ae?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(i.resolve(e),t):(n._remaining--,n._result[t]=e)},k.prototype._settledAt=function(e,t,n){var i=this,r=i.promise;r._state===ae&&(i._remaining--,e===se?L(r,n):i._result[t]=n),0===i._remaining&&b(r,i._result)},k.prototype._willSettleAt=function(e,t){var n=this;N(e,void 0,function(e){n._settledAt(oe,t,e)},function(e){n._settledAt(se,t,e)})};var de=U,fe=M,ge=G,pe=B,ve=0,he=Y;Y.all=de,Y.race=fe,Y.resolve=ge,Y.reject=pe,Y._setScheduler=l,Y._setAsap=d,Y._asap=$,Y.prototype={constructor:Y,then:function(e,t){var n=this,i=n._state;if(i===oe&&!e||i===se&&!t)return this;var r=new this.constructor(I),a=n._result;if(i){var o=arguments[i-1];$(function(){P(i,r,o,a)})}else N(n,r,e,t);return r},"catch":function(e){return this.then(null,e)}};var _e=z,Ee={Promise:he,polyfill:_e};n(57).amd?(i=function(){return Ee}.call(t,n,t,o),!(void 0!==i&&(o.exports=i))):"undefined"!=typeof o&&o.exports?o.exports=Ee:"undefined"!=typeof this&&(this.ES6Promise=Ee),_e()}).call(this)}).call(t,n(54),n(55).setImmediate,function(){return this}(),n(7)(e))},function(e,t){function n(e){return u===setTimeout?setTimeout(e,0):u.call(null,e,0)}function i(e){c===clearTimeout?clearTimeout(e):c.call(null,e)}function r(){g&&d&&(g=!1,d.length?f=d.concat(f):p=-1,f.length&&a())}function a(){if(!g){var e=n(r);g=!0;for(var t=f.length;t;){for(d=f,f=[];++p<t;)d&&d[p].run();p=-1,t=f.length}d=null,g=!1,i(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var u,c,l=e.exports={};!function(){try{u=setTimeout}catch(e){u=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(e){c=function(){throw new Error("clearTimeout is not defined")}}}();var d,f=[],g=!1,p=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new o(e,t)),1!==f.length||g||n(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,n){(function(e,i){function r(e,t){this._id=e,this._clearFn=t}var a=n(54).nextTick,o=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,i=!(arguments.length<2)&&s.call(arguments,1);return u[n]=!0,a(function(){u[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete u[e]}}).call(t,n(55).setImmediate,n(55).clearImmediate)},function(e,t){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){var i=n(10),r=n(9);t.getLanguage=function(){return i.getNavigatorLanguage()},t.getQueryParams=r.getQueryParams,t.getQueryParamValue=r.getQueryParamValue,t.getUrl=function(){return i.getHref()}},function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(60)),e.registerDependency("providers/default_jsonp",n(61)),e.registerDependency("helpers/generate_analytics_value",n(62)),e.registerDependency("matchers/key_value",n(63)),e.registerDependency("sources/browser",n(58)),e.registerDependency("sources/geo",n(65)),e.registerDependency("sources/jsonp",n(69)),e.registerDependency("sources/poll",n(70)),e.registerDependency("xhr",n(52)),e.registerDependency("env/date",n(8)),e.registerDependency("env/document",n(68)),e.registerDependency("env/local_storage",n(71)),e.registerDependency("env/window",n(10))}},function(e,t){e.exports={provides:"visitorId",getter:["stores/visitor_id",function(e){return e.getRandomId()}]}},function(e,t){e.exports=function(e){return{isAsync:!0,getter:["sources/jsonp","stores/integration_settings",function(t,n){var i=n.get(e),r=t.buildURL(i.url,i.cbParam);return t.fetchData(e,r)}]}}},function(e,t,n){function i(e){return e.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_")}function r(e,t){var n="";return a.isEmpty(t)?n=s:(n=a.reduce(t,function(t,n){var r=e.get(n);return t+i(r.name?r.name:r.id)+","},""),n=n.slice(0,-1)),n}var a=n(5),o=":",s="everyone_else",u="";t.generateAnalyticsString=function(e,t,n,s,c){var l=2*o.length,d={layer:i(t.name||u),experiment:i(n.name||u),variation:i(s.name||u)};d.experiment===u&&(d.experiment=r(e,n.audienceIds));var f={layer:"("+i(t.id)+")",experiment:"("+i(n.id)+")",variation:"("+i(s.id)+")"},g=a.reduce(f,function(e,t){return e+t.length},0);if(g+l>c)throw new Error("The analytics string size is too low to send the campaign, experiment, and variation IDs.");var p=c-g-l,v={};v.variation=Math.min(d.variation.length,Math.floor(p/3)),p-=v.variation,v.experiment=Math.min(d.experiment.length,Math.floor(p/2)),p-=v.experiment,v.layer=p;var h={};return a.each(d,function(e,t){h[t]=e.substring(0,v[t])}),[h.layer+f.layer,h.experiment+f.experiment,h.variation+f.variation].join(o)}},function(e,t,n){var i=n(5),r=n(64),a=n(48).getFieldValue;e.exports=function(e,t){var n=a(e,t.name.split("."));return i.isArray(n)?i.some(n,i.partial(r.hasMatch,t.value,t.match)):r.hasMatch(t.value,t.match,n)}},function(e,t,n){var i=n(5);t.hasMatch=function(e,t,n){var r=!i.isUndefined(n)&&null!==n,a=!i.isUndefined(e)&&null!==e,o=t||(a?"exact":"exists");switch(o){case"exists":return r;case"exact":return r&&String(n)===e;case"substring":return r&&String(n).indexOf(e)>-1;case"regex":try{if(a&&r){var s=new RegExp(e);return s.test(String(n))}return!1}catch(u){}return!1;case"range":var c=e.split(":"),l=parseFloat(c[0]),d=parseFloat(c[1]),f=parseFloat(n);return f>=l&&f<=d;default:return!1}}},function(e,t,n){function i(){a.addScriptAsync(s)}var r=n(66),a=n(67),o="cdn3";t.getIP=function(){return r.makeAsyncRequest(o,i).then(function(e){return e.ip})},t.getIPDerivedGeolocation=function(){return r.makeAsyncRequest(o,i).then(function(e){return e.location})};var s="//cdn3.optimizely.com/js/geo2.js"},function(e,t,n){var i=n(53).Promise,r=n(11),a=n(14),o=n(15),s=o.get("stores/async_request");t.makeAsyncRequest=function(e,t){var n=s.getPromise(e);if(n)return n;var o,u,c=new i(function(e,t){o=e,u=t});return t&&t(),r.dispatch(a.REGISTER_ASYNC_DEFERRED,{source:e,promise:c,resolver:o,rejecter:u}),c},t.resolveRequest=function(e,t){r.dispatch(a.RESOLVE_DEFERRED,{source:e,resolveWith:t})},t.rejectRequest=function(e,t){r.dispatch(a.REJECT_DEFERRED,{source:e,rejectWith:t})}},function(e,t,n){var i=n(68),r=n(4),a=n(52);t.addScriptAsync=function(e,t){var n=i.querySelector("head"),a=i.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,t&&(a.onload=t),n.insertBefore(a,n.firstChild),r.debug("Asynchronously requesting "+e)},t.addScriptSync=function(e,n){try{var o="optimizely_synchronous_script_"+Math.floor(1e5*Math.random());if(e.indexOf('"')!==-1)return void r.error("Blocked attempt to load unsafe script: "+e);if(i.write('<script id="'+o+'" src="'+e+'"></script>'),!i.querySelector("#"+o))throw new Error("Document.write failed to append script");n&&n()}catch(s){r.debug("Document.write failed for "+e+": "+s.message);var u=function(e){var t=new Function(e.responseText);t(),n&&n()};return a.request({url:e,async:!1,contentType:"text/plain",success:u})["catch"](function(i){r.error("Failed to load "+e+" via synchronous XHR: "+i.message),t.addScriptAsync(e,n)})}}},function(e,t){function n(){return"loading"===t.getReadyState()}t.getCookieString=function(){return document.cookie},t.setCookie=function(e){document.cookie=e},t.querySelector=function(e){return document.querySelector(e)},t.createElement=function(e){return document.createElement(e)},t.isReady=function(){return"interactive"===document.readyState||"complete"===document.readyState},t.addReadyHandler=function(e){return document.addEventListener("DOMContentLoaded",e),function(){t.removeReadyHandler(e)}},t.removeReadyHandler=function(e){return function(){document.removeEventListener("DOMContentLoaded",e)}},t.getReferrer=function(){return document.referrer},t.getReadyState=function(){return document.readyState},t.write=function(e){if(!n())throw new Error("Aborting attempt to write to already-loaded document");document.write(e)},t.appendToHead=function(e){return document.head.appendChild(e)}},function(e,t,n){function i(e){return"optimizely_"+e}function r(e,t){return u.makeAsyncRequest(t,function(){a.setGlobal(e,function(n){o.debug("JSONP","Got response from",t,n),u.resolveRequest(t,n),a.setGlobal(e,void 0)})})}var a=n(10),o=n(4),s=n(67),u=n(66);t.buildURL=function(e,t){return e+(e.indexOf("?")===-1?"?":"&")+t+"=%cb%"},t.fetchData=function(e,t,n){return n||(n=i(e)),a.getGlobal(n)?(o.debug("JSONP / Found existing callback function for",e),u.makeAsyncRequest(e)):(t&&s.addScriptAsync(t.replace("%cb%",n)),r(n,e))}},function(e,t,n){var i=n(5),r=100,a=50;t.pollFor=function(e,t,n){var o,s;return i.isFunction(n)?s=n:(o=n||r,s=function(){return o--,o<-1}),t=t||a,new Promise(function(n,i){!function r(){var a;if(!s()){try{var o=e();if(o)return n(o)}catch(u){a=u}return setTimeout(r,t)}i(a||new Error("Poll timed out"))}()})}},function(e,t,n){function i(e,t){var n,i=u.getGlobal("localStorage");return i?n=o.create(i,t):(c.emitError(new l("Failed to initialize localStorage")),n=o.mockStorage),n}var r=n(72),a="optimizely_data",o=n(75),s=n(76),u=n(10),c=n(77),l=t.Error=r("StorageError");t.LocalStorage=i(o,a),t.LegacyLocalStorage=i(s,a)},function(e,t,n){function i(e,t){function n(t){if(!(this instanceof n))return new n(t);try{throw new Error(t)}catch(i){i.name=e,this.stack=i.stack}r&&this.stack&&(this.stack=a(this.stack,e,t)),this.message=t||"",this.name=e}return n.prototype=new(t||Error),n.prototype.constructor=n,n.prototype.inspect=function(){return this.message?"["+e+": "+this.message+"]":"["+e+"]"},n.prototype.name=e,n}var r=n(73)(),a=n(74);e.exports=i},function(e,t){"use strict";e.exports=function(){var e=new Error("yep");return!!e.stack&&"Error: yep\n"===e.stack.substr(0,11)}},function(e,t){"use strict";e.exports=function(e,t,n){var i=t;return n&&(i+=": "+n),e=i+e.slice(e.indexOf("\n"))}},function(e,t,n){function i(e,t){this.je=e,this.He=t}var r=n(5),a="$$";i.prototype.Ye=function(e){return[this.He,e].join(a)},i.prototype.ze=function(e){return e.replace(this.He+a,"")},i.prototype.setItem=function(e,t){try{this.je.setItem(this.Ye(e),JSON.stringify(t))}catch(n){}},i.prototype.removeItem=function(e){this.je.removeItem(this.Ye(e))},i.prototype.getItem=function(e){try{return JSON.parse(this.je.getItem(this.Ye(e)))}catch(t){}return null},i.prototype.keys=function(){var e=r.keys(this.je);return r.map(e,this.ze.bind(this))},e.exports={create:function(e,t){return new i(e,t)},mockStorage:{keys:function(){},getItem:function(e){},removeItem:function(e){},setItem:function(e,t){}}}},function(e,t){function n(e,t){this.je=e,this.He=t}n.prototype.getItem=function(e){try{var t=JSON.parse(this.je.getItem(this.He));return t[e]}catch(n){return null}},n.prototype.setItem=function(e,t){try{var n=JSON.parse(this.je.getItem(this.He));n[e]=t,this.je.setItem(this.He,JSON.stringify(t))}catch(i){}},e.exports={create:function(e,t){return new n(e,t)},mockStorage:{getItem:function(e){},setItem:function(e,t){}}}},function(e,t,n){var i=n(78);t.emitError=function(e,t){i.emit({type:"error",name:e.name||"Error",data:{error:e,metadata:t}},!0,!0)},t.emitAnalyticsEvent=function(e,t){var n={type:"analytics",name:"trackEvent",data:e};i.emit(n,t)}},function(e,t,n){var i=n(5),r=n(38),a=n(11),o=n(14),s=n(15),u=n(4),c=n(77),l=s.get("stores/event_emitter");t.on=function(e){return e.token||(e.token=r.generate()),a.dispatch(o.ADD_EMITTER_HANDLER,e),e.token},t.off=function(e){a.dispatch(o.REMOVE_EMITTER_HANDLER,{token:e})},t.emit=function(e,t,n){var r=l.getHandlers(e,t);i.each(r,function(t){try{t.call({$di:s},e)}catch(i){u.warn("Error in event emitter handler",e),n||c.emitError(i)}})}},function(e,t,n){function i(){var e=_.get(E.COOKIES.OPT_OUT),n=S.getQueryParamValue(T.OPT_OUT);e?n===e||"true"!==n&&"false"!==n?h.dispatch(p.LOAD_DIRECTIVE,{shouldOptOut:"true"===e}):t.setOptOut("true"===n):"true"===n&&t.setOptOut(!0)}function r(){var e=!1,t=[T.AB_PREVIEW,T.DISABLE];t.push(T.EDITOR);for(var n=0;n<t.length;n++)if("true"===S.getQueryParamValue(t[n])){g.warn("Directive / Not activating because "+t[n]+" is set."),e=!0;break}h.dispatch(p.LOAD_DIRECTIVE,{disabled:e})}function a(){h.dispatch(p.LOAD_DIRECTIVE,{isPreview:!1})}function o(){var e=S.getQueryParamValue(T.LEGACY_PREVIEW);e&&g.log("Directive / Is legacy preview mode"),h.dispatch(p.LOAD_DIRECTIVE,{isLegacyPreview:!!e})}function s(){h.dispatch(p.LOAD_DIRECTIVE,{isEditor:!1})}function u(){g.log("Directive / Is Slave mode"),h.dispatch(p.LOAD_DIRECTIVE,{isSlave:!0})}function c(){var e="true"===S.getQueryParamValue(T.EDITOR_V2);e&&g.log("Directive / Is running in editor"),h.dispatch(p.LOAD_DIRECTIVE,{isRunningInV2Editor:e})}function l(){var e=_.get(E.COOKIES.TOKEN)||null,t=S.getQueryParamValue(T.TOKEN)||e;h.dispatch(p.LOAD_DIRECTIVE,{projectToken:t})}function d(){var e=_.get(E.COOKIES.PREVIEW),t=[],n=S.getQueryParamValue(T.FORCE_AUDIENCES);if(n)t=n.split(",");else if(e)try{var i=JSON.parse(e);t=i.forceAudienceIds}catch(r){var a=new m("Failed to parse previewCookie in registerForceAudienceIds: "+e),o={originalMessage:r.message};v.emitError(a,o)}t.length&&g.log("Directive / Force Audience IDs:",t),h.dispatch(p.LOAD_DIRECTIVE,{forceAudienceIds:t})}function f(){var e=_.get(E.COOKIES.PREVIEW),t=[],n=S.getQueryParamValue(T.FORCE_VARIATIONS);if(n)t=n.split(",");else if(e)try{var i=JSON.parse(e);t=i.forceVariationIds}catch(r){var a=new m("Failed to parse previewCookie in registerForceVariationIds: "+e),o={originalMessage:r.message};v.emitError(a,o)}t.length&&g.log("Directive / Force Variation IDs:",t),h.dispatch(p.LOAD_DIRECTIVE,{forceVariationIds:t})}var g=n(4),p=n(14),v=n(77),h=n(11),_=n(80),E=n(2),I=n(72),m=t.JSONParseError=I("JSONParseError"),y=n(15),S=y.get("sources/browser"),T={AB_PREVIEW:"optimizely_show_preview",DISABLE:"optimizely_disable",DRAFT:"draft",EDITOR:"optimizely_editor",EDITOR_V2:"optimizely_p13n",FORCE_AUDIENCES:"optimizely_x_audiences",FORCE_VARIATIONS:"optimizely_x",LEGACY_PREVIEW:"optimizely_show_preview",OPT_OUT:"optimizely_opt_out",PREVIEW_LAYER_IDS:"optimizely_preview_layer_ids",TOKEN:"optimizely_token"};t.populateDirectiveData=function(){i(),r(),s(),a(),o(),u(),c(),l(),d(),f()},t.setOptOut=function(e){e?(g.warn("Directive / Opting out"),_.set(E.COOKIES.OPT_OUT,"true",null,!0)):_.remove(E.COOKIES.OPT_OUT),h.dispatch(p.LOAD_DIRECTIVE,{shouldOptOut:e})}},function(e,t,n){function i(e){try{return decodeURIComponent(e)}catch(t){return e}}function r(e,n){n!==!1&&(n=!0);for(var i,r,a=e.hostname.split("."),s=[],u=null,c=a.length-1;c>=0;c--)if(s.unshift(a[c]),i=s.join("."),!o.includes(h,i)){r={domain:n?"."+i:i};try{t.set(_,Math.random().toString(),r),t.remove(_,r),u=r.domain;break}catch(f){}}return l.dispatch(d.SET_COOKIE_DOMAIN,u),u}var a=n(72),o=n(5),s=n(8),u=n(68),c=n(10),l=n(11),d=n(14),f=n(15),g=f.get("stores/cookie_options"),p=t.SetError=a("CookieSetError"),v=t.MismatchError=a("CookieMismatchError");t.getAll=function(){var e,t,n,r,a;e=u.getCookieString().split("; ");var o={};for(n=0;n<e.length;n++)t=e[n],r=t.indexOf("="),r>0&&(a=i(t.substring(0,r)),void 0===o[a]&&(o[a]=i(t.substring(r+1))));return o},t.get=function(e){var n=t.getAll();return n[e]},t.set=function(e,n,i,a){i=i||{},a!==!1&&(a=!0);var l=[];if(o.isUndefined(i.domain)){var d=g.getCurrentDomain();d||(d=r(c.getLocation(),!0)),i.domain=d}if(i.domain&&l.push("domain="+i.domain),o.isUndefined(i.path)&&(i.path="/"),i.path&&l.push("path="+i.path),o.isUndefined(i.expires)&&o.isUndefined(i.maxAge)){var f=g.getDefaultAgeInSeconds();f&&(i.expires=new Date(s.now()+1e3*g.getDefaultAgeInSeconds()))}if(i.maxAge&&l.push("max-age="+i.maxAge),i.expires&&l.push("expires="+i.expires.toUTCString()),i.secure&&l.push("secure"),l=l.join(";"),u.setCookie(e+"="+encodeURIComponent(n)+";"+l),a){var h=t.get(e);if(h!==n){if(!h)throw new p('Failed to set cookie "'+e+'"');throw new v('Expected "'+n+'" for "'+e+'", got "'+h+'"')}}},t.remove=function(e,n){t.set(e,null,o.extend({},n,{expires:new Date(0)}),!1)};var h=["optimizely.test"],_="optimizelyDomainTestCookie"},function(e,t,n){var i=n(10),r="optimizelyDataApi";t.registerFunction=function(e,t){var n=i.getGlobal(r);n||(n={},i.setGlobal(r,n)),n[e]||(n[e]=t)},t.getFunction=function(e){return i.getGlobal(r)[e]}},function(e,t,n){var i=n(5),r=n(15),a=r.get("stores/audience_data"),o=n(78),s=n(83);t.emitLayerDecided=function(e){var t=e.decisionTicket?e.decisionTicket.audienceIds:[],n=i.map(t,function(e){return{id:e,name:a.get(e).name}}),r={type:"lifecycle",name:"layerDecided",data:i.extend(e,{audiences:n})},u=s.translateLayerEventToCampaignEvent(r);o.emit(r),o.emit(u)},t.emitViewActivated=function(e){var t={type:"lifecycle",name:"viewActivated",data:e},n=s.translateViewActivatedToPageActivated(t);o.emit(t),o.emit(n)},t.emitActivateEvent=function(){o.emit({type:"lifecycle",name:"activate"},!0)},t.emitInitializedEvent=function(){var e={type:"lifecycle",name:"initialized"};o.emit(e)}},function(e,t,n){var i=n(5);t.translateDecisionToCampaignDecision=function(e){return r(i.cloneDeep(e),{layerId:"campaignId",isLayerHoldback:"isCampaignHoldback"})},t.translateLayerEventToCampaignEvent=function(e){var t={};return t.campaign=this.translateLayerToCampaign(e.data.layer),t.decisionTicket=e.data.decisionTicket,t.decision=this.translateDecisionToCampaignDecision(e.data.decision),t.audiences=e.data.audiences,{type:"lifecycle",name:"campaignDecided",data:t}},t.translateLayerToCampaign=function(e){var t=i.cloneDeep(e);t.pageIds=e.viewIds,delete t.viewIds;var n=this;return i.forEach(e.experiments,function(e,r){i.forEach(e.variations,function(e,i){var a=t.experiments[r].variations[i].actions;t.experiments[r].variations[i].actions=n.translateActionsToCampaignActions(a)})}),t},t.translateActionsToCampaignActions=function(e){var t=[];return i.forEach(e,function(e){t.push({pageId:e.viewId,changes:e.changes})}),t},t.translateViewActivatedToPageActivated=function(e){return{type:"lifecycle",name:"pageActivated",data:this.translateViewEventDataToPageEventData(e.data)}},t.translateViewEventDataToPageEventData=function(e){return{page:i.cloneDeep(e.view)}};var r=function(e,t){var n=i.omit(e,i.keys(t));return i.each(t,function(t,i){n[t]=e[i]}),n}},function(e,t,n){function i(){p.isArray(SLAVE_CLIENT.optimizely)&&(SLAVE_CLIENT.optimizely=p.filter(SLAVE_CLIENT.optimizely,function(e){var t=!0;return!ae.push(e,t)}))}function r(){var e={get:ae.get,push:ae.push},t=SLAVE_CLIENT.optimizely;p.isArray(t)&&p.each(t,function(t){e.push(t)}),e.data=a(),e.state={},o(e.state),SLAVE_CLIENT.optimizely=e}function a(){return{audiences:Q.getAll(),events:ee.getAll(),dimensions:ie.getAll(),holdback:J.getGlobalHoldbackThreshold(),layers:W.getAll(),revision:J.getRevision(),version:T.VERSION,views:$.getAll()}}function o(e){var t={layerStates:H.getLayerStates.bind(H),isGlobalHoldback:J.isGlobalHoldback.bind(J),viewStates:function(){return p.values(Z.getAll())},visitorProfile:function(){return p.cloneDeep(q.getVisitorProfile())},directives:te.getAll.bind(te)};p.each(t,function(t,n){Object.defineProperty(e,n,{get:t,enumerable:!0})})}function s(e){var t=q.getVisitorProfile();return m.populateEagerVisitorData(e,t)}function u(e,t){e=e||[];var n=K.getVisitorProfileProviders(),i=J.getGlobalHoldbackThreshold(),r=q.getVisitorProfile();m.populateLazyVisitorData(n,r);var a=ne.getBucketingId();if(!a)throw new Error("bucketingId not set");var o,s=q.getVisitorProfile();if(t){var u=ne.getVariationIdMap();o=u[t.id]}return A.createTicket(a,s,e,i,o)}function c(e){var t=p.filter(W.getAll(),function(t){return p.includes(t.viewIds,e.id)}),n=te.getForceVariationIds(),i=te.getForceAudienceIds(),r=p.map(t,y.description).join(", "),a=O.description(e);return C.log("Deciding Campaigns for Page",a,":",r),v.all(p.map(t,function(t){return new v(function(r){l(t,n,i,function(o){C.log("Activated Campaign",y.description(t),"on Page",a);var s=f(t,o,n,i),u=p.filter(s,function(t){return p.isUndefined(t.viewId)||t.viewId===e.id});C.log("Executing actions",u,"for Campaign",y.description(t),"Page",a),p.each(u,S.execute),r()})})})).then(function(){return C.log("All Campaigns for Page",a,"resolved:",r),t})}function l(e,t,n,i){if(t.length||n.length)i(u([]));else{var r=y.relatedAudienceIds(e),a=p.reduce(r,function(e,t){var n=Q.get(t);return n&&e.push(n),e},[]);d(a,y.getActivationTimeout(e),function(){function t(e){var t=[];return p.each(e,function(e){t.push(e.name,e)}),t}var n=u(a,e),r=p.map(n.audienceIds,Q.get.bind(Q)),o=p.filter(a,function(e){return!p.includes(n.audienceIds,e.id)});C.log("When deciding Campaign",y.description(e),"visitor is in audiences:",t(r),"and not in audiences:",t(o)),i(n)})}}function d(e,t,n){var i={},r=K.getAudienceMatchersMap();p.each(e,function(e){var t=P.requiredAudienceFields(e,r);p.each(t,function(e){i[e]=!0})});var a=p.reduce(i,function(e,t,n){if(p.isUndefined(m.getAttribute(n))){var i=m.getPendingAttributeValue(n);p.isUndefined(i)||e.push(i)}return e},[]);if(0===a.length)return n();var o=x.firstToResolve(p.map(a,function(t){return v.resolve(t).then(function(){var t=q.getVisitorProfile(),n=p.map(e,function(e){return P.isInAudience(t,e,r)});if(p.some(n,p.isUndefined))throw new Error("Some audience is undefined")})}));v.race([o,new v(function(e,n){setTimeout(n,t)})]).then(function(){C.log("Activating Campaign after pending Audiences resolved",e),n()},function(){C.log("Activating Campaign after timeout on Audiences",e),n()})}function f(e,t,n,i){var r,a=y.description(e);n.length?r=A.getDummyLayerDecision(e,n):(i.length&&(C.log("Applying force audienceIds:",i,"to Campaign",a),t=p.cloneDeep(t),t.audienceIds=i),r=A.decideLayer(e,t)),C.log("Recording decision for Campaign",a,t,"->",r),y.recordLayerDecision(e.id,t,r),r.variationId&&r.experimentId&&(m.updateVariationIdMap(e.id,r.experimentId,r.variationId),m.persistVariationId()),I.emitLayerDecided({layer:e,decisionTicket:t,decision:r});var o=R.trackDecisionEvent(r);if(o?C.log("Tracked decision event for Campaign",a,o):C.log("Analytics / Not tracking decision event for Campaign",a),J.isGlobalHoldback()&&!n.length&&!i.length)return C.log("NOT applying Variation for Campaign",a,"(visitor is in global holdback)"),[];if(r.isLayerHoldback)return C.log("NOT applying Variation for Campaign",a,"(visitor is in layer holdback)"),[];if(!r.experimentId||!r.variationId)return C.log("NOT applying Variation for Campaign",a,"(visitor is not eligible for any Experiments)"),[];var s=X.getExperimentVariationActions(r.experimentId,r.variationId),u=X.getLayerActions(e.id);return u&&(s=u.concat(s)),s}function g(e){var t=Y.getCleanupFns(e);if(t.length>0){for(;t.length>0;)t.shift()();E.dispatch(b.CLEAR_CLEANUP_FN,{lifecycle:e})}}var p=n(5),v=n(53).Promise,h=n(38),_=n(72),E=(t.JSONParseError=_("JSONParseError"),n(11)),I=n(82),m=n(85),y=n(90),S=n(91),T=n(95),A=n(96),D=n(103),w=n(106),O=n(108),R=n(104),b=n(14),L=n(109),N=n(105),C=n(4),V=(n(71).LocalStorage,n(110),n(2)),F=n(78),P=n(102),x=n(111),k=(n(107),n(70)),U=n(68),M=n(80),G=n(92),B=n(112),j=n(15),H=j.get("stores/layer"),Y=j.get("stores/cleanup"),z=j.get("stores/session"),q=j.get("stores/visitor"),K=j.get("stores/plugins"),W=j.get("stores/layer_data"),Q=j.get("stores/audience_data"),J=j.get("stores/global"),X=j.get("stores/action_data"),$=j.get("stores/view_data"),Z=j.get("stores/view"),ee=j.get("stores/event_data"),te=j.get("stores/directive"),ne=j.get("stores/visitor_id"),ie=j.get("stores/dimension_data"),re=j.get("stores/pending_events"),ae=n(113),oe=n(126),se=1e3,ue=t;t.initialize=function(e){if(F.on({filter:{type:"error"},handler:function(e){oe.handleError(e.data.error,e.data.metadata)}}),E.dispatch(b.DATA_LOADED,{data:e.clientData}),C.log("Initialized with DATA:",e.clientData),i(),te.isDisabled())return void C.log("Controller / Is disabled");var n,a,o=M.get(V.COOKIES.REDIRECT);if(o){C.debug("Found redirect data:",o);var s=o.match(/^([^|]+)\|(.*)/);s&&(a=s[1],n=s[2],E.dispatch(b.INITIALIZE_STATE,{effectiveVariationId:a,effectiveReferrer:n}))}if(p.isFunction(e.clientData.projectJS))try{e.clientData.projectJS()}catch(u){C.error("Error while executing projectJS: ",u)}var c=[],l=[].concat(e.plugins||[],e.clientData.plugins||[]);p.each(l,function(e){try{e(D)}catch(t){oe.handleError(t)}}),q.observe(m.persistVisitorProfile),H.observe(m.persistLayerStates),z.observe(m.persistSessionState),re.observe(B.persistPendingEvents),F.on({filter:{type:"lifecycle",name:"viewActivated"},handler:t.onViewActivated}),ue.setUpEvents(ee.getAll(),$.getAll()),r();var d=B.getPendingEvents();return d&&(E.dispatch(b.LOAD_PENDING_EVENTS,{events:d}),B.retryPendingEvents(d)),F.on({filter:{type:"lifecycle",name:"activate"},handler:t.activate}),I.emitInitializedEvent(),v.all(c)},t.activate=function(){try{var e=[];C.log("Activated client"),g(V.Lifecycle.preActivate),E.dispatch(b.ACTIVATE,{activationId:h.generate()}),O.registerViews($.getAll()),m.setId(m.getIdFromCookies()),E.dispatch(b.MERGE_VARIATION_ID_MAP,{variationIdMap:m.getVariationIdMap()}),m.persistVariationId(),g(V.Lifecycle.postVisitorProfileLoad),e.push(s(K.getVisitorProfileProviders()).then(function(){C.log("Populated visitor profile")}));var t=u(),n=A.decideGlobal(t);C.log("Made global decision",t,"->",n),E.dispatch(b.RECORD_GLOBAL_DECISION,n);var i=R.trackClientActivation();return i?C.log("Tracked activation event",i):C.log("Not tracking activation event"),w.attachPublishers(p.toArray(K.getEventPublishers())),ue.setUpViewActivation(),g(V.Lifecycle.postViewsActivated),g(V.Lifecycle.postActivate),v.all(e).then(function(){C.log("All immediate effects of activation resolved")},oe.handleError)}catch(r){oe.handleError(r)}},ue.setUpViewActivation=function(){var e=$.getAll();p.each(e,function(e){e.activationType?e.activationType===V.ViewActivationTypes.callback?ue.activateViewOnCallback(e):e.activationType===V.ViewActivationTypes.polling&&k.pollFor(e.activationCode,null,p.partial(G.isTimedOut,Date.now())).then(function(){O.activate(e)})["catch"](function(t){C.warn("Failed to activate view ",e,t)}):O.activate(e)})},ue.activateViewOnCallback=function(e){
var t=function(t){var n=p.extend({},t,{pageName:e.apiName,type:"page"});ae.push(n)},n={pageId:e.id};Object.defineProperty(n,"isActive",{get:function(){return Z.isViewActive(e.id)}}),e.activationCode(t,n)},t.onViewActivated=function(e){var t=e.data.view;try{if(!ne.getBucketingId())throw new Error("View activated with no visitorId set");var n,i=c(t)["catch"](oe.handleError),r=function(){O.parseViewTags(t);var e=R.trackViewActivation(t);e?C.log("Tracked activation for Page",O.description(t),e):C.log("Not Tracking activation for Page",O.description(t))};return n=U.isReady()?v.resolve(r()):k.pollFor(U.isReady,se).then(r),v.all([i,n])}catch(a){oe.handleError(a)}},ue.setUpEvents=function(e,t){var n={},i={};return p.each(e,function(e){e.eventFilter&&p.some(t,{id:e.viewId})&&(n[e.eventType]=n[e.eventType]||[],n[e.eventType].push({filterFn:L.createEventFilterFn(e.eventFilter),callback:ue.userActionEventTriggered.bind(null,e)}))}),p.forOwn(n,function(e,t){var n=w.subscribe(t,function(t){try{p.each(e,function(e){e.filterFn(t)&&e.callback(t)})}catch(n){oe.handleError(n)}});i[t]=n}),i},ue.userActionEventTriggered=function(e,t){if(Z.isViewActive(e.viewId))switch(O.updateAllViewTags(),e.eventType){case N.CLICK:var n=R.trackClickEvent(e);n?C.log("Tracking click event:",e):C.log("Not tracking click event:",e)}}},function(e,t,n){function i(e,t){function n(e,t){I.dispatch(O.SET_VISITOR_ATTRIBUTE,{key:e,value:t})}var i,r=t.provides;if(!t.isSticky||E.isUndefined(e[r]))try{var a=m.evaluate(t.getter);E.isFunction(a)&&(a=a(function(){return e[r]},function(e){return n(r,e)})),E.isUndefined(a)||(t.isAsync?(i=a.then(function(e){n(r,e)},function(e){N.warn('Failed to evaluate provider for "'+t.provides+'"; error was:',e)}),I.dispatch(O.SET_VISITOR_ATTRIBUTE_PENDING,{key:r,pending:i})):n(r,a))}catch(o){L.emitError(o)}return i}function r(){var e=x.getBucketingId(),t=S.getItem(e)||{};return!!t.events&&(N.debug("Loading event data from legacy optimizely_data"),g(t.events,[]),delete t.events,S.setItem(e,t),!0)}function a(e){var t=u(e),n=y.getItem(t);if(!n){var i=c(e);n=y.getItem(i),o(e,n)}return n}function o(e,t){var n=u(e),i=c(e);y.setItem(n,t),y.removeItem(i)}function s(e,t){try{var n=u(e);try{y.removeItem(c(e)),y.setItem(n,t)}catch(i){throw N.warn("Visitor / Unable to set localStorage key, error was:",i),new Error("Unable to set localStorage")}}catch(i){N.warn("Unable to persist visitor data:",i.message)}}function u(e){var t=x.getBucketingId();if(!t)throw new Error("Visitor bucketingId not set");var n=C.getProjectId();if(!n)throw new Error("ProjectId not set");return[t,n,e].join("$$")}function c(e){var t=x.getBucketingId();if(!t)throw new Error("Visitor bucketingId not set");return[t,e].join("$$")}function l(e,t){d(e,u(M.EVENT_QUEUE))?I.dispatch(O.SET_FOREIGN_VISITOR_EVENT_QUEUE,{key:e,value:b.deserialize(t)}):d(e,u(M.EVENTS))?I.dispatch(O.SET_FOREIGN_VISITOR_EVENTS,{key:e,value:b.deserialize(t)}):d(e,u(M.LAYER_STATES))?I.dispatch(O.LOAD_PERSISTED_LAYER_STATES,{layerStates:t,merge:!0}):d(e,u(M.VARIATION_MAP))&&I.dispatch(O.MERGE_VARIATION_ID_MAP,{variationIdMap:t})}function d(e,t){return e.indexOf(t)>0}function f(){var e=k.getVisitorProfile(),t=F.getVisitorProfileProviders();if(t){var n=E.reduce(t,function(e,t){return t.provides&&(e[t.provides]=t),e},{});e=E.omitBy(e,function(e,t){var i=n[t];return i&&i.isTransient})}return e}function g(e,t){R.initializeStore(e,t)}function p(e){I.dispatch(O.LOAD_PERSISTED_LAYER_STATES,{layerStates:E.filter(e,function(e){return!!e.decision})})}function v(e){e=E.extend({lastSessionTimestamp:0,sessionId:null},e),I.dispatch(O.LOAD_SESSION_STATE,e)}function h(e){I.dispatch(O.LOAD_EXISTING_VISITOR_PROFILE,{visitorProfile:e})}function _(){return"oeu"+T.now()+"r"+Math.random()}var E=n(5),I=n(11),m=n(15),y=n(71).LocalStorage,S=n(71).LegacyLocalStorage,T=n(8),A=n(80),D=n(2),w=n(53).Promise,O=n(14),R=n(86),b=n(87),L=n(77),N=n(4),C=m.get("stores/global"),V=m.get("stores/layer"),F=m.get("stores/plugins"),P=m.get("stores/session"),x=m.get("stores/visitor_id"),k=m.get("stores/visitor"),U=m.get("stores/provider_status"),M={EVENTS:"events",EVENT_QUEUE:"event_queue",LAYER_STATES:"layer_states",SESSION_STATE:"session_state",VISITOR_PROFILE:"visitor_profile",VARIATION_MAP:"variation_map"};t.getIdFromCookies=function(){var e=A.get(D.COOKIES.VISITOR_ID),t=A.get(D.COOKIES.VISITOR_UUID);return e||(e=_()),{randomId:e,UUID:t}},t.setId=function(e){var n=x.getBucketingId();if(I.dispatch(O.SET_VISITOR_ID,e),x.getBucketingId()!==n){t.loadData();try{t.persistVisitorId(e)}catch(i){if(i instanceof A.MismatchError)throw N.error("Visitor / Cookie not set to correct value:",i),new Error("Cookie mismatch error while persisting visitorId");throw i}}t.refreshSession()},t.getVariationIdMap=function(){return a(M.VARIATION_MAP)||{}},t.updateVariationIdMap=function(e,t,n){I.dispatch(O.UPDATE_VARIATION_ID_MAP,{layerId:e,experimentId:t,variationId:n})},t.persistVariationId=function(){var e=x.getVariationIdMap();s(M.VARIATION_MAP,e)},t.refreshSession=function(){I.dispatch(O.REFRESH_SESSION)},t.populateEagerVisitorData=function(e,n){var i=E.filter(e,function(e){return!e.isLazy});return t.populateVisitorData(i,n)},t.populateLazyVisitorData=function(e,n){var i=E.filter(e,function(e){return e.isLazy});return t.populateVisitorData(i,n)},t.populateVisitorData=function(e,t){t=t||{};var n=E.partial(i,t),r=E(e).filter({isAsync:!0}).map(n).filter().value();return E.forEach(E.filter(e,function(e){return!e.isAsync}),n),r.length>0?w.all(r):w.resolve()},t.loadData=function(){r()||g(a(M.EVENTS)||[],a(M.EVENT_QUEUE)||[]),p(a(M.LAYER_STATES)||[]),v(a(M.SESSION_STATE)||{}),h(a(M.VISITOR_PROFILE)||{}),t.loadForeignData()},t.getVisitorData=a,t.persistBehaviorEvents=function(e){s(M.EVENTS,e)},t.persistBehaviorEventQueue=function(e){s(M.EVENT_QUEUE,e)},t.persistLayerStates=function(){s(M.LAYER_STATES,V.getLayerStates())},t.persistSessionState=function(){s(M.SESSION_STATE,P.getState())},t.persistVisitorProfile=function(){s(M.VISITOR_PROFILE,f())},t.persistVisitorId=function(e){E.isUndefined(e.UUID)?e.randomId&&A.set(D.COOKIES.VISITOR_ID,e.randomId):null===e.UUID?A.remove(D.COOKIES.VISITOR_UUID):A.set(D.COOKIES.VISITOR_UUID,e.UUID)},t.getAttribute=function(e){return k.getAttribute(e)},t.getPendingAttributeValue=function(e){return U.getPendingAttributeValue(e)},t.loadForeignData=function(){E.each(y.keys(),function(e){var t=y.getItem(e);t&&l(e,t)})}},function(e,t,n){var i=n(87);t.initializeStore=i.initialize,t.addEvent=i.addEvent,t.getEvents=i.getEvents,t.usageInBytes=i.usageInBytes},function(e,t,n){function i(e){E.dispatch(m.SET_VISITOR_EVENTS,e)}function r(e){E.dispatch(m.UPDATE_BEHAVIOR_STORE,{key:"baseMap",value:e})}function a(e){E.dispatch(m.UPDATE_BEHAVIOR_STORE,{key:"eventQueue",value:e})}function o(e){E.dispatch(m.UPDATE_BEHAVIOR_STORE,{key:"lastEvent",value:e})}function s(e){E.dispatch(m.UPDATE_BEHAVIOR_STORE,{key:"cleared",value:e})}function u(){E.dispatch(m.UPDATE_BEHAVIOR_STORE,{key:"initialized",value:!0})}function c(){return!0}function l(){return L.getEvents()}function d(){return N.getBaseMap()}function f(){return N.getEventQueue()}function g(){return N.getLastEvent()}function p(){return N.getCleared()}function v(){return N.getInitialized()}function h(){return i(l().concat(f())),a([]),l().length>V&&(i(l().slice(-V)),!0)}var _=n(5),E=n(11),I=n(4),m=n(14),y=n(88),S=n(85),T=n(8),A=t,D=n(44).EventBase,w=n(44).Event,O=n(45),R=n(89),b=n(15),L=b.get("stores/visitor_events"),N=b.get("stores/visitor_events_manager"),C={EVENTBASE:"eb",HASH:"h",TIMEBASE:"tb",TIMESTAMPS:"ts",DELTA:"d",INDEX:"i"},V=1e3;t.initialize=function(e,t){if(!c())return void A.qe();if(!v()){A.Ke(e,t);var n=l();n.length>0&&o(n[n.length-1]);var i=f();i.length>0&&o(i[i.length-1]),u()}},t.addEvent=function(e){if(!c())return void A.qe();I.debug("Behavior store: adding event",e);var t=A.We(e);o(t),a(f().concat(t)),A.Qe(f())},t.getEvents=function(){return c()?(f().length>0&&(h()&&R.sessionize(l()),A.Je(l()),A.Qe(f())),l()):(A.qe(),[])},A.Ke=function(e,t){A.Xe(e,t)&&(A.Je(l()),A.Qe(f())),R.sessionize(l())},A.Xe=function(e,t){if(0===e.length&&0===t.length)return i([]),a([]),!1;var n=!1,r=e[0]||t[0];return C.EVENTBASE in r?(i(A.$e(e)),a(A.$e(t))):(n=!0,i(A.Ze(e)),a(A.Ze(t))),f().length>0&&(h(),n=!0),i(A._updateBaseMapAndMaybeDedupe(l())),A._migrateEventBasesAndUpdateStore()&&(n=!0),n},A.Ze=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=A.et(i);t[n]=new w(r,i[O.FIELDS.TIME])}return t},A._migrateEventBasesAndUpdateStore=function(){var e=!1,t=A.tt();return R.applyMigrations(t)&&(e=!0,r({}),i(A._updateBaseMapAndMaybeDedupe(l())),a(A._updateBaseMapAndMaybeDedupe(f()))),e},A.nt=function(){return T.now()},A.We=function(e){var t,n=e.name,i=e.type||"default",r=e.category||y.OTHER,a=e.tags||{};e.revenue&&(t=e.revenue);var o=new D(n,i,r,a,t);o=A.it(o);var s=A.nt(),u=new w(o,s,(-1));return R.updateSessionId(g(),u),u},A._updateBaseMapAndMaybeDedupe=function(e){for(var t=0;t<e.length;t++)e[t].eventBase=A.it(e[t].eventBase);return e},A.Je=function(e){var t=A.rt(e);S.persistBehaviorEvents(t)},A.Qe=function(e){var t=A.rt(e);S.persistBehaviorEventQueue(t)},A.qe=function(){p()||(i([]),a([]),A.Je(l()),A.Qe(f()),r({}),o(null),s(!0))},A.it=function(e){var t=e.hash(),n=d(),i=n[t];if(_.isUndefined(i))return n[t]=[e],r(n),e;for(var a=0;a<i.length;a++)if(e.equals(i[a]))return i[a];return i.push(e),r(n),e},A.tt=function(){var e=[],t=d();for(var n in t)t.hasOwnProperty(n)&&(e=e.concat(t[n]));return e},A.rt=function(e){for(var t=function(e){var t={};t[O.FIELDS.NAME]=e.getValueOrDefault([O.FIELDS.NAME]),t[O.FIELDS.TYPE]=e.getValueOrDefault([O.FIELDS.TYPE]);var n=e.getValueOrDefault([O.FIELDS.CATEGORY]);_.isUndefined(n)||(t[O.FIELDS.CATEGORY]=n);var i=e.getValueOrDefault([O.FIELDS.REVENUE]);_.isUndefined(i)||(t[O.FIELDS.REVENUE]=i);var r=e.getValueOrDefault([O.FIELDS.OPTIONS]);return _.isUndefined(r)||(t[O.FIELDS.OPTIONS]=r),t},n=C,i=[],r="_idx_",a=0;a<e.length;a++){var o,s,u=e[a],c=u.eventBase;if(c.hasOwnProperty(r)){o=i[c[r]];var l=u[O.FIELDS.TIME]-(o[n.TIMEBASE]||0);s={},s[n.DELTA]=l,s[n.INDEX]=a,o[n.TIMESTAMPS].push(s)}else o={},o[n.EVENTBASE]=t(u),o[n.HASH]=c.hash(),o[n.TIMEBASE]=u[O.FIELDS.TIME],s={},s[n.DELTA]=0,s[n.INDEX]=a,o[n.TIMESTAMPS]=[s],i.push(o),c[r]=i.length-1}for(a=0;a<e.length;a++)delete e[a].eventBase[r];return i},A.et=function(e,t){var n=new D(e[O.FIELDS.NAME],e[O.FIELDS.TYPE],e[O.FIELDS.CATEGORY],e[O.FIELDS.OPTIONS],e[O.FIELDS.REVENUE]);return _.isUndefined(t)||n.setHash(t),n},A.$e=function(e){for(var t=C,n=[],i=0;i<e.length;i++)for(var r=e[i],a=A.et(r[t.EVENTBASE],r[t.HASH]),o=r[t.TIMEBASE],s=r[t.TIMESTAMPS],u=0;u<s.length;u++){var c=s[u],l=new w(a,o+c[t.DELTA]),d=c[t.INDEX];n[d]=l}return n},t.deserialize=function(e){return A.$e(e)},t.mergeAllEvents=function(e){var t=[].concat.apply([],e);return t.sort(R.sessionSortPredicate),R.sessionize(t),t},t.usageInBytes=function(){var e=S.getVisitorData(S.StorageKeys.EVENTS)||[],t=S.getVisitorData(S.StorageKeys.EVENT_QUEUE)||[];return JSON.stringify(e).length+JSON.stringify(t).length}},function(e,t){e.exports={OTHER:"other"}},function(e,t,n){function i(e,t){var n=e.getValueOrDefault([s.FIELDS.TIME],0),i=t.getValueOrDefault([s.FIELDS.TIME],0);return Math.abs(n-i)<u}function r(e,t){var n;n=i(e,t)?e.getValueOrDefault([s.FIELDS.SESSION_ID]):t.getValueOrDefault([s.FIELDS.TIME]),t.setFieldValue(s.FIELDS.SESSION_ID,n)}var a=n(44).Event,o=n(44).EventBase,s=n(45),u=18e5;t.updateSessionId=function(e,t){if(!e)return void t.setFieldValue(s.FIELDS.SESSION_ID,t.getValueOrDefault([s.FIELDS.TIME]));var n=e.getValueOrDefault([s.FIELDS.TIME]),i=e.getValueOrDefault([s.FIELDS.SESSION_ID]),u=t.getValueOrDefault([s.FIELDS.TIME]);n="number"!=typeof n?u-36e5:n,i="number"!=typeof i?n:i,e=new a(new o("",""),n,i),r(e,t)},t.sessionize=function(e){var t=e.length;if(0!==t){e[0].setFieldValue(s.FIELDS.SESSION_ID,e[0].getValueOrDefault([s.FIELDS.TIME]));for(var n=1;n<t;n++)r(e[n-1],e[n])}},t.sessionSortPredicate=function(e,t){return e[s.FIELDS.TIME]-t[s.FIELDS.TIME]},t.applyMigrations=function(e){return!1}},function(e,t,n){var i=n(5),r=n(15),a=n(11),o=n(8),s=n(14),u=r.get("stores/global"),c=r.get("stores/session"),l=r.get("stores/layer"),d=2e3;t.recordLayerDecision=function(e,t,n){return a.dispatch(s.RECORD_LAYER_DECISION,{layerId:e,decision:n,decisionTicket:t,sessionId:c.getSessionId(),activationId:u.getActivationId(),timestamp:o.now(),revision:u.getRevision()}),n},t.relatedAudienceIds=function(e){var t={},n=["and","or","not"];return i.each(e.experiments,function(e){i.each(i.flattenDeep(e.audienceIds),function(e){i.includes(n,e)||(t[e]=!0)})}),i.keys(t)},t.getActivationTimeout=function(e){var t=e.activation;return t&&null!=t.timeout?t.timeout:d},t.isDecided=function(e){var t=l.getLayerState(e);return!!t&&t.decisionActivationId===u.getActivationId()},t.description=function(e){return(e.name?'"'+e.name+'" ':"")+"("+e.id+")"}},function(e,t,n){function i(e,t,n){if(r.includes(n,t))return void s.error("Change with id "+t+" has circular dependencies: "+n.concat(t));if(!e[t]){var a=p.getChangeData(t);if(!a){var o="Change with id "+t+" is absent";return n.length&&(o+=" but listed as a dependency for "+n[n.length-1]),void s.warn(o)}e[t]=new u(function(o){var c=r.map(a.dependencies||[],function(r){return i(e,r,n.concat([t]))});if(a.src){var g="change_"+a.src;c.push(d.makeAsyncRequest(g,function(){return f.addScriptAsync("https://cdn.optimizely.com/public/299611060/data"+a.src,function(){d.resolveRequest(g)})}))}var v=l.now();u.all(c).then(function(){return a=p.getChangeData(t),_.create(a,v).apply().then(o)})["catch"](function(e){s.error("Action / Failed to apply change:",a,e),o()})})}return e[t]}var r=n(5),a=n(11),o=n(14),s=n(4),u=n(53).Promise,c=n(15),l=n(8),d=n(66),f=n(67),g=c.get("stores/global"),p=c.get("stores/change_data"),v=c.get("stores/session"),h=n(92),_=n(94);h.initialize(),t.execute=function(e){s.debug("Action / Executing:",e),a.dispatch(o.ACTION_EXECUTED,{sessionId:v.getSessionId(),action:e,timestamp:l.now(),activationId:g.getActivationId()}),r.each(e.changeSet,function(e){a.dispatch(o.ADD_CHANGE,e)});var t={},n=r.map(e.changeSet,function(e){return i(t,e.id,[])});return u.all(n).then(function(){s.debug("changes for action id="+e.id+" applied")})}},function(e,t,n){function i(){"interactive"!==document.readyState&&"complete"!==document.readyState||(t.domReadyTime=Date.now())}var r=n(93),a=n(15).get("stores/directive");t.domReadyTime=null,t.initialize=function(){i(),document.addEventListener("readystatechange",i,!0)},t.isTimedOut=function(e){var n=Date.now();if(!t.domReadyTime||!e)return!1;var i=Math.max(e,t.domReadyTime);return a.isEditor()&&(i=t.domReadyTime),!(n-i<r.SELECTOR_POLLING_MAX_TIME)}},function(e,t){e.exports={SELECTOR_POLLING_MAX_TIME:2e3,CHANGE_ID_ATTRIBUTE_PREFIX:"data-optly-"}},function(e,t,n){var i=n(5),r=n(8),a=n(15),o=a.get("stores/plugins");t.create=function(e,t){var n=o.getChangeApplier(e.type);if(!n)throw new Error("Unrecognized change type "+e.type);return new n(i.cloneDeep(e),{identifier:e.id,startTime:t||r.now()})}},function(e,t,n){t.VERSION="0.24.0",t.ENGINE="js"},function(e,t,n){function i(e,t){for(var n=0;n<e.experiments.length;n++)for(var i=0;i<e.experiments[n].variations.length;i++)if(t.indexOf(e.experiments[n].variations[i].id)>-1)return{experimentId:e.experiments[n].id,variationId:e.experiments[n].variations[i].id};return null}var r=n(5),a=n(97),o=n(4),s=n(15),u=n(102),c=s.get("stores/plugins"),l=n(90),d=n(77);t.createTicket=function(e,n,i,r,a){return{bucketingId:e,audienceIds:t.evaluateAudienceMemberships(n,i),globalHoldback:r,preferredVariationMap:a}},t.decideGlobal=function(e){return a.decideGlobal(e)},t.decideLayer=function(e,t){o.debug("Deciding: ",e,t);var n=a.decideLayer(e,t);return n.error?(n.error.name="DecisionEngineError",d.emitError(n.error)):n.experimentId&&n.variationId||o.log("Decision / Not in Campaign",l.description(e),"because:",n.reason),n},t.getDummyLayerDecision=function(e,t){var n,r=i(e,t);return r?(o.log("Decision / Applying force variation:",r.variationId,"to Campaign",l.description(e)),n={layerId:e.id,variationId:r.variationId,experimentId:r.experimentId,isLayerHoldback:!1,reason:"force"}):(o.log("No variation matches ids:",t,"in Campaign",l.description(e)),n={layerId:e.id,variationId:null,experimentId:null,isLayerHoldback:!1,reason:"force"}),n},t.evaluateAudienceMemberships=function(e,t){var n=c.getAudienceMatchersMap();return r.reduce(t,function(t,i){return u.isInAudience(e,i,n)&&t.push(i.id),t},[])}},function(e,t,n){var i=n(5),r=n(98),a=n(99).DecisionError,o=n(100),s=n(15),u=s.get("stores/plugins");t.decideGlobal=function(e){var t=r.isHoldback(e.bucketingId,{id:null,holdback:e.globalHoldback});return{isGlobalHoldback:t}},t.decideLayer=function(e,t){var n,s,c=u.getDecider(e.policy),l={layerId:e.id,experimentId:null,variationId:null,isLayerHoldback:r.isHoldback(t.bucketingId,e)};if(i.isEmpty(e.experiments))throw new a("No experiments in layer.");try{n=c.selectExperiment(e,t.audienceIds,t.bucketingId),s=o.selectVariation(n,t.audienceIds,t.bucketingId,t.preferredVariationMap)}catch(d){d instanceof a?l.reason=d.message:l.error=d}return l.experimentId=n?n.id:null,l.variationId=s?s.id:null,l}},function(e,t,n){var i=n(46),r=t.TOTAL_POINTS=1e4,a=function(e,t,n){var a=i.hashToInt(e+t,n,r);return a};t.isHoldback=function(e,t){return a(e,t.id,i.Seed.IGNORING)<(t.holdback||0)},t.chooseWeightedCandidate=function(e,t,n){for(var r=a(e,t,i.Seed.BUCKETING),o=0;o<n.length;o++)if(n[o].endOfRange>r)return n[o].entityId;throw new Error("Unable to choose candidate")}},function(e,t){function n(e){this.message=e}n.prototype=new Error,t.DecisionError=n},function(e,t,n){var i=n(5),r=n(98),a=n(99).DecisionError,o=n(101),s=n(4),u=n(8),c="impression";t.isValidExperiment=function(e,t){var n,r=i.partial(i.includes,e);return s.groupCollapsed("Decision / Evaluating audiences for experiment:",t,e),n=!t.audienceIds||o.evaluate(t.audienceIds,r),s.groupEnd(),s.debug("Decision / Experiment",t,"is valid?",n),n},t.selectVariation=function(e,t,n,o){if(!e.variations||0===e.variations.length)throw new a('No variations in selected experiment "'+e.id+'"');if(!e.weightDistributions&&e.variations.length>1)throw new a('On selected experiment "'+e.id+'", weightDistributions must be defined if # variations > 1');var s;if(e.bucketingStrategy&&e.bucketingStrategy===c){var l=u.now().toString();s=r.chooseWeightedCandidate(n+l,e.id,e.weightDistributions)}else if(o&&o[e.id]){var d=o[e.id];if(!i.find(e.variations,{id:d}))return null;s=d}else s=1===e.variations.length?e.variations[0].id:r.chooseWeightedCandidate(n,e.id,e.weightDistributions);var f=i.find(e.variations,{id:s});if(f)return f;throw new a('Unable to find selected variation: "'+s+'".')},t.getExperimentById=function(e,t){var n=i.find(e.experiments,{id:t});if(n)return n;throw new a("Unable to find selected experiment.")}},function(e,t,n){function i(e,t){for(var n,i,r=0;r<e.length;r++){if(n=o(e[r],t),n===!1)return!1;s.isUndefined(n)&&(i=!0)}if(!i)return!0}function r(e,t){for(var n,i=!1,r=0;r<e.length;r++){if(n=o(e[r],t),n===!0)return!0;s.isUndefined(n)&&(i=!0)}if(!i)return!1}function a(e,t){if(1!==e.length)return!1;var n=o(e[0],t);return s.isUndefined(n)?void 0:!n}function o(e,t){var n;if(s.isArray(e)){var i,r;return e[0]in l?(i=e[0],r=e.slice(1)):(i=c.OR,r=e),u.groupCollapsed('Condition / Applying operator "'+i+'" with args',JSON.stringify(r)),n=l[i](r,t),u.debug("Condition / Result:",n),u.groupEnd(),n}return n=t(e),u.debug("Condition / Evaluated:",JSON.stringify(e),":",n),n}var s=n(5),u=n(4),c={AND:"and",OR:"or",NOT:"not"},l={};l[c.AND]=i,l[c.OR]=r,l[c.NOT]=a,e.exports={evaluate:o}},function(e,t,n){function i(e,t){var n={};return a.each(e,function(e){if(a.isArray(e))a.extend(n,i(e,t));else if(a.isObject(e)){var r=t[e.type];r&&a.each(r.fieldsNeeded,function(e){n[e]=!0})}}),n}function r(e,t){return function(n){var i=n.type,r=t[i];if(!r)throw new Error("No matcher found for type="+i);for(var o,u,c={},l=0;l<r.fieldsNeeded.length;l++){if(o=r.fieldsNeeded[l],u=e[o],a.isUndefined(u))return void s.debug("Audience / Required field",o,"for type",i,"has no value");c[o]=u}var d=r.match(c,n);if(!a.isUndefined(d))return!!d}}var a=n(5),o=n(101),s=n(4);t.isInAudience=function(e,t,n){var i=r(e,n);s.groupCollapsed("Checking audience",t.name,t.id,t);try{var a=o.evaluate(t.conditions,i)}catch(u){s.error(u.toString()),a=!1}return s.groupEnd(),s.log("Is "+(a?"in":"NOT in")+" audience:",t.name,t.id),a},t.requiredAudienceFields=function(e,t){return a.keys(i(e.conditions,t))}},function(e,t,n){var i=n(5),r=n(78),a=n(11),o=n(15),s=n(14),u=n(104);t.registerApiModule=function(e,t){i.isArray(t)&&(t=o.evaluate(t)),a.dispatch(s.REGISTER_API_MODULE,{name:e,module:t})},t.registerDependency=function(e,t){var n=o.get(e);n||o.register(e,t)},t.registerVisitorProfileProvider=function(e){a.dispatch(s.REGISTER_VISITOR_PROFILE_PROVIDER,{provider:e})},t.registerViewProvider=function(e){a.dispatch(s.REGISTER_VIEW_PROVIDER,{provider:e})},t.registerEventPublisher=function(e,t){a.dispatch(s.REGISTER_EVENT_PUBLISHER,{event:t,eventType:e})},t.registerEventFilter=function(e,t){a.dispatch(s.REGISTER_EVENT_FILTER,{filter:t,filterType:e})},t.registerAudienceMatcher=function(e,t){a.dispatch(s.REGISTER_AUDIENCE_MATCHER,{matcher:t,matchesType:e})},t.registerViewMatcher=function(e,t){a.dispatch(s.REGISTER_VIEW_MATCHER,{matcher:t,matchesType:e})},t.registerAnalyticsTracker=function(e){a.dispatch(s.REGISTER_ANALYTICS_TRACKER,{tracker:e})},t.registerViewTagLocator=function(e,t){a.dispatch(s.REGISTER_VIEW_TAG_LOCATOR,{locatorType:e,locatorFn:t})},t.registerAudiencePlugin=function(e){e.dependencies&&i.each(e.dependencies,function(e,n){t.registerDependency(n,e)});var n,r="vendor."+e.vendor;n=i.isString(e.provider)?o.get(e.provider)(e.vendor):i.cloneDeep(e.provider),t.registerVisitorProfileProvider(i.extend(n,{provides:r}));var a;a=i.isString(e.matcher)?o.get(e.matcher):e.matcher;var s={fieldsNeeded:[r],match:function(e,t){return a(e[r],t)}};t.registerAudienceMatcher(r,s)},t.registerUserFeature=function(e){u.registerUserFeatureDef(i.extend({segmentable:!0},e))},t.registerWidget=function(e){i.isArray(e)&&(e=o.evaluate(e));var t=r.on({filter:{type:"showWidget",name:e.widgetId},handler:e.showFn}),n=r.on({filter:{type:"hideWidget",name:e.widgetId},handler:e.hideFn});return{showToken:t,hideToken:n}},t.registerChangeApplier=function(e,t){a.dispatch(s.REGISTER_CHANGE_APPLIER,{type:e,changeApplier:t})},t.registerDecider=function(e,t){a.dispatch(s.REGISTER_DECIDER,{type:e,decider:t})}},function(e,t,n){function i(e,t){var n=u({activeViewStates:O.getActiveViewStates(),visitorProfile:L.getVisitorProfile(),layerStates:b.getLayerStates()}),i=C.getByApiName(e),r=i&&i.viewId?l(i):O.getActiveViewTags(),a=f.extend({},r,t),o=i&&i.category?i.category:S.OTHER;return f.extend(n,{eventEntityId:i&&i.id,eventApiName:e,eventCategory:o,eventTags:a})}function r(e,t){var n=u({activeViewStates:O.getActiveViewStates(),visitorProfile:L.getVisitorProfile(),layerStates:b.getLayerStates()});return f.extend(n,{viewId:e.id,viewCategory:e.category,eventTags:t.metadata})}function a(e){var t=u({activeViewStates:O.getActiveViewStates(),visitorProfile:L.getVisitorProfile(),layerStates:b.getLayerStates()}),n=e&&e.category?e.category:S.OTHER,i=l(e);return f.extend(t,{event:e,eventCategory:n,eventTags:i,selector:e.eventFilter.selector})}function o(){var e=u({activeViewStates:[],visitorProfile:L.getVisitorProfile(),layerStates:[]});return f.extend(e,{eventTags:{}})}function s(e,t,n){return{decisionId:h.generate(),timestamp:m.now(),revision:D.getRevision(),clientEngine:y.ENGINE,clientVersion:y.VERSION,projectId:D.getProjectId(),accountId:D.getAccountId(),activationId:D.getActivationId(),sessionId:w.getSessionId(),visitorId:V.getRandomId(),visitorUUID:V.getUUID(),decision:t,decisionTicket:e,userFeatures:d(n)}}function u(e){var t={eventId:h.generate(),timestamp:m.now(),revision:D.getRevision(),clientEngine:y.ENGINE,clientVersion:y.VERSION,projectId:D.getProjectId(),accountId:D.getAccountId(),activationId:D.getActivationId(),sessionId:w.getSessionId(),isGlobalHoldback:D.isGlobalHoldback(),visitorId:V.getRandomId(),visitorUUID:V.getUUID(),activeViewStates:e.activeViewStates,layerStates:e.layerStates,userFeatures:d(e.visitorProfile)};return t}function c(e){var t=O.getViewState(e),n=t&&t.isActive?t.metadata:{};return n}function l(e){var t={};return e.viewId?c(e.viewId):t}function d(e){var t=[],n=R.getUserFeatureDefs();return f.each(n,function(n){var i;try{i=n.valueFn(e)}catch(r){_.error("Error evaluating userFeature against visitorProfile"),_.error(r)}null!=i&&t.push({featureDef:n,value:i})}),t}var f=n(5),g=n(11),p=n(14),v=n(77),h=n(38),_=n(4),E=n(15),I=n(86),m=n(8),y=n(95),S=n(88),T=n(105),A=n(48).getFieldValue,D=E.get("stores/global"),w=E.get("stores/session"),O=E.get("stores/view"),R=E.get("stores/plugins"),b=E.get("stores/layer"),L=E.get("stores/visitor"),N=E.get("stores/directive"),C=E.get("stores/event_data"),V=E.get("stores/visitor_id");t.trackClientActivation=function(){if(N.shouldSendTrackingData()){var e=R.getAnalyticsTrackingFns("onClientActivation"),t=o();return f.each(e,function(e){try{e(t)}catch(n){_.error(n)}}),t}},t.trackCustomEvent=function(e,t){t=t||{};var n=R.getAnalyticsTrackingFns("onCustomEvent"),r=i(e,t),a=C.getByApiName(e),o={name:e,type:T.CUSTOM,category:r.eventCategory,tags:f.omit(r.eventTags,"revenue")},s=f.extend(f.cloneDeep(o),{metrics:{}});if(f.isUndefined(t.revenue)||(o.revenue=t.revenue,s.metrics.revenue=t.revenue),v.emitAnalyticsEvent({name:a?a.name||a.apiName:e,apiName:a?a.apiName:void 0,type:T.CUSTOM,tags:f.omit(r.eventTags,"revenue"),category:r.eventCategory,metrics:o.revenue?{revenue:o.revenue}:{}},!N.shouldSendTrackingData()),N.shouldSendTrackingData())return I.addEvent(o),f.each(n,function(e){try{e(r)}catch(t){_.error(t)}}),r},t.trackDecisionEvent=function(e){if(N.shouldSendTrackingData()){var t=b.getLayerState(e.layerId),n=t.decisionTicket,i=L.getVisitorProfile(),r=s(n,e,i);g.dispatch(p.TRACK_DECISION_EVENT,{layerId:e.layerId,decisionEvent:r});var a=R.getAnalyticsTrackingFns("onLayerDecision");return f.each(a,function(e){try{e(r)}catch(t){_.error(t)}}),r}},t.trackClickEvent=function(e){var t=a(e),n={name:e.apiName,type:e.eventType,category:t.eventCategory,tags:t.eventTags};if(v.emitAnalyticsEvent({name:e.name||e.apiName,apiName:e?e.apiName:void 0,type:e.eventType,category:t.eventCategory,tags:t.eventTags,metrics:{}},!N.shouldSendTrackingData()),N.shouldSendTrackingData()){I.addEvent(n);var i=R.getAnalyticsTrackingFns("onClickEvent");return f.each(i,function(e){try{e(t)}catch(n){_.error(n)}}),t}},t.registerUserFeatureDef=function(e){if(!e.type)throw new Error("Must supply type");var t=[e.type].concat(e.name?[e.name]:[]),n=function(e){return A(e,t)},i=f.extend({id:null,name:"",valueType:"string",valueFn:n,segmentable:!1},e);g.dispatch(p.REGISTER_USER_FEATURE,{def:i})},t.trackViewActivation=function(e){var t=O.getViewState(e.id);if(!t.isActive)return void _.debug("Inactive view passed to `trackViewActivation`");var n=r(e,t),i={name:e.apiName,type:T.PAGEVIEW,category:n.viewCategory,tags:n.eventTags};if(v.emitAnalyticsEvent({name:e.name||e.apiName,apiName:e.apiName,type:T.PAGEVIEW,category:n.viewCategory,tags:n.eventTags,metrics:{}},!N.shouldSendTrackingData()),N.shouldSendTrackingData()){I.addEvent(i),g.dispatch(p.TRACK_VIEW_ACTIVATED_EVENT,{viewId:e.id,eventData:n});var a=R.getAnalyticsTrackingFns("onPageActivated");return f.each(a,function(e){try{e(n)}catch(t){_.error(t)}}),n}}},function(e,t){e.exports={CLICK:"click",CUSTOM:"custom",ENGAGEMENT:"engagement",PAGEVIEW:"pageview"}},function(e,t,n){function i(e,t){v.debug("Event stream published  "+e+" event");var n=!0;c.emit({type:h,name:e,data:t||{}},n)}function r(e,t){return v.debug("Subscribing to event",e),c.on({handler:function(e){t(e.data)},filter:{type:h,name:e}})}function a(e){c.off(e)}function o(e){if(!p.arePublishersAttached()){var t=[];u.each(e,function(e){t.push(e.attach())}),g.dispatch(d.ATTACH_EVENT_STREAM_PUBLISHERS,{detachData:t})}}function s(){if(p.arePublishersAttached()){var e=p.getDetachData();u.each(e,function(e){e()}),g.dispatch(d.DETACH_EVENT_STREAM_PUBLISHERS,{})}}var u=n(5),c=n(78),l=n(107),d=n(14),f=n(15),g=n(11),p=f.get("stores/event_stream"),v=n(4),h=l.TYPES.EVENT_STREAM;e.exports={attachPublishers:o,detachPublishers:s,publish:i,subscribe:r,unsubscribe:a}},function(e,t){t.TYPES={ANALYTICS:"analytics",EDITOR:"editor",EVENT_STREAM:"event_stream",LIFECYCLE:"lifecycle"}},function(e,t,n){var i=n(5),r=n(15),a=n(11),o=n(8),s=n(4),u=n(14),c=n(101),l=n(82),d=r.get("stores/plugins"),f=r.get("stores/view"),g=r.get("stores/view_data");t.parseViewTags=function(e){var n=t.evaluateViewTags(e);t.setParsedViewTags(e.id,n)},t.updateAllViewTags=function(){var e=f.getActiveViewStates();i.each(e,function(e){var n=g.get(e.id);t.parseViewTags(n)})},t.evaluateViewTags=function(e){if(!e.tags)return{};var t=d.getViewTagLocatorsMap(),n={};return i.each(e.tags,function(e){var i=t[e.locatorType];if(!i)return void s.warn("No locatorFn registered for locatorType: "+e.locatorType);try{n[e.apiName]=i(e)}catch(r){s.error("Page / Ignoring unparseable tag",e,r)}}),n},t.createViewTicket=function(){var e={};return i.each(d.getViewProviders(),function(t){e[t.provides]=r.evaluate(t.getter)}),e},t.registerViews=function(e){a.dispatch(u.REGISTER_VIEWS,{views:e})},t.activate=function(e,n){var i=t.createViewTicket();return t.hasValidStaticConditions(e,i)?(t.setViewActiveState(e,!0),s.log("Activated Page",t.description(e)),t.parseViewTags(e),n&&t.setUserSuppliedViewTags(e.id,n),void l.emitViewActivated({view:e,metadata:n})):void s.log("Page / Failed to match page conditions for "+t.description(e),e.staticConditions)},t.setViewActiveState=function(e,t){a.dispatch(u.SET_VIEW_ACTIVE_STATE,{view:e,timestamp:o.now(),isActive:t})},t.setGlobalTags=function(e){a.dispatch(u.SET_GLOBAL_TAGS,e)},t.setParsedViewTags=function(e,t){a.dispatch(u.UPDATE_PARSED_VIEW_METADATA,{viewId:e,metadata:t})},t.setUserSuppliedViewTags=function(e,t){a.dispatch(u.UPDATE_USER_SUPPLIED_METADATA,{viewId:e,metadata:t})},t.hasValidStaticConditions=function(e,t){if(i.isEmpty(e.staticConditions))return!0;var n=d.getViewMatchersMap();s.groupCollapsed("Page / Evaluating staticConditions:",e.staticConditions);var r=c.evaluate(e.staticConditions,function(e){var i=e.type,r=n[i];if(!r)throw new Error("No matcher found for type="+i);return r.match(t,e)});return s.groupEnd(),r},t.description=function(e){return'"'+e.name+'" ('+e.id+")"}},function(e,t,n){function i(e){var t=a.getEventFilter(e.filterType);return t(e)}var r=n(15),a=r.get("stores/plugins");e.exports={createEventFilterFn:i}},function(e,t,n){function i(e){return new u(function(t){var n=f.createElement("iframe");n.src=_.getOrigin()+e,f.appendToHead(n),n.onload=function(){c.dispatch(l.XDOMAIN_SET_TARGET,n.contentWindow),t()}})}function r(e){var t;if(e.origin!==_.getOrigin())return void h.debug("XDomain","Response does not match expected origin, ignoring: "+e.origin);try{t=JSON.parse(e.data)}catch(n){return void h.debug("XDomain","Ignoring malformed message event:",e)}if("SYNC"===t.type)s.each(_.getSubscribers(),function(e){e(t.response.key,t.response.value)});else{var i=_.getMessageById(t.id);if(!i)return h.warn("XDomain","No stored message found for ID",t.id),void v.emitError(new Error("XDomain: No stored message found for message ID"));i.resolver(t.response),c.dispatch(l.XDOMAIN_SET_MESSAGE,{messageId:t.id,message:s.extend({},i,{endTime:p.now(),response:t.response})})}}function a(e,t){e.postMessage(JSON.stringify(t.data),_.getOrigin()),c.dispatch(l.XDOMAIN_SET_MESSAGE,{messageId:t.data.id,message:s.extend({},t,{startTime:p.now()})})}function o(e,t){var n={data:s.extend({},e,{id:_.getNextMessageId()}),resolver:t},i=_.getTarget();i?a(i,n):c.dispatch(l.XDOMAIN_SET_MESSAGE,{messageId:n.data.id,message:n})}var s=n(5),u=n(53).Promise,c=n(11),l=n(14),d=n(15),f=n(68),g=n(10),p=n(8),v=n(77),h=n(4),_=d.get("stores/xdomain");t.setItem=function(e,t){return new u(function(n){o({type:"PUT",
key:e,value:JSON.stringify(t)},n)})},t.getItem=function(e){return new u(function(t){o({type:"GET",key:e},t)})},t.fetchAll=function(){return new u(function(e){o({type:"GETALL"},e)})},t.subscribe=function(e){c.dispatch(l.XDOMAIN_ADD_SUBSCRIBER,{subscriber:e})},t.load=function(e,t){return c.dispatch(l.XDOMAIN_SET_ORIGIN,e),g.addEventListener("message",r),i(t).then(function(){var e=_.getTarget();if(!e)throw new Error("XDomain: target is undefined");s.each(_.getMessages(),function(t){t.startTime||a(e,t)})})}},function(e,t,n){var i=n(53).Promise,r=n(5);t.firstToResolve=function(e){return new i(function(t){r.each(e,function(e){i.resolve(e).then(t)})})}},function(e,t,n){var i=n(5),r=n(71).LocalStorage,a=n(4),o=n(52),s=n(2),u=n(77),c=n(15),l=c.get("stores/pending_events"),d=s.StorageKeys.PENDING_EVENTS;t.persistPendingEvents=function(){try{var e=l.getEvents();r.setItem(d,e)}catch(t){a.warn("PendingEvents / Unable to set localStorage key, error was: ",t),u.emitError(t)}},t.getPendingEvents=function(){return r.getItem(d)},t.retryPendingEvents=function(e){i.forOwn(e,function(e,t){o.request(e.data,t)}),a.log("Retried pending events: ",e)}},function(e,t,n){var i=n(5),r=n(4),a=n(114),o=n(15),s=o.get("stores/plugins"),u=[n(123),n(124),n(125)],c=["disable","load"];t.push=function(e,t){var n,a,o,s;if(!i.isArray(e)&&i.isObject(e))s=i.isUndefined(e.version)?1:e.version,n=e.type,o=[e];else if(i.isArray(e))s=0,n=e[0],o=e.slice(1);else{if(!i.isString(e))return r.warn("API / Ignoring non-array/object/string argument:",e),!1;s=0,n=e,o=[]}if(u[s]&&(a=u[s][n]),t&&c.indexOf(n)===-1)return r.debug("API / Ignoring non high priority function:",n,o),!1;if(!a)return r.warn('API / No function found for "'+n+'" (v'+s+") with arguments:",o),!1;r.log('API / Executing: "'+n,'" with arguments:',o);try{a.apply(null,o)}catch(l){r.error(l)}return!0},t.get=function(e){var t=a[e];return t?(i.isArray(t)&&(t=o.evaluate(t)),t):(t=s.getApiModule(e))?t:void r.warn('Module "'+e+'" not found.')}},function(e,t,n){var i=n(5);t.data=["stores/audience_data","stores/event_data","stores/layer_data","stores/view_data","stores/global",function(e,t,n,r,a){var o={audiences:{},events:{},campaigns:{},pages:{},experiments:{},variations:{},projectId:a.getProjectId(),accountId:a.getAccountId(),dcpServiceId:a.getDCPServiceId(),revision:a.getRevision()};return i.each(e.getAll(),function(e){o.audiences[e.id]=e}),i.each(t.getAll(),function(e){o.events[e.id]=e,o.events[e.id].pageId=e.viewId}),i.each(n.getAll(),function(e){o.campaigns[e.id]=e,o.campaigns[e.id].pageIds=e.viewIds,i.each(e.experiments,function(e){o.experiments[e.id]=e,i.each(e.variations,function(e){o.variations[e.id]=e,i.each(o.variations[e.id].actions,function(e){e.pageId=e.viewId})})})}),i.each(r.getAll(),function(e){o.pages[e.id]=e}),o}],t.session=["stores/session",function(e){return e.getState()}],t.visitor=["stores/visitor",function(e){return i.cloneDeep(e.getVisitorProfile())}],t.visitor_id=["stores/visitor_id",function(e){return{randomId:e.getRandomId(),UUID:e.getUUID()}}],t.state=["stores/audience_data","stores/layer_data","stores/layer","stores/view_data","stores/view","stores/global","stores/global_state",function(e,t,n,r,a,o,s){return{getCampaignStates:function(r){var a=n.getLayerStates(),u=i.map(a,function(e){var t=!!e.decision.variationId,n=e.decisionActivationId&&e.decisionActivationId===o.getActivationId(),r=t&&s.getEffectiveVariationId()===e.decision.variationId;return i.extend(e,{isActive:t&&n||r,visitorRedirected:r})}),c={},l=r?i.filter(u,r):u;return i.each(l,function(n){var r,a,o=n.layerId,s=t.get(o)||{};c[o]={id:o,campaignName:s.name||null,experiment:null,variation:null,reason:n.decision.reason,isActive:n.isActive,visitorRedirected:n.visitorRedirected,isInCampaignHoldback:n.decision.isLayerHoldback},n.decision&&n.decision.experimentId&&(r=i.find(s.experiments,{id:n.decision.experimentId})),r&&(c[o].experiment=i.pick(r,["id","name"])),r&&n.decision.variationId&&(a=i.find(r.variations,{id:n.decision.variationId})),a&&(c[o].variation=i.pick(a,["id","name"]));var u=i.map(n.decisionTicket.audienceIds,function(t){return i.pick(e.get(t),["id","name"])});c[o].audiences=u}),c},getPageStates:function(e){var t=a.getAll(),n=e?i.filter(t,e):t;return i.reduce(n,function(e,t){var n=r.get(t.id);return e[t.id]=i.extend({},i.pick(n,["id","name","apiName","category","staticConditions","tags"]),i.pick(t,["isActive","metadata"])),e},{})},isGlobalHoldback:function(){return o.isGlobalHoldback()},getActivationId:function(){return o.getActivationId()},getVariationMap:function(){var e=n.getLayerStates(),r={};return i.each(e,function(e){var n=t.get(e.layerId);if(e.decision&&e.decision.experimentId&&(r[e.decision.experimentId]={id:e.decision.variationId,name:null},n)){var a=i.find(n.experiments,{id:e.decision.experimentId});if(a&&e.decision.variationId)var o=i.find(a.variations,{id:e.decision.variationId});o&&(r[e.decision.experimentId]={id:e.decision.variationId,name:o.name})}}),r},getActiveExperimentIds:function(){return i.map(this.getCampaignStates({isActive:!0}),function(e){return e.experiment.id})},getRedirectInfo:function(){var e=null,n=s.getEffectiveVariationId();if(n){var i=t.getExperimentByVariationId(n),r=i?i.id:null;e={experimentId:r,variationId:n,referrer:s.getEffectiveReferrer()}}return e}}}],t.utils=n(115).create(),t.jquery=n(121),t.event_emitter=n(122)},function(e,t,n){var i=n(116).observeSelector,r=n(53).Promise,a=n(119).waitForElement,o=n(120).waitUntil,s=n(117).poll;t.create=function(){return{observeSelector:i,poll:s,Promise:r,waitForElement:a,waitUntil:o}}},function(e,t,n){function i(e){f[e]&&(f[e].cancelPolling(),delete f[e])}function r(e){if(f[e]){if(a(f[e]))return 0===f[e].matchedCount&&d.isFunction(f[e].options.onTimeout)&&f[e].options.onTimeout(),void i(e);var t=document.querySelectorAll(f[e].selector);t.length&&(d.each(t,function(t){t.at&&t.at[e]||f[e].callbackQueue.push(t)}),o(e))}}function a(e){var t=e.options.timeout;if(null!==t)if("function"==typeof t)try{return t()}catch(n){}else if(Date.now()-e.startTime>t)return!0;return!1}function o(e){for(;f[e]&&f[e].callbackQueue.length;){var t=f[e].callbackQueue.shift();if(s(t,e),f[e].matchedCount=f[e].matchedCount+1,f[e].callback(t),f[e].options.once)return void i(e)}}function s(e,t){e.at||(e.at={}),e.at[t]=!0}function u(e){try{document.querySelector(e)}catch(t){return!1}return!0}var c=n(117),l=n(38).generate,d=n(5),f={},g={once:!1,onTimeout:null,timeout:null};t.observeSelector=function(e,t,n){if(!u(e))throw new Error("observeSelector expects a valid css selector as its first argument");if(!d.isFunction(t))throw new Error("observeSelector expects a function as its second argument");if(n&&(!d.isObject(n)||d.isFunction(n)))throw new Error("observeSelector expects an object as its third argument");var a=l();return n=d.merge({},g,n||{}),f[a]={callback:t,callbackQueue:[],cancelPolling:c.poll(d.partial(r,a)),matchedCount:0,options:n,selector:e,startTime:Date.now()},setTimeout(r.bind(null,a),0),d.partial(i,a)}},function(e,t,n){function i(e){u[e]&&a.each(u[e].callbacks,function(e){e.call(null)})}function r(e,t){u[t]&&u[t].callbacks[e]&&(delete u[t].callbacks[e],a.some(u[t].callbacks)||(clearInterval(u[t].id),delete u[t]))}var a=n(5),o=n(38).generate,s=n(118).DEFAULT_INTERVAL,u={};t.poll=function(e,t){a.isNumber(t)||(t=s),u[t]||(u[t]={callbacks:{},id:setInterval(a.partial(i,t),t)});var n=o();return u[t].callbacks[n]=e,a.partial(r,n,t)},t.cancelAll=function(){a.each(u,function(e,t){clearInterval(e.id),delete u[t]})}},function(e,t){e.exports={DEFAULT_INTERVAL:20}},function(e,t,n){var i=n(116).observeSelector,r=n(53).Promise;t.waitForElement=function(e){return new r(function(t,n){i(e,t,{once:!0})})}},function(e,t,n){var i=n(117).poll,r=n(53).Promise;t.waitUntil=function(e){return new r(function(t,n){if(e())return void t();var r=i(function(){e()&&(r(),t())})})}},function(e,t,n){var i=window.jQuery;i=window.optimizely.$,e.exports=i},function(e,t,n){var i=n(78);t.on=function(e){return e.publicOnly=!0,i.on(e)},t.off=i.off,t.emit=function(e){i.emit(e)}},function(e,t,n){function i(e){var t,n={};if(e)if(r(e))t=Number(e);else{if("object"!=typeof e)throw new Error("tracker","Revenue argument",e,"not a number.");if(n=a.extend({},e),"revenue"in n){if(!r(n.revenue))throw new Error("tracker","Revenue value",n.revenue,"not a number.");t=Number(n.revenue),delete n.revenue}}return a.isUndefined(t)||(n.revenue=t),n}function r(e){return a.isNumber(e)||a.isString(e)&&Number(e)==e}var a=n(5),o=n(124);t.activateGeoDelayedExperiments=function(e,t){t||(t=e.lists?"odds":"cdn3"),o.dataFromSource({data:e,source:t})},t.activateSiteCatalyst=function(e){e&&e.sVariable&&o.integrationSettings({id:"adobe_analytics",settings:{sVariableReference:e.sVariable}})},t.bucketUser=t.bucketVisitor=function(e,t){if(e&&t){var n={experimentId:String(e)};t>256?n.variationId=String(t):n.variationIndex=String(t),o.bucketVisitor(n)}},t.disable=function(){o.disable({})},t.log=function(e){a.isUndefined(e)&&(e=!0),o.log({level:e?"INFO":"OFF"})},t.optOut=function(e){a.isUndefined(e)&&(e=!0),o.optOut({isOptOut:e})},t.setCookieDomain=function(e){o.cookieDomain({cookieDomain:e})},t.setCookieExpiration=function(e){o.cookieExpiration({cookieExpirationDays:e})},t.setDimensionValue=function(e,t){var n={};n[e]=t,o.user({attributes:n})},t.setUserId=function(e){o.user({userId:e})},t.storeThirdPartyData=function(e,t){o.dataFromSource({source:e,data:t})},t.trackEvent=function(e,t){o.event({eventName:e,tags:i(t)})}},function(e,t,n){var i=n(5),r=n(14),a=n(2),o=n(113),s=n(114),u=n(104),c=n(66),l=n(79),d=n(78),f=n(11),g=n(4),p=n(103),v=n(108),h=n(85),_=n(82),E=n(15),I=E.get("stores/dimension_data"),m=E.get("stores/view_data"),y=E.get("stores/visitor_id"),S=E.get("stores/layer_data"),T=86400,A=90;t.event=function(e){v.updateAllViewTags();var t=function(){var t=u.trackCustomEvent(e.eventName,e.tags);t?g.log("API / Tracking custom event:",e.eventName,e.tags):g.log("API / Not tracking custom event:",e.eventName)};y.getBucketingId()?t():f.dispatch(r.ADD_CLEANUP_FN,{lifecycle:a.Lifecycle.postActivate,cleanupFn:t})},t.page=function(e){var t=m.getByApiName(e.pageName);if(!t)throw new Error('Unknown page "'+e.pageName+'"');var n=!e.hasOwnProperty("isActive")||e.isActive,i=function(){n?v.activate(t,e.tags):(v.setViewActiveState(t,!1),g.log("API / Deactivated Page",v.description(t)))};y.getBucketingId()?i():f.dispatch(r.ADD_CLEANUP_FN,{lifecycle:a.Lifecycle.postViewsActivated,cleanupFn:i})},t.tags=function(e){v.setGlobalTags(e.tags)},t.user=function(e){i.each(e,function(e,t){switch(t){case"userId":g.log("API / Setting visitor UUID to",e),h.persistVisitorId({UUID:e});break;case"attributes":g.log("API / Setting visitor attributes:",e),i.each(e,function(e,t){var n=t,i="custom",o=null,s=I.getByApiName(t);s||(s=I.getById(t)),s&&(n=s.id,o=s.segmentId),u.registerUserFeatureDef({id:o,name:n,type:i,segmentable:!1});var c=function(){f.dispatch(r.SET_VISITOR_ATTRIBUTE,{key:n,value:e,type:i})};y.getBucketingId()?c():f.dispatch(r.ADD_CLEANUP_FN,{lifecycle:a.Lifecycle.postVisitorProfileLoad,cleanupFn:c})})}})},t.optOut=function(e){var t=!e.hasOwnProperty("isOptOut")||e.isOptOut;l.setOptOut(t)},t.cookieExpiration=function(e){var t=e.cookieExpirationDays;t<A&&(g.error('Argument "cookieExpirationDays"=',t,"less than minimum days:",A,", setting to minimum."),t=A),g.log("API / Setting cookie age to",t,"days."),f.dispatch(r.SET_COOKIE_AGE,t*T)},t.cookieDomain=function(e){g.log("API / Setting cookie domain to",e.cookieDomain),f.dispatch(r.SET_COOKIE_DOMAIN,e.cookieDomain)},t.disable=function(e){if(e.scope){if("tracking"!==e.scope)throw new Error('Unknown "scope" for disable: '+e.scope);g.log("API / Disabling tracking"),f.dispatch(r.LOAD_DIRECTIVE,{trackingDisabled:!0})}else g.log("API / Disabling everything"),f.dispatch(r.LOAD_DIRECTIVE,{disabled:!0})},t.log=function(e){var t=e.level;i.isUndefined(t)&&(t="INFO"),g.setLogLevel(t)},t.registerModule=function(e){var t="custom/"+e.moduleName;if(s[t]||o.get(t))throw new Error('Module name "'+t+'" is reserved. Will not be registered as plugin.');p.registerApiModule(t,e.module)},t.dataFromSource=function(e){var t=e.source;c.makeAsyncRequest(t),c.resolveRequest(t,e.data)},t.addListener=function(e){if(!i.isFunction(e.handler))throw new Error("A handler function must be supplied");e=i.omit(e,"type"),e.publicOnly=!0,d.on(e)},t.removeListener=function(e){if(!e.token)throw new Error("Must supply a token to removeListener");d.off(e.token)},t.load=function(e){f.dispatch(r.DATA_LOADED,{data:e.data})},t.integrationSettings=function(e){if(!e.id)throw new Error("id is required");if(!e.settings)throw new Error("settings is required");f.dispatch(r.SET_INTEGRATION_SETTINGS,i.extend({},e.settings,{id:e.id}))},t.bucketVisitor=function(e){if(!e.variationId&&i.isUndefined(e.variationIndex)||e.variationId&&e.variationIndex)throw new Error("One of a variationId or a variationIndex is required.");if(!e.experimentId)throw new Error("An experimentId is required.");var t,n,r=e.campaignId;if(r){if(t=S.get(r),!t)throw new Error("Could not find layer "+r)}else if(t=S.getLayerByExperimentId(e.experimentId),r=t.id,!r)throw new Error("Could not find layer for experiment "+e.experimentId);if(n=i.find(t.experiments,{id:e.experimentId}),!n)throw new Error("Could not find experiment "+e.experimentId+" in layer "+r);var a=e.variationId;if(i.isUndefined(e.variationIndex)){if(!i.find(n.variations,{id:a}))throw new Error("Cound not find variation "+a+" in experiment "+e.experimentId)}else if(a=n.variations[e.variationIndex].id,!a)throw new Error("Could not find variation at index "+e.variationIndex+" in experiment "+e.experimentId);h.updateVariationIdMap(r,e.experimentId,a),y.getBucketingId()&&h.persistVariationId()},t.activate=function(){_.emitActivateEvent()}},function(e,t){},function(e,t,n){var i=n(5),r=n(95),a=n(8),o=n(52),s=n(4),u=n(15),c=u.get("stores/global"),l="https://errors.client.optimizely.com";t.handleError=function(e,t){var n=e.name||"Error",u=e.message,d=e.stack||null,f={timestamp:a.now(),clientEngine:r.ENGINE,clientVersion:r.VERSION,accountId:c.getAccountId(),projectId:c.getProjectId(),errorClass:n,message:u,stacktrace:d};t&&(f.metadata=i.reduce(t,function(e,t,n){return i.isObject(t)||e.push({key:n,value:String(t)}),e},[])),s.error("Logging error",f),o.request({url:l+"/log",method:"POST",data:f,contentType:"application/json"}).then(function(e){s.log("Error Monitor / Logged error with response: ",e)},function(e){s.error("Failed to log error, response was: ",e)})}},function(e,t,n){function i(e){var t=!1;if(a.isArray(SLAVE_CLIENT.optimizely)&&a.each(SLAVE_CLIENT.optimizely,function(n){a.isArray(n)&&"verifyPreviewProject"===n[0]&&String(n[1])===e&&(t=!0)}),!t)throw new Error("Preview projectId: "+e+" does not match expected")}function r(){u.on({filter:{type:o.TYPES.ANALYTICS,name:"trackEvent"},handler:f}),u.on({filter:{type:o.TYPES.LIFECYCLE,name:"viewActivated"},handler:f}),u.on({filter:{type:o.TYPES.LIFECYCLE,name:"layerDecided"},handler:f})}var a=n(5),o=n(107),s=n(10),u=n(78),c=n(15),l=c.get("stores/directive"),d="optimizelyPreview",f=function(e){var t=s.getGlobal(d);t.push(e)};t.initialize=function(e){l.isSlave()&&i(e),r()},t.setupPreviewGlobal=function(){s.getGlobal(d)||s.setGlobal(d,[])},t.pushToPreviewGlobal=function(e){f(e)}},function(e,t,n){e.exports=function(e){n(129)(e),e.registerAnalyticsTracker(n(144))}},function(e,t,n){var i=n(5),r=n(15),a=r.get("stores/global"),o=r.get("stores/visitor_attribute_entity");e.exports=function(e){e.registerDependency("helpers/rules",n(130)),e.registerVisitorProfileProvider(n(131)),e.registerVisitorProfileProvider(n(133)),e.registerVisitorProfileProvider(n(136)),e.registerVisitorProfileProvider(n(139)),e.registerAudienceMatcher("behavior",n(140)),e.registerAudienceMatcher("first_session",n(141)),e.registerAudienceMatcher("default_behavior",n(142));var t=n(137);i.each(t,function(t){e.registerUserFeature({type:"default_behavior",name:t.id,valueFn:function(e){return e.defaultBehavior[t.id]}})});var r=a.getProjectId(),s=o.getCustomBehavioralAttributes(r);i.each(s,function(t){e.registerUserFeature({type:"custom_behavior",name:t.id,valueFn:function(e){return e.customBehavior[t.id]}})}),e.registerUserFeature({type:"first_session"}),e.registerApiModule("behavior",n(143))}},function(e,t,n){var i=n(5),r=n(2),a=n(4),o=a.log.bind(a),s=n(8),u=n(48).getFieldValue,c=t;c.getValueOrDefault=function(e,t,n){if(e.getValueOrDefault)return e.getValueOrDefault(t,n);var i=u(e,t);return"undefined"==typeof i&&(i=n),i},c.maybeTrimLowerCase=function(e){return"string"==typeof e?e.trim().toLowerCase():e},c.clause={WHERE:"where",GROUP_BY:"groupBy",AGGREGATE:"aggregate",HAVING:"having",ORDER_BY:"orderBy",SELECT:"select",OFFSET:"offset",LIMIT:"limit",FROM:"from"},c.DEFAULT_FIELD=["*"],c.booleanOperators={eq:function(e){var t=i.map(e,c.maybeTrimLowerCase);return t[0]==t[1]},is:function(e){return e[0]===e[1]},gt:function(e){return e[0]>e[1]},lt:function(e){return e[0]<e[1]},gte:function(e){return e[0]>=e[1]},lte:function(e){return e[0]<=e[1]},"in":function(e){var t=i.map(e[1]||[],c.maybeTrimLowerCase);return i.includes(t,c.maybeTrimLowerCase(e[0]))},between:function(e){return e[1]<=e[0]&&e[0]<=e[2]},contains:function(e){var t=i.map(e,function(e){return"string"==typeof e?e.toLowerCase():e});return(t[0]||"").indexOf(t[1])!==-1},regex:function(e){try{var t,n;return i.isString(e[1])?(t=e[1],n="i"):(t=e[1][0]||"",n=e[1][1]||""),new RegExp(t,n).test(e[0])}catch(r){return a.error("Rules",'In operator "regex", error: '+(r.message||"invalid RegExp /"+[t,n].join("/"))),!1}},exists:function(e){return"undefined"!=typeof e[0]},and:function(e){return i.every(e,function(e){return e})},or:function(e){return i.some(e,function(e){return e})},not:function(e){return!e[0]}},c.arithmeticOperators={"+":function(e){return(e[0]||0)+(e[1]||0)},"-":function(e){return(e[0]||0)-(e[1]||0)},"/":function(e){return(e[0]||0)/(e[1]||1)},"%":function(e){return(e[0]||0)%(e[1]||1)}},c.aggregateOperators={sum:function(e,t){for(var n=e[0]||c.DEFAULT_FIELD,i=0,r=0;r<t.length;r++)i+=c.getValueOrDefault(t[r],n,0);return i},avg:function(e,t){if(0===t.length)return 0;for(var n=e[0]||c.DEFAULT_FIELD,i=0,r=0;r<t.length;r++)i+=c.getValueOrDefault(t[r],n,0);return i/t.length},max:function(e,t){for(var n=e[0]||c.DEFAULT_FIELD,i=Number.NEGATIVE_INFINITY,r=0;r<t.length;r++)i=Math.max(i,c.getValueOrDefault(t[r],n,Number.NEGATIVE_INFINITY));return i},min:function(e,t){for(var n=e[0]||c.DEFAULT_FIELD,i=Number.POSITIVE_INFINITY,r=0;r<t.length;r++)i=Math.min(i,c.getValueOrDefault(t[r],n,Number.POSITIVE_INFINITY));return i},count:function(e,t){return t.length}},c.functions={now:function(){return s.now()}},c.getScalarOperator=function(e){return e in c.booleanOperators?c.booleanOperators[e]:e in c.arithmeticOperators?c.arithmeticOperators[e]:null},c.operate=function(e,t){if(t.hasOwnProperty("value"))return t.value;if(t.hasOwnProperty("field"))return c.getValueOrDefault(e,t.field);if(t.hasOwnProperty("eval"))return t.eval in c.functions?c.functions[t.eval]():void a.error("Rules","Unknown function: "+t.eval);if(!t.op)return void a.error("Rules","No operator specified: "+JSON.stringify(t));var n=c.getScalarOperator(t.op);if(!n)return void a.error("Rules","Unknown operator: "+t.op);var r=i.partial(c.operate,e),o=t.args||[],s=i.map(o,function(e){return r(e)});return n(s,e)},c.groupBy=function(e,t){var n={};if("undefined"==typeof e||!i.isArray(e)||0===e.length)return n["*"]={fieldValues:{},events:t},n;for(var r=i.map(e,function(e){return e.field}),a=0;a<t.length;a++){for(var o=t[a],s=[],u={},l=0;l<r.length;l++){var d=r[l],f=c.getValueOrDefault(o,d),g=d.join(".");u[g]=f,s.push(encodeURIComponent(g)+"="+encodeURIComponent(JSON.stringify(f)))}var p=s.join("&");n.hasOwnProperty(p)||(n[p]={fieldValues:u,events:[]}),n[p].events.push(o)}return n},c.generateAlias=function(e,t){return"_"+e+"_"+t.join(".")},c.aggregate=function(e,t){var n={};return i.each(t,function(t,i){n[i]={};for(var r=0;r<e.length;r++){var o=e[r],s=o.op;if(s in c.aggregateOperators){var u=(o.args&&o.args[0]||{}).field||c.DEFAULT_FIELD,l=c.generateAlias(s,u),d=c.aggregateOperators[s]([u],t.events);n[i][l]=d}else a.error("Rules","Unknown aggregate operator "+s)}}),n},c.project=function(e,t){var n=[];return i.each(e,function(e,r){var a=i.extend({},e.fieldValues),o=t[r]||{};i.extend(a,o),n.push(a)}),n},c.orderBy=function(e,t){return i.isArray(e)?0===e.length?t:t.sort(function(t,n){for(var i=0;i<e.length;i++){var r=e[i],a=r.direction||"ASC",o="ASC"===a?1:-1,s=r.field,u=c.getValueOrDefault(t,s,0),l=c.getValueOrDefault(n,s,0);if(u<l)return-o;if(u>l)return o}return 0}):(o("Rules","groupBy rule must be an array"),t)},c.rewrite=function(e){function t(e,o){if(i.isArray(e)&&("and"!==e[0]&&"or"!==e[0]&&"not"!==e[0]&&a.error("Rules","Unexpected operation "+e[0]+". Continuing optimistically."),e={op:e[0],args:e.slice(1)}),e.hasOwnProperty("field")||e.hasOwnProperty("value")||e.hasOwnProperty("eval"))return e;if(o&&e.op in c.aggregateOperators){var s=(e.args&&e.args[0]||{}).field||c.DEFAULT_FIELD,u=c.generateAlias(e.op,s);return u in r||(n.push({op:e.op,args:e.args}),r[u]=!0),{field:[u]}}for(var l=[],d=e.args||[],f=0;f<d.length;f++)l[f]=t(d[f],o);return{op:e.op,args:l}}var n=[],r={},o={};e.hasOwnProperty(c.clause.WHERE)&&(o[c.clause.WHERE]=t(e[c.clause.WHERE],!1)),e.hasOwnProperty(c.clause.HAVING)&&(o[c.clause.HAVING]=t(e[c.clause.HAVING],!0)),(e.hasOwnProperty(c.clause.AGGREGATE)||n.length>0)&&(o[c.clause.AGGREGATE]=(e[c.clause.AGGREGATE]||[]).concat(n));for(var s=[c.clause.GROUP_BY,c.clause.ORDER_BY,c.clause.SELECT,c.clause.OFFSET,c.clause.LIMIT],u=0;u<s.length;u++)e.hasOwnProperty(s[u])&&(o[s[u]]=e[s[u]]);return e.hasOwnProperty(c.clause.FROM)&&(o[c.clause.FROM]=c.rewrite(e[c.clause.FROM])),o},c.verify=function(e,t){t=t||0;var n=[];if(e.hasOwnProperty(c.clause.WHERE)?e[c.clause.WHERE].op?e[c.clause.WHERE].op in c.booleanOperators||n.push("Non-boolean WHERE clause operator"):n.push("Missing WHERE clause operator"):n.push("Missing WHERE clause"),e.hasOwnProperty(c.clause.HAVING)&&(e[c.clause.HAVING].op?e[c.clause.HAVING].op in c.booleanOperators||n.push("Non-boolean HAVING clause operator"):n.push("Missing HAVING clause operator")),e.hasOwnProperty(c.clause.GROUP_BY)&&!e.hasOwnProperty(c.clause.AGGREGATE)&&n.push("No AGGREGATE clause specified with GROUP_BY clause"),e.hasOwnProperty(c.clause.SELECT)){var r=e[c.clause.SELECT];if(i.isArray(r))for(var a=0;a<r.length;a++)r[a].op&&r[a].op in c.aggregateOperators&&n.push('In SELECT clause, aggregate operator "'+r[a].op+'" specified in selector at index '+a);else n.push("SELECT clause must be an array")}if(e.hasOwnProperty(c.clause.OFFSET)){var o=e[c.clause.OFFSET];(!i.isNumber(o)||Number(o)<0||Number(o)!==Math.floor(Number(o)))&&n.push("OFFSET must be a non-negative integer")}if(e.hasOwnProperty(c.clause.LIMIT)){var s=e[c.clause.LIMIT];(!i.isNumber(s)||Number(s)<0||Number(s)!==Math.floor(Number(s)))&&n.push("LIMIT must be a non-negative integer")}return t>0&&(n=i.map(n,function(e){return"Sub-rule "+t+": "+e})),e.hasOwnProperty(c.clause.FROM)&&(n=n.concat(c.verify(e[c.clause.FROM],t+1))),n},c.select=function(e,t){return i.map(t,function(t){return i.map(e,function(e){return c.operate(t,e)})})},c.executeRecursively=function(e,t){var n=t;if(e.hasOwnProperty(c.clause.FROM)&&(a.debug("Evaluating FROM clause:",e[c.clause.FROM]),n=c.executeRecursively(e[c.clause.FROM],n),a.debug("Results after FROM:",n)),a.debug("Evaluating WHERE clause:",e[c.clause.WHERE]),n=i.filter(n,function(t){return c.operate(t,e[c.clause.WHERE])}),a.debug("Results after WHERE:",n),e.hasOwnProperty(c.clause.AGGREGATE)){a.debug("Evaluating AGGREGATE clause:",e[c.clause.AGGREGATE]);var r=c.groupBy(e[c.clause.GROUP_BY],n),o=c.aggregate(e[c.clause.AGGREGATE],r);n=c.project(r,o),a.debug("Results after AGGREGATE:",n)}e.hasOwnProperty(c.clause.HAVING)&&(a.debug("Evaluating HAVING clause:",e[c.clause.HAVING]),n=i.filter(n,function(t){return c.operate(t,e[c.clause.HAVING])}),a.debug("Results after HAVING:",n)),e.hasOwnProperty(c.clause.ORDER_BY)&&(a.debug("Evaluating ORDER_BY clause:",e[c.clause.ORDER_BY]),n=c.orderBy(e[c.clause.ORDER_BY],n),a.debug("Results after ORDER_BY:",n));var s=0;e.hasOwnProperty(c.clause.OFFSET)&&(a.debug("Evaluating OFFSET clause:",e[c.clause.OFFSET]),s=Number(e[c.clause.OFFSET]));var u;return e.hasOwnProperty(c.clause.LIMIT)&&(a.debug("Evaluating LIMIT clause:",e[c.clause.LIMIT]),u=s+Number(e[c.clause.LIMIT])),(s>0||!i.isUndefined(u))&&(n=n.slice(s,u),a.debug("Results after OFFSET/LIMIT:",n)),e.hasOwnProperty(c.clause.SELECT)&&(a.debug("Evaluating SELECT clause:",e[c.clause.SELECT]),n=c.select(e[c.clause.SELECT],n),a.debug("Results after SELECT:",n)),n},c.execute=function(e,t){e=c.rewrite(e),a.shouldLog(r.LogLevel.DEBUG)&&a.groupCollapsed("Evaluating Behavioral Rule"),a.debug("Rule:",e,JSON.stringify(e)),a.debug("Events:",t);var n=c.verify(e);if(n.length>0)throw new Error("Rule "+JSON.stringify(e)+" has violations: "+n.join("\n"));var i=c.executeRecursively(e,t);return a.debug("Rule result:",i),a.shouldLog(r.LogLevel.DEBUG)&&a.groupEnd(),i},c.isSatisfied=function(e,t){try{return c.execute(e,t).length>0}catch(n){return a.error("Rules","Error "+n.toString()+" while evaluating rule "+JSON.stringify(e)),!1}}},function(e,t,n){var i=n(132);e.exports={provides:"events",isTransient:!0,getter:["stores/visitor_events",function(e){return i.getEvents(e)}]}},function(e,t,n){var i=n(5),r=n(87);t.getEvents=function(e){var t=e.getEvents(),n=[].concat.apply([],i.values(e.getForeignEvents())),a=[].concat.apply([],i.values(e.getForeignEventQueues()));return r.mergeAllEvents([t,n,a])}},function(e,t,n){var i=n(134),r=n(132),a=n(135),o=n(5);e.exports={provides:"customBehavior",isLazy:!1,getter:["stores/global","stores/visitor_attribute_entity","stores/visitor_events","stores/visitor",function(e,t,n){var s=e.getProjectId(),u=o.filter(o.map(t.getCustomBehavioralAttributes(s),function(e){try{return{id:e.id,granularity:i.GRANULARITY.ALL,rule:a.buildFromSpecV0_2(JSON.parse(e.rule_json))}}catch(t){return}})),c=r.getEvents(n);return i.evaluate(u,c)}]}},function(e,t,n){function i(e){if(0===e.length)return[];for(var t=e.length-1,n=o.FIELDS.SESSION_ID,i=e[t][n];t>0&&i===e[t-1][n];)t--;return e.slice(t)}function r(e,t){if(0===e.length||t<=0)return[];var n=+new Date-t*u.MILLIS_IN_A_DAY;n-=n%u.MILLIS_IN_A_DAY;for(var i=e.length;i>0&&n<=e[i-1][o.FIELDS.TIME];)i--;return e.slice(i)}var a=n(4),o={FIELDS:n(45).FIELDS},s=n(130),u=n(135);t.GRANULARITY={ALL:"all",CURRENT_SESSION:"current_session",LAST_30_DAYS:"last_30_days",LAST_60_DAYS:"last_60_days"},t.evaluate=function(e,n){var o={};if(0===n.length){for(var u=0;u<e.length;u++)o[e[u].id]=e[u].defaultValue;return o}var c=i(n),l=r(n,60);for(u=0;u<e.length;u++){var d=e[u],f=n;d.granularity===t.GRANULARITY.CURRENT_SESSION?f=c:d.granularity===t.GRANULARITY.LAST_60_DAYS&&(f=l);try{var g=f;d.rule&&(g=s.execute(d.rule,f)),o[d.id]=d.defaultValue,1===g.length?o[d.id]=g[0][0]||d.defaultValue:a.debug("Behavior / Rule for",d.id,"returned",g.length,"results, expected 1")}catch(p){a.error("Behavior / Rule for",d.id,"failed with",p.message||"")}}return o}},function(e,t,n){function i(e){return e=(e||"").toString().trim(),f[e]||e}function r(e,t,n){var i={where:t};if(e.count&&(i.limit=e.count),e.modifier===s.FREQUENCY_FILTERS.MOST_FREQUENT){var r=s.getFieldKeyPathForSource(e.name,n),a=s.aggregate("count"),o=s.aggregateField("count"),c=s.groupField(r);return d.extend(i,{select:[{field:c}],groupBy:s.groupBy([r]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}]})}return d.extend(i,{orderBy:[{field:[u.FIELDS.TIME],direction:"DESC"}]})}function a(e){var t=[];if(d.isUndefined(e))throw new Error("rule is undefined");if(!d.isObject(e))throw new Error("rule is not an Object");"0.2"!==e.version&&t.push('version: not "0.2"'),e.filter&&(d.isArray(e.filter)?d.each(e.filter,function(e,n){var i=s.validateFieldKeyPathV0_2(e.field,s.FieldPurpose.FILTER);i&&t.push("filter["+n+"]: "+i);var r=s.validateComparatorAndValue(e.comparator,e.value);r&&t.push("filter["+n+"]: "+r)}):t.push("filter: not an array"));var n=[],i=[];if(e.sort&&(e.reduce&&e.reduce.aggregator&&"nth"!==e.reduce.aggregator&&t.push("sort: superfluous because we can apply aggregator "+JSON.stringify(e.reduce.aggregator)+" to unsorted items"),d.isArray(e.sort)?d.each(e.sort,function(e,r){var a=s.validateFieldKeyPathV0_2(e.field,s.FieldPurpose.SORT);a&&t.push("sort["+r+"]: "+a),e.field&&"frequency"===e.field[0]?n.push(e):i.push(e);var u=o(e.direction);u&&t.push("sort["+r+"]: "+u)}):t.push("sort: not an array"),n.length&&i.length&&t.push('sort: sorting by non-["frequency"] field is pointless because we are going to sort the picked values by ["frequency"]'),n.length&&!e.pick&&t.push('sort: sorting by ["frequency"] is impossible because no values have been picked')),e.pick){e.reduce&&"count"===e.reduce.aggregator&&t.push('pick: superfluous because we can apply aggregator "count" to raw events');var r=s.validateFieldKeyPathV0_2(e.pick.field);r&&t.push("pick: "+r)}if(e.reduce){var a=e.reduce.aggregator,u="aggregator "+(JSON.stringify(a)||String(a)),c=e.reduce.n,l="index "+(JSON.stringify(c)||String(c));d.includes(["sum","avg","max","min","count","nth"],a)||t.push("reduce: "+u+" is unknown"),d.includes(["sum","avg","max","min"],a)&&(e.pick||t.push("reduce: "+u+" is impossible to use because no values have been picked")),"nth"===a?((!d.isNumber(c)||isNaN(c)||parseInt(c,10)!==c||c<0)&&t.push("reduce: "+l+" is not a non-negative integer (mandated by "+u+")"),e.sort||t.push('reduce: aggregator "nth" is meaningless without a specific sort order')):d.isUndefined(c)||t.push("reduce: "+l+" is defined (not mandated by "+u+")")}if(t.length)throw new Error(t.join("\n"))}function o(e){var t="direction "+(JSON.stringify(e)||String(e));if(!d.includes(["ascending","descending"],e))return t+' is not "ascending" or "descending"'}var s=t,u={FIELDS:n(45).FIELDS,FIELDS_V0_2:n(45).FIELDS_V0_2},c=n(130),l=n(4),d=n(5);s.MILLIS_IN_A_DAY=864e5,s.aggregateField=function(e,t){return d.isString(t)&&(t=[t]),t=t||c.DEFAULT_FIELD,[c.generateAlias(e,t)]},s.groupField=function(e){return d.isString(e)&&(e=[e]),e=e||c.DEFAULT_FIELD,[e.join(".")]};var f={"<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","==":"eq"};s.fieldComparison=function(e,t,n){return e=i(e),d.isString(t)&&(t=[t]),"exists"===e?{op:e,args:[{field:t}]}:{op:e,args:[{field:t},{value:n}]}},s.relativeTimeComparison=function(e,t){return{op:i(e),args:[{op:"-",args:[{eval:"now"},{field:[u.FIELDS.TIME]}]},{value:t*s.MILLIS_IN_A_DAY}]}},s.rangeTimeComparison=function(e){return d.isArray(e)?{op:"between",args:[{field:[u.FIELDS.TIME]},{value:e[0]||+new Date(0)},{value:e[1]||+new Date}]}:(l.error("Rule builder","rangeTimeComparison passed invalid range",e),null)},s.groupBy=function(e){for(var t=[],n=0;n<e.length;n++)t[n]={field:e[n]};return t},s.aggregate=function(e,t){return d.isString(t)&&(t=[t]),t=t||c.DEFAULT_FIELD,{op:e,args:[{field:t}]}},s.SOURCE_TYPES={BEHAVIOR:"events",DEFAULT_BEHAVIOR:"default_behavior",CUSTOM_BEHAVIOR:"custom_behavior",DCP:"dcp"},s.FREQUENCY_FILTERS={MOST_FREQUENT:"most_frequent",LEAST_FREQUENT:"least_frequent"},s.RECENCY_FILTERS={MOST_RECENT:"most_recent",LEAST_RECENT:"least_recent"},s.getFieldKeyPathForSource=function(e,t){t=t||s.SOURCE_TYPES.BEHAVIOR;var n=[];return d.isString(e)?(n=[e],t!==s.SOURCE_TYPES.BEHAVIOR||d.includes(d.values(u.FIELDS),e)||(n=[u.FIELDS.OPTIONS,e])):n=e,n},s.buildFromSpecV0_1=function(e){if(!(e.action||e.filters&&0!==e.filters.length))throw new Error('Audience spec must have an "action" field or at least one "filter" '+JSON.stringify(e));var t=s.fieldComparison("gt",u.FIELDS.TIME,0),n=[],i=[];if(e.action&&(i.push(s.fieldComparison("eq",u.FIELDS.NAME,e.action.value)),e.action.type&&i.push(s.fieldComparison("eq",u.FIELDS.TYPE,e.action.type))),e.time)if("last_days"===e.time.type)i.push(s.relativeTimeComparison("lte",e.time.days));else if("range"===e.time.type){var a=s.rangeTimeComparison([e.time.start,e.time.stop]);
a&&i.push(a)}else l.error("Rule builder",'Audience spec has bad "time" type',e.time.type);if(t={op:"and",args:i},e.count&&n.push({where:s.fieldComparison(e.count.comparator,"0",e.count.value),from:{select:[{field:s.aggregateField("count")}],where:t,aggregate:[s.aggregate("count")]}}),e.filters&&d.each(e.filters,function(r){var a,o,c=s.getFieldKeyPathForSource(r.name,e.source);if(r.modifier===s.FREQUENCY_FILTERS.MOST_FREQUENT?(a=s.aggregate("count"),o=s.aggregateField("count")):r.modifier===s.RECENCY_FILTERS.MOST_RECENT&&(a=s.aggregate("max",u.FIELDS.TIME),o=s.aggregateField("max",u.FIELDS.TIME)),a){var l=c,d=s.groupField(l);n.push({where:s.fieldComparison(r.comparator,"0",r.value),from:{select:[{field:d}],where:t,groupBy:s.groupBy([l]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}],limit:1}})}else i.push(s.fieldComparison(r.comparator,c,r.value))}),e.pick){if(n.length>0)throw new Error('A "pick" clause must not be specified with "count" or "most_recent", "most_frequent" modifiers'+JSON.stringify(e));return[r(e.pick,t,e.source)]}return n.length>0?n:[{where:t}]},s.buildFromSpecV0_2=function(e){a(e);var t={where:{op:"and",args:d.map(e.filter||[],function(e){return"age"===e.field[0]?s.relativeTimeComparison(e.comparator||"eq",e.value/s.MILLIS_IN_A_DAY):s.fieldComparison(e.comparator||"eq",s.convertFieldKeyPathFromSpecV0_2(e.field),e.value)})}};if(e.reduce&&"count"===e.reduce.aggregator)return d.extend(t,{aggregate:[{op:"count",args:[{field:["*"]}]}],select:[{field:["_count_*"]}]});var n=[],i=[];if(e.sort&&(d.each(e.sort,function(e){d.includes(["ascending","descending"],e.direction)&&(d.includes(["time","age"],e.field[0])&&i.push(e),"frequency"===e.field[0]&&n.push(e))}),i.length&&!n.length&&(t.orderBy=d.filter(d.map(i,function(e){return"time"===e.field[0]?{field:s.convertFieldKeyPathFromSpecV0_2(["time"]),direction:"ascending"===e.direction?"ASC":"DESC"}:"age"===e.field[0]?{field:s.convertFieldKeyPathFromSpecV0_2(["time"]),direction:"ascending"===e.direction?"DESC":"ASC"}:void 0})))),e.pick&&e.pick.field){var r=s.convertFieldKeyPathFromSpecV0_2(e.pick.field);if(e.reduce&&d.includes(["avg","max","min","sum"],e.reduce.aggregator))return d.extend(t,{aggregate:[{op:e.reduce.aggregator,args:[{field:r}]}],select:[{field:[c.generateAlias(e.reduce.aggregator,r)]}]});t=n.length?d.extend(t,{groupBy:[{field:r}],aggregate:[{op:"count",args:[{field:["*"]}]}],orderBy:[{field:["_count_*"],direction:"ascending"===n[0].direction?"ASC":"DESC"}],select:[{field:[r.join(".")]}]}):d.extend(t,{select:[{field:r}]})}if(e.reduce&&"nth"===e.reduce.aggregator){var o=e.reduce.n;if(d.isNumber(o)&&o>=0&&Number(o)===Math.floor(Number(o)))return d.extend(t,{offset:o,limit:1})}return t},s.convertFieldKeyPathFromSpecV0_2=function(e){return"tags"===e[0]&&"revenue"===e[1]?["r"]:[u.FIELDS_V0_2[e[0]]].concat(e.slice(1))},s.FieldPurpose={FILTER:"filter",SORT:"sort",PICK:"pick"},s.validateFieldKeyPathV0_2=function(e,t){var n="field "+(JSON.stringify(e)||String(e));if(!d.isArray(e)||!d.every(e,d.isString))return n+" is not an array of strings";if("tags"===e[0]&&e.length>2||"tags"!==e[0]&&e.length>1)return n+" includes too many strings";if("tags"===e[0]&&e.length<2)return n+" does not specify an exact tag";if(e.length<1)return n+" does not specify a top-level field";var i=d.keys(u.FIELDS_V0_2),r=["age","frequency"];return t===s.FieldPurpose.FILTER&&(i.push("age"),r=["frequency"]),t===s.FieldPurpose.SORT&&(i=["time","age","frequency"],r=["name","type","category","tags"]),d.includes(r,e[0])?n+" is not supported here":d.includes(i,e[0])?void 0:n+" is unknown"},s.validateComparatorAndValue=function(e,t){var n="comparator "+(JSON.stringify(e)||String(e)),i="value "+(JSON.stringify(t)||String(t));if(!d.isString(e)&&!d.isUndefined(e))return n+" is not a string";switch(e){case void 0:case"eq":case"is":case"contains":break;case"lt":case"gt":case"lte":case"gte":if(!d.isNumber(t))return i+" is not a number (mandated by "+n+")";break;case"in":if(!d.isArray(t))return i+" is not an array (mandated by "+n+")";break;case"between":if(!(d.isArray(t)&&2===t.length&&d.isNumber(t[0])&&d.isNumber(t[1])&&t[0]<=t[1]))return i+" is not a pair of increasing numbers (mandated by "+n+")";break;case"regex":if(!(d.isString(t)||d.isArray(t)&&2===t.length&&d.isString(t[0])&&d.isString(t[1])))return i+" is not a pattern string or a [pattern string, flags string] array (mandated by "+n+")";break;case"exists":if(!d.isUndefined(t))return i+" is not undefined (mandated by "+n+")";break;default:return n+" is unknown"}}},function(e,t,n){var i=n(134),r=n(137),a=n(138),o=n(132),s=n(5);e.exports={provides:"defaultBehavior",isLazy:!1,getter:["stores/visitor_events","stores/visitor",function(e,t){var n=o.getEvents(e),u=i.evaluate(r,n),c=t.getAttribute("defaultBehavior")||{},l=a.compute(c,n);return s.extend(u,l)}]}},function(e,t,n){var i={FIELDS:n(45).FIELDS},r=n(134),a=n(135);e.exports=[{id:"TOTAL_REVENUE",granularity:r.GRANULARITY.ALL,rule:{where:a.fieldComparison("gt",i.FIELDS.REVENUE,0),aggregate:[a.aggregate("sum",i.FIELDS.REVENUE)],select:[{field:a.aggregateField("sum",i.FIELDS.REVENUE)}]},defaultValue:0},{id:"MOST_VIEWED_PAGE",granularity:r.GRANULARITY.ALL,rule:{where:a.fieldComparison("eq",i.FIELDS.TYPE,"pageview"),groupBy:a.groupBy([[i.FIELDS.NAME]]),aggregate:[a.aggregate("count")],orderBy:[{field:a.aggregateField("count"),direction:"DESC"}],limit:1,select:[{field:[i.FIELDS.NAME]}]},defaultValue:""},{id:"NUM_PAGEVIEWS_LAST_7_DAYS",rule:{where:{op:"and",args:[a.fieldComparison("eq",i.FIELDS.TYPE,"pageview"),a.relativeTimeComparison("lte",7)]},aggregate:[a.aggregate("count")],select:[{field:a.aggregateField("count")}]},defaultValue:0},{id:"AVG_EVENTS_PER_SESSION",granularity:r.GRANULARITY.ALL,rule:{where:a.fieldComparison("gt",a.aggregateField("count"),0),aggregate:[a.aggregate("avg",a.aggregateField("count"))],from:{where:a.fieldComparison("gte",i.FIELDS.SESSION_ID,0),groupBy:a.groupBy([[i.FIELDS.SESSION_ID]]),aggregate:[a.aggregate("count")]},select:[{field:a.aggregateField("avg",a.aggregateField("count"))}]},defaultValue:0},{id:"CURRENT_SESSION_DURATION",granularity:r.GRANULARITY.CURRENT_SESSION,rule:{where:a.fieldComparison("gte",i.FIELDS.SESSION_ID,0),aggregate:[a.aggregate("min",i.FIELDS.TIME)],select:[{op:"-",args:[{eval:"now"},{field:a.aggregateField("min",i.FIELDS.TIME)}]}]},defaultValue:0},{id:"NUM_SESSIONS_LAST_60_DAYS",granularity:r.GRANULARITY.LAST_60_DAYS,rule:{where:a.fieldComparison("gt",a.aggregateField("count"),0),aggregate:[a.aggregate("count")],from:{where:a.fieldComparison("gte",i.FIELDS.SESSION_ID,0),groupBy:a.groupBy([[i.FIELDS.SESSION_ID]]),aggregate:[a.aggregate("count")]},select:[{field:a.aggregateField("count")}]},defaultValue:0},{id:"AVG_REVENUE_PER_ORDER_LAST_60_DAYS",granularity:r.GRANULARITY.LAST_60_DAYS,rule:{where:a.fieldComparison("gt",i.FIELDS.REVENUE,0),aggregate:[a.aggregate("avg",i.FIELDS.REVENUE)],select:[{field:a.aggregateField("avg",i.FIELDS.REVENUE)}]},defaultValue:0},{id:"AVG_SESSION_DURATION_LAST_60_DAYS",granularity:r.GRANULARITY.LAST_60_DAYS,rule:{where:a.fieldComparison("gte","0",0),aggregate:[a.aggregate("avg","0")],from:{where:a.fieldComparison("gte",i.FIELDS.SESSION_ID,0),groupBy:a.groupBy([[i.FIELDS.SESSION_ID]]),aggregate:[a.aggregate("min",i.FIELDS.TIME),a.aggregate("max",i.FIELDS.TIME)],select:[{op:"-",args:[{field:a.aggregateField("max",i.FIELDS.TIME)},{field:a.aggregateField("min",i.FIELDS.TIME)}]}]},select:[{field:a.aggregateField("avg","0")}]},defaultValue:0},{id:"TOTAL_PRODUCT_VIEWS_LAST_60_DAYS",granularity:r.GRANULARITY.LAST_60_DAYS,rule:{where:{op:"and",args:[a.fieldComparison("eq",i.FIELDS.TYPE,"pageview"),a.fieldComparison("eq",i.FIELDS.CATEGORY,"product_detail")]},aggregate:[a.aggregate("count")],select:[{field:a.aggregateField("count")}]},defaultValue:0},{id:"MOST_VIEWED_PRODUCT_CATEGORY_LAST_60_DAYS",granularity:r.GRANULARITY.LAST_60_DAYS,rule:{where:{op:"and",args:[a.fieldComparison("eq",i.FIELDS.TYPE,"pageview"),a.fieldComparison("eq",i.FIELDS.CATEGORY,"product_detail")]},groupBy:a.groupBy([[i.FIELDS.OPTIONS,"category"]]),aggregate:[a.aggregate("count")],orderBy:[{field:a.aggregateField("count"),direction:"DESC"}],limit:1,select:[{field:a.groupField([i.FIELDS.OPTIONS,"category"])}]},defaultValue:""},{id:"AVG_PRICE_OF_PRODUCTS_VIEWED_LAST_60_DAYS",granularity:r.GRANULARITY.LAST_60_DAYS,rule:{where:{op:"and",args:[a.fieldComparison("eq",i.FIELDS.TYPE,"pageview"),a.fieldComparison("eq",i.FIELDS.CATEGORY,"product_detail"),a.fieldComparison("gt",[i.FIELDS.OPTIONS,"price"],0)]},aggregate:[a.aggregate("avg",[i.FIELDS.OPTIONS,"price"])],select:[{field:a.aggregateField("avg",[i.FIELDS.OPTIONS,"price"])}]},defaultValue:0}]},function(e,t,n){function i(e,t){var n="FIRST_VISIT_TIME",i=e[n]||Number.POSITIVE_INFINITY;if(t&&t.length>0&&(i=Math.min(i,t[0].getValueOrDefault([a.FIELDS.TIME],i))),i===Number.POSITIVE_INFINITY)return{};var r={};return r[n]=i,r}function r(e,t){var n="LAST_VISIT_TIME",i=e[n]||Number.NEGATIVE_INFINITY;if(t&&t.length>0&&(i=Math.max(i,t[t.length-1].getValueOrDefault([a.FIELDS.TIME],i))),i===Number.NEGATIVE_INFINITY)return{};var r={};return r[n]=i,r}var a=n(45),o=n(5),s=[i,r];t.compute=function(e,t){return o.reduce(s,function(n,i){return o.extend(n,i(e,t))},{})}},function(e,t,n){var i=n(5),r=n(132),a=n(48).getFieldValue,o=n(45);e.exports={provides:"first_session",getter:["stores/visitor_events",function(e){var t=r.getEvents(e);if(t&&t.length>0){var n=a(t[0],[o.FIELDS.SESSION_ID]);return i.every(t,function(e){return e[o.FIELDS.SESSION_ID]===n})}return!0}]}},function(e,t,n){var i=n(5),r=n(135),a=n(130);e.exports={fieldsNeeded:["events"],match:function(e,t){var n=[],o=JSON.parse(t.value);return n=i.isUndefined(o.version)?[o]:r.buildFromSpecV0_1(o),i.every(n,function(t){return a.isSatisfied(t,e.events)})}}},function(e,t){e.exports={fieldsNeeded:["first_session"],match:function(e){return!!e.first_session}}},function(e,t,n){var i=n(130);e.exports={fieldsNeeded:["defaultBehavior"],match:function(e,t){return i.isSatisfied(JSON.parse(t.value),[e.defaultBehavior])}}},function(e,t,n){function i(e,t){var n=d.buildFromSpecV0_1(t);if(1!==n.length)throw new Error("Invalid query descriptor; verify that no aggregators are specified");return f.execute(n[0],e)}function r(e,t){return c.map(e,function(e){return c.isFunction(e.toObject)?e.toObject(t):e})}function a(e,t){if(!e)return["Descriptor not defined"];var n=[];return e.count&&n.push('Unexpected "count" clause specified'),e.pick&&e.pick.modifier&&t.indexOf(e.pick.modifier)===-1&&n.push('Invalid "pick" modifier "'+e.pick.modifier+'"'),c.each(e.filters,function(e){c.isUndefined(e.modifier)||n.push('Unexpected "filter" modifier "'+e.modifier+'"')}),n.length>0?n:void 0}function o(e,t){var n,o={revenueAsTag:!1,timeAsTimestamp:!0};if(c.isUndefined(t))return n=l.getEvents(e),r(n,o);if(c.isNumber(t)){if(t<=0)throw new Error("Count must be a positive integer, got "+t);return n=l.getEvents(e),r(n.slice(-t),o)}var s=a(t,c.values(d.RECENCY_FILTERS));if(s)throw new Error(s.join("\n"));return n=l.getEvents(e),r(i(n,t),o)}function s(e,t){if(t=c.cloneDeep(t)||{},!t.pick)throw new Error('No "pick" clause provided in query descriptor');if(!t.pick.name)throw new Error('No field name provided in "pick" clause');t.pick.modifier=t.pick.modifier||d.FREQUENCY_FILTERS.MOST_FREQUENT;var n=a(t,c.values(d.FREQUENCY_FILTERS));if(n)throw new Error(n.join("\n"));var r=l.getEvents(e);return i(r,t)}function u(e,t){var n=d.buildFromSpecV0_2(t),i=l.getEvents(e),a=r(f.execute(n,i),{revenueAsTag:!0,timeAsTimestamp:!1});return(t.pick||t.reduce&&"count"===t.reduce.aggregator)&&(a=c.flatten(a)),t.reduce&&(a=a[0]),a}var c=n(5),l=n(132),d=n(135),f=n(130);e.exports=["stores/visitor_events",function(e){return{getEvents:c.partial(o,e),getByFrequency:c.partial(s,e),query:c.partial(u,e)}}]},function(e,t,n){function i(e,t,n,i){var r=s(e,t,n,i),a=[];return a.push(g({type:S,name:"",value:e.viewCategory})),v.forOwn(e.eventTags,function(e,t){var n=g({type:T,name:t,value:e},i);n&&a.push(n)}),v.extend(r,{eventEntityId:e.viewId,eventType:A,eventName:e.viewId,eventFeatures:a})}function r(e,t,n,i,r){var a=s(e,t,n,r),o=e.event.viewId,u=[],c=[];if(u.push(g({type:m,name:"selector",value:e.selector},r)),u.push(g({type:m,name:"view_id",value:e.event.viewId})),o){var l=i.getActivationEventId(e.event.viewId);l&&c.push({eventId:i.getActivationEventId(e.event.viewId),relationship:R.VIEW_ACTIVATED})}return v.forOwn(e.eventTags,function(e,t){var n=g({type:T,name:t,value:e},r);n&&u.push(n)}),v.extend(a,{eventEntityId:e.event.id,eventType:e.event.category,eventName:e.event.apiName,eventFeatures:u,relatedEvents:c})}function a(e,t,n,i){var r=s(e,t,n,i),a=v.omit(e.eventTags,O),o=v.pick(e.eventTags,O),u=[],c=[];return v.forOwn(a,function(e,t){var n=g({type:T,name:t,value:e},i);n&&u.push(n)}),v.forOwn(o,function(e,t){try{p(e),c.push({name:t,value:e})}catch(n){h.emitError(new Error("Bad value for eventMetrics["+t+"]: "+n.message))}}),v.extend(r,{eventEntityId:e.eventEntityId,eventType:e.eventCategory,eventName:e.eventApiName,eventFeatures:u,eventMetrics:c})}function o(e,t,n,i){var r=s(e,t,n,i);return v.extend(r,{eventType:w,eventName:D})}function s(e,t,n,i){var r=l(e.userFeatures,i),a=d(e.activeViewStates,n,i),o=c(e.layerStates,t);return{eventId:e.eventId,timestamp:e.timestamp,revision:e.revision,clientEngine:e.clientEngine,clientVersion:e.clientVersion,projectId:e.projectId,accountId:e.accountId,activationId:e.activationId,sessionId:e.sessionId,visitorId:e.visitorId,visitorUUID:e.visitorUUID,eventFeatures:[],eventMetrics:[],relatedEvents:[],layerStates:o,userFeatures:r,activeViews:a,isGlobalHoldback:e.isGlobalHoldback}}function u(e,t,n,i,r){var a=e.decisionTicket,o=e.decision,s=v.map(a.audienceIds,function(e){return{id:e,name:n.getAudienceName(e)||"Untitled Audience "+e}}),u=l(e.userFeatures,r);return{decisionId:e.decisionId,timestamp:e.timestamp,revision:e.revision,clientEngine:e.clientEngine,clientVersion:e.clientVersion,projectId:e.projectId,accountId:e.accountId,layerId:o.layerId,activationId:e.activationId,sessionId:e.sessionId,visitorId:t.visitorId,visitorUUID:t.visitorUUID,decisionTicket:{audiences:s,bucketingId:a.bucketingId},decision:f(o),userFeatures:u,isGlobalHoldback:i.isGlobalHoldback()}}function c(e,t){return v.map(e,function(e){var n=null,i=e.decisionTicket;if(i){var r=v.map(i.audienceIds,function(e){var n;try{n=t.getAudienceName(e)}catch(i){}return{id:e,name:n||null}});n={audiences:r,bucketingId:i.bucketingId}}return{layerId:e.layerId,revision:e.revision,decisionTicket:n,decision:f(e.decision),decisionActivationId:e.decisionActivationId,decisionSessionId:e.decisionSessionId,decisionEventId:e.decisionEventId,decisionTimestamp:e.decisionTimestamp,actionTriggered:e.actionTriggered,actionSessionId:e.actionSessionId,actionActivationId:e.actionActivationId,actionTimestamp:e.actionTimestamp}})}function l(e,t){return v.reduce(e,function(e,n){try{p(n.value),e.push({type:n.featureDef.type,name:n.featureDef.name,id:n.featureDef.id,value:n.value,shouldIndex:!!n.featureDef.segmentable})}catch(i){t.error("Error evaluating user feature",n),h.emitError(i)}return e},[])}function d(e,t,n){return v.map(e,function(e){var i=[];try{var r=t.get(e.id);i.push(g({type:S,name:"",value:r.category}))}catch(a){n.error("Unable to find Page category for Page with id",e.id),h.emitError(a)}return v.forOwn(e.metadata,function(e,t){var r=g({type:y,name:t,value:e},n);r&&i.push(r)}),{viewId:e.id,activatedTimestamp:e.activatedTimestamp,viewFeatures:i}})}function f(e){return v.pick(e,["experimentId","variationId","isLayerHoldback"])}function g(e,t){var n=v.extend({id:null,shouldIndex:!0},e);try{p(e.value)}catch(i){return t.error("Error evaluating feature:",e),void h.emitError(i)}return n}function p(e){if(null==e)throw new Error("Feature value is null");if("object"==typeof e){var t;try{t=JSON.stringify(e)}catch(n){}throw new Error('Feature value is complex: "'+t||'[object]"')}}var v=n(5),h=n(77),_="https://p13nlog.dz.optimizely.com",E=_+"/log/decision",I=_+"/log/event",m="event",y="view_tag",S="view_category",T="tags",A="view_activated",D="client_activation",w="client_activation",O=["revenue","quantity"],R={VIEW_ACTIVATED:"view_activation"};t.onLayerDecision=["xhr","stores/visitor","stores/audience_data","stores/global","logger",function(e,t,n,i,r){return function(a){var o=t.getVisitorProfile(),s=u(a,o,n,i,r);e.request({url:E,contentType:"application/json",method:"POST",data:s},s.decisionId)}}],t.onPageActivated=["xhr","stores/audience_data","stores/view_data","logger",function(e,t,n,r){return function(a){var o=i(a,t,n,r);e.request({url:I,contentType:"application/json",method:"POST",data:o},o.eventId)}}],t.onClientActivation=["xhr","stores/audience_data","stores/view_data","logger",function(e,t,n,i){return function(r){var a=o(r,t,n,i);e.request({url:I,contentType:"application/json",method:"POST",data:a},a.eventId)}}],t.onCustomEvent=["xhr","stores/audience_data","stores/view_data","logger",function(e,t,n,i){return function(r){var o=a(r,t,n,i);e.request({url:I,contentType:"application/json",method:"POST",data:o},o.eventId)}}],t.onClickEvent=["xhr","stores/audience_data","stores/view_data","stores/view","logger",function(e,t,n,i,a){return function(o){var s=r(o,t,n,i,a);e.request({url:I,contentType:"application/json",method:"POST",data:s},s.eventId)}}]},function(e,t,n){function i(e){var t=e.getGlobal(u);return t?e.getGlobal(t):null}var r=n(5),a=n(4),o=n(15),s=o.get("stores/global_state"),u="GoogleAnalyticsObject",c=150,l="google_universal_analytics",d=n(62),f=["env/window","sources/poll","stores/layer_data","stores/audience_data",function(e,t,n,o){return function(u){var f=u.decision.layerId,g=u.decision.experimentId,p=u.decision.variationId,v=n.get(f),h=v.integrationSettings||{},_=h[l];if(_){var E=r.find(v.experiments,{id:g});if(E){var I=r.find(E.variations,{id:p});if(I){var m=_.universal_analytics_tracker,y=m?m+".":"",S=_.universal_analytics_slot,T=d.generateAnalyticsString(o,v,E,I,c),A=50,D=200,w=function(){var t=i(e);if(t){var n=s.getEffectiveReferrer();n&&t("set","referrer",n);var r={nonInteraction:!0};return r["dimension"+S]=T,t(y+"send","event","Optimizely","Assigned To Campaign",r),!0}};return t.pollFor(w,D,A)["catch"](function(e){a.warn("Tracker for",l,"failed:",e)})}}}}}],g={onLayerDecision:f};e.exports=function(e){e.registerAnalyticsTracker(g)}},function(e,t,n){e.exports=function(e){e.registerViewProvider(n(147)),e.registerViewMatcher("url",n(148))}},function(e,t){e.exports={provides:"url",getter:["sources/browser",function(e){return e.getUrl()}]}},function(e,t,n){var i=n(149);e.exports={fieldsNeeded:["url"],match:function(e,t){return i(e.url,t)}}},function(e,t,n){function i(e){var t=e.indexOf("?");return t!==-1&&(e=e.substring(0,t)),t=e.indexOf("#"),t!==-1&&(e=e.substring(0,t)),e}function r(e){return a(i(e))}function a(e,t){e=e.replace("/?","?"),e=e.toLowerCase().replace(/[\/&?]+$/,"");var n=l.slice(0);t||(n=n.concat(u));for(var i=n.length,r=0;r<i;r++){var a=n[r],o=new RegExp("^"+a);e=e.replace(o,"")}return e}function o(e){var t=e.split("?");if(t[1]){var n=t[1].split("&"),i=[];return s.each(n,function(e){0!==e.indexOf(c)&&i.push(e)}),t[1]=i.join("&"),t.join("?")}return e}var s=n(5);e.exports=function(e,t){switch(e=o(e),t.match){case"exact":return e=a(e),e===a(t.value);case"regex":try{return Boolean(e.match(t.value))}catch(n){}return!1;case"simple":return e=r(e),t.value=r(t.value),e===t.value;case"substring":return e=a(e,!0),t.value=a(t.value,!0),e.indexOf(t.value)!==-1;default:return!1}};var u=["www."],c="optimizely_",l=["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"]},function(e,t,n){var i=n(151);e.exports=function(e){e.registerEventFilter(i.TARGET_SELECTOR,n(152))}},function(e,t){e.exports={STRING:"string",TARGET_SELECTOR:"target_selector"}},function(e,t,n){var i=n(153);e.exports=function(e){return function(t){for(var n=t.target;n;){if(i(n,e.selector))return!0;n=n.parentElement}return!1}}},function(e,t){"use strict";function n(e,t){if(r)return r.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1}var i=Element.prototype,r=i.matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=n},function(e,t,n){var i=n(105);e.exports=function(e){e.registerEventPublisher(i.CLICK,n(155))}},function(e,t,n){function i(e){document.removeEventListener("click",e,!0)}var r=n(106),a=n(105);t.attach=function(){var e=r.publish.bind(null,a.CLICK);return document.addEventListener("click",e,!0),i.bind(null,e)}},function(e,t,n){function i(e,t){this.change=r.cloneDeep(e),this.identifier=t.identifier,this.startTime=t.startTime;var n=this.change.css;if(n){var i=this.change.attributes&&this.change.attributes.style||"",a="";r.each(n,function(e,t){var n=new RegExp(t+"\\s?:");i&&n.test(i)||(a+=t+": "+e+"; ")}),this.change.attributes.style=a+i,delete this.change.css}}var r=n(5),a=n(93),o=n(157),s=n(158),u=n(159),c=n(92),l=n(115).create();i.prototype.apply=function(){this.applyDeferred=o();try{this.unobserveSelector=l.observeSelector(this.change.selector,this.applyToElement.bind(this),{timeout:r.partial(c.isTimedOut,this.startTime),onTimeout:r.partial(this.applyDeferred.reject,new Error("Unable to find selector."))});var e=document.querySelectorAll(this.change.selector);e&&r.map(e,this.applyToElement.bind(this))}catch(t){this.applyDeferred.reject(t)}return this.applyDeferred},i.prototype.applyToElement=function(e){if(!s.getData(e,this.change.id,this.identifier)){var t={};r.forOwn(this.change.attributes,function(n,i){switch(i){case u.selectorChangeType.CLASS:r.isUndefined(e.className)||(t[u.selectorChangeType.CLASS]=e.className,e.className=n);break;case u.selectorChangeType.HREF:r.isUndefined(e.href)||(t[u.selectorChangeType.HREF]=e.href,e.href=n);break;case u.selectorChangeType.HTML:r.isUndefined(e.innerHTML)||(t[u.selectorChangeType.HTML]=e.innerHTML,e.innerHTML=n);break;case u.selectorChangeType.SRC:r.isUndefined(e.src)||(t[u.selectorChangeType.SRC]=e.src,e.src=n);break;case u.selectorChangeType.STYLE:r.isUndefined(e.style.cssText)||(t[u.selectorChangeType.STYLE]=e.style.cssText,e.style.cssText=n);break;case u.selectorChangeType.TEXT:r.isUndefined(e.textContent)||(t[u.selectorChangeType.TEXT]=e.textContent,e.textContent=n);break;case u.selectorChangeType.HIDE:r.isUndefined(e.style.visibility)||(t[u.selectorChangeType.HIDE]=e.style.visibility,e.style.visibility="hidden");break;case u.selectorChangeType.REMOVE:r.isUndefined(e.style.display)||(t[u.selectorChangeType.REMOVE]=e.style.display,e.style.display="none");break;default:throw new Error("Unrecognized attribute: "+i)}}),e.setAttribute(a.CHANGE_ID_ATTRIBUTE_PREFIX+this.change.id,""),s.setData(e,this.change.id,this.identifier,t),this.applyDeferred.resolve()}},e.exports=function(e){e.registerChangeApplier(u.changeType.ATTRIBUTE,i)}},function(e,t,n){var i=n(53).Promise,r=n(5),a=function(){var e,t,n=new i(function(n,i){e=n,t=i});return n.resolve=function(){return e.apply(null,r.toArray(arguments)),n},n.reject=function(){return t.apply(null,r.toArray(arguments)),n},n};e.exports=a},function(e,t){function n(e,t){return[e,t].join("_")}t.getData=function(e,t,i){var r=n(t,i);return e.optimizelyChangeData&&e.optimizelyChangeData[r]?e.optimizelyChangeData[r]:null},t.removeData=function(e,t,i){e.optimizelyChangeData&&delete e.optimizelyChangeData[n(t,i)]},t.setData=function(e,t,i,r){if("object"!=typeof r)throw new Error("setData expects an object");e.optimizelyChangeData||(e.optimizelyChangeData={}),e.optimizelyChangeData[n(t,i)]=r}},function(e,t,n){var i=n(3);e.exports={changeType:{CUSTOM_CODE:"custom_code",ATTRIBUTE:"attribute",APPEND:"append",REARRANGE:"rearrange",REDIRECT:"redirect",WIDGET:"widget"},DOMInsertionType:{AFTER:"after",APPEND:"append",BEFORE:"before",PREPEND:"prepend"},insertAdjacentHTMLType:{AFTER_BEGIN:"afterbegin",AFTER_END:"afterend",BEFORE_BEGIN:"beforebegin",BEFORE_END:"beforeend"},selectorChangeType:{CLASS:"class",HTML:"html",HREF:"href",SRC:"src",STYLE:"style",TEXT:"text",HIDE:"hide",REMOVE:"remove"},changeApplierState:i({APPLIED:null,APPLYING:null,UNAPPLIED:null,UNDOING:null}),changeState:i({BLOCKED:null,UNAPPLIED:null,APPLIED:null,APPLYING:null,UNDOING:null,TIMED_OUT:null,IGNORED:null,ERROR:null})}},function(e,t,n){var i=n(5),r=n(100),a=n(98),o=n(99).DecisionError,s="random",u={selectExperiment:function(e,t,n){if(!e.weightDistributions&&e.experiments.length>1)throw new o("weightDistributions must be defined if # experiments > 1.");var s;if(1===e.experiments.length)s=e.experiments[0].id;else try{s=a.chooseWeightedCandidate(n,e.id,e.weightDistributions)}catch(u){throw new o("No eligible experiments in layer.")}var c=i.find(e.experiments,{id:s});if(c&&!r.isValidExperiment(t,c))throw new o('Selected experiment "'+s+'" is filtered');if(!c)throw new o('Unable to find selected experiment: "'+s+'".');return c}};e.exports=function(e){e.registerDecider(s,u)}},function(e,t,n){var i=n(100),r=n(99).DecisionError,a="single_experiment",o={selectExperiment:function(e,t,n){if(e.experiments.length<1)throw new r("Unable to find experiment to bucket user into");var a=e.experiments[0];if(!i.isValidExperiment(t,a))throw new r('Selected experiment "'+a.id+'" is filtered');return a}};e.exports=function(e){e.registerDecider(a,o)}}]);
window.optimizely2 = SLAVE_CLIENT.optimizely;

}());
