/*Copyright (c) 2012 United Services Automobile Association All Rights Reserved footnotes.js*/
USAA.namespace("USAA.ent.util");USAA.ent.util.Footnotes=function(){var F="DIV";var l="span";var V="true";var G="false";var S="main";var c="class";var d="sup";var H="old";var O="new";var A="footnote";var o="WID";var a="disclaimerAboveFootnote";var W="disclaimerAboveNav";var m="disclaimerAboveBottomNav";var b="disclaimer";var g="WIDLegalText";var I="footnoteLegalText";var k="disclaimerAboveFootnoteLegalText";var L="disclaimerAboveNavLegalText";var B="disclaimerLegalText";var p="script";var h="proximity";var Y="footnotes";var Z="fn-number";var n="<br><br>";var f="cosa";var C="jsDisplayURL";var M="replacechild";var X="removechild";function N(){if(parent!=null){if(parent!=window){return false}}return true}function E(){if(!N()){return parent.document}return document}function K(r,q){var s=false;if(q!=null&&q.length>0){for(i=0;i<q.length;i++){if(q[i]&&q[i]==r){s=true;break}}}if(!s){q.push(r)}}function J(s,u,t){var r=YAHOO.util.Dom.getElementsByClassName(u,s,t);var q=null;if(r&&r.length>0){q=r[0]}return q}function R(r,t,s){var q=YAHOO.util.Dom.getElementsByClassName(t,r,s);return q}function Q(q,z,AD,u,AI,AB,x,s){var y=z.innerHTML;var AE=q.footnote;var v=q.disclaimerAboveFootnote;var t=q.disclaimer;var AH=q.disclaimerAboveNav;var AL=q.wid;var AG=q.all;var AK;var AM=E();if(x&&x.toLowerCase()==V){AK=s}else{AK=AM;if(x==null||x==""){x=G}}if(A==AD){var w=0;if(AE&&AE.length>0){for(var AJ=0;AJ<AE.length;AJ++){var AA=AE[AJ];if(AA&&AA.text&&AA.text.length>0&&((x.toLowerCase()==V&&AA.document==AK)||(x.toLowerCase()==G))){var AN=AA.text;var AC=AN.toLowerCase().indexOf("</sup>");if(AC>=0){AC=AC+"</sup>".length+"&nbsp;".length;AN=AN.substr(AC)}if(YAHOO.lang.trim(AN)==YAHOO.lang.trim(y)){return w+1}else{if((YAHOO.lang.trim(AN.toLowerCase()))==(YAHOO.lang.trim(y.toLowerCase()+n))){return w+1}else{if(AA.document==AK){w++}}}}if(AE.length==(AJ+1)){var r=j(u,AI,AB,AK,y,x);r.counter=w+1;AE.push(r);AG.push(r);return w+1}}}else{var r=j(u,AI,AB,AK,y,x);r.counter=w+1;AE.push(r);AG.push(r);return 1}}if(a==AD){var AF=false;if(AG&&AG.length>0){for(var AJ=0;AJ<AG.length;AJ++){if(AG[AJ].text&&AG[AJ].text.length>0&&((x.toLowerCase()==V&&AG[AJ].document==AK)||x.toLowerCase()==G)){if((YAHOO.lang.trim(AG[AJ].text)==YAHOO.lang.trim(y))){AF=true;break}else{if((YAHOO.lang.trim(AG[AJ].text.toLowerCase())==YAHOO.lang.trim(y.toLowerCase())+n)){AF=true;break}}}}}if(!AF){var r=j(u,AI,AB,AK,y,x);v.push(r);AG.push(r)}}if(W==AD){var AF=false;if(AH&&AH.length>0){for(var AJ=0;AJ<AH.length;AJ++){var AA=AH[AJ];if(AA&&AA.text&&AA.text.length>0&&((x.toLowerCase()==V&&AA.document==AK)||x.toLowerCase()==G)){if((YAHOO.lang.trim(AA.text))==(YAHOO.lang.trim(y))){AF=true;break}else{if((YAHOO.lang.trim(AA.text.toLowerCase())==YAHOO.lang.trim(y.toLowerCase())+n)){AF=true;break}}}}}if(!AF){var r=j(u,AI,AB,AK,y,x);AH.push(r)}}if(b==AD){var AF=false;if(AG&&AG.length>0){for(var AJ=0;AJ<AG.length;AJ++){if(AG[AJ].text&&AG[AJ].text.length>0&&((x.toLowerCase()==V&&AG[AJ].document==AK)||x.toLowerCase()==G)){if((YAHOO.lang.trim(AG[AJ].text))==(YAHOO.lang.trim(y))){AF=true;break}else{if((YAHOO.lang.trim(AG[AJ].text.toLowerCase())==YAHOO.lang.trim(y.toLowerCase())+n)){AF=true;break}}}}}if(!AF){var r=j(u,AI,AB,AK,y,x);t.push(r);AG.push(r)}}if(o==AD){var AF=false;if(AG&&AG.length>0){for(var AJ=0;AJ<AG.length;AJ++){if(AG[AJ].text&&AG[AJ].text.length>0&&((x.toLowerCase()==V&&AG[AJ].document==AK)||x.toLowerCase()==G)){if((YAHOO.lang.trim(AG[AJ].text))==(YAHOO.lang.trim(y))){AF=true;break}else{if((YAHOO.lang.trim(AG[AJ].text.toLowerCase())==YAHOO.lang.trim(y.toLowerCase())+n)){AF=true;break}}}}}if(!AF){var r=j(u,AI,AB,AK,y,x);AL.push(r);AG.push(y)}}}function U(r,s,q,t){YAHOO.util.Dom.setAttribute(s,p,r.script);YAHOO.util.Dom.setAttribute(s,f,r.cosa);YAHOO.util.Dom.setAttribute(s,C,r.js_display_url);t.push(r);K(r.js_display_url,q)}function j(s,v,w,u,r,t){var q=new Object();q.status=O;q.script=s;q.cosa=v;q.js_display_url=w;q.document=u;q.text=r;q.proximity=t;return q}function P(s,r,t){var q=YAHOO.util.Dom.getElementsByClassName(s,l,t);if(q&&q.length>0){for(var u=0;u<q.length;u++){T(r,q[u],s,t)}}}function T(r,AB,AC,v){var AD=r.footnote;var z=r.disclaimerAboveFootnote;var w=r.disclaimer;var AF=r.disclaimerAboveNav;var t=r.toRemove;if(AB){var x=YAHOO.util.Dom.getAttribute(AB,p);var AG=YAHOO.util.Dom.getAttribute(AB,f);var AI=YAHOO.util.Dom.getAttribute(AB,C);var AA=YAHOO.util.Dom.getAttribute(AB,h);if(A==AC){var u=AB.parentNode;if(u!=null){var q=Q(r,AB,AC,x,AG,AI,AA,v);var s=document.createElement(d);var AH=document.createElement("span");AH.className="hiddenMessage";var y=document.createTextNode("See note ");AH.appendChild(y);YAHOO.util.Dom.setAttribute(s,c,Z);s.appendChild(AH);s.appendChild(document.createTextNode(q));var AE=new Object();AE.parent=u;AE.child=AB;AE.newelement=s;AB.newelement=s;AE.action=M;t.push(AE)}}if(a==AC||b==AC||W==AC||o==AC){var u=AB.parentNode;if(u!=null){var AE=new Object();AE.parent=u;AE.child=AB;AE.action=X;t.push(AE);Q(r,AB,AC,x,AG,AI,AA,v)}}}}function e(v,r){var w=false;var s=J(F,Y,document);var u;var q;if(v==b){q=r.text;if(s){u=R(F,B,s)}w=D(u,q)}else{if(v==a){q=r.text;if(s){u=R(F,k,s)}w=D(u,q)}else{if(v==W){q=r.innerHTML;var t=J(F,m,document);if(t){u=R(F,L,t)}w=D(u,q)}else{if(v==g){q=r.text;if(s){u=R(F,g,s)}w=D(u,q)}}}}return w}function D(s,r){var t=false;if(s&&s.length>0){for(i=0;i<s.length;i++){var q=s[i];if(YAHOO.lang.trim(r)==YAHOO.lang.trim(q.innerHTML)){t=true;break}else{if((YAHOO.lang.trim(q.innerHTML.toLowerCase()))==(YAHOO.lang.trim(r.toLowerCase()+n))){t=true;break}}}}return t}return{createFootnote:function(q){var AL=q.footnote;var AB=q.disclaimerAboveFootnote;var y=q.disclaimer;var AO=q.disclaimerAboveNav;var AS=q.wid;var AA=q.displayURL;var r=q.functionNames;var x=document;var AE=false;var AN=null;var AV=null;var AJ=null;var w=null;var AF=null;var AT=null;var AQ=null;var AM=null;var t=null;if(AL&&AL.length>0){for(var AP=0;AP<AL.length;AP++){var AR=null;var AI=AL[AP];if(AI&&x!=AI.document){AE=true}else{if(AI&&AI.document){AV=AI.document;if(!AN){AN=J(F,Y,AV)}}if(AN){AJ=R(F,I,AN);if(AJ&&AJ.length>0){w=AJ[AJ.length-1]}else{AJ=R(F,B,AN);if(AJ&&AJ.length>0){AF=AJ[0]}else{AJ=R(F,g,AN);if(AJ&&AJ.length>0){AR=AJ[0]}}}if(AI&&AI.status==O){AQ=AI.document;AT=AQ.createElement(F);var AK="Note ";YAHOO.util.Dom.addClass(AT,I);if(AI.script!=null){U(AI,AT,AA,r)}AM=AI.text;AT.innerHTML='<p> <span class="hiddenMessage">'+AK+'</span><sup class="'+Z+'">'+AI.counter+"</sup>&nbsp;"+AM+"</p>";if(w){YAHOO.util.Dom.insertAfter(AT,w)}else{if(AF){YAHOO.util.Dom.insertBefore(AT,AF)}else{if(AR){YAHOO.util.Dom.insertBefore(AT,AR)}else{AN.appendChild(AT)}}}AI.status=H}}}v()}}if(y&&y.length>0){for(var AP=0;AP<y.length;AP++){var AI=y[AP];if(AI&&x!=AI.document){AE=true}else{if(AI&&AI.document){AV=AI.document;AN=J(F,Y,AV)}if(AN){AJ=AN.getElementsByTagName(F);if(AI&&AI.status==O){var s=e(b,AI);if(s==false){AQ=AI.document;AT=AQ.createElement(F);YAHOO.util.Dom.addClass(AT,B);if(AI.script!=null){U(AI,AT,AA,r)}AM=AI.text;AT.innerHTML=AM+"<br/><br/>";if(AJ&&AJ.length>0){var AH=AJ.length;var AU=false;for(var AD=AH-1;AD>=0;AD--){t=AJ[AD];if(t){if((YAHOO.util.Dom.hasClass(t,g)==true)){}else{var AG=YAHOO.util.Dom.getAttribute(t,c);if(AG!=null){YAHOO.util.Dom.insertAfter(AT,t);AU=true;break}}}}if(AU==false){AN.appendChild(AT)}}else{AN.appendChild(AT)}}AI.status=H}}}v()}}if(AO&&AO.length>0){for(var AP=0;AP<AO.length;AP++){var AC=null;var AI=AO[AP];if(AI&&x!=AI.document){AE=true}else{if(AI&&AI.document){AV=AI.document;AN=J(F,m,AV)}if(AV&&!AN){AC=AV.getElementById(S);if(AC){AN=AV.createElement(F);if(AN){AN.className=m;AC.appendChild(AN)}}}if(AN){AJ=AN.getElementsByTagName(F);if(AI&&AI.status==O){AQ=AI.document;AT=AQ.createElement(F);YAHOO.util.Dom.addClass(AT,L);if(AI.script!=null){U(AI,AT,AA,r)}AM=AI.text;AT.innerHTML=AM+"<br/><br/>";var s=e(W,AT);if(s==false){if(AJ&&AJ.length>0){t=AJ[(AJ.length-1)];if(t){YAHOO.util.Dom.insertAfter(AT,t)}else{AN.appendChild(AT)}}else{AN.appendChild(AT)}}AI.status=H}}}v()}}if(AB&&AB.length>0){var z=null;AV=x;AN=J(F,Y,AV);if(AN){AJ=R(F,k,AN);if(AJ&&AJ.length>0){z=AJ[AJ.length-1]}else{AJ=R(F,I,AN);if(AJ&&AJ.length>0){w=AJ[0]}else{AJ=R(F,B,AN);if(AJ&&AJ.length>0){AF=AJ[0]}}}for(var AP=0;AP<AB.length;AP++){var AI=AB[AP];if(AI&&x!=AI.document){AE=true}else{if(AI&&AI.status==O){var s=e(a,AI);if(s==false){AQ=AI.document;AT=AQ.createElement(F);YAHOO.util.Dom.addClass(AT,k);if(AI.script!=null){U(AI,AT,AA,r)}AM=AI.text;AT.innerHTML=AM+"<br/><br/>";if(z){YAHOO.util.Dom.insertAfter(AT,z)}else{if(w){YAHOO.util.Dom.insertBefore(AT,w)}else{if(AF){YAHOO.util.Dom.insertBefore(AT,AF)}else{AN.appendChild(AT)}}}}AI.status=H}}}}v()}if(AS&&AS.length>0){for(var AP=0;AP<AS.length;AP++){var AI=AS[AP];if(AI&&x!=AI.document){AE=true}else{if(AI&&AI.document){AV=AI.document;AN=J(F,Y,AV)}if(AN){AJ=AN.getElementsByTagName(F);if(AI&&AI.status==O){var u=e(g,AI);if(u==false){AQ=AI.document;AT=AQ.createElement(F);YAHOO.util.Dom.addClass(AT,g);if(AI.script!=null){U(AI,AT,AA,r)}AM=AI.text;AT.innerHTML=AM+"<br/><br/>";if(AJ&&AJ.length>0){t=AJ[(AJ.length-1)];if(t){YAHOO.util.Dom.insertAfter(AT,t)}else{AN.appendChild(AT)}}else{AN.appendChild(AT)}}AI.status=H}}}v()}}function v(){AN=null;AV=null;AJ=null;w=null;AF=null;AT=null;AQ=null;AM=null;t=null}return AE},removeFootnotes:function(s){var q=s.toRemove;if(q&&q.length>0){for(var t=0;t<q.length;t++){var w=q[t];if(w){var r=w.parent;var u=w.child;if(w.action==X){if(r&&u){r.removeChild(u)}}else{if(w.action==M){var v=w.newelement;if(v&&r&&u){r.replaceChild(v,u)}}}}}}},initializeFootnotes:function(v){var AG=[];var w=[];var y=[];var AL=[];var AN=[];var AH=[];var x=[];var r=[];var t=[];var AE=null;var q=new Object();var u=E();if(u!=v){var z=parent.top.USAA.ent.util.Footnotes.initializeFootnotes(u);AG=z.footnote;y=z.disclaimerAboveFootnote;w=z.disclaimer;AL=z.disclaimerAboveNav;AN=z.wid;AH=z.all}var AB=J(F,m,v);var AA=v.getElementById(S);var AJ=J(F,Y,v);if(AJ){AE=AJ.getElementsByTagName(F)}var AO=false;var AK=-1;if(AE&&AE.length>0){for(var AM=0;AM<AE.length;AM++){s=AE[AM];var AD=new Object();if(s&&s.innerHTML){if((YAHOO.util.Dom.hasClass(s,I)==true)){if(!AO){AO=true;AK=AM}AD.text=s.innerHTML;var AI=AD.text.toLowerCase().indexOf(Z);var AF=AD.text.toLowerCase().indexOf("</sup>");if(AF>=0){AF=AF+"</sup>".length+"&nbsp;".length;AD.text=AD.text.substr(AF)}var AC=YAHOO.util.Dom.getAttribute(s,h);if(u!=v){if(AI==-1){AD.status=O;AC=YAHOO.util.Dom.getAttribute(s,h);if(AC==null||AC==G){AD.parent=s.parentNode;AD.child=s;AD.action=X;t.push(AD);AD.document=u}else{AD.document=v}}else{AD.document=v;AG.push(AD);AH.push(AD)}}else{AD.document=u;AG.push(AD);AH.push(AD)}}}}for(var AM=0;AM<AE.length;AM++){s=AE[AM];if(s&&s.innerHTML){if(((YAHOO.util.Dom.hasClass(s,I)==true)&&(s.innerHTML.toLowerCase().indexOf("<sup")>=0))){}else{var AD=new Object();AD.document=u;AD.text=s.innerHTML;if(u!=v){AD.document=v}AH.push(AD);if(AM<AK){if(u==v){y.push(AD)}}else{if((YAHOO.util.Dom.hasClass(s,g)==true)){if(u==v){AN.push(AD)}}else{if(u==v){w.push(AD)}}}}}}}if(AB){var AE=AB.getElementsByTagName(F);if(AE&&AE.length>0){for(var AM=0;AM<AE.length;AM++){var s=AE[AM];if(s&&s.innerHTML){var AD=new Object();AD.text=s.innerHTML;AD.document=u;if(u!=v){AD.status=O;AC=YAHOO.util.Dom.getAttribute(s,h);if(AC==null||AC==G){AD.parent=s.parentNode;AD.child=s;AD.action=X;t.push(AD)}else{AD.document=v}}else{AL.push(AD)}}}}}q.footnote=AG;q.disclaimerAboveFootnote=y;q.disclaimer=w;q.disclaimerAboveNav=AL;q.wid=AN;q.all=AH;q.toRemove=t;q.displayURL=x;q.functionNames=r;return q},loadFootnotesDisplayJS:function(t,r,s){var q=t+1;if(t==r.length-1){USAA.ent.util.Loader.includeJS(r[t],function(){USAA.ent.util.Footnotes.invokeJSFunctions(s)})}else{USAA.ent.util.Loader.includeJS(r[t],function(){USAA.ent.util.Footnotes.loadFootnotesDisplayJS(q,r)})}},findFootnotes:function(){var v=document;var u=false;var r=this.initializeFootnotes(v);var q=r.displayURL;var t=r.functionNames;P(A,r,v);P(a,r,v);P(W,r,v);P(b,r,v);P(o,r,v);try{if(parent!=null&&parent!=window){var s=parent.top.USAA.ent.util.Footnotes.createFootnote(r);if(s){this.createFootnote(r)}}else{this.createFootnote(r)}u=true}finally{if(u){this.removeFootnotes(r)}}if(t&&t.length>0){if(q&&q.length>0){if(q.length>1){this.loadFootnotesDisplayJS(0,q,t)}else{USAA.ent.util.Loader.includeJS(q[0],function(){USAA.ent.util.Footnotes.invokeJSFunctions(t)})}}}},invokeJSFunctions:function(s){for(var r=0;r<s.length;r++){try{var q=s[r];if(q!=null){USAA[q.cosa].util.FootnotesDisplay[q.script]()}}catch(t){}}}}}();USAA.register("footnotes");USAA.register("footnotes-min");