function checkType(e,t){return!!e&&e.nodeType==t}function isObject(e){return"object"==typeof e}function isWindow(e){return null!=e&&e==e.window}function isPlainObject(e){return isObject(e)&&!isWindow(e)&&"isPrototypeOf"in e&&"[object Object]"===Object.prototype.toString.call(e)}function hasClass(e,t){if(!checkType(e,nodeType)||!e.className||!t)return!1;var n,r=e.className.split(" ");for(n=0;n<r.length;n++)if(r[n]===t)return!0;return!1}function isArray(e){return e instanceof Array}function extend(e,t,n){for(key in t)n&&(isPlainObject(t[key])||isArray(t[key]))?(isPlainObject(t[key])&&!isPlainObject(e[key])&&(e[key]={}),isArray(t[key])&&!isArray(e[key])&&(e[key]=[]),extend(e[key],t[key],n)):void 0!==t[key]&&(e[key]=t[key]);return e}function setAttribute(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function IEContentLoaded(e,t){var n=e.document,r=!1,i=function(){r||(r=!0,t())};!function(){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,500)}i()}(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,i())}}var idExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,classTagExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,version="2.0.1";$=window._J=function(e,t){return new _J.fn.init(e,t)},_J.fn=_J.prototype={getElementsByClassName:function(e,t,n){var r=[],a=(t||document).getElementsByTagName(n||"*"),o=a.length,s=new RegExp("(\\s+|^)"+e+"(\\s+|$)");for(i=0,j=0;i<o;i++)s.test(a[i].className)&&(r[j]=a[i],j++);return r},addClass:function(e){for(var n=this.length,r=0;n>r;r++){var i=this[r];if(!checkType(i,nodeType)||!e)return;if(!i.className)return void(i.className=t);hasClass(i,e)||(i.className+=" "+e)}return this},removeClass:function(e){for(var t=this.length,n=0;t>n;n++){var r=this[n];if(!checkType(r,nodeType)||!r.className||!e)return;var i=r.className.split(/\s+/g),a=0;for(a=0;a<i.length&&e!==i[a];a++);i.splice(a,1),r.className=i.join(" ")}return this},hasClass:function(e){return this.length>0?hasClass(this[0],e):!1},each:function(e){for(var t=0;t<this.length;t++)e(this[t],t);return this},on:function(e,t){for(var n=0;n<this.length;n++){var r=this[n];r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on"+e,t)}return this},off:function(e,t){for(var n=0;n<this.length;n++){var r=this[n];r.removeEventListener?r.removeEventListener(e,t,!1):r.detachEvent&&r.detachEvent("on"+e,t)}return this},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(isObject(e))for(key in e)setAttribute(this,key,e[key]);else setAttribute(this,e,funcArg(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:void 0},width:function(){return 0!=this.length?this[0].offsetWidth:void 0},style:function(){return 0!=this.length?this[0].style:void 0},html:function(){return 0==this.length?this:arguments&&arguments.length>0?(this[0].innerHTML=arguments[0],this):this[0].innerHTML},animate:function(e,t,n,r,i,a){function o(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}for(var s=(new Date).getTime(),c=0;c<this.length;c++){var u=this[c];setTimeout(function(){var c=parseInt(((new Date).getTime()+r-s)/r);u.style[e]=Math.floor(o(c,t,n,20))+i,c>=20?(u.style[e]=t+n+i,a&&a()):setTimeout(arguments.callee,r)},r)}return this}},_J.fn.init=function(e,t){t&&(t=t.length>0?t[0]:t);var n=t||window.document;if("string"==typeof e){if("<"===e[0]&&">"===e[e.length-1]&&e.length>=3?match=[null,e,null]:match=idExpr.exec(e),match&&match[1]){var r=document.createElement("div");return r.innerHTML=e,this[0]=r.childNodes[0],this.length=1,this.context=n,this.selector=e,this}if(match&&match[2]){var r=document.getElementById(match[2]);return r&&r.parentNode&&(this.length=1,this[0]=r),this.context=n,this.selector=e,this}match=classTagExpr.exec(e);var i=void 0;match[2]?i=n.getElementsByTagName(match[2]):match[3]&&(i=n.getElementsByClassName?n.getElementsByClassName(match[3]):_J(n).getElementsByClassName(match[3],n));for(var a=0;a<i.length;a++)this[a]=i[a];return this.length=i.length,this.context=n,this.selector=e,this}return e&&e.nodeType?(this[0]=e,this.length=1,this):(this.length=0,this)},_J.fn.init.prototype=_J.prototype,_J.extend=_J.fn.extend=function(e,t,n){return 1===arguments.length&&(t=e,e=this),extend(e,t,n),e},_J.extend({timeStamp:+new Date,getScript:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(document.getElementsByTagName("head")[0].removeChild(n),t&&t())},document.getElementsByTagName("head")[0].appendChild(n)},jsonp:function(e,t){t=!!t||"callback";var t=(e.data||{},"dsp_"+this.timeStamp++);window[t]=function(t){e.callback(t)};var n=e.url.indexOf("?"),r=e.url+(n>-1?"&":"?")+"callback="+t+"&r="+ +new Date;this.getScript(r,function(){window[t]=void 0;try{delete window[t]}catch(e){}})},clone:function(e){return extend({},e,!0)},template:function(e,t){var n=function(e){var t,r=[],i=[];for(t in e)r.push(t),i.push(e[t]);return new Function(r,n.$).apply(e,i)};if(!n.$){n.$='var $=""\n';for(var r=e.replace(/[\r\t\n]/g," ").replace(/\s+/g," ").split("%>"),i=0;i<r.length;){var a=r[i],o=a.indexOf("<%");"="==a.charAt(o+2)?(n.$+="$+='"+a.substr(0,o).replace(/\'/g,"\\'")+"'\n",n.$+="$+="+a.substr(o+3)+"\n"):o>=0?(n.$+="$+='"+a.substr(0,o).replace(/\'/g,"\\'")+"'\n",n.$+=a.substr(o+2)+"\n"):n.$+="$+='"+a.replace(/\'/g,"\\'")+"'\n",i++}n.$+="return $"}return t?n(t):n}});var nodeType=1;document.ready=function(e){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),e()},!1):document.attachEvent&&IEContentLoaded(window,e)},_J.extend({getNowTime:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),i=e.getHours(),a=e.getMinutes(),o=e.getSeconds(),s="";return s=t+"-"+n+"-"+r+" "+i+":"+a+":"+o},enabled:function(e){var t=!1,n=this;return"string"==typeof n.get(e)?t=!0:t},set:function(e,t,n){var n=n||{};if(n.domain=n.domain||"",n.path=n.path||"/",n.expires=n.expires||31536e6,"number"==typeof n.expires){var r=new Date;r.setTime(r.getTime()+n.expires)}document.cookie=e+"="+t+";expires="+r.toGMTString()+(n.domain?";domain="+n.domain:"")+";path="+n.path},get:function(e){var t,n=encodeURIComponent(e)+"=",r=document.cookie.indexOf(n),i=null;return r>-1&&(t=document.cookie.indexOf(";",r),-1==t&&(t=document.cookie.length),i=decodeURIComponent(document.cookie.substring(r+n.length,t))),i},remove:function(e){this.set(e,"",{expires:-3600})},uuid:function(){function e(){var e={},t=window,n=t.navigator,r="toLowerCase",i=t.screen,a=document;return e.D=i?i.width+"x"+i.height:"-",e.C=i?i.colorDepth+"-bit":"-",e.language=(n&&(n.language||n.browserLanguage)||"-")[r](),e.javaEnabled=n&&n.javaEnabled()?1:0,e.characterSet=a.characterSet||a.charset||"-",e}function t(){return Math.round(2147483647*Math.random())}function n(){for(var t=e(),n=window.navigator,t=n.appName+n.version+t.language+n.platform+n.userAgent+t.javaEnabled+t.D+t.C+(document.cookie?document.cookie:"")+(document.referrer?document.referrer:""),n=t.length,r=window.history.length;r>0;)t+=r--^n++}return t()^2147483647&n()},initjda:function(){var e=this;if(!e.enabled("__jda")){var t,n;n=Date.parse(new Date).toString().substring(0,10),t="."+e.uuid()+"."+n+"."+n+"."+n+".0",e.set("__jda",t,{expires:15552e6,domain:".jd.com"})}}}),_J.extend({formatDXData:function(e){var t=t||99,n=[],r=e.Query,i=0,a=_J.config.datasource.map,o=0;for(var s in r){if(o>=1)break;o++;for(var c=r[s],i=0;i<c.length&&!(i>=t);i++){var u=c[i],l={};for(var h in a)l[h]=u[a[h]];n.push(l)}}return n},getRenderData:function(e){var t=this.formatDXData(_global_dsp_data);if(null==e)return t;if(t.length<e)for(var n=e-t.length,r=t.length,i=0;n>i;i++){var a=t[i>=r?i%r:i];t.push(_J.clone(a))}return t.slice(0,e)}}),_J.extend({initLogo:function(){var e=_J("img",_J(".jdAdLogo"))[0];e.src=config.logo.imgurl,e.style.cssText=config.logo.style}}),_J.extend({loadAllPriceCallback:function(e){try{for(var t=0;t<e.length;t++)for(var n=e[t].id.split("_"),r=_J(".price_"+n[1]),i=0;i<r.length;i++)e[t].p>0?r[i].innerHTML=parseFloat(e[t].p).toFixed(2):r[i].innerHTML="已下架"}catch(a){}},loadAllPrice:function(e){if(e&&e.length>0){for(var t=[],n=0;n<e.length;n++)if(4==e[n].data_type)for(var r=_J(".price_"+e[n].data_skuid),i=0;i<r.length;i++)r[i].previousSibling.innerHTML="",r[i].innerHTML=config.priceload.shop_title;else t.push("J_"+e[n].data_skuid);_J.jsonp({url:config.priceload.url.replace("{skuids}",t.join(",")),callback:_J.loadAllPriceCallback})}}});