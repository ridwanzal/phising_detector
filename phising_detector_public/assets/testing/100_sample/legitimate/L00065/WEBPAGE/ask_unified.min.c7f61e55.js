function anxDummy(){}"undefined"==typeof anxDebug&&(anxDebug=function(){});var JSUtil={isNull:function(a){return"undefined"==typeof a||null===a},isNotNull:function(a){return"undefined"!=typeof a&&null!==a},isEmpty:function(a){return"undefined"==typeof a||null===a||0===a.length},isNotEmpty:function(a){return"undefined"!=typeof a&&null!==a&&a.length>0},isBlank:function(a){return this.isEmpty(this.trim(a))},isNumber:function(a){return"number"==typeof a},isFunction:function(a){return null!==a&&"function"==typeof a},trim:function(a){return this.isNull(a)?null:0===a.length?a:a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},defaultVal:function(a,b){return"undefined"==typeof a||null===a||""===a?"undefined"==typeof b?null:b:a},defaultIntVal:function(a,b){var c=parseInt(a,10);return isNaN(c)?b:c},optionalVal:function(a,b){return this.defaultVal(window[a],b)},optionalProperty:function(a,b,c){var d=this.optionalVal(a);return null===d?c:this.defaultVal(d[b],c)},merge:function(a,b){var c,d={};if(this.isNotNull(a))for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);if(this.isNotNull(b))for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d},hash:function(a){return JSUtil.masher()(a)},masher:function(){var a=4022871197;return function(b){b=b.toString();for(var c=0;c<b.length;c++){a+=b.charCodeAt(c);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=4294967296*d}return 2.3283064365386963e-10*(a>>>0)}},randomGenerator:null,setRandomSeed:function(){JSUtil.randomGenerator=function(a){var b=0,c=0,d=0,e=1;0==a.length&&(a=[+new Date,window.location.href,document.cookie,navigator.userAgent]);var f=JSUtil.masher();b=f(" "),c=f(" "),d=f(" ");for(var g=0;g<a.length;g++)b-=f(a[g]),0>b&&(b+=1),c-=f(a[g]),0>c&&(c+=1),d-=f(a[g]),0>d&&(d+=1);f=null;var h=function(){var a=2091639*b+2.3283064365386963e-10*e;return b=c,c=d,d=a-(e=0|a)};return h.uint32=function(){return 4294967296*h()},h.seed=a,h}(Array.prototype.slice.call(arguments))},getRandomGenerator:function(){return null===JSUtil.randomGenerator&&JSUtil.setRandomSeed(),JSUtil.randomGenerator},random:function(){return JSUtil.getRandomGenerator()()},randomInt:function(a){var b;if(JSUtil.isNotNull(window.crypto)&&JSUtil.isNotNull(window.crypto.getRandomValues)&&JSUtil.isNotNull(window.Uint32Array)){var c=new Uint32Array(1);window.crypto.getRandomValues(c),b=c[0]}else b=JSUtil.getRandomGenerator().uint32();return b%=JSUtil.defaultVal(a,2147483646)+1},formatDateISO:function(a){var b=function(a){return 10>a?"0"+a:a},c=function(a){return 100>a?(10>a?"00":"0")+a:a};return!this.isNull(a)&&this.isFunction(a.getTime)&&isFinite(a.getTime())?a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+c(a.getUTCMilliseconds())+"Z":""},once:function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}},WebUtil={parseUrl:function(a){var b={host:null,port:null,page:null,fragment:null},c=function(b,c,d){if(JSUtil.isEmpty(a))return null;var e=a.indexOf(b),f=a;if(0>e){if(!JSUtil.defaultVal(d,!0))return null;a=null}else f=0===e?null:a.substring(0,e),JSUtil.defaultVal(c,!0)&&(e+=b.length),a=a.substring(e);return f};b.scheme=c("://",!0,!1);var d=c("/",!1);if(JSUtil.isNotEmpty(d)){var e=d.split(":");b.host=e[0],b.port=1===e.length?null:e[1]}var f=c("#");if(b.fragment=a,a=f,b.path=c("?"),null!==b.path){var g=b.path.lastIndexOf("/");g>=0&&(b.page=b.path.substring(g+1),0===b.page.length&&(b.page=null))}return b.query=a,b},getParamValue:function(a,b){var c=b;if(JSUtil.isNull(c)){if(c=window.location.search,JSUtil.isEmpty(c))return null;"?"===c.charAt(0)&&(c="&"+c.substring(1))}else{if(JSUtil.isEmpty(c))return null;"&"!==c.charAt(0)&&(c="&"+c)}var d=c.indexOf("&"+a+"=");if(0>d)return null;d+=a.length+2;var e=c.indexOf("&",d);return 0>e&&(e=c.length),d===e?null:decodeURIComponent(c.substring(d,e))},getAllParams:function(a){var b={},c=a;if(JSUtil.isNull(c)&&(c=window.location.search),JSUtil.isEmpty(c))return b;"?"===c.charAt(0)&&(c=c.substring(1));var d,e,f,g=c.split("&");for(d=0;d<g.length;d++)if(f=g[d],e=f.indexOf("="),e>0&&e<f.length-1){var h=f.substring(e+1).replace(/\+/g,"%20");b[f.substring(0,e)]=decodeURIComponent(h)}return b},makeQueryString:function(a){if(JSUtil.isNull(a))return"";var b,c="";for(b in a)if(a.hasOwnProperty(b)){var d=a[b];JSUtil.isNotNull(d)&&(c+="&"+b+"="+encodeURIComponent(d))}return c.substring(1)},getBrowserLanguage:function(){return JSUtil.isNotNull(navigator.language)?navigator.language:JSUtil.isNotNull(navigator.userLanguage)?navigator.userLanguage:JSUtil.isNotNull(navigator.browserLanguage)?navigator.browserLanguage:JSUtil.isNotNull(navigator.systemLanguage)?navigator.systemLanguage:null}},CookieUtil={checkCookiesEnabled:function(){var a=JSUtil.defaultVal(navigator.cookieEnabled);return null!==a?a:(this.setCookie("anxTest","1"),null!==this.getCookieValue("anxTest"))},getCookieValue:function(a){var b=" "+document.cookie,c=b.indexOf(" "+a+"=");if(0>c)return null;c+=a.length+2;var d=";";'"'===b.charAt(c)&&(c++,d='"');var e=b.indexOf(d,c);return 0>e&&(e=b.length),JSUtil.defaultVal(b.substring(c,e))},getEncodedCookieValue:function(a){var b=this.getCookieValue(a);return null!==b?decodeURIComponent(b):null},setCookie:function(a,b,c,d,e){var f=a+"=";f+=e?encodeURIComponent(b):b,JSUtil.isNotEmpty(c)&&(f+="; domain="+c),f+="; path=/",JSUtil.isNotNull(d)&&(f+="; expires="+d.toGMTString()),anxDebug("Set cookie "+f),document.cookie=f},setSessionCookie:function(a,b,c,d){this.setCookie(a,b,c,null,d)},setPermanentCookie:function(a,b,c,d,e){var f=(new Date).getTime();f+=JSUtil.isNotNull(e)?1e3*e:315e9,this.setCookie(a,b,c,new Date(f),d)},deleteCookie:function(a){document.cookie=a+"=; path=/; expires=Wed, 01 Apr 1970 00:00:00 GMT"},getChipValue:function(a,b){return WebUtil.getParamValue(b,this.getCookieValue(a))},getAllChips:function(a){var b=this.getCookieValue(a);return null===b?{}:WebUtil.getAllParams(b)},setChipValue:function(a,b,c){var d="";if(JSUtil.isNotEmpty(a)){d="&"+a;var e=d.indexOf("&"+b+"=");if(e>=0){var f=d.indexOf("&",e+1);0>f&&(f=d.length),d=d.substring(0,e)+d.substring(f,d.length)}}return b+"="+encodeURIComponent(c)+d}},_Anemone={config:null,cookiesEnabled:CookieUtil.checkCookiesEnabled(),cookieExpirationSecs:7776e3,shouldLogPageView:!1,shouldUpdateSession:!1,isNewSession:!1,lastEvent:0,appId:null,appVersion:null,appDate:null,domain:null,pixelUrl:null,uniqueUserId:null,referrerDomain:null,referrerKeyword:null,cookie:null,sessionCookie:null,now:null,sequence:1,jsStartTime:(new Date).getTime(),cookieChips:["u","fv","lv","nv","sn","od","ok","w","h","cd"],sessionCookieChips:["s","sv","sd","sp","sk","sc","so"],searchEngines:[[".google.","q"],[".yahoo.","p"],[".baidu.","wd"],[".bing.","q"],[".ask.","q"],[".aol.","q"],[".mywebsearch.","searchfor"],[".excite.",null,/\/excite\/ws\/results\/Web\/([^\/?]+)/i],[".altavista.","p"],[".lycos.","query"],[".teoma.","q"],[".search.","q"],[".search-results.","q"],[".earthlink.","q"],[".cnn.","query"],[".about.","q"],[".ehow.","s"],[".dogpile.",null,/\/dogpile\/ws\/results\/Web\/([^\/?]+)/i],[".blekko.",null,/\/ws\/([^\/?]+)/i],[".mamma.","q"],[".gigablast.","q"],[".snap.","query"],[".voila.","rdata"],[".virgilio.","qs"]],determineSystemTime:function(){var a=(new Date).getTime(),b=a-this.jsStartTime,c=JSUtil.defaultIntVal(this.config.systemTime,this.jsStartTime);return c+b},logPageView:function(){this.loadConfig(),this.now=this.determineSystemTime(),this.loadInfo(),this.setCookies();var a,b=this.buildPixelUrlParams();this.shouldLogPageView&&(a="PageView",this.logEvent(a,b),this.referrerDomain=null,this.referrerKeyword=null)},updateCookies:function(){var a=this.cookie,b=this.sessionCookie;this.parseCookies(),this.cookie=JSUtil.merge(a,this.cookie),this.sessionCookie=JSUtil.merge(b,this.sessionCookie)},logEvent:function(a,b,c){this.updateCookies(),this.now=this.determineSystemTime(),this.updateSession(!0),this.setCookies(),this.callPixel(a,this.buildPixelUrlParams(b),c),this.isNewSession=!1},loadConfig:function(){if(null===this.config){var a=JSUtil.optionalVal("_AnemoneParams"),b=JSUtil.optionalVal("_AnemoneParams2");this.config=JSUtil.merge(b,a);var c,d=["uniqueUser","appId","appVersion","appDate","logPageView","updateSession","domain","url","getAppParams","getAppCookieChips","backFillRequired","maxSession"],e=d.length;for(c=0;e>c;c++){var f=d[c],g="_anx"+f.substring(0,1).toUpperCase()+f.substring(1),h=JSUtil.optionalVal(g);null!==h&&(this.config[f]=h)}this.config.suppressCookies&&(this.cookiesEnabled=!1),this.config.cookieExpirationMinutes&&(this.cookieExpirationSecs=60*this.config.cookieExpirationMinutes)}},loadInfo:function(){this.shouldLogPageView=JSUtil.defaultVal(this.config.logPageView,!1),this.shouldUpdateSession=JSUtil.defaultVal(this.config.updateSession,!1),this.parseCookies(),this.getReferrer(),this.updateSession(!1);var a=this.cookie,b=JSUtil.optionalVal("screen");null!==b&&(a.w!=b.width&&(window.backfillParam=window.backfillParam||{},window.backfillParam.pl_cm=!0),a.w=b.width,a.h=b.height,a.cd=b.colorDepth)},parseCookies:function(){this.cookie=CookieUtil.getAllChips("uc"),this.sessionCookie=CookieUtil.getAllChips("ucs"),this.uniqueUserId=JSUtil.defaultVal(this.config.uniqueUser),JSUtil.isBlank(this.uniqueUserId)&&(this.uniqueUserId=JSUtil.defaultVal(this.cookie.u),JSUtil.isBlank(this.uniqueUserId)&&this.cookiesEnabled&&(this.uniqueUserId=this.generateUserId())),this.cookie.u=this.uniqueUserId},buildPixelUrlParams:function(a){var b=window.location.href,c=b.indexOf("?");c>0&&(b=b.substring(0,c));var d={anxuu:this.uniqueUserId,anxa:this.getAppId(),anxv:this.getAppVersion(),anxd:this.getAppDate(),anxsn:this.getServerName(),anxu:b,anxl:JSUtil.defaultVal(this.config.browserLanguage,WebUtil.getBrowserLanguage()),anxlv:this.lastEvent,anxrd:this.referrerDomain,anxrk:this.referrerKeyword,anxsq:this.sequence++},e=null,f=JSUtil.defaultVal(this.config.getAppParams);if(null!==f)try{e=f()}catch(g){anxDebug("Exception in getAppParams: "+g)}return JSUtil.isNotNull(e)&&(d=JSUtil.merge(d,e)),JSUtil.isNotNull(a)&&(d=JSUtil.merge(d,a)),d},emptyCookie:function(a){var b,c={},d=a.length;for(b=0;d>b;b++)c[a[b]]="-";return c},setCookies:function(){if(this.cookiesEnabled){this.cookie=JSUtil.merge(this.emptyCookie(this.cookieChips),this.cookie),this.cookie.u=this.uniqueUserId;var a=JSUtil.defaultVal(this.config.getAppCookieChips);if(null!==a){var b=null;try{b=a()}catch(c){anxDebug("Exception in getAppCookieChips: "+c)}JSUtil.isNotNull(b)&&(this.cookie=JSUtil.merge(this.cookie,b))}var d='"'+WebUtil.makeQueryString(this.cookie)+'"';CookieUtil.setPermanentCookie("uc",d,this.getDomain(),!1,this.cookieExpirationSecs),this.sessionCookie=JSUtil.merge(this.emptyCookie(this.sessionCookieChips),this.sessionCookie),d='"'+WebUtil.makeQueryString(this.sessionCookie)+'"',CookieUtil.setSessionCookie("ucs",d,this.getDomain())}},callPixel:function(a,b,c){var d=JSUtil.isNull(c);c=d?anxDummy:JSUtil.once(c),b.anxe=a,b.anxr=JSUtil.randomInt();var e=this.getPixelUrl()+"?"+WebUtil.makeQueryString(b),f=new Image(1,1);return f.src=e,f.onload=function(){c(!0)},f.onerror=function(){c(!1)},d||setTimeout(function(){c(!1)},2e3),anxDebug("Calling pixel "+e),e},updateSession:function(a){this.cookiesEnabled&&(this.lastEvent=Number(JSUtil.defaultIntVal(this.cookie.lv,0)),this.isNewSession||("-"===JSUtil.defaultVal(this.sessionCookie.s,"-")||this.now-this.lastEvent>6e4*JSUtil.defaultVal(this.config.maxSession,30))&&(anxDebug("No session or session expired: start new session"),this.setNewSession()),a&&(this.cookie.fv=JSUtil.defaultIntVal(this.cookie.fv,this.now),this.cookie.lv=this.now,this.cookie.nv=Number(JSUtil.defaultIntVal(this.cookie.nv,0))+1))},setNewSession:function(){this.sessionCookie.s=JSUtil.randomInt(),this.sessionCookie.sv=this.now,this.sessionCookie.sd=this.referrerDomain,this.sessionCookie.sk=this.referrerKeyword,this.isNewSession=!0},getReferrer:function(){var a="none",b="-",c="-",d=document.referrer;if(JSUtil.isNotEmpty(d)){var e=WebUtil.parseUrl(d);a=e.host,b=e.page,c=this.extractKeyword(e)}this.referrerDomain=a,this.referrerKeyword=c,this.cookiesEnabled&&(this.isNewSession||!this.config.newSessionOnDomainChange||"none"===a||this.isSameDomain(a)||this.shouldUpdateSession&&(anxDebug("Different domain ("+a+"): start new session"),this.setNewSession()),JSUtil.isNull(this.cookie.od)&&(this.cookie.od=a,this.cookie.ok=c))},extractKeyword:function(a){if(null===a.host)return"-";var b=WebUtil.getAllParams(a.query);null===a.query&&null!==a.fragment&&(b=WebUtil.getAllParams(a.fragment));var c,d,e;for(c=0;c<this.searchEngines.length;c++)if(d=this.searchEngines[c][0],a.host.indexOf(d)>=0||0===a.host.indexOf(d.substring(1)))if(e=this.searchEngines[c][1],null===e){var f=this.searchEngines[c][2].exec(a.path);if(null!==f)return f[1]}else{var g=JSUtil.defaultVal(b[e],null);if(null!==g)return g}return"-"},isSameDomain:function(a){var b=this.getDomain();return"."!==a.charAt(0)&&(a="."+a),a.length<b.length?!1:a.substring(a.length-b.length)===b},getPixelUrl:function(){if(null===this.pixelUrl&&(this.pixelUrl=JSUtil.defaultVal(this.config.url),null===this.pixelUrl)){var a=document.location.href,b=a.indexOf("?");b>0&&(a=a.substring(0,b)),b=a.indexOf("#"),b>0&&(a=a.substring(0,b)),b=a.lastIndexOf("/"),b>0&&(a=a.substring(0,b)),this.pixelUrl=a+"/anemone.jhtml",anxDebug("Using pixel URL "+this.pixelUrl)}return this.pixelUrl},getAppId:function(){return null===this.appId&&(this.appId=JSUtil.defaultVal(this.config.appId),null===this.appId&&(this.appId=document.location.hostname,anxDebug("Using app ID "+this.appId))),this.appId},getAppVersion:function(){return null===this.appVersion&&(this.appVersion=JSUtil.defaultVal(this.config.appVersion),null===this.appVersion&&(this.appVersion="-",anxDebug("Using app version "+this.appVersion))),this.appVersion},getAppDate:function(){if(null===this.appDate&&(this.appDate=JSUtil.defaultVal(this.config.appDate),null===this.appDate)){var a=JSUtil.optionalVal("document.lastModified");anxDebug("document.lastModified = "+a),null!==a&&(this.appDate=JSUtil.formatDateISO(new Date(a))),null===this.appDate&&(this.appDate="-"),anxDebug("Using app date "+this.appDate)}return this.appDate},getDomain:function(){if(null===this.domain&&(this.domain=JSUtil.defaultVal(this.config.domain),null===this.domain)){var a=document.location.hostname,b=a.lastIndexOf(".");b>0&&(b=a.lastIndexOf(".",b-1),a=b>0?a.substring(b):"."+a),this.domain=a,anxDebug("Using domain "+a)}return this.domain},getServerName:function(){return JSUtil.defaultVal(this.config.serverName,"")},generateUserId:function(){var a,b="0123456789ABCDEF",c=[];for(a=0;36>a;a++)c[a]=8===a||13===a||18===a||23===a?"-":b.substr(JSUtil.randomInt(15),1);return c[14]="4",c[19]=b.substr(3&c[19]|8,1),c.join("")}};try{_Anemone.logPageView()}catch(e){anxDebug("Exception in logPageView: "+e)}