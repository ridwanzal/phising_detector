!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";!function(a){"_gaq"in window||(window._gaq=[])}(jQuery)},{}],2:[function(a,b,c){"use strict";!function(a,b){function c(b,c,d){var e="/rg/"+b+"/"+c+"/";"consoleLog"in window&&consoleLog(e,"recs"),a("<img>").attr("src",e+"/images/b.gif"+(d?"?link="+d:""))}function d(a,b){c("recs-"+g,a,b)}function e(a,b,c){for(var d=b+"";d.length<c;)d=a+d;return d}var f=a("#title_recs"),g=f.attr("data-caller-name")||"unknown";f.delegate(".rec_nav_left","click",function(){d("nav_left")}),f.delegate(".rec_nav_right","click",function(){d("nav_right")}),f.delegate(".rec_not_interested","click",function(){d("not_interested")}),f.delegate(".rec_next","click",function(){d("next")}),f.delegate(".add_to_watchlist a","click",function(){d("watchlist")}),f.delegate(".rating-list","change.rating",function(b,c){var f=(a(this),e("0",c.rating,2)),g=Math.round(2*c.imdbRating)/2,h=f-g;d("rating_s:"+f+"_d:"+h)}),f.delegate(".rec-reasons a","click",function(b){var c=a(this),e=c.attr("href");d("reason",e)}),f.delegate(".rec-title a","click",function(b){var c=a(this),e=c.attr("href");d("title",e)}),f.delegate(".rec_poster a","click",function(b){var c=a(this),e=c.attr("href");d("poster",e)}),a(b).on("itemrequest","#title_recs",function(a,b){d("selected_"+b.cause)}),a(b).on("rec_has_widget","#title_recs",function(a){d("has_widget")})}(jQuery,document)},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("jquery"),f=d(e);a(6),f["default"].widget("ui.rec_widget",{_create:function(){function a(a,b){a.find(".rec_overlay").removeClass("rec_is_pending").addClass(b)}function b(a,b){a.find(".rec_overlay").removeClass("rec_is_pending").removeClass(b)}function c(a){var b=f["default"](".rec_item.rec_selected",j),c=f["default"](".rec_page.rec_selected",j),e=b.next(),g=c.next();e.length>0?d(e,a):g.length>0?j.rec_slider("slideTo",g.index()):j.rec_slider("slideTo",0)}function d(a,b){var c=f["default"](".rec_item",j),d=f["default"](".rec_page",j),h=a.parent();0!==a.length&&(c.removeClass("rec_selected"),a.addClass("rec_selected"),g(a.attr("data-tconst"),a.attr("data-info"),j.attr("data-caller-name")),e(a.attr("data-spec").split(",")[0]),j.trigger("itemrequest",{cause:b,position:a.index()+1,curr_page:h.index()+1,max_pages:d.length}))}function e(a){var b=f["default"]("h2.rec_heading_wrapper [data-spec]"),c=b.filter('[data-spec="'+a+'"]');f["default"]("#title_recs").attr("class","rec_wrapper "+a.split(/:/)[0]);b.hide(),c.show()}function g(a,b,c){var d,e=f["default"](".rec_overview",k),i=e.filter('[data-tconst="'+a+'"]'),m=f["default"]("#title_recs.rec_wrapper").attr("data-ref");m&&(d=m+"_rec_"),a&&(i.length>0?(e.hide(),i.show()):(l.addClass("rec_loading"),f["default"].ajax({url:"/widget/recommendations/_ajax/get_title_info",type:"POST",data:{tconst:a,info:b,caller_name:c,ref_marker_prefix:d},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured.")},success:function(d){var h,m;if(d&&200!=d.status)return void this.error(d);if(e=f["default"](".rec_overview",k),i=e.filter('[data-tconst="'+a+'"]'),i.length>0)return void g(a,b,c);i=f["default"](d.html_title_info),f["default"]("#lateload-recs-widget").find("link").remove(),e.hide(),k.append(i),h=f["default"](".wlb_wrapper",i),m=f["default"](".rating-list",i),l.removeClass("rec_loading");var n=i.find(".rec_poster_img");n.hasClass("loadlate")&&(n.attr("src",n.attr("loadlate")),n.removeClass("loadlate"),n.removeClass("hidden")),h.wlb_lite(),d.rating_info.uconst&&m.rating({uconst:d.rating_info.uconst,widgetClass:d.rating_info.widget_class,ajaxURL:"/ratings/_ajax/title",starWidth:d.rating_info.star_width,errorMessage:d.rating_info.error_message,images:{imdb:d.rating_info.images_imdb,off:d.rating_info.images_off,your:d.rating_info.images_your,del:d.rating_info.images_del,info:d.rating_info.images_info}}),j.trigger("recs_title_update")}})))}function h(a){"console"in window&&"log"in window.console&&window.console.log(a)}var i=this,j=i.element,k=f["default"](".rec_overviews",j),l=f["default"](".rec_spinner",j),m=(f["default"](".rec_nav_left, .rec_nav_right",j),300);j.trigger("rec_has_widget"),j.delegate(".rec_item","click",function(){return d(f["default"](this),"click"),!1}),j.delegate(".rec_item","mouseenter",function(){var a=this;this.timerId||(this.timerId=setTimeout(function(){d(f["default"](a),"hover")},m))}),j.delegate(".rec_item","mouseleave",function(){this.timerId&&clearTimeout(this.timerId),this.timerId=null}),j.bind("rec_slider_slide",function(a){var b=f["default"](".rec_page.rec_selected .rec_item",j).first();d(b,"slide")}),j.bind("rec_slider_init",function(a){var b=f["default"](".rec_page.rec_selected .rec_item",j).first();d(b,"init")}),j.bind("wlb_user_interaction",function(){var b=(f["default"](this),f["default"](".rec_item.rec_selected",j));a(b,"rec_is_pending"),c("watchlist")}),j.delegate(".rating-stars a, .rating-cancel","click",function(){var b=(f["default"](this),f["default"](".rec_item.rec_selected",j));a(b,"rec_is_pending"),c("rating")}),j.bind("wlb_async_update",function(c,d){var e=(f["default"](this),d.tconst),g=f["default"]('.rec_item[data-tconst="'+e+'"]',j);d.list_item_id?a(g,"rec_in_watchlist"):b(g,"rec_in_watchlist"),j.rec_slider("requestItems")}),j.bind("wlb_ready",function(a,b){if(b.inwatchlist){var c=b.tconst,d=f["default"](".rec_actions",j).find("input").attr("value");f["default"].ajax({url:"/widget/recommendations/_ajax/updatePersonalization",type:"POST",data:{tconst:c,xsrf:d,rating:"w"},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured.")},success:function(a){return a&&200!=a.status?void this.error(a):void 0}})}}),j.delegate(".rating-list","change.rating",function(c,d){var e=d.tconst,g=f["default"]('.rec_item[data-tconst="'+e+'"]',j),h=g.find(".rec_rating_glyph"),i=d.rating<10?"&nbsp;"+d.rating:d.rating;d.rating>0&&"your"===d.state?(a(g,"rec_has_rating"),h.html(i)):b(g,"rec_has_rating"),j.rec_slider("requestItems")}),j.delegate(".rating-list","ready.rating",function(a,b){if("imdb"!=b.state){var c=f["default"](this).closest(".rec_overview").find("input").attr("value");f["default"].ajax({url:"/widget/recommendations/_ajax/updatePersonalization",type:"POST",data:{tconst:b.tconst,xsrf:c,rating:b.rating},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured.")},success:function(a){return a&&200!=a.status?void this.error(a):void 0}})}}),j.delegate(".rec_actions .rec_not_interested","click",function(){var d=f["default"](".rec_item.rec_selected",j),e=d.attr("data-tconst"),g=f["default"](this).closest(".rec_actions").find("input").attr("value");f["default"].ajax({url:"/widget/recommendations/_ajax/not_interested",type:"POST",data:{tconst:e,xsrf:g},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){h("Ajax error occured."),b(d,"rec_is_pending")},success:function(b){return b&&200!=b.status?void this.error(b):(a(d,"rec_is_blocked"),void j.rec_slider("requestItems"))}}),a(d,"rec_is_pending"),c("notInterested")}),j.delegate(".rec_actions .rec_next","click",function(){c("next")}),j.rec_slider(),f["default"](window).trigger("bindloadlate")}}),f["default"](function(){f["default"]("img.rec_placeholder").each(function(){var a=f["default"](this);a.parent().load(a.attr("data-widget")),f["default"]("#lateload-recs-widget").find("link").remove()})})},{6:6,jquery:"jquery"}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){"consoleLog"in window?consoleLog(a,"recs"):"console"in window&&"log"in window.console&&window.console.log(a)}var f=a("jquery"),g=d(f);a(6);var h=6;g["default"].widget("ui.rec_slider",{_create:function(){var a=this,b=a.element;g["default"].extend(a,{$slide:g["default"](".rec_slide",b),$left:g["default"](".rec_nav_left",b),$right:g["default"](".rec_nav_right",b),$page_num:g["default"](".rec_nav_page_num",b),specs:b.attr("data-specs").split(","),per_req:b.attr("data-items-per-request"),per_page:b.attr("data-items-per-page"),caller_name:b.attr("data-caller-name")}),a.$right.click(function(){var c=g["default"](".rec_page.rec_selected",b).index();g["default"](this).hasClass("disabled")||a.slideTo(c+1)}),a.$left.click(function(){var c=g["default"](".rec_page.rec_selected",b).index();g["default"](this).hasClass("disabled")||a.slideTo(c-1)}),a.updateNav(),g["default"](".rec_page",b).length<=1&&a.requestItems()},updateNav:function(){var a=this,b=a.element,c=g["default"](".rec_page",b),d=c.length-1,e=0;0===c.filter(".rec_selected").length&&(c.eq(0).addClass("rec_selected"),b.trigger("rec_slider_init")),e=c.filter(".rec_selected").index(),0>=e?a.$left.addClass("rec_nav_disabled"):a.$left.removeClass("rec_nav_disabled"),e>=d?a.$right.addClass("rec_nav_disabled"):a.$right.removeClass("rec_nav_disabled"),a.$slide.width(c.width()*c.length)},slideTo:function(a){var b=this,c=b.element,d=g["default"](".rec_page",c),e=d.length-1,f=d.filter(".rec_selected").index(),h=a-f;0!==d.length&&(a>=0&&e>=a&&(this.timerId&&clearTimeout(b.timerId),d.removeClass("rec_selected"),d.eq(a).addClass("rec_selected"),b.$slide.stop().animate({left:-(d.width()*a)},function(){b.timerId=setTimeout(function(){c.trigger("rec_slider_slide")},10)}),b.$page_num.html(a+1+" of "+(e+1)),h>0&&b.requestItems()),b.updateNav())},requestItems:function(){var a,b=this,c=b.element,d=g["default"](".rec_item",c),f=g["default"](".rec_page",c),i=f.filter(".rec_selected").index(),j=f.length-1,k=b.specs[0],l=0,m=g["default"]("#title_recs.rec_wrapper").attr("data-ref");if(m&&(a=m+"_rec_tt"),!(j-1>i)){if(!k)return d.length<h&&c.parents(".article").hide(),void e("No more data is available.");l=d.filter('[data-spec*="'+k+'"]').length,g["default"].ajax({url:"/widget/recommendations/_ajax/get_more_recs",type:"POST",data:{count:b.per_req,start:l,specs:b.specs.join(","),caller_name:b.caller_name,ref_marker:a},beforeSend:window.addClickstreamHeadersToAjax,error:function(a){e("Ajax error occured."),g["default"](".rec_item",c).length<h&&c.parents(".article").hide()},success:function(a){var d=g["default"]('.rec_item[data-spec*="'+k+'"]',c),f=d.length,i=l;return a&&200==a.status?f>i?void e("Duplicate or overlapping request"):(a.spec&&a.heading&&b._insertHeading(a.spec,a.heading),"specs"in a&&(b.specs=a.specs.split(",")),a.spec&&"recommendations"in a&&b._insertItems(a.spec,a.recommendations)>=h&&c.parents(".article").show(),void c.trigger("recs_slider_update")):void this.error(a)}})}},_insertItems:function(a,b){var c=this,d=c.element,e=g["default"](".rec_item",d),f=g["default"](".rec_page:last",d),h=g["default"](".rec_grave",d),i="none",j=e.length,k=0,l=0;return g["default"].each(b,function(b,i){var j=e.filter('[data-tconst="'+i.tconst+'"]'),m=j.filter('[data-spec="'+a+'"]');if(!(m.length>0)){if(j.length>0)return k++,void h.append(g["default"](i.content));(0===f.length||f.children().length>=c.per_page)&&(f=g["default"]("<div></div>").addClass("rec_page").appendTo(".rec_slide",d)),l++,f.append(g["default"](i.content)),g["default"]("#lateload-recs-widget").find("link").remove()}}),k+l===0?c.specs[0]===a&&c.specs.shift():l>0&&(0===j&&(i=g["default"](".rec_page:eq(0) .rec_item:eq(0)").attr("data-spec"),d.trigger("rec_items_loaded",i)),g["default"](window).trigger("bindloadlate"),c.updateNav()),l<=c.per_page&&c.requestItems(),l},_insertHeading:function(a,b){var c=g["default"]("h2.rec_heading_wrapper"),d=c.find('[data-spec="'+a+'"]');0===d.length&&g["default"]("<span></span>").attr("data-spec",a).html(b).hide().appendTo(c)}})},{6:6,jquery:"jquery"}],5:[function(a,b,c){"use strict";a(1),a(2),a(3),a(4)},{1:1,2:2,3:3,4:4}],6:[function(a,b,c){/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b=0,c=Array.prototype.slice;return a.cleanData=function(b){return function(c){var d,e,f;for(f=0;null!=(e=c[f]);f++)try{d=a._data(e,"events"),d&&d.remove&&a(e).triggerHandler("remove")}catch(g){}b(c)}}(a.cleanData),a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(b){for(var d,e,f=c.call(arguments,1),g=0,h=f.length;h>g;g++)for(d in f[g])e=f[g][d],f[g].hasOwnProperty(d)&&void 0!==e&&(a.isPlainObject(e)?b[d]=a.isPlainObject(b[d])?a.widget.extend({},b[d],e):a.widget.extend({},e):b[d]=e);return b},a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(f){var g="string"==typeof f,h=c.call(arguments,1),i=this;return g?this.each(function(){var c,d=a.data(this,e);return"instance"===f?(i=d,!1):d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(c=d[f].apply(d,h),c!==d&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):a.error("no such method '"+f+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+f+"'")}):(h.length&&(f=a.widget.extend.apply(null,[f].concat(h))),this.each(function(){var b=a.data(this,e);b?(b.option(f||{}),b._init&&b._init()):a.data(this,e,new d(f,this))})),i}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=b++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),c),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d,e,f,g=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){for(e=g[b]=a.widget.extend({},this.options[b]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(b=d.pop(),1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,b.unbind(c).undelegate(c),this.bindings=a(this.bindings.not(b).get()),this.focusable=a(this.focusable.not(b).get()),this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.widget})},{}]},{},[5]);