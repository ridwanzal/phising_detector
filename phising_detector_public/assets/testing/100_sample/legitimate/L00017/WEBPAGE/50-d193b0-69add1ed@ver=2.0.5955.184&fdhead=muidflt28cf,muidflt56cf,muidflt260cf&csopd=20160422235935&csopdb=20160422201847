var Perf,globalLeft,canary;define("jqBehavior",["jquery","viewport"],function(n){return function(t,i,r){function u(n){var t=n.length;return t>1?function(){for(var i=0;i<t;i++)n[i]()}:t?n[0]:f}function f(){}if(typeof t!="function")throw"Behavior constructor must be a function";if(i&&typeof i!="object")throw"Defaults must be an object or null";if(r&&typeof r!="object")throw"Exclude must be an object or null";return r=r||{},function(f,e,o){function c(n){n&&(typeof n.setup=="function"&&l.push(n.setup),typeof n.teardown=="function"&&a.push(n.teardown),typeof n.update=="function"&&v.push(n.update))}var h;if(o&&typeof o!="object")throw"Options must be an object or null";var s=n.extend(!0,{},i,o),l=[],a=[],v=[],y=!0;if(r.query){if(typeof f!="string")throw"Selector must be a string";c(t(f,s))}else h=n(f,e),r.each?c(t(h,s)):(y=h.length>0,h.each(function(){var i=n(this);c(t(i,r.data?s:n.extend(!0,{},s,i.data?i.data():{})))}));return y?{setup:u(l),teardown:u(a),update:u(v)}:null}}});define("trackInfo.tokens",{spinTimeout:150,browserFilterTable:{webkit:"530.0.0",mozilla:"1.9.0"},logSamplingRate:"0"});define("adTelemetry",["window","pageTime","pageStart","logging","adCommon","requestAnimationFrame"],function(n,t,i,r,u,f){function g(n){e.elems&&e.elems.length===0||(n&&(e.repmech=n),w(e,!0))}function y(n,t){if(n&&t){var r={st:i,repmech:n,elems:[]};r.elems.push(t);w(r,!1)}}function nt(n,t,i,r){if(!e||!e.elems)return n;var u=v(t,i,r);return e.elems.push(u),u}function tt(){l=!1;e={elems:[],repmech:"",st:e.st};b();c=!1}function p(n,t){var i,r;o.clientId=o.trackAPI.client.clientId();o.domainId=o.trackAPI.sitePage.domainId;i={evt:"adimpr_update",rid:o.pageViewActivityId,di:o.domainId,clid:o.clientId,data:n,g:t?1:0};h.push(i);f(it);t&&(r={st:n.st,repmech:n.repmech,elems:[]},e=r)}function w(n,t){if(n){if(h.length>k){r.error("adTelemetryMgr: exceeded max posting queue length.");return}if(t){if(c)return;c=!0}o.trackAPI?p(n,t):require(["trackInfo"],function(i){o.trackAPI=i;p(n,t)})}}function it(){if(h.length!==0)for(var n;n=h.shift();)o.trackAPI.telemetryTracking.sendUpdate(n),n.global&&(c=!1)}function b(){l||(s?o.pageViewActivityId=s.getActivityId()||a.clientSettings.aid:require(["pageInstance","headData"],function(n,t){s||(s=n,a=t,o.pageViewActivityId=s.getActivityId()||a.clientSettings.aid)}),l=!0)}function v(n,t,i,r){return r=r||{},u.updateElementData(r,"ldmech",n),u.updateElementData(r,"id",t),u.updateElementData(r,"pg",i),r}function rt(n,t,i,r,o){if(n&&n.telemetry){var s=n.telemetry;u.recordTiming(s,t,i,r);o&&f(function(){y("detcompl",s);n.telemetry=v("visch",n.friendlyId,n.pg);e&&e.elems&&e.elems[n.idx]&&(e.elems[n.idx]=n.telemetry)},0)}}function ut(n,t){n&&t!=null&&t!=undefined&&(this.pageStagingPayload[n]=t)}function ft(n,t){n&&t&&(u.updateElementData(n,"cid",t.CID),u.updateElementData(n,"asid",t.ASID))}var h=[],k=7,c=!1,l=!1,s=null,a=null,d=((n.performance||{}).timing||{}).responseStart||(n._timing||{}).start||+new Date,e={navst:i,rst:d,repmech:"",elems:[]},o={pageViewActivityId:null,clientId:null,domainId:null,trackAPI:null};return{buildNewTelemetryObject:v,pageStagingPayload:e,postTelemetryData:g,postTelemetryDataForElement:y,initializeElementData:nt,resetPageStagingTelemetryForRefresh:tt,trackingData:o,updatePageViewActivityId:b,recordAdOperation:rt,updateGlobalData:ut,updateAdIdTelemetryData:ft}});define("adRefresh",["dap","mediator","adTelemetry"],function(n,t,i){function u(u){var s,l,a,o,e,f,h,y,c,v;if(!u){for(i.postTelemetryData("refresh"),i.resetPageStagingTelemetryForRefresh(),s=n.adPlacements,o={},h=0;f=s[h];h++)f.refreshEnabled=!0,i.pageStagingPayload&&i.pageStagingPayload.elems&&(f.telemetry=null,f.telemetry=i.buildNewTelemetryObject("refresh",f.friendlyId,f.pg),i.pageStagingPayload.elems.push(f.telemetry)),f.isRendered&&f.detectionObject&&f.detectionObject.stopDetection(),l=f.elem.parentNode.parentNode,a=l.offsetHeight,a&&(l.style.height=a+"px"),i.trackingData&&i.trackingData.pageViewActivityId&&(f.params=f.params.replace(/PVGUID=[^&]*/,"PVGUID="+i.trackingData.pageViewActivityId),f.options=f.options||{},f.options.rid=i.trackingData.pageViewActivityId),f.adType===r?(e=o[f.htmlid],e||(e=[],o[f.htmlid]=e),e.push(f),s.splice(h--,1)):f.order=null;for(y in o)for(e=o[y],e.unshift(e.splice(-1,1)[0]),c=0;v=e[c];c++)v.order=c+10,s.push(v);t.pub("adrefresh")}}var r=3;return{refresh:u}});define("adDetection",["document","pageTime","mediator","adCommon","dap","logging","perfPing","classList","dapmgr","adTelemetry","window"],function(n,t,i,r,u,f,e,o,s,h,c){function ht(u){function fi(n,t,i,f,e){n&&u&&n.divid&&n.divid===u.htmlid&&(r.recordTiming(u.telemetry,t,i,null),typeof e=="function"&&e())}function si(n){n&&typeof n.completionCb=="function"&&n.completionCb();di(n)}function pi(){h.updatePageViewActivityId();u.sizeCharacteristics=e();u.telemetry=h.buildNewTelemetryObject("pgld",u.friendlyId,u.pg,u.telemetry);bi();h.pageStagingPayload&&h.pageStagingPayload.elems&&h.pageStagingPayload.elems.push(u.telemetry)}function ei(n,t){if(u&&(r.checkAndSetAdVisibility(u),u.isVisible&&t)){var i=ci(u.elem);u.sizeCharacteristics=ai(i);u.canDisplayAdChoices=!!(u.sizeCharacteristics.sizeBitmask&v)}}function wi(n,t){if(u.isRendered){var i=u.canDisplayAdChoices;ei(n,t);i^u.canDisplayAdChoices&&vi(u.canDisplayAdChoices);r.setAdContainerDisplayState(u.htmlid,u.isVisible,u.canBeDisplayed||u.isRendered,u.canDisplayAdChoices)}}function hi(){return u&&(u.sizeCharacteristics.sizeBitmask&ft)>>k>=l}function bi(){function l(){var a,y,w,k,d,g;if(oi){a=u.htmlid;y=n.getElementById(a);do{if(!y){!(e%10);break}ei(!1,!0);var p=u.isVisible,v=u.sizeCharacteristics.adSizeType,it=u.sizeCharacteristics.sizeBitmask,rt=u.canDisplayAdChoices;if(!p){h.recordAdOperation(u,"det",!1,"nonvisible",!1);return}if(!(it&ni))break;if(w=s==o,v===b||u.isLoaded||w){u.elem.setAttribute("ad-loaded-height",u.sizeCharacteristics.actualHeight);c.console&&console.log("ads log: "+t()+": '"+a+"': ad loaded");si(u);i.pub(ct,u);h.recordAdOperation(u,"adld",!1,v,!1);k=ki(u);h.updateAdIdTelemetryData(u.telemetry,k);r.updateElementData(u.telemetry,"w",u.sizeCharacteristics.actualWidth);r.updateElementData(u.telemetry,"h",u.sizeCharacteristics.actualHeight);d=u.forcefulDisplayInEffect&&u.forceDisplayOn||!u.forcefulDisplayInEffect&&v!==et;r.setAdContainerDisplayState(a,p,d,rt);g=hi(u)?0:o*tt;setTimeout(function(){var n=u.sizeCharacteristics.actualHeight;wi(!0,!0);r.updateElementData(u.telemetry,"w",u.sizeCharacteristics.actualWidth);r.updateElementData(u.telemetry,"h",u.sizeCharacteristics.actualHeight);n!==u.sizeCharacteristics.actualHeight&&i.pub(nt,u);h.recordAdOperation(u,"postlddet",!1,u.sizeCharacteristics.adSizeType,!0);hi(u)&&require(["adMonitoring"],function(n){n(u,tt,ei)})},g);h.recordAdOperation(u,"det",!1,v,!1);return}++s}while(0);--e?yi=setTimeout(l,tt):(i.pub(nt,u),c.console&&console.log("ads log: "+t()+": '"+a+"': ad timed out"),si(u),f.warning("[CS001][adDetection.js] checkAndSetAdContainerVisibilityRec gave up waiting for ad content in container '"+u.htmlid+"' after "+lt+" retries; ad id: "+((u.telemetry||{}).cid||{})),h.recordAdOperation(u,"det",!1,"timeout",!0))}}var e=lt,o=10,s=0;h.recordAdOperation(u,"det",!0,null,!1);l()}function ci(n){var at=e(),ot,d,tt,b,i,et,st,ft,c,ct,lt;if(!n)return at;var nt=e(),o=e(),s=e(),h=ut,t=o.sizeBitmask,r=e();if(!u.options.useXDomainFrame)for(ot=n.querySelectorAll("iframe"),c=0;d=ot[c];++c){try{tt=(d.contentDocument||(d.contentWindow||{}).document||{}).body}catch(vt){pt||(f.error("[adDetection.js] Could not access content for an iFrame child of ad container; src: "+d.src+"; error: "+vt.number),pt=!0)}if(tt){for(et=tt.childNodes.length-1;b=tt.childNodes[et];--et)if(b.nodeType===1&&b.nodeName!=="SCRIPT"&&b.style&&b.style.display!=="none"){ht(b,r);i=r.sizeBitmask;h|=i&v;(i>t||(i&y)>(t&y)&&(i&p)>(t&p))&&(o.sizeBitmask=i,o.actualWidth=r.actualWidth,o.actualHeight=r.actualHeight,t=o.sizeBitmask);break}if(t&l&&!(t&a)&&(ht(d,r),i=r.sizeBitmask,h|=r.sizeBitmask&v,(i>t||(i&y)>(t&y)&&(i&p)>(t&p))&&(o.sizeBitmask=i,o.actualWidth=r.actualWidth,o.actualHeight=r.actualHeight,t=o.sizeBitmask)),(t&g)==g)break}}for(t=s.sizeBitmask,st=n.querySelectorAll("div"),c=0;ft=st[c];++c)if((!ft.style||ft.style.display!=="none")&&(ht(ft,r),i=r.sizeBitmask,h|=i&v,(i&y)>(t&y)&&(i&p)>(t&p)&&(s.sizeBitmask=i,s.actualWidth=r.actualWidth,s.actualHeight=r.actualHeight,t=s.sizeBitmask,(t&g)==g)))break;return ht(n,nt),h||(h|=nt.sizeBitmask&v&&(!!(o.sizeBitmask&a)||!!(s.sizeBitmask&a))),ct=(s.sizeBitmask&w)<<k|(o.sizeBitmask&w)<<rt|(nt.sizeBitmask&w)<<it|h,lt={sizeBitmask:ct,iframeCharacteristics:o,divCharacteristics:s,containerCharacteristics:nt},lt}function li(n,t,i,r,u,f){var c=0,e,o,s,h;if(!n||t!=="width"&&t!=="height"&&i!=="Width"&&i!=="Height")return ut;e=0;o=0;do{if(s="scroll"+i,(o=n[s])>e&&o>r&&(s="client"+i,(o=n[s])>e&&o>r&&(s="offset"+i,(o=n[s])>e&&o<u&&(e=o,e>r))))break;if(s=t,(o=n[s])>e&&o<u&&(e=o,e>r))break;if(s="pixel"+i,n.style){if((o=n.style[s])>e&&o<u&&(e=o,e>r))break;s=t;(o=parseInt(n.style[s]))>e&&o<u&&(e=o)}}while(0);return c=e,t==="width"?(h=l,e>r?h|=d:e>0&&(h|=at),f.actualWidth=c):(h=l,e>r?(h|=a,e>wt&&(h|=v)):e>0&&(h|=vt),f.actualHeight=c),h}function e(){return{adSizeType:et,sizeBitmask:ut,actualWidth:0,actualHeight:0}}function ht(n,t){var i=li(n,"width","Width",kt,dt,t),r=li(n,"height","Height",bt,gt,t);t.sizeBitmask=i|r}function ai(n){function f(n,t,r,u){var f,e=r.sizeBitmask,o=(e&ft)>>k&i,s=(e&yt)>>rt&i,h=(e&w)>>it&i;return((h&n)==n?(f=r.containerCharacteristics,u.adSizeType=t):(s&n)==n?(f=r.iframeCharacteristics,u.adSizeType=t):(o&n)==n&&(f=r.divCharacteristics,u.adSizeType=t),u.adSizeType==t)?(u.actualWidth=f.actualWidth,u.actualHeight=f.actualHeight,!0):!1}var t=e(),o=ti,s=ii,i=o|s,r=n.sizeBitmask;t.sizeBitmask=r;var u=(r&ft)>>k&i,h=(r&yt)>>rt&i,c=(r&w)>>it&i;return c<=l&&h<=l&&u<=l?(t.adSizeType=et,t):u>l?(t.adSizeType=u&a?b:ot,t.actualWidth=n.divCharacteristics.actualWidth,t.actualHeight=n.divCharacteristics.actualHeight,t):(f(s,b,n,t)||f(o,ot,n,t)||(t.adSizeType=ri),t)}function ki(n){var t,i;return!n||!s||!s.adCont||!s.creativeData?null:(t=s.creativeData[(s.adCont[n.idx]||{}).ifrmid],!t)?null:(i='{"cid":"'+(t.CID||"")+'","pid":"'+(t.PID||"")+'","tid":"'+(t.TargetID||"")+'"}',n.elem.setAttribute("data-adid",i),t)}function di(){vi(u.sizeCharacteristics.adSizeType==b);gi()}function gi(){var n=((u.elem||{}).parentNode||{}).parentNode;n&&u.sizeCharacteristics.adSizeType==ot&&o.add(n,ui)}function vi(n){var t=((u.elem||{}).parentNode||{}).parentNode,f,i,r;t&&(f="full-width",i=o.contains(t,st),n&&(t.style.height="",i||(o.add(t,st),o.contains(t,"widead")&&(r=(t.parentNode||{}).parentNode,r&&nr(r,f,"visible")))),!n&&i&&o.remove(t,st))}function nr(n,t,i){o.contains(n,t)&&(n.style.overflow=i)}function tr(){oi=!1}var yi,oi=!0;return function(){var n=s.eventTypes;s.addEventListener(n.AdRequested,function(n){fi(n,"rad",!0,"ads log: "+t()+": (dapmsn) rad call started.")});s.addEventListener(n.BeforeAdRender,function(n){fi(n,"rad",!1,"ads log: "+t()+": (dapmsn) rad call completed.")});s.addEventListener(n.AdRefreshed,function(n){fi(n,"rad",!1,"ads log: "+t()+": (dapmsn) creative loaded.",u.completionCb)})}(),{startDetection:pi,stopDetection:tr}}var ct="adloaded",nt="adrerendered",lt=30,tt=200,it=0,rt=5,k=10,wt=31,bt=31,kt=41,dt=3e3,gt=2e3,ut=0,l=1,at=2,d=4,vt=8,a=16,g=21,w=31,yt=992,ft=31744,ni=1056,ti=10,ii=20,v=32768,y=d|at,p=a|vt,et=0,ot=1,b=2,ri=3,pt=!1,st="non-empty-ad",ui="ad-1x1";return c.addEventListener?c.addEventListener("unload",h.postTelemetryData.bind(null,"unload")):c.attachEvent&&c.attachEvent("onunload",function(){h.postTelemetryData("unload")}),ht.adLoadedEvent=ct,ht.adRerenderedEvent=nt,ht});define("implicitPersonalizationTracker",["headData","getCookie","setCookie","classList","window","document","jquery","c.onload"],function(n,t,i,r,u,f,e){function ot(n){return it[n]||c}function y(n,t,i){n[t]||(n[t]={});var r=n[t];typeof r[i]=="number"?r[i]+=1:r[i]=1}function st(n){n&&(n._v=ct,i(p,JSON.stringify(n),180,i.topDomain,"/"))}function vt(n){(typeof n[g]!="number"||n[g]<w)&&delete n[lt]}function yt(n){var t=new Date;ht(n,t)&&(h(n[s],tt),h(n[k],tt),h(n[d],at))}function h(n,t){var i,r,u;if(n&&typeof t=="number")for(i in n)n.hasOwnProperty(i)&&(r=n[i],typeof r=="number")&&(u=Math.floor(r*t),u==0?delete n[i]:n[i]=u)}function ht(n,t){var i,r;return!n||!t?!1:(i=n[nt],i||(i=-1),r=Math.floor((t.getDate()+t.getMonth()*30)/7),i!=r)?(n[nt]=r,!0):!1}function pt(){var f=[c,it.homepage],r=c,u=0,t=o[s],n,i;if(t)for(n in t)i=t[n],t.hasOwnProperty(n)&&typeof i=="number"&&i>u&&f.indexOf(n)==-1&&(u=i,r=n);return r}function wt(){var i=0,n=o[s],t;if(n)for(t in n)n.hasOwnProperty(t)&&typeof n[t]=="number"&&(i+=n[t]);return i}var p="ipt",w=3,ct=w,b=e("body").hasClass("toolspage"),s="v",k="pt",lt="ct",d="bk",g="_v",c="U",nt="_t",tt=.85,at=.9,it={news:"A",weather:"B",entertainment:"C",movies:"C",games:"C",music:"C",tv:"C",sports:"D",finance:"E",lifestyle:"F",health:"G",foodanddrink:"H",travel:"I",autos:"J",video:"K",homepage:"L"},rt={ap:"a",gp:"b",vp:"c",sp:"d",hp:"e"},ut={v:{},pt:{},bk:{}},l="",o=ut,v;if(!b){if(n.clientSettings==null)return 1;var ft=ot(n.clientSettings.vk),et=n.clientSettings.cat,a="u";for(v in rt)if(r.contains(f.body,v)){a=rt[v];break}}if(l=t(p),l)try{o=JSON.parse(l)}catch(bt){}return!b&&o&&(vt(o),yt(o),y(o,s,ft),et&&y(o,d,et),y(o,k,a),st(o)),{getCookieFormat:ut,getIptCookie:o,getTopVerticalId:pt,getTotalVerticalViewCount:wt,getVerticalId:ot,pageType:a,saveIptCookie:st,values:o,verticalName:ft,shouldDecayCookie:ht,decayCounts:h}});define("afire",["image"],function(n){return function(t){if(t){var i=new n;i.onload=i.onerror=function(){i.onload=i.onerror=null};i.src=t.replace(/&amp;/gi,"&")}}});define("track.generic",["track","extend","trackInfo"],function(n,t,i){function r(n){this.defaultOpts=t(!0,{},u,n);this.samplingRate=this.defaultOpts.samplingRate}var u={base:"",samplingRate:100,eventAlias:{submit:"click",mouseenter:"click",mouseleave:"click",click_nonnav:"click",mouseenter_nav:"click",contextmenu:"click"}};return r.prototype={getEventTrackingUrl:function(t){var u=this.defaultOpts,r,f;return(t||(t=(i.event||{}).type),r=u[t],!r&&u.eventAlias&&(r=u[u.eventAlias[t]]),r)?(f=u.base+(r.url?r.url:""),n.generateUrl(f,u.common,u.commonMap,r.param,r.paramMap)):""},getPageViewTrackingUrl:function(){return this.getEventTrackingUrl("impr")}},r});define("visibility",["window","document"],function(n,t){function f(){function r(){if(t){for(var u=[],r=0,r=0;r<n.length;r++)try{n[r](i)}catch(f){u.push(f)}if(n=[],u.length)throw u;}}function u(){t=!0;i=arguments;r()}function f(){return{then:function(t){n.push(t);r()},always:function(){return this.then(arguments)}}}var n=[],t=!1,i=null;return{promise:f,resolve:u}}function s(){var r=["webkit","moz","ms","o"],n,i;if(typeof t.hidden!="undefined")return"hidden";for(n=0;n<r.length;n++)if(i=r[n]+"Hidden",i in t)return i}function u(){return i?t[i]:!1}function o(){u()?r=new f:r.resolve()}function h(i,r,f,e){var s,h,c;if(u()||!i)return!1;e=e||n.innerHeight;r=r||n.innerWidth;f||(f=0,s=t.getElementById("content"),s&&(h=s.getBoundingClientRect(),r=h.right,f=h.left));c=!1;define.is("jquery")&&i instanceof jQuery&&(i=i[0]);var o=i.getBoundingClientRect(),l=(o.top>=0||o.bottom>=0)&&(o.top<e||o.bottom<e),a=(o.left>=f||o.right>f)&&(o.left<r||o.right<=r);return c=o.height!==0||o.width!==0,c&&l&&a}function c(){return r.promise()}var r=new f,i=s(),e;return i&&(e=i.replace(/[H|h]idden/,"")+"visibilitychange",t.addEventListener(e,o)),o(),{isHidden:u,notifyWhenPageVisible:c,isElementTrulyVisible:h}});define("trackInfo",["trackInfo.tokens","dom","pageInstance","getCookie","screen","window","document","viewAware","deviceGroup","logging","visibility"],function(n,t,i,r,u,f,e,o,s,h,c){function ut(n,t){this.element=n;this.visible=t;this.visible&&(this.compress=function(){var n=this.element.getAttribute("data-m");try{return JSON.parse(n)}catch(t){return n}})}function nt(){f.innerWidth?(p=f.innerWidth,w=f.innerHeight):(p=e.documentElement.clientWidth,w=e.documentElement.clientHeight)}function tt(n){if(n){var i=d(n),r=k(i,"data-aop")||k(i,"data-region"),t;return(t=tt(i),t&&r)?[t,r].join(l.cmSeparator):r||t}}function it(n){if(n){var r=d(n),i=k(r,"data-region"),t;return(t=it(r),t&&i)?[t,i].join(l.cmSeparator):i||t}}function ft(){return f.innerHeight||e.documentElement.clientHeight||e.body.clientHeight||0}function et(){return f.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop||0}function ot(){return Math.max(e.body.scrollHeight||0,e.documentElement.scrollHeight||0,e.body.offsetHeight||0,e.documentElement.offsetHeight||0,e.body.clientHeight||0,e.documentElement.clientHeight||0)}function rt(n,t,i){return i?t?[t,i].join(n):i:t}var k=t.attr,d=t.parent,v,g,p,w,a,b=[],y="",l={notrack:"notrack",cmSeparator:">",defaultModule:"body",defaultFormHeadline:"[form submit]",piitxt:"data-piitxt",piiurl:"piiurl",wrapperId:"wrapper",defaultConnectionType:"LAN",smpCookie:"Sample",smpExp:182,MUIDCookie:"MUID",spinTimeout:n.spinTimeout,trackTcm:"tcm",trackAop:"aop",curAop:"",trackRegion:"region",gestureKey:"touch_gesture",gestureType:{tap:"tap",rightclick:"rightclick"},curRegion:"",event:{},sitePage:{},userStatic:{},overrideClientParams:{},oobWaitTime:150,enableOOB:1,bwVerTable:n.browserFilterTable,trackingDisabled:!1,telemetryModuleTypes:{Undefined:0,Header:1,Footer:2,topNavBar:3,navBar:4,dropDown:5,Section:6,Carousel:7,Module:8,searchBox:9,inputBox:10,actionButton:11,Interaction:12,Headline:13,Navigation:14,Entity:15,structuredData:16,appStore:17,appLaunch:18,cmsPromotions:19,microsoftWebStore:20,xboxStore:21,officeStore:22,appInstall:23},telemetryDataAttribute:"data-m",telemetryHLAttribute:"data-hl",client:{resetClientId:function(){v=r(l.MUIDCookie)||l.sitePage.requestId||""},clientId:function(){return v||v===""||(v=r(l.MUIDCookie)||l.sitePage.requestId||""),v},getMuid:function(){return r(l.MUIDCookie)},OTFTelemetry:function(n){require(["binding","c.deferred"],function(){var t,s,r,u,h,c,o,i;typeof n=="undefined"?n="load":n==null&&(n="");b=[];t=e.body.querySelectorAll("[data-m]");s=f.innerHeight;r=f.innerWidth;u=0;h=e.getElementById("content");h&&(c=h.getBoundingClientRect(),r=c.right,u=c.left);var a=e.body.querySelector(".ip")||e.body.querySelector(".mip")||e.body.querySelector(".sip"),y=a&&l.telemetryTracking.isVisible(a,r,u,s),v=[];for(o=0;o<t.length;o++)v.push(l.telemetryTracking.isVisible(t[o],r,u,s,y));for(i=0;i<t.length;i++)b.push(new ut(t[i],v[i]));l.telemetryTracking.sendImprUpdateEvent(n,l.telemetryTracking.formatModules(),l)})},OTFSpecialSection:function(n){l.telemetryTracking.specialSection(n)},colorDepth:u.colorDepth,connectionType:function(){return l.defaultConnectionType},cookieSupport:function(){return e.cookie?"Y":"N"},height:function(){return w||nt(),w},pageUrl:function(){return f.location.href},referrer:function(){return e.referrerOverride||e.referrer},screenResolution:function(){return[u.width,u.height].join("x")},width:function(){return p||nt(),p},timezone:function(){var i=new Date,r=new Date,n,t;return r.setMonth(i.getMonth()+6),n=Math.round(i.getTimezoneOffset()/60)*-1,t=Math.round(r.getTimezoneOffset()/60)*-1,n<t?n:t},viewType:function(){return(s.isTmx||s.isMidlevel)&&!a&&o.listen(function(n){n&o.views.SIZE1COLUMN?a="size1column":n&o.views.SIZE2COLUMN?a="size2column":n&o.views.SIZE3COLUMN?a="size3column":n&o.views.SIZE4COLUMN&&(a="size4column")}),a},isIE:function(){return f.ActiveXObject?!0:!1}},userDynamic:{anid:function(){return r("ANON")},isHomePage:function(){var n=e.documentElement,t=0;if(n.addBehavior&&(g||n.addBehavior("#default#homePage"))){g=1;try{t=n.isHomePage(f.location.href)?"Y":"N"}catch(i){}}return t},timeStamp:function(){return+new Date},AOP:function(){return l.curAop!=null&&l.curAop==""&&(l.curAop=tt(t.getTarget(l.event))||""),l.curAop},Region:function(){return l.curRegion!=null&&l.curRegion==""&&(l.curRegion=it(t.getTarget(l.event))||""),l.curRegion},slideType:function(){for(var n=l.event.target,i="halfpane";n&&t.name(n)!="SECTION";){if(t.name(n)=="LI"&&t.containsClass(n,i))return i;n=t.parent(n)}return null},eventNumber:0},telemetryTracking:{setupParameters:function(n){var t=l.sitePage;return{evt:n,rid:i.getActivityId()||t.requestId,di:t.domainId,clid:l.client.clientId()}},sendImprUpdateEvent:function(n,t){var i=this.setupParameters("impr_update");i&&(i.mech=n,i.winht=ft(),i.docht=ot(),i.scrollOff=et(),i.e1=t,i.tmpl=l.sitePage.templ,this.sendUpdate(i))},isVisible:function(n,t,i,r){return n?c.isElementTrulyVisible(n,t,i,r):!1},formatModules:function(){var t=[],i,n;for(i in b)n=b[i],n&&n.compress&&t.push(n.compress());return{e:t}},specialSection:function(n){var t=this.setupParameters("section");t&&(t.sn=n,l.telemetryTracking.sendUpdate(t))},sendUpdate:function(n){var i,t;if(!l.trackingDisabled&&n){if(!y&&(y=(l.sitePage||{}).otfURL,!y)){h.error("[telemetryTracking.sendUpdate] BaseUrl was empty or undefined in sitePage.");return}if(JSON&&JSON.stringify){try{i=JSON.stringify([n])}catch(r){h.error("[telemetryTracking.sendUpdate] Error in using JSON.stringify.",r);return}if(i&&i!="[{}]")try{if(l.testHook){l.testHook();return}t=new XMLHttpRequest;t.open("POST",y,!0);t.setRequestHeader("Content-type","application/json; charset=utf-8");t.onreadystatechange=function(){};t.send(i)}catch(r){h.error("[telemetryTracking.sendUpdate] Error in generating the XDomainRequest or XMLHttpRequest","BaseUrl = "+y,r);return}}}}},updateTemplValue:function(n){l.updateSitePage(n)},updateSitePage:function(n,t,i){var r=l.sitePage,u;r||(r=l.sitePage={});u=r.flightId;t&&(!u||u.indexOf(t)<0)&&(r.flightId=rt(",",u,t));r.templ=rt(";",r.templ,n);i&&(r.requestId=i)}};return l});define("c.track.mobi",["track","trackInfo","pageInstance","screen","navigator","dom","events","document","window"],function(n,t,i,r,u,f,e,o,s){function y(n){var i=l.exec(n),t=i[i.length-1].split("."),r=t.length;return r>1&&(t=t.slice(r-2)),t.join(".")}function p(i,r,u,f,e,o,s,h){if(i){i[t.gestureKey]=r;u=u&&u.length>0?u:a;var c=n.createEvent(null,u,i);n.trackEvent(c,i,f,e,o,s,h)}}var a="click_nonnav",h=!1,c=0,v=1e3,l;return n.extend({client:{scrW:function(){return r.width},scrH:function(){return r.height},orientation:function(){return r.width>r.height?"landscape":"portrait"},userAgent:function(){return u.userAgent},hourOfDay:function(){return(new Date).getUTCHours()},linkDomain:function(){var n=t.report?t.report.destinationUrl:null;return n&&n.length?y(n):null},pageTitle:function(){return o.title},gesture:function(){var n=f.getTarget(t.event);if(n&&n[t.gestureKey])return n[t.gestureKey];if(t.event){if(t.event.originalEvent&&t.event.originalEvent=="contextmenu"||t.event.ctrlKey||t.event.shiftKey)return t.gestureType.rightclick;if((t.event.type=="click"||t.event.type=="click_nonnav"||t.event.type=="submit")&&h==!0&&t.sitePage.device)return t.gestureType.tap}return""}},userDynamic:{requestId:function(){var n=i.getActivityId()||t.sitePage.requestId;return n?n:s.console&&console.error("No requestID passed in from the server or generated via guidGen.js, please check the trackInfo.sitePage.requestId or pageInstance.js")}}}),l=/^(\w+:\/\/)?([^:\/]*)/,u.pointerEnabled||u.msPointerEnabled?e.bind(o,u.pointerEnabled?"pointerup":"MSPointerUp",function(n){h=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType=="touch"?!0:!1}):(e.bind(o,"mouseup",function(){var n=(new Date).getTime();n>c+v&&(h=!1)}),e.bind(o,"touchend",function(){h=!0;c=(new Date).getTime()})),n.trackGesture=p,1});define("track",["trackInfo","extend","dom","getCookie","setCookie","events","window","document","mediator","navigation","headData","pageInstance","evaluate","escape","trackingHelper","trackInfo.tokens","webStorage","afire"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function ft(t){var r,c,u,i,o,s,f;for(pt(),st.incrementEventNumber(),c=h.getParamsFromUrl(e.location.href),u=0;u<g.length;u++){if(r=g[u],i=r.defaultOpts,i.disableOnAutoRefresh){for(o=i.disableOnAutoRefresh.split(";"),s=!1,f=0;f<o.length;f++)if(o[f]==i.id){s=!0;break}if(s&&c.AR){i.isGeneratedEarly=!1;continue}}i.isGeneratedEarly?i.isGeneratedEarly=!1:r&&r.samplingRate>=d&&et(r[t]())}n.curAop="";n.curRegion=""}function et(t){!n.trackingDisabled&&t&&b(t)}function pt(){if(-1==d){var t=n.smpCookie;d=parseInt(r(t));d=isNaN(d)?Math.floor(Math.random()*100):d%100;u(t,d,182,u.topDomain,"/")}return d}function ot(n,t,i){var u=ut(n)||[],r=0,f;for(t=t||"alt";r<u.length;r++)if(f=k(u[r],t)||ot(u[r],t,i),f&&!(i==u[r].localName))return f}function wt(t){if(t){var u=it(t),i=k(u,"id"),r;return n.wrapperId==i?void 0:(r=wt(u),r&&i)?[r,i].join(n.cmSeparator):i||r}}function bt(n){if(n){var u=it(n),i,t=0,r=0;if(!k(u,"id"))if(t=bt(u),t)t--;else return 0;for(i=ut(u)||[];r<i.length;r++){if(i[r]==n){t++;break}t+=kt(i[r])}return t}}function kt(t){var i=0,r=0,u;if(t&&!k(t,"id"))for(u=ut(t)||[],k(t,"href")&&!k(t,n.notrack)&&i++;r<u.length;r++)i+=kt(u[r]);return i}function dt(n,t,i){var u,r,e,f;if(i&&n&&t){if(n.tagName==t)return n;for(u=ut(n)||[],r=0,e=u.length;r<e;r++){if(u[r].tagName==t)return u[r];if(f=dt(u[r],t,i-1),f)return f}}return null}function fi(n){if(n)for(var t,i=0;i<g.length;i++)if(t=g[i],t.defaultOpts.id===n){et(t["getPageViewTrackingUrl"]());break}}function ei(){var n=e.location.protocol+"//"+e.location.host+"/pv.xml";et(n)}function oi(n){if(n){var t=n.errId,i=w.getItem(t,!0),r=(new Date).getTime();i&&r-i<=ui||(si(n),ft("getEventTrackingUrl"),w.setItem(t,r,!0))}}function si(t){n.event={type:"app_error"};n.report={errId:t.errId,errMsg:t.errMsg,errSource:t.errSource}}function tt(t,r,u,f,e,o,s){var h,a,v,w,y,p,l;if(!r&&t&&(r=t.target),r&&!k(r,n.notrack)){r.jquery&&(r=r[0]);t=t||{};t.target=r;n.event=t;h=r.href||k(r,"href");h=="#"&&(h=r.href);u=u||k(r,n.piiurl)||h||k(r,"action")||"";a=k(r,"data-hl")||"";f||a||(v=dt(r,"H4",2),v&&(f=i.text(v)));f=f||a||k(r,n.piitxt)||("FORM"==ct(r)?n.defaultFormHeadline:k(r,"title")||ot(r,"title","img")||i.text(r)||k(r,"alt")||ot(r,"alt")||"");f.trim!=undefined&&(f=f.trim());e=e||wt(r)||n.defaultModule;o=o||(k(r,"id")?1:bt(r));w=r.className||k(r,"class");s=s||(/GT1-(\d+)\b/i.exec(w)?RegExp.$1:"")||(/[?&]GT1=(\d+)\b/i.exec(h)?RegExp.$1:"");var c="",b="",d="",g=n.cmSeparator;t&&(t.type=="click"||t.type==rt||t.type=="submit"||t.type=="contextmenu"||t.type=="mouseenter")&&(y="data-m",c=k(r,y),c||(p=it(r),c=p?k(p,y):""),l=pi(r),l&&(b=l.nameLineage.reverse().join(g),d=l.ordinalLineage.reverse().join(g)));n.report={destinationUrl:u,headline:f,contentModule:e,contentElement:o,campaignId:s,module:c,sourceIndex:r.sourceIndex||"",nodeName:r.nodeName||"",nLineage:b,oLineage:d};ft("getEventTrackingUrl",t?!t.noSpin:1)}}function hi(n){var i=[],r,t;if(n&&n.querySelectorAll)for(r=n.querySelectorAll("[data-m]"),k(n,"data-m")&&i.push(n),t=0;t<r.length;t++)i.push(r[t]);return i}function gt(n,t){var i=k(n,t);if(i)try{return a(i)}catch(r){return null}return null}function ci(n,t){if(t.indexOf)return t.indexOf(n)!==-1;for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}function li(t,i){var o,r,u,s,f,e;if(t){for(t.jquery&&(t=t[0]),o=hi(t),r=[],u=0;u<o.length;u++)(s=o[u],!i||n.telemetryTracking.isVisible(s))&&(f=gt(s,"data-m"),e=f?f.i:undefined,e===undefined||ci(e,yt)||(yt.push(e),r.push(f)));r.length&&n.telemetryTracking.sendImprUpdateEvent("load",{e:r})}}function ai(n){var t=new RegExp(ri).exec(n);return t&&t.length&&t[1]||null}function vi(n){var i=null,r,t;return n&&(n.indexOf(vt)==-1?(r=n.substring(0,n.indexOf("#")).toLowerCase(),t=e.location.href.toLowerCase(),(t==r||t.substring(0,t.indexOf("#"))==r)&&(i=rt)):i=ai(n)),i}function ht(n,t,i){var r=null;return nt.createEvent?(r=nt.createEvent("Events"),r.initEvent(t,!1,!0,i||e,0,0,0,0,0,!1,!1,!1,!1,0,null)):nt.createEventObject&&(r=nt.createEventObject(n),r.type=t),r&&(r.customTarget=i,r.originalEvent=n&&n.type),r}function yi(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function ni(n){ii(n)}function ti(n){2!=n.button&&ii(n)}function pi(n){for(var i={},r=[],u=[],t;n;)t=gt(n,"data-m"),t&&(t.n&&r.push(t.n),t.o&&u.push(t.o)),n=it(n);return i.nameLineage=r,i.ordinalLineage=u,i}function ii(n){var t,u,r,f;try{n.customTarget&&n.customTarget.useMap&&(n.customTarget=n.customTarget.document.activeElement,n.target=n.customTarget)}catch(e){}for(t=i.getTarget(n);t&&!k(t,"href")&&t.nodeName!="BUTTON"&&t.nodeName!="MENUITEM";)t=it(t);if(t&&!t.form)if(u=n,n.type=="contextmenu"&&(u=ht(n,"click",t)),r=t.href,r&&r.length){if(r.indexOf("#")==r.length-1||r.indexOf(vt)>=0)if(n.type=="click")f=vi(r),f&&(u=ht(n,rt,t));else if(n.type=="contextmenu")return;u.type==rt&&yi(n);y.addOcidToHref(r,t,u);u.isPropagationStopped||tt(u,t)}else n.type!="contextmenu"&&tt({type:rt,target:t})}var k=i.attr,ct=i.name,it=i.parent,ut=i.children,g=[],d=-1,lt,at=e,nt=o,vt="tevt=",rt="click_nonnav",ri=/#tevt=([A-Za-z0-9]+_[A-Za-z0-9]+)(;*)/g,yt=[],ui=p.logSamplingRate||3e5,st={onContextMenu:ni,onClick:ti,trackEvent:tt,trackAppErrorEvent:oi,createEvent:ht,sendPageViewCandidate:ei,sendSinglePageViewBeacon:fi,trackPartialImpression:li,trackPage:function(t){if(delete n.event,delete n.userStatic.requestId,delete n.overrideClientParams,n.overrideClientParams=t,c&&c.clientSettings&&c.clientSettings.static_page){var i=n.sitePage.requestId=l.getActivityId();n.sitePage.isStaticPage="True";require(["c.deferred"],function(){var r=o.body.querySelector("#maincontent"),t,u,n;if(r)for(t=r.querySelectorAll("a[href*='www.bing.com']"),u=t.length,n=0;n<u;n++)t[n].href=h.mergeQueryStringParams(t[n].href,{refig:i})})}ft("getPageViewTrackingUrl");lt?s.pub("pageView"):lt=1;delete n.overrideClientParams},trackThirdPartyUpdate:function(){s.pub("thirdPartyTrackingUpdate")},register:function(){for(var t=0,n;n=arguments[t++];)isNaN(n.samplingRate)&&(n.samplingRate=99),g.push(n)},incrementEventNumber:function(){n.userDynamic.eventNumber++},isSampled:function(n){return!(pt()>n)},generateUrl:function(i,r,u,f,e){var h,c,o,s,l=[];f=t({},r,f);e=t(!0,{},u,e);for(h in e)if(n[h]){c=e[h];for(o in c)o&&n.overrideClientParams&&n.overrideClientParams[o]!==undefined?s=n.overrideClientParams[o]:(s=n[h][c[o]],typeof s=="function"&&(s=s())),s!=null&&(f[o]=s)}for(o in f)l.push(v.urlPart(o)+"="+v.urlPart(f[o]));return i+l.join("&").replace(/%20/g,"+")},extend:function(i){t(!0,n,i)},form:function(n){n&&n.length||(n=[n]);for(var t,i=0;t=n[i++];)"FORM"!=ct(t)||k(t,"data-customformtrack")||f.bind(t,"submit",tt)},preventBeacon:function(n){var t,i;if(n)for(n=n.toLowerCase(),t=0;t<g.length;t++)if(i=g[t].defaultOpts,n===i.id.toLowerCase()){i.isGeneratedEarly=!0;break}}};return f.bind(nt,"click",ti),f.bind(at,"load",tt),f.bind(at,"unload",tt),f.bind(nt,"contextmenu",ni),require(["c.dom"],function(){st.form(i.getElementsByTagName("form"))}),s.sub("ViewabilityUpdatedEvent",n.client.OTFTelemetry),st});define("elementTrackingDecorator",["trackingConstants","jquery","evaluate","track","window","extend"],function(n,t,i,r,u,f){function v(){n&&n.trackingData&&y(n.trackingData.lastIndex)&&n.trackingData.lastIndex>1?e=n.trackingData.lastIndex:u&&u.console&&u.console.error("Tracking constants were not supplied in dom.",n)}function w(n){return n&&n.length!==0}function b(n,t){var i=n.closest(o),r=i.length>0?i.eq(0):null,u;r&&n.attr(s)&&(r=i.length>1?i.eq(1):n.parent(o));t&&!r&&(i=t.closest(o),r=i.length>0?i.eq(0):null);r&&(u=r.attr(s),u&&y(u)&&(this.p=u))}function k(n,i){n.find(o).each(function(r,u){var e=t(u),f;e.parent(o)[0]==n[0]&&(f=h(e),f&&f.p!=i.i&&(f.p=i.i,c.call(e,f)))})}function h(n){var t=n.attr(a);if(t)try{return i(t)}catch(r){return null}return{}}function c(n){n.i&&(this.attr(a,JSON.stringify(n)),this.attr(s,n.i))}function d(n){return this&&(!this.i||n==!0)&&e?(e++,this.i=e,!0):!1}function g(n){var t=n.parent().children();t.length>1?nt.call(t,this,n):this.o=1}function nt(n,i){var r=0;this.each(function(u,e){if(r++,e===i[0])n.o=r;else{var o=t(e),s=f(h(o),{o:r});c.call(o,s)}})}function y(n){return!isNaN(parseFloat(n))&&isFinite(n)}function p(n){var t=n?n.defaults:null;return f({},{n:"client",y:12},t||{})}function l(n,i,r,u,e){var o=t(n),l=h(o),s=f({},r,l),a=d.call(s,e);e||g.call(s,o);b.call(s,o,i);u&&u(o,s);c.call(o,s);a&&k(o,s)}var e=0,a="data-m",s="data-id",o="["+s+"]";return{setTrackingForSingleElement:function(i,u,f){v();var o=p(f);return l(i,t(u),o,f&&f.elementOverride,f&&f.overrideIndexOnly),n.trackingData.lastIndex=e,r.trackPartialImpression(i),i},setTrackingAttrs:function(i,u,f){var b;if(v(),i&&i.find){var o=f&&f.selector||"li",s=i.find(o),h=p(f),c=f?f.elementOverride:null,a=u&&!u.jquery?t(u):u,y=f?f.overrideIndexOnly:!1;i.each(function(n,i){t(i).is(o)&&l(i,a,h,c,y)});w(s)&&(b=t(s),b.each(function(n,t){l(t,a,h,c,y)}))}return n.trackingData.lastIndex=e,r.trackPartialImpression(i),i}}});define("trackingHelper",["trackInfo","navigation","pageInstance","location","evaluate"],function(n,t,i,r){function l(t,i){var f,y,r;if(t&&i){s||(s=n.sitePage.msnocid);u||(u=n.sitePage.storeocid);var p=t.indexOf("://"),w=t.indexOf(h),g=p>0&&w>=0&&w<p,b=t.match(c),l=t.match(e),a=b&&b[1],nt=l&&l[1];if(a&&nt){var v=t,k=t.match(/[&?]ocid=(ems\.)/i),d=k&&k[1];d&&!v.match(/[=_]emsadid\./i)&&(v=o(v.replace(e,""),l[1]));return}(f=t.indexOf("#"),y="",a||u)&&g&&(f>=0&&(y=t.substring(f,t.length),t=t.substring(0,f)),r=t,a||(r+="&ocid="+u),r=o(r,d),i.href=r+y)}}function o(t,r){var l=t.match(e),v=l&&l[1],o=t.indexOf("#"),a="",f,u,s,h,c;return v?t:(o>=0&&(a=t.substring(o,t.length),t=t.substring(0,o)),f=t,f+="&ccid=",u=[],s=i.getActivityId()||n.sitePage.requestId,s&&u.push("webig."+s),h=n.client.clientId(),h&&u.push("muid."+h),c=n.sitePage.flightid,c&&u.push("flightid."+c.replace(",","_flightid.")),r&&u.push("emsadid."+r),f=f+u.join("_"),f+a)}function a(){}function v(){}function y(n,t){return t?n+"_succeeded":n+"_failed"}var f=r.host.split(".").reverse(),p=f.length>1?f[1]+"."+f[0]:r.host,h="ms-windows-store",c=/[&?]ocid=([^&]+)/i,e=/[&?]ccid=([^&]+)/i,s=n.sitePage.msnocid||"",u=n.sitePage.storeocid||"";return{addOcidToHref:l,modifyValuesForTrackPage:a,attachTaglineClickHandler:v,addCcidToStoreUrl:o,getActionResult:y}});define("binding",["viewAware","mediator","window"],function(n,t,i){function e(t,r,u){this.behaviorName=t;this.selector=r;this.context=u;this.views=n.views.NONE;this.timeout=i.setTimeout(function(){throw'binding("'+t+'", "'+r+'") was not followed with an all(), view(), or fallback() call!';},0)}function o(t){this.view(n.views.ALL&~this.views,t)}function s(n,t){for(var u=null,i=0;i<r.length;i++)if(r[i].behaviorName==n&&r[i].args[0]==t){u=r[i];break}return u}function c(n){var t,f,i;for(u=n,i=0;i<r.length;i++)t=r[i],f=t.view&u,t.active&&(f?t.update():(t.teardown(),t.active=0));for(i=0;i<r.length;){if(t=r[i],f=t.view&u,f&&!t.active&&!h(t)){r.splice(i,1);continue}++i}}function h(n){if(!n.setup){var t=n.behavior.apply(null,n.args);t&&(n.setup=t.setup,n.teardown=t.teardown,n.update=t.update)}return n.setup?(n.setup(),n.active=1,!0):!1}var r=[],u,f;return n.listen(c),e.prototype={view:function(n,t){var e=this.behaviorName,o=[this.selector,this.context,t],f={active:0,args:o,behaviorName:this.behaviorName,view:n};return this.views|=n,i.clearTimeout(this.timeout),require([e],function(t){f.behavior=t;var i=!0;n&u&&(i=h(f));i&&r.push(f)}),this},fallback:o,all:o,get:s},f=function(n,t,i){return new e(n,t,i)},f.views=n.views,i.binding=f,i.binding.get=s,f});define("webStorage",["window"],function(n){function h(){try{return i in n&&n[i]!==null&&r in n&&n[r]!==null}catch(t){return!1}}function e(n,i){var r=i?f:u;if(t)return r.getItem(n)}function c(n,t){var i=e(n,t);try{return typeof i=="string"?JSON.parse(i):i}catch(r){console.log(r)}return i}function o(n,i,r){var e=r?f:u;if(t)try{typeof i=="object"&&(i=JSON.stringify(i));e.setItem(n,i)}catch(o){console.log(o)}}function s(n,i){var r=i?f:u,e;if(t)return e=r.getItem(n),r.removeItem(n),e}var i="localStorage",r="sessionStorage",u=n[i],f=n[r],t=h();return{supported:t,getItem:e,getObject:c,setItem:o,setObject:o,removeItem:s,removeObject:s}});define("getCookie",function(){return function(n){var i=new RegExp("\\b"+n+"\\s*=\\s*([^;]*)","i"),t=i.exec(document.cookie);return t&&t.length>1?t[1]:""}});define("setCookie",["location"],function(n){function t(n,t,i,r,u,f){var o,e=[n,"=",t],s;-1==i?o="Fri, 31 Dec 1999 23:59:59 GMT":i&&(s=new Date,s.setTime(s.getTime()+i*864e5),o=s.toUTCString());o&&e.push(";expires=",o);r&&e.push(";domain=",r);u&&e.push(";path=",u);f&&e.push(";secure");document.cookie=e.join("")}return t.topDomain=(n.hostname.match(/[^.]+\.[^.\d]+$/)||{})[0]||"",t});define("dom",function(){var n=document,t=/[\n\t]/g,i=/(^\s+)|(\s+$)/mg;return{attr:function(n,t){return n&&(n.getAttribute?n.getAttribute(t,2):n[t])||""},name:function(n){return n&&n.nodeName||""},text:function(n){return(n&&(n.textContent||n.innerText)||"").replace(i,"")},children:function(n){return n&&n.children||[]},parent:function(n){return n&&n.parentNode},getElementsByTagName:function(t){return n.getElementsByTagName(t)},create:function(t){return n.createElement(t)},containsClass:function(n,i){return n&&(" "+(n.className||n.getAttribute("class"))+" ").replace(t," ").indexOf(" "+i+" ")>-1},getTarget:function(n){return n&&(n.customTarget||n.target||n.srcElement)||document}}});define("commonElements",["document","c.dom"],function(n){return{head:n.getElementsByTagName("head")[0],body:n.getElementsByTagName("body")[0],main:n.getElementById("main")}});define("events",function(){function n(n,t,i){n.addEventListener&&n.addEventListener(t,i,!1)}function t(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}return{bind:n,unbind:t}});define("extend",function(){function n(){var f=arguments,t=f[0]||{},e=1,i,r,o,u;for((typeof t=="boolean"||typeof t=="number")&&(o=!!t,t=f[1],e=2);e<f.length;e++){r=f[e];for(i in r)r[i]!==undefined&&(o&&typeof r[i]=="object"?(u=t[i],typeof u!="object"&&(u={}),n(!0,u,r[i]),t[i]=u):t[i]=r[i])}return t}return n});define("format",function(){function t(t,i,r){for(var u=0;u<r.length-i;++u)t=t.replace(n[u]||(n[u]=new RegExp("\\{"+u+"\\}","g")),r[u+i]);return r.length?t:t.toString()}var n=[];return String.prototype.format=function(){return t(this,0,arguments)},function(n){return(typeof n=="function"&&(n=n.apply(n,Array.prototype.slice.call(arguments,1))),n==null)?"":(typeof n!="string"&&(n=n.toString()),n)?t(n,1,arguments):""}});define("refreshDeferredModules",["jquery","refreshModules"],function(n,t){function i(){return t(n("[data-module-deferred]:not([data-sso-dependent])"))}return i});define("pointerEvents",["navigator"],function(){return window.PointerEvent?{enabled:!0,down:"pointerdown",up:"pointerup",cancel:"pointercancel",move:"pointermove",over:"pointerover",out:"pointerout",enter:"pointerenter",leave:"pointerleave"}:window.MSPointerEvent?{enabled:!0,down:"MSPointerDown",up:"MSPointerUp",cancel:"MSPointerCancel",move:"MSPointerMove",over:"MSPointerOver",out:"MSPointerOut",enter:"MSPointerOver",leave:"MSPointerOut"}:{enabled:!1,down:"mousedown",up:"mouseup",cancel:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",enter:"mouseenter",leave:"mouseleave"}});define("promise",["window"],function(n){function t(n,e){function y(n){s==i&&(o=n,s=u,v())}function a(n){s==i&&(o=n,s=f,v())}function p(n){for(var t=0;t<h.length;t++)h[t](n)}function v(){for(var n=0;n<c.length;n++)l(c[n])}function l(n){switch(s){case i:c.push(n);break;case u:n.complete();break;case f:n.error()}}if(typeof n!="function")throw"promise must take an init function as the first parameter";var s=i,o,c=[],h=[];this.addEventListener=function(){throw"not implemented";};this.cancel=function(){s==i&&(e&&(e(),e=null),a(new Error("Cancel")))};this.dispatchEvent=function(){throw"not implemented";};this.done=function(n,i,r){function u(n){if(t.onerror)t.onerror(n);else throw n;}l({complete:function(){if(n)try{n(o)}catch(t){u(t)}},error:function(){if(i)try{i(o)}catch(n){u(n)}else u(o)}});r&&h.push(r)};this.removeEventListener=function(){throw"not implemented";};this.then=function(n,i,u){var f,e,s,c=new t(function(n,t,i){f=n;e=t;s=i});return l({complete:function(){var i,u=1;if(n)try{i=n(o);typeof i=="undefined"&&(i=o)}catch(s){u=0;e(r(s))}else i=o;u&&(t.is(i)?i.then(f,e):f(i))},error:function(){var n,u=0;if(i)try{n=i(o);typeof n=="undefined"?n=o:u=1}catch(s){n=r(s)}else n=o;u?t.is(n)?n.then(f,e):f(n):e(n)}}),u&&h.push(u),c};n(y,a,p)}function r(n){return n&&n.name==e||(n=new Error(n)),n}var i=1,u=2,f=3,e="Error";return t.any=function(n){function u(){r()}for(var r,f=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return f},t.as=function(n){if(n){if(n.name==e)return t.wrapError(n);if(t.is(n))return n}return t.wrap(n)},t.is=function(n){return n&&typeof n.then=="function"},t.join=function(n){function u(){--f||r()}for(var f=n.length,r,e=new t(function(n){r=n}),i=0;i<n.length;i++)n[i].then(u,u);return e},t.theneach=function(){throw"not implemented";},t.timeout=function(i,r){function f(){u=1}var u;return r&&r.done(f,f),new t(function(t){function f(){u||(r&&r.cancel(),t())}i===0&&n.setImmediate?n.setImmediate(f):n.setTimeout(f,i)})},t.wrap=function(n){return new t(function(t){t(n)})},t.wrapError=function(n){return new t(function(t,i){i(r(n))})},t});define("scrollLeft",["dir.tokens","device"],function(n,t){var i,r;if(!n.ltr){if(r=t.capability("RtlScrollLeftAdjustment"),r=="fromLeft")return i=function(n,t){return t?n.scrollLeft=n.scrollWidth-n.clientWidth-t:n.scrollWidth-n.clientWidth-n.scrollLeft},i.adjustValue=function(n,t){return n.scrollWidth-n.clientWidth-t},i;if(r=="negativeValue")return i=function(n,t){return t?n.scrollLeft=t*-1:Math.abs(n.scrollLeft)},i.adjustValue=function(n,t){return t*-1},i}return i=function(n,t){return t?n.scrollLeft=t:n.scrollLeft},i.adjustValue=function(n,t){return t},i});define("sso",["headData","trackInfo","getCookie"],function(n,t,i){return function(r,u){var o=n.sso,f,v;if(r=r||function(){},u=u||window,!o||n.clientSettings&&n.clientSettings.static_page||i("eso")=="1"){r({signedIn:!1,closed:!1});return}o=o.replace(/amp;/g,"&");f=u.document.createElement("IFRAME");f.id="sso_frame";f.style.width="1px";f.style.height="1px";f.style.position="absolute";f.style.visibility="hidden";f.style.left="0px";f.style.bottom="0px";f.src=o;u.document.body.appendChild(f);var s=null,a=0,h,e,c,l=function(n){var t=n.data;t&&(t.ssoStatus==="sso_completed"||t.ssoStatus==="sso_failed")&&(s=t.ssoStatus,define("ssoData",t))};u.addEventListener?(e="message",c=u.addEventListener(e,l,!1),h=u.removeEventListener):(e="onmessage",u.attachEvent(e,l),c=l,h=u.detachEvent);v=u.setInterval(function(){if(s||a>=5){var i={signedIn:s==="sso_completed",closed:!!s};u.clearInterval(v);h.call(u,e,c);u.document.body.removeChild(f);r(i);i.signedIn&&(t.client.OTFSpecialSection("sso-success"),define("c.sso",n.signedin=1))}else a++},1e3)}});define("duplicateHtmlIds",["logging","document","window"],function(n,t,i){function r(){for(var r,i,n={},e=t.querySelectorAll("[id]"),u,f=0;u=e[f];++f)n[u.id]=(n[u.id]||0)+1;r=[];for(i in n)(!i||n[i]>1)&&r.push(' "'+i+'" ('+n[i]+" occurrences)");return r.length?r.join(","):null}function u(){var t=r();t&&n.error("[MARKUP VALIDATION] Duplicate/blank htmlids:"+t)}return require(["c.deferred"],function(){i.setTimeout(u,2e3)}),r});window.Modernizr=function(n,t){function r(){try{return t.createEvent("TouchEvent"),!0}catch(n){return!1}}var i=r();return Function.prototype.bind||(Function.prototype.bind=function(n){var i=Array.prototype.slice,t=this,r,u;if(typeof t!="function")throw new TypeError;return r=i.call(arguments,1),u=function(){var e,o,f;return this instanceof u?(e=function(){},e.prototype=t.prototype,o=new e,f=t.apply(o,r.concat(i.call(arguments))),Object(f)===f)?f:o:t.apply(n,r.concat(i.call(arguments)))},u}),{csstransforms:!0,csstransforms3d:!0,csstransitions:!0,touch:i,prefixed:function(n){return n}}}(this,this.document);window.Modernizr.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};window.Modernizr.animEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",transition:"animationend"};define("modernizr",window.Modernizr);define("refreshPdpModules",["jquery","refreshModules","trackInfo"],function(n,t,i){function r(){var r=n("[data-pdp-dependent]"),u=t(r,{pfr:1});u.done(function(){i.client.OTFSpecialSection("PdpReady");define("c.pdpready",1)})}return r});define("refreshSigninModule",["jquery","refreshModules","binding"],function(n,t,i){function r(){var r=n("[data-sso-dependent]");t(r).done(function(){i("flyout","#username").all({eventOrigin:"#username>a,#username>figure"});i("flyout","#settings").all({eventOrigin:"#settings>a"});i.get("marketDropdown","#site-market").teardown();i("marketDropdown","#site-market").all();i("marketDropdown",".marketswitch").all({triggerEvent:"click"});i("marketDropdown",".langtoggle").all({triggerEvent:"click"});require(["meControlBootstrap"],function(n){n()})})}return r}),function(n){function u(){return Math.round(r())}function e(n){var t={hasFired:!1},r={},f=n.send||function(i){var r=n.url,f=r.indexOf("?")>=0?"&":"?",u=new Image;t.onsent&&(u.onload=t.onsent);u.src=encodeURI(r+f+"DATA="+i)},i;t.mark=function(n,i){var o=typeof n,e,f;if(o==="string")for((i===null||i===undefined)&&(i=u()),e=n.split("."),f=r,f[n]=i;e.length;)n=e.shift(),e.length>0?f=f[n]=f[n]||{}:f[n]=i;else if(o==="object"){i=n;for(n in i)i.hasOwnProperty(n)&&t.mark(n,i[n])}return i};t.fire=function(){var i=t.onbeforefire,n;i&&i();this.payload=JSON.stringify(r);r={};n=t.onfire;n&&n();t.hasFired=!0};for(i in n)!t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t[i]=n[i]);return t}var i="now",f=window,t=f.performance,r;n.timing=t&&t.timing;n.navigation=t&&t.navigation;r=t&&t[i]&&t[i].bind(t)||Date[i]||function(){return(new Date).getTime()};n.now=u;n.Beacon=e}(Perf||(Perf={}));window.pp=new window.Perf.Beacon({}),function(n,t){function r(){var r={},e="navigationStart",u=t[e],n,i,f,o,s;if(u===null||u===undefined||u<0)return r;for(n in t)n!==e&&(i=t[n],i>-1)&&(i>=u&&(i-=u),o=(f=n.lastIndexOf("End"))>0&&1||(f=n.lastIndexOf("Start"))>0&&0,f!==-1?(n=n.substr(0,f),s=r[n]||(r[n]=[-1,-1]),s[o]=i):r[n]=i);return r}if(t){var i=n.onbeforefire;n.onbeforefire=function(){i&&i();n.mark("w3c",r())}}}(pp,Perf.timing);define("w3cTimer",function(){return window.pp});define("guidGen",function(){return function(){function t(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&7|8).toString(16)}var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t)}});define("pageInstance",["mediator","guidGen","document"],function(n,t,i){var r,u="updatePageInstance";return n.sub(u,function(){var u,f,e,n;if(r=t().replace(/-/g,""),u=i.body.querySelector("#srchfrm"),u)for(f=u.querySelectorAll("input[name='refig']"),e=f.length,n=0;n<e;n++)f[n].value=r}),{getActivityId:function(){return r},setActivityId:function(n){r=n},eventName:u}});define("animate",["window","jquery","promise"],function(n,t,i){function f(n){return new i(function(t){n.one(r.endEvent,t)})}function e(n){if(n.length==1)return f(n);var r=[];return n.each(function(){r.push(f(t(this)))}),i.join(r)}function u(n,t,f){return n.css(f),new i(function(i){if(n.css(t),r.enabled){var o=setTimeout(function(){i("timeout")},u.timeout);e(n).then(function(){clearTimeout(o);f.transitionProperty&&n.css("transitionProperty","");f.transitionDuration&&n.css("transitionDuration","0s");i()})}else i()})}var r={enabled:!1};return(n.PointerEvent||n.MSPointerEvent)&&(r={enabled:!0,endEvent:"transitionend",timeout:400}),u.timeout=r.timeout,u});define("refreshModules",["jquery","navigation","headData","window","location","promise","requestAnimationFrame","imgSrc","mediator","escape"],function(n,t,i,r,u,f,e,o,s,h){function k(t,i,r,u,f,e){n.ajax({url:t,dataType:"html",data:{pagerequest:JSON.stringify(i)},crossDomain:!0,method:"GET",xhrFields:{withCredentials:!1}}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function d(t,i,r,u,f,e){var o=!1,h={};!/^https/.test(t)&&i&&i.Regions&&i.Regions.length&&g(i.Regions)&&(t="https"+t.substring(4),o=!0,h={withCredentials:!0});n.ajax({url:t,dataType:"html",data:JSON.stringify(i),method:"POST",contentType:"application/json",crossDomain:o,xhrFields:h}).done(function(t){a(r,t,null,e);u(t);r.each(function(){var t=n(this).data("moduleId");t&&s.pub("moduleRefreshed-"+t)})}).fail(function(){f(arguments)})}function g(n){for(var t=0;t<n.length;t++)if(n[t].type==="meStripe")return!0;return!1}function nt(){var t,n,i;if(c&&c.deferLoadedItems){for(t=c.deferLoadedItems.split(","),n=0,i=t.length;n<i;n++)t[n]&&c.removeItem(t[n]);c.removeItem("deferLoadedItems")}}function tt(t,i){if(!c||!t||!i)return null;var r,u=c.getItem(t);try{r=JSON.parse(u)}catch(f){return null}return r&&r.data&&r.lastUpdatedTime&&n.now()-r.lastUpdatedTime<i?r.data:null}function it(t,i){c&&(c.deferLoadedItems||(c.deferLoadedItems=""),c.deferLoadedItems+=","+t,c.setItem(t,JSON.stringify({lastUpdatedTime:n.now(),data:i})))}function a(t,i,r,u){var f,e,o,s;i&&(f=n("<data>"+n.trim(i)+"<data>"),ut(f),e=f.find("[data-module-id]"),u=u||{},o=u.loadEmptyContent,t.each(function(){var h=n(this),t,i=h.data("moduleId");if(t=e.filter("[data-module-id='"+i+"']"),t.length){var u=n("[data-module-id='"+i+"']"),c=v[i]||u.html(),f=t.html(),l=f===c;(o||f&&f.trim())&&(y||!l)&&(v[i]=f,rt(t,u),t.insertAfter(u.first()),u.remove(),s=!0);!r&&h.data("cache-duration")&&it(i,t[0].outerHTML)}}))}function rt(t,i){n("img[data-src]",t).each(function(){o.force(this,i)||o.go(this)})}function ut(t){var i=t.children("link[rel=stylesheet]");i.length&&i.each(function(){var t=this.getAttribute("href");p[t]||((w||(w=n("head"))).append(this),p[t]=!0)})}var l=i.moduleapi,b=i.cdnmoduleapi,v={},y,p={},w,c;try{c=r.localStorage}catch(ft){c=null}return l?function(e,o,s,c,v,p,w,g,it){var ft,ut,st,rt,et,ot,ht;return(i.signedin||nt(),!e||e.length===0)?new f(function(n){n()}):(e instanceof n||(e=n(e)),typeof o=="string"&&(o=t.getParams(o)),p&&(l=p),(s===undefined||s===null)&&(s=!1),y=v,ft=n.extend(t.getParamsFromUrl(u.href),o),s&&delete ft.ocid,w&&ft.locale&&(ft.locale=w),ut=n.param(ft),st=l.split("?")[0]+(ut?"?"+ut:""),st+=(st.indexOf("?")===-1?"?":"&")+"ou="+h.urlPart(u.href),rt={RequestUri:u.href.split("?")[0]+(ut?"?"+ut:""),ExperienceId:g&&i.kernelXd?i.kernelXd:i.xdid||null,CacheDuration:null},et=null,s&&(et=b.split("?")[0]+(ut?"?"+ut:""),et+=(et.indexOf("?")===-1?"?":"&")+"devicegroup="+i.dg,c!==undefined&&c!==null&&(rt.CacheDuration=c.toString())),it=n.extend({loadEmptyContent:!1},it),ot={},ht=[],e.each(function(){var i=n(this).data("moduleId"),r,u,t;if(i){if(r=n(this).data("cache-duration"),u=r?tt(i,r):null,u){ht.push(u);return}if(t=i.split("|"),t.length==5){var o={key:t[3],type:t[4]},f={key:t[1],type:t[2],Modules:[o]},e=f.key+f.type;ot[e]?ot[e].Modules.push(o):ot[e]=f;rt.Type||(rt.Type=t[0])}}}),ht.length&&a(e,ht.join(""),!0,it),rt.Regions=n.map(ot,function(n){return n}),rt.Regions!=null&&rt.Regions.length>0?new f(function(n,t){s?k(et,rt,e,n,t,it):d(st,rt,e,n,t,it)}):(r.console&&r.console.log&&console.warn("Regions were empty or null"),new f(function(n){n()})))}:(r.console&&console.log("moduleApiEndpoint is missing from header, ajax module update will exit."),n.noop)});define("safeCss",["jquery"],function(n){function r(n){var t={},i="";this.css=function(r,u){if(u)t[r]=i;else if(typeof r=="object")for(var f in r)t[f]=i;return n.css.apply(n,arguments),this};this.hide=function(){throw"not implemented";};this.show=function(){throw"not implemented";};this.toggle=function(){throw"not implemented";};this.reset=function(){n.css(t);t={}}}var t=1,i=".";return{createGroup:function(){function e(t){var h=[],s,e;return t.each(function(){var i=n(this),t=i.data(f);t||(t=o++,i.data(f,t));h.push(t)}),s=h.join(i),e=u[s],e||(e=new r(t),u[s]=e),e}var f="safeCssId"+t++,o=1,u={};return e.reset=function(){for(var n in u)u[n].reset()},e}}});define("touchGestures",["jquery","modernizr","window","deviceGroup"],function(n,t,i,r){function c(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function p(n){var t=n.originalEvent,i=t.changedTouches||t.touches;return i||(i=[{identifier:t.pointerId,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,force:t.pressure,target:t.target}]),i&&i.length?i:[n]}function w(n,t){var i=t,r=n.y/n.x;return!isNaN(r)&!(n.y<s.minimumDistanceForMove&&n.x<s.minimumDistanceForMove)&&(i=n.x&&Math.abs(Math.atan(r))<v?h:y),i}function l(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(f[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function b(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var s={direction:"all",maximumDistanceForClick:20,maximumTimeForClick:250,distanceBeforeDirectionDetection:10,minimumTimeForSwipe:.02,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},v=Math.PI/4,a=n(i),u={eventName:"gesture",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},h="horizontal",y="vertical",f={pointer:{start:["pointerdown"],stop:["pointerup"],move:["pointermove"],cancel:["pointercancel","pointerleave"],touchSupported:!0,type:"pointer"},mspointer:{start:["MSPointerDown"],stop:["MSPointerUp"],move:["MSPointerMove"],cancel:["MSPointerCancel","MSPointerLeave"],touchSupported:!0,type:"mspointer"},touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],touchSupported:!0,type:"touch"},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],touchSupported:!1,type:"mouse"}};return f=!t.touch||r.isPc&&typeof InstallTrigger!="undefined"?navigator.pointerEnabled?f.pointer:navigator.msPointerEnabled?f.mspointer:f.mouse:f.touch,b(u.eventName,function(t,i){function it(){tt=r=v=k=d=g=0}function nt(t,i){if(f.type=="mouse"||(f.type=="pointer"||f.type=="mspointer")&&t.originalEvent.pointerType=="mouse")b=!0;else{b=!1;var e=p(t);(tt||d&&r.totalDistance>=y.maximumDistanceForClick)&&(tt=!0,c(t));(r||i==u.start)&&n.each(e,function(n,r){rt(n,r,t,i)})}}function rt(i,f,o,s){var p,rt,ot,st,tt;if(ft(f),p={touchType:s,coord:{x:f.pageX,y:f.pageY},screenCoord:{x:f.screenX,y:f.screenY},scrollCoord:{x:a.scrollLeft(),y:a.scrollTop()},count:v?v.count+1:0,time:(new Date).getTime()},s==u.start&&(it(),b=!1,r=n.extend({totalDistance:0},p),v=n.extend({},p)),p.delta=e(p.coord,v.coord),p.screenDelta=e(p.screenCoord,v.screenCoord),p.duration=p.time-v.time,p.speed=l(p.delta,v.duration),r.delta=e(p.coord,r.coord),r.screenDelta=e(p.screenCoord,r.screenCoord),r.totalDistance+=Math.sqrt(Math.pow(p.delta.x,2)+Math.pow(p.delta.y,2)),rt=y.direction==h,v&&v.speed&&(ot=rt?p.delta.x:p.delta.y,st=rt?v.delta.x:v.delta.y,ot*st<0&&(r.movecoord=p.coord,r.movetime=p.time)),r.movecoord&&(r.movechange=e(p.coord,r.movecoord),r.moveduration=p.time-r.movetime,r.movespeed=l(r.movechange,r.moveduration)),r.duration=p.time-r.time,r.speed=l(r.delta,r.duration),k=w(r.delta,y.direction),!g&&r.totalDistance>y.distanceBeforeDirectionDetection&&y.direction!="all"&&!d&&(r.direction=k,y.direction!=k?(g=!0,p.touchType=u.cancel):(c(o),d=!0)),p.touchType==u.stop){var ut=(r.movechange||r.delta).x,et=(r.movechange||r.delta).y,ht=r.moveduration||r.duration,nt=k==h,lt=nt?Math.abs(r.speed.x):Math.abs(r.speed.y),at=nt?Math.abs(p.speed.x):Math.abs(p.speed.y),vt=nt?Math.abs(v.speed.x):Math.abs(v.speed.y),ct=Math.max((at+vt)/2,lt);r.duration<y.maximumTimeForClick&&r.totalDistance<y.maximumDistanceForClick?(b=!0,p.touchType=u.tap):(p.distance=Math.abs(nt?ut:et),ct>y.minimumTimeForSwipe&&(ht<y.maximumTimeForSwipe?p.touchType=nt?ut>0?u.swipeRight:u.swipeLeft:et>0?u.swipeDown:u.swipeUp:ht<y.maximumTimeForThrow&&ct>y.minimumLastThrowSpeed&&(p.touchType=nt?ut>0?u.throwRight:u.throwLeft:et>0?u.throwDown:u.throwUp)))}(v.touchType!=p.touchType||v.coord.x!=p.coord.x||v.coord.y!=p.coord.y)&&(g&&p.touchType!=u.cancel&&p.touchType!=u.tap||(tt=n.Event(u.eventName,{current:p,last:v,start:r,direction:k,originalEvent:o,allowClick:b}),t.trigger(tt),b=tt.allowClick!==!1,tt.isDefaultPrevented()&&o.preventDefault(),tt.isPropagationStopped()&&o.stopPropagation(),tt.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));s==u.stop||s==u.cancel?it():v=p}function ut(n){return b||c(n),b}function ft(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var r,v,k,d,tt,g,b=!0,y=n.extend({},s,i);it();t.addClass("unselectable").find("A, [onclick]").not(".mobilead").bind("click",ut);o(t,u.start,nt);o(t,u.move,nt);o(t,u.stop,nt);o(t,u.cancel,nt)}),{types:u,settings:f}});define("touchDataManager",["jquery"],function(n){function o(){var c=.85,l=.1,h,o,u,r,n;this.reset=function(t){h=t;o=+new Date;u=o;r=h;n=0};this.input=function(t){var e=+new Date,i=e-u,f;i=i>0?i:1;u=e;r+=n*i;f=t-r;r+=c*f;n+=l*f/i};this.getPosition=function(){return r};this.getVelocity=function(){return n};this.getDelta=function(){return r-h};this.getDuration=function(){return 220};this.getTouchDuration=function(){return u-o};this.getDrift=function(t,i){var e=this.getDelta(),l,s;e<0&&(e=-e);var h=1-e/t,c=.2,r=t*(h>c?h:c),f=n*150,a=u-o<300&&(n>.3||n<-.3);return a?(l=i,s=l-e,f=(n>0?1:-1)*(s<r?s:r)):f>r?f=r:f<-r&&(f=-r),f};this.getTimingFunction=function(){return"cubic-bezier(0,"+e(n)+",.58,1)"};this.ensureJQueryEase=function(){var r=e(n);r=Math.round(r/f)*f;i[r]||(i[r]=s(r));t=i[r]};this.reset(0)}function e(n){var t=n>0?n:-n;return t*.3}function s(n){for(var f=[],t,e,o,i,u=r.length;u--;)t=r[u],i=1-t,o=i*t*t*.58+t*t*t,e=i*i*t*n+i*t*t+t*t*t,f[u]={x:e,t:o};return f}for(var i={},f=.1,t,r=[],u=0;u<=1;u+=.01)r.push(u);return n.easing.cubicBezier=function(n){if(n==1)return 1;for(var r,o,u,s,i,f=t.length-1,e=0;f--&&!e;)i=t[f],r=i.t,r<=n&&(u=i.x,i=t[f+1],o=i.t,s=i.x,e=(n-r)/(o-r)*(s-u)+u);return e},n.easing.cubicBezierQuint=function(n){return 1-Math.pow(1-n,5)},o});define("carouselManager",function(){return function(){var n=[],t=0;this.load=function(t){n=t};this.getItem=function(i){if(!n.length)return null;var r=(t+i)%n.length;return n[r<0?r+n.length:r]};this.setIndex=function(n){t=n};this.changeIndex=function(n){t+=n}}});globalLeft="left";define("dir.tokens",{ltr:globalLeft=="left",left:"left",paddingLeft:"padding-left",paddingRight:"padding-right",marginLeft:"margin-left",marginRight:"margin-right"});define("socialPlugins.tokens",{twitterLang:"en",facebookLang:"en_US",loadDelay:"1000"});define("truncate.tokens",{truncateEllipsis:""});define("webApp.tokens",{appVersion:"2.0.5955.184"});define("flyout",["jquery","jqBehavior","document","mediator"],function(n,t,i,r){function u(n){n.preventDefault()}function e(t,u){function w(n){var t=e[0],i;d(n);t.el.hasClass(t.cls)?(i=c?c[0]:!1,u.allowToggleOff&&l(n,o),i!==n.target&&f.filter(n.target).length===1&&p(n,s)):p(n,s);r.subChannel("closeFlyoutFinal","flyoutBehavior",o)}function b(i){var r=t.find(u.contentEventOrigin),e;r.length||(r=t);e=u.skipContentOriginEventTargetCheck?!(n.contains(r[0],i.target)===!0||f[0]===i.target):!(r[0]===i.target||n.contains(r[0],i.target)===!0||f[0]===i.target);e&&(u.disableEventBubbling&&i.preventDefault(),l(i,o))}function o(t,i){for(var u,r=0;r<e.length;r++)u=e[r],u.el.removeClass(u.cls).attr("aria-hidden",!0);v.off(y,b);c=!1;n.isFunction(i)&&i!==s&&i()}function k(n){t.find("."+u.toggleClass).length&&l(n,o)}function s(t,i){var r,u;for(c=n(t.target),r=0;r<e.length;r++)u=e[r],u.el.addClass(u.cls).attr("aria-hidden",!1);v.on(y,b);n.isFunction(i)&&i!==s&&i()}var v=n(i),f=t.find(u.eventOrigin),a;f.length||(f=n(u.eventOrigin));var y=u.outsideEvent,h=u.toggleTargets,d=u.eventPreventDefaultDelegate,c=!1,p=n.isFunction(u.openFlyoutDelegate)?u.openFlyoutDelegate:s,l=n.isFunction(u.closeFlyoutDelegate)?u.closeFlyoutDelegate:o,e=[];if(typeof h!="object")h===!0&&e.push({el:t,cls:"show"});else for(a in h)e.push({el:t.find(a),cls:h[a]});return{setup:function(){f.on(u.triggerEvent,w)},update:function(){k()},teardown:function(){k();f.off(u.triggerEvent,w)}}}var f={allowToggleOff:!0,eventOrigin:".flyout > button",toggleTargets:!0,triggerEvent:"click",outsideEvent:"mousedown touchstart scroll",openFlyoutDelegate:!1,eventPreventDefaultDelegate:u,skipContentOriginEventTargetCheck:!1,closeFlyoutDelegate:!1};return t(e,f)});define("marketDropdown",["jquery","jqBehavior","window","headData","track","location"],function(n,t,i,r,u,f){function o(t,i){function o(){t.on(i.triggerEvent,r)}function r(){var r,n,o;t[0].tagName=="SELECT"?(o=t.find("option:selected"),r=o.data("mkt"),n=o.data("mktUrl")):(r=i.mkt,n=i.mktUrl);n+=f.search;n&&r&&(u.trackEvent({type:"click_nonnav",target:t},"","",n),h(e,n,r))}function s(){t.off(i.triggerEvent,r)}function h(t,i,r){var u=JSON.stringify({Market:r,SuppressPrompt:!0}),e=[{Path:"MSNHomePage/MarketConfiguration",Operation:"Update",Payload:u}];n.ajax({url:t,dataType:"html",data:JSON.stringify(e),method:"POST",contentType:"application/json"}).done(function(){f.href=i}).fail(function(){f.href=i})}return{setup:o,teardown:s}}var e=r.pdpdeltaupdateapi;return t(o,{triggerEvent:"change"})});define("navArrowScroll",["jquery","jqBehavior","modernizr","device","window","dir.tokens","touchGestures","perfMarker","remToPixel","requestAnimationFrame"],function(n,t,i,r,u,f,e,o,s){function v(t,i){function dt(){ut.on("click",nt);ft.on("click",w);si(r);ii();p();oi()}function gt(){ut.off("click",nt);ft.off("click",w);p()}function ni(){b=0;l=0;ct(0);p()}function ht(n){lt();var t=ti(n);ct(t)}function ct(n){c?(n=h.replace("{0}",n),r.css("transform",n)):r.css(h,n)}function lt(){if(tt=o.width(),rt)v=r[0].scrollWidth;else{v=0;for(var n=0;n<r.length;n++)v+=r[n].scrollWidth;v+=kt}y=r.position().left-b}function ti(n){var t=0,i;return n==1?l>0&&(l=l-1,t=a[l].getAttribute(it)):l<a.length-1&&(t=a[l].getAttribute(it),l==0&&(t-=wt),l=l+1),i=f.ltr?n:-n,ot=l==0?0:y+i*t}function ii(){for(var t,n=0,i=a.length;n<i;n++)t=a.eq(n),a[n].setAttribute(it,t.outerWidth(!0)),t.hasClass(pt)&&(st=n)}function at(){f.ltr||(b=r.position().left,y=r.position().left-b)}function p(){if(lt(),v>tt){rt=!0;ri();var n=f.ltr?y:-y,t=parseInt(r.css(f.marginLeft)),i=tt-(v+n);l==0?(o.addClass(d).removeClass(k),at()):i>=t?o.addClass(k).removeClass(d):o.addClass(et)}else rt=!1,o.removeClass(et),ui(),at()}function ri(){for(var t=r[1].children.length,n=0;n<t;n++)r[1].children[0].id="mylink_"+n,r[0].appendChild(r[1].children[0])}function ui(){for(var t=r[0].children.length,n=0;n<t;n++)!r[0].children["mylink_"+n]||r[1].appendChild(r[0].children["mylink_"+n])}function nt(){ht(1);p()}function w(){ht(-1);p()}function fi(){f.ltr?w():nt()}function ei(){f.ltr?nt():w()}function vt(){return f.ltr&&o.hasClass(d)||!f.ltr&&o.hasClass(k)}function yt(){return f.ltr&&o.hasClass(k)||!f.ltr&&o.hasClass(d)}function oi(){for(var n=0;n<st;n++)(f.ltr&&vt()||!f.ltr&&yt())&&w()}function si(n){e.settings.touchSupported&&n.gesture(hi,{direction:"horizontal"})}function hi(t){if(t.direction)switch(t.current.touchType){case e.types.throwRight:case e.types.swipeRight:yt()&&ei();break;case e.types.throwLeft:case e.types.swipeLeft:vt()&&fi();break;case e.types.stop:case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,f=document.createEvent("MouseEvent");f.initMouseEvent("click",!1,!1,u,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(f)}}var o=t,r=o.children(i.navSelector),a=r.children(),ut=o.find("button").first(),ft=o.find("button").last(),b=r.position().left,l=0,tt=0,v=0,k="show-left",d="show-right",et="show-left show-right",pt="current",ot=0,y=0,it="data-width",st=0,rt=!1,wt=s(1.2),g=o.children(".mylink"),bt=f.ltr?r[g.index()-1].offsetLeft:o.width()-(r[g.index()-1].offsetLeft+r[g.index()-1].offsetWidth),kt=g.children().length!=0&&r!=null?bt-r.first().width():0;return{setup:dt,teardown:gt,update:ni}}var h="left",c=!1,a,l;return i.csstransforms&&r.isCapable("AllowTransform2d")&&(h="translateX({0}px)",c=!0),a=n(u),l={navSelector:"ul",navItemSelector:"ul > li"},t(v,l)});define("scrollStop",["jquery","jqBehavior","touchGestures"],function(n,t,i){function f(t,f){function o(){e===!1?e=!0:clearTimeout(s);s=setTimeout(a,l)}function h(){e&&o()}function a(){e=!1;t.trigger("scrollStop")}var c=n.extend({},u,f),l=c.delay,e,s;return{setup:function(){e=!1;t.on("scroll",o);if(i.settings.touchSupported)t.on(r,h)},teardown:function(){t.off(r,h);t.off("scroll",o)}}}var u={delay:100},e=i.settings.start.join(" "),r=i.settings.move.join(" ");return t(f,{})});define("searchBing",["jquery","jqBehavior","track","device"],function(n,t,i,r){return r.capability("SupportFixedPosition")!=="false"&&r.capability("SupportFixedPosition")||n("body>.head").addClass("unfixposition"),t(function(t){function f(){var n=t.attr("action"),r=t.attr("target");i.trackEvent({type:"submit",target:t[0]},null,u);t.attr("action",u).attr("target","_blank").submit().attr("action",n).attr("target",r)}var r=n("button[name='bingSearch']",t),e=n("body>.head"),u=t.data("bing-action-uri");return{setup:function(){r.on("click",f)},teardown:function(){r.off("click",f)}}})});define("searchTargetSelf",["jqBehavior"],function(n){function u(n){return i=n.attr(t),{setup:function(){n.attr(t,r)},teardown:function(){n.attr(t,i)}}}var t="target",r="_self",i;return n(u)});define("socialPlugins",["jquery","jqBehavior","format","escape","socialPlugins.tokens"],function(n,t,i,r,u){function o(n,t){function e(){if(t.facebookLikeUrl&&t.facebookButtonWidth){var e="//www.facebook.com/plugins/like.php?locale="+r.urlPart(u.facebookLang)+"&href="+r.urlPart(t.facebookLikeUrl)+"&amp;send=false&amp;layout=button_count&amp;width=450&amp;show_faces=false&amp;font&amp;colorscheme=light&amp;action=like&amp;height=21";n.find(t.facebookSelector).append(i(f,e,t.facebookButtonWidth))}}function o(){var e,o;t.twitterFollowScreenName&&t.twitterButtonWidth&&(e="//platform.twitter.com/widgets/follow_button.html?show_screen_name="+t.twitterShowScreenName+"&screen_name="+r.urlPart(t.twitterFollowScreenName)+"&show_count=false&lang="+r.urlPart(u.twitterLang),n.find(t.twitterSelector).append(i(f,e,t.twitterButtonWidth)),t.twitterShowScreenName&&(o=t.twitterButtonWidth,typeof InstallTrigger!="undefined"&&(o=parseFloat(t.twitterButtonWidth)+.3+"rem"),n.find(t.twitterBreakingNewsSelector).append(i(f,e,o))))}window.setTimeout(function(){e();o()},t.delay)}var e={facebookSelector:"#fbcount",twitterSelector:"#twcount",twitterBreakingNewsSelector:"#bnewstwcount",delay:u.loadDelay},f='<iframe src="{0}" scrolling="no" frameborder="0" allowTransparency="true" allowTransparency="true" style="width:{1};"><\/iframe>';return t(o,e)});define("truncate",["jquery","jqBehavior","mediator","requestAnimationFrame","measure","format","truncate.tokens","perfMarker"],function(n,t,i,r,u,f,e){function l(t,e){function st(){var i,f,e,o,r;if(it){for(it=!1,i=l;i--;){for(f="",e=0,r=t[i].firstChild;r!=null;)r.nodeType==1?(++e,o=r):r.nodeType==3&&(f+=r.nodeValue),r=r.nextSibling;e==1&&n.trim(f)==""&&(p[i]=o)}for(i=l;i--;)w[i]=u(t[i]),v[i]=(p[i]||t[i]).innerHTML,nt[i]=t[i].title}else ot();for(i=l;i--;)rt(i),b[i]=v[i],y[i]=!0;ut()}function ht(){for(var n=l;n--;)rt(n),y[n]=t[n].scrollHeight>a[n];ut()}function rt(n){var i=t[n];if(i&&i.parentNode){var r=w[n],o=i.getAttribute("data-truncate-lines")||e.truncateLines,u=parseFloat(r("paddingTop")),s=parseFloat(r("paddingBottom")),h=r("lineHeight"),f=parseFloat(r("maxHeight"));o?(a[n]=parseFloat(h)*o+s,a[n]>f&&(a[n]=f),a[n]+=u):a[n]=(f||i.clientHeight)+u;a[n]=a[n]+.5|0;tt[n]=i.clientWidth;g[n]=u+2*parseFloat(h)+s+.5|0}else w[n]=p[n]=null,y[n]=d[n]=!1}function ut(){for(var f=!0,e=1e3,i,r,u;f&&--e;){for(f=!1,i=l;i--;)if(y[i])if(d[i]=t[i].scrollHeight>a[i],d[i]){if(k[i]=!0,t[i].scrollHeight<g[i]){ft(i);continue}r=b[i];r.slice(-s)==o&&(r=r.slice(0,-s));u=c.exec(r);u&&u[0]!=r?(f=!0,t[i].scrollHeight>a[i]*2&&(r=r.substr(0,r.length/2)),b[i]=r.substr(0,r.length-u[0].length)+o):ft(i)}else y[i]=!1;for(i=l;i--;)d[i]&&((p[i]||t[i]).innerHTML=b[i])}for(i=l;i--;)k[i]&&(t[i].title=n.trim(n("<span>"+v[i]+"<\/span>").text()))}function ft(n){var t=tt[n]-parseInt(w[n]("paddingLeft"))-parseInt(w[n]("paddingRight"));b[n]=t>0?f(h,v[n],t+"px"):v[n];y[n]=!1}function et(){r(st)}function ot(){for(var n=l;n--;)k[n]&&((p[n]||t[n]).innerHTML=v[n],t[n].title=nt[n],k[n]=!1)}var l=t.length,p=new Array(l),w=new Array(l),g=new Array(l),v=new Array(l),nt=new Array(l),tt=new Array(l),b=new Array(l),a=new Array(l),y=new Array(l),k=new Array(l),d=new Array(l),it=!0;return i.sub("truncate",function(){r(ht)}),{setup:et,teardown:ot,update:et}}var h='<span style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:{1}">{0}<\/span>',o=e.truncateEllipsis,s=o.length,c=/(?:\s|[,!\.\?:;])*([\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[^\s\u3000-\u30ff\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]+)(?:\s|[,!\.\?:;])*$/;return t(l,null,{each:1})});define("twitterComments",["jquery","jqBehavior","window"],function(n,t,i){function r(t){function r(t){t.preventDefault();i.open(n(this).attr("href"),"Twitter","status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+(i.screen.width-250)/2+",top="+(i.screen.height-350)/2+",width=500,height=450")}return{setup:function(){t.find(".twitteractions > a").on("click",r)},teardown:function(){t.find(".twitteractions > a").off("click")}}}return t(r)});require(["window","jquery","device","mediator"],function(n,t,i,r){var f,u=t("meta[name=viewport]"),e=i.capability("Viewport_Landscape"),s=u.attr("content"),o=function(){n.innerHeight>n.innerWidth?u.attr("content",s):u.attr("content",e);r.pubChannel("update","mediaQuery")};u.length&&e&&(o(),t(n).resize(function(){clearTimeout(f);f=setTimeout(o,50)}))});require(["jquery","navigation","headData","webApp.tokens"],function(n,t,i,r){var u=/(\?|&)ver=[\d\.]+(&|$)/gi;n.ajaxPrefilter(function(n){var f;if(n=n||{},f=n.url,i.ssl===!0&&f.substr(0,7).toLowerCase()=="http://"&&(f="https://"+f.substr(7)),!n.notVersioning&&f&&t.isLocal(f)&&!f.match(u)){var e=f.split("#"),o=e[0],s=e[1]?"#"+e[1]:"";n.url=o+(o.indexOf("?")>-1?"&":"?")+"ver="+r.appVersion+s}})});require(["jquery","getCookie","setCookie","navigation","location","c.onload"],function(n,t,i,r,u){var f="ocid",e="hp",o="homepage",s="sky2",h=15;(function(){var c="",v=r.getParamsFromUrl(u.href);v&&v[f]&&(c=v[f].toLowerCase());var y=(c.indexOf(e)!=-1||c.indexOf(o)!=-1)&&c.indexOf(s)===-1,a=t(f),l=n("#user-profile").data("dhp_cookie_days");l=l!=undefined?l:h;y&&!a?i(f,c,l,i.topDomain,"/"):l>0&&!y&&a&&(a.indexOf(e)!=-1||a.indexOf(o)!=-1)&&i(f,"",-1,i.topDomain,"/")})()});define("msnNativeAds",["jquery","jqBehavior","pageInstance","headData","getCookie","window","afire","mediator"],function(n,t,i,r,u,f,e,o){function c(t,i){function v(n){var t=n?n.elem:null;y(t)&&(r(),setTimeout(function(){o.unsub(h,v)},200))}function y(i){return i&&i.length&&n.contains(i[0],t[0])}function p(){var n=a.find("li").first();return y(n)}function r(){try{if(l)return;e&&s(e);c&&s(c);l=!0}catch(n){f.console&&f.console.log("error sending native trackers"+n.message)}}var u=i.ct,e=i.impr,c=i.eimpr,l=!1,a=t.parents(".ip");u&&t.click(function(){s(u)});a.length?p()?r():o.sub(h,v):r()}function s(n){e(n)}var h="infopane_navigation";return t(c)});require(["binding","c.dom"],function(n){require(["c.deferred"],function(){require(["jquery","imgSrc"],function(n,t){n("#user-profile img").each(function(){t.go(this)})});n("twitterComments","#breakingnews").all();n("marketDropdown","#site-market").all();n("marketDropdown",".marketswitch").all({triggerEvent:"click"});n("marketDropdown",".langtoggle").all({triggerEvent:"click"});require(["window","c.onload"],function(t){t.setTimeout(function(){n("socialPlugins","#social-plugins").all()},8e3);n("socialPlugins","#bnewssocial-plugins").all()})});n("poll",".pollcontainer").all();n("flyout",".megamenu").all({eventOrigin:"#header-common>h1>.vertical",skipContentOriginEventTargetCheck:!0});n("flyout","#username").all({eventOrigin:"#username>a,#username>figure"});n("flyout","#settings").all({eventOrigin:"#settings>a"});n("flyout","#language-toggle").view(n.views.SIZE34COLUMN,{eventOrigin:"#language-toggle>button"});n("searchBing","#srchfrm").all();n("navArrowScroll",".navinner").all();require(["c.onload"],function(){n("msnNativeAds","a.nativead").all()})});require(["sso","document","c.deferred"],function(n,t){n();var i=t.getElementsByTagName("head")[0];i&&i.getAttribute("data-pdp-stale")&&define("c.pdp",1)});define("touchEvents",["jquery","modernizr","window"],function(n,t,i){function p(){return"ontouchstart"in i}function a(n){return f(n),!1}function f(n){n.originalEvent&&n.originalEvent.preventManipulation&&n.originalEvent.preventManipulation();n.preventDefault();n.stopPropagation()}function w(n){var t=n.originalEvent.changedTouches||n.originalEvent.touches;return t&&t.length?t:[n]}function b(n){return n.x&&Math.abs(Math.atan(n.y/n.x))<y?s:l}function h(n,t){return n&&t?{x:n.x/t,y:n.y/t}:{x:0,y:0}}function e(n,t){return n&&t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}function o(t,i,r){n.each(u[i],function(n,u){t.bind(u,function(n){r(n,i)})})}function k(t,i){n.fn[t]=function(n,i){return n?this.bind(t,i,n):this.trigger(t,i)};n.event.special[t]={setup:function(t,r){i(n(this),t,r)}}}var v={direction:"all",preventDefaultOnStart:!0,maximumDistanceForClick:20,maximumTimeForClick:300,distanceBeforeDirectionDetection:0,maximumTimeForThrow:1200,minimumLastThrowSpeed:1,maximumTimeForSwipe:400,minimumDistanceForSwipe:30,directionChangeBuffer:5},y=Math.PI/4,c=n(i),r={touch:"touch",start:"start",move:"move",stop:"stop",cancel:"cancel",tap:"tap",swipeUp:"swipeUp",swipeRight:"swipeRight",swipeDown:"swipeDown",swipeLeft:"swipeLeft",throwUp:"throwUp",throwRight:"throwRight",throwDown:"throwDown",throwLeft:"throwLeft"},s="horizontal",l="vertical",u={touch:{start:["touchstart","touchenter"],stop:["touchend","touchleave"],move:["touchmove"],cancel:["touchcancel"],preventDefaultOnStart:!1,mimickBrowserScroll:!1},mouse:{start:["mousedown"],stop:["mouseup"],move:["mousemove"],cancel:["mouseleave"],preventDefaultOnStart:!1,mimickBrowserScroll:!1}};return n.each({touch:t.touch||p(),mouse:!0},function(n,t){return t&&(u=u[n]),!t}),k(r.touch,function(t,y){function ft(){ut=p=k=g=it=nt=0}function rt(o,a){var v=w(o);u.preventDefaultOnStart&&f(o);(ut||it&&p.totalDistance>=d.maximumDistanceForClick)&&(ut=!0,f(o));(p||a==r.start)&&n.each(v,function(v,y){var w,ot,ct,lt,ut;if(et(y),w={touchType:a,coord:{x:y.pageX,y:y.pageY},screenCoord:{x:y.screenX,y:y.screenY},scrollCoord:{x:c.scrollLeft(),y:c.scrollTop()},count:k?k.count+1:0,time:(new Date).getTime()},a==r.start&&(ft(),tt=!1,p=n.extend({totalDistance:0},w),k=n.extend({},w)),w.delta=e(w.coord,k.coord),w.screenDelta=e(w.screenCoord,k.screenCoord),w.duration=w.time-k.time,w.speed=h(w.delta,k.duration),p.delta=e(w.coord,p.coord),p.screenDelta=e(w.screenCoord,p.screenCoord),p.totalDistance+=Math.sqrt(Math.pow(w.delta.x,2)+Math.pow(w.delta.y,2)),ot=d.direction==s,k&&k.speed&&(ct=ot?w.delta.x:w.delta.y,lt=ot?k.delta.x:k.delta.y,ct*lt<0&&(p.movecoord=w.coord,p.movetime=w.time)),p.movecoord&&(p.movechange=e(w.coord,p.movecoord),p.moveduration=w.time-p.movetime,p.movespeed=h(p.movechange,p.moveduration)),p.duration=w.time-p.time,p.speed=h(p.delta,p.duration),g=b(p.delta),p.totalDistance>d.distanceBeforeDirectionDetection&&d.direction!="all"&&!it&&!nt&&(p.direction=g,d.direction!=g?(nt=!0,w.touchType=r.cancel):p.totalDistance>d.maximumDistanceForClick&&(it=!0,f(o))),w.touchType==r.stop){var st=(p.movechange||p.delta).x,ht=(p.movechange||p.delta).y,at=p.moveduration||p.duration,rt=g==s,yt=rt?Math.abs(p.speed.x):Math.abs(p.speed.y),pt=rt?Math.abs(w.speed.x):Math.abs(w.speed.y),wt=rt?Math.abs(k.speed.x):Math.abs(k.speed.y),vt=Math.max((pt+wt)/2,yt);p.duration<d.maximumTimeForClick&&p.totalDistance<d.maximumDistanceForClick?(tt=!0,w.touchType=r.tap):(w.distance=Math.abs(rt?st:ht),vt>.3&&(at<d.maximumTimeForSwipe?w.touchType=rt?st>0?r.swipeRight:r.swipeLeft:ht>0?r.swipeDown:r.swipeUp:at<d.maximumTimeForThrow&&vt>d.minimumLastThrowSpeed&&(w.touchType=rt?st>0?r.throwRight:r.throwLeft:ht>0?r.throwDown:r.throwUp)))}(k.touchType!=w.touchType||k.coord.x!=w.coord.x||k.coord.y!=w.coord.y)&&(nt&&w.touchType!=r.cancel||(ut=n.Event(r.touch,{current:w,last:k,start:p,direction:g,originalEvent:o}),t.trigger(ut),tt=ut.allowClick!==!1,ut.isDefaultPrevented()&&o.preventDefault(),ut.isPropagationStopped()&&o.stopPropagation(),ut.isImmediatePropagationStopped()&&o.stopImmediatePropagation()));nt&&u.mimickBrowserScroll&&g==l&&(p.scrollCoord.y-=w.screenDelta.y,n(i).scrollTop(p.scrollCoord.y));a==r.stop||a==r.cancel?ft():k=w})}function et(n){n.pageX||n.originalEvent&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY,n.screenX=n.originalEvent.screenX,n.screenY=n.originalEvent.screenY,n.pointerId=n.originalEvent.pointerId,n.identifier=n.originalEvent.identifier)}var p,k,g,it,ut,nt,tt=!1,d=n.extend({},v,y);ft();t.find("*").addBack().each(function(){n(this).attr("draggable",!1).attr("selectable",!1).bind("ondragstart",a).bind("drag",a).not(".mobilead").not(".ip,.ip *").bind("click",function(n){return tt||f(n),tt});this.onselectstart!==undefined?this.onselectstart=function(){return!1}:this.style.MozUserSelect!==undefined&&(this.style.MozUserSelect="none")});o(t,r.start,rt);o(t,r.move,rt);o(t,r.stop,rt);o(t,r.cancel,rt)}),r});define("jqueryPlus",["jquery","modernizr","device","screen","requestAnimationFrame","deviceGroup"],function(n,t,i,r,u,f){function b(n){var t=n.match(a);return t&&t.length>2?t[2].split(","):[]}function v(n){var t=b(n),i=t.length;return parseFloat(i==6?t[4]:i==16?t[12]:0)}function y(n){return parseFloat(n.css("font-size"))||12}function k(){var u,t,i,n,r;for(u in o){t=o[u];for(i in t)i.indexOf("$")!=0&&(n=t[i],n&&(r=(new Date).getTime()-n.animation.startTime,r>=n.animation.options.duration?w(t,n):d(t,n,r)))}p()}function p(){s.length?(l=!0,u(function(){k()})):l=!1}function d(t,i,r){var h=i.animation.options.easing||"swing",e=n.easing[h],o=i.animation.options.step,u,f,s;o&&(i=o(i));u=i.startValue;e&&(f=i.animation.options.duration,s=e(r/f,r,0,1,f),u=i.startValue+s*(i.endValue-i.startValue)||i.startValue);t.$element.css(i.name,u)}function w(t,i,r){var f=i.name,u;r||t.$element.css(f,i.endValue);u=i.animation;delete o[t.$element.uniqueId()];delete u.properties[f];delete t[i];u.properties.length||(u.options.complete&&u.options.complete(),n.inArray(u,s)+1&&s.splice(n.inArray(u,s),1))}var h=t.prefixed("transform")||"transform",e,a,c,o,s,l;return(n.fn.innerHeight=function(){var n=this[0];return n&&n.innerHeight?n.innerHeight:this.height()},e={},Number.prototype.mod=function(n){return e[this]||(e[this]={}),e[this][n]||(e[this][n]=(this%n+n)%n),e[this][n]},t.translateXCss=t.csstransforms3d&&i.isCapable("AllowTransform3d")?"translateX3d":t.csstransforms&&i.isCapable("AllowTransform2d")?"translateX":"left",a=new RegExp("matrix(3d)?\\(([0-9-., ]*)\\)","i"),n.cssHooks.translateX={get:function(t){var i=n(t).css(h);return v(i)},set:function(t,i){n(t).css(h,i===""?i:"translateX("+i+")")}},n.fx.step.translateX=function(t){n.cssHooks.translateX.set(t.elem,t.now+t.unit)},n.cssHooks.translateX3d={get:function(t){var i=n(t).css(h);return v(i)},set:function(t,i){n(t).css(h,i?"translate3d("+i+",0,0)":"")}},n.fx.step.translateX3d=function(t){n.cssHooks.translateX3d.set(t.elem,t.now+t.unit)},n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i}}),n.fn.pxToEm=function(n,t){if(!n)return 0;var i=y(t||this);return parseFloat(n)/i+"em"},n.fn.toPx=function(n,t){var i=0;return n&&(i=parseFloat(n),n.indexOf("em")!=-1&&(i*=y(t||this))),i},c=0,n.fn.uniqueId=function(){var t=n(this).data("uniqueId");return t||(c++,t=c,n(this).data("uniqueId",t)),t},o={},s=[],f.isPc)?n:(n.fn.animate=function(t,i){for(var f,r,a,v,y=(new Date).getTime(),e=0;e<this.length;e++){var h=n(this[e]),c=h.uniqueId(),u=o[c];u||(u=o[c]={$element:h});i.step&&typeof i.step!="function"&&(i.step=null);f={properties:t,options:i,startTime:y};s.push(f);for(r in t)u[r]&&w(u,u[r],!0,f),a=t[r],v=h.css(r),u[r]={name:r,startValue:v,endValue:a,animation:f}}return l||p(),n(this)},n.fn.stop=function(){return n(this)},n)});define("tabKeyPressed",["jquery"],function(n){var t=!1;n(document).on("keydown",function(n){n.keyCode==9&&(t=!0)}).on("keyup",function(n){n.keyCode==9&&(t=!1)});return function(){return t}});require(["jquery","window","c.deferred"],function(n,t){var i=n("body>.head"),r=n(t);r.scroll(function(){r.scrollTop()?i.addClass("scrolled"):i.removeClass("scrolled")})});require(["jquery","binding","c.dom"],function(n,t){var i=n("html");require(["c.deferred"],function(){i.addClass("loaded")});n(".ad a.adchoices").removeClass("adchoices").addClass("adchoicesjs");t("searchTargetSelf","#srchfrm").view(t.views.SIZE12COLUMN);t("searchScope","#search-scope").view(t.views.SIZE3COLUMN|t.views.SIZE4COLUMN);t("truncate",".truncate").all()});define("adMonitoring",["adTelemetry","adCommon","document","window"],function(n,t,i,r){var u;return function(f,e,o){function g(){if(h=p(f.elem,"div",k),a=h&&h.id&&h.id.substr(d),!a)return!1;var n=new RegExp("[a-zA-Z0-9]+_"+a);return(y=s&&p(s,"div",n),!y)?!1:!0}function l(i){var nt=!u||u.length==0,p,g,k,d,h,s,y,a;if(++c,nt){for(u=[],p=i&&i.elem&&i.elem.querySelectorAll("div"),s=0;h=p[s];++s)g={id:h.id,w:h.offsetWidth,h:h.offsetHeight},u.push(g);v=r.addEventListener?setInterval(l.bind(this,i),e<<1):setInterval(function(){l(i)},e<<1);return}if(p=i&&i.elem&&i.elem.querySelectorAll("div"),k=!1,d=!1,u&&u.length>0)for(s=0;h=p[s];++s)(y=u[s],a={id:h.id,w:h.offsetWidth,h:h.offsetHeight},y&&y.id==a.id)&&(k=y.w!=a.w||y.h!=a.h,k&&(u[s].w=a.w,u[s].h=a.h),d|=k);(!d&&c>b||c==w)&&(clearInterval(v),c=0,u=[],typeof o=="function"&&o(!0,!0),t.setAdContainerDisplayState(f.htmlid,f.isVisible,f.canBeDisplayed||f.isRendered,f.canDisplayAdChoices),n.recordAdOperation(i,"usrszch",!1,i.sizeCharacteristics.adSizeType,!1),t.updateElementData(i.telemetry,"w",i.sizeCharacteristics.actualWidth),t.updateElementData(i.telemetry,"h",i.sizeCharacteristics.actualHeight))}function p(n,t,i){var f,r,u;if(n&&n.querySelectorAll)for(f=n.querySelectorAll(t),u=0;r=f[u];++u)if(i.test(r.id))return r;return null}var a,h,y,c=0,v,w=5,b=3,k=/ebDiv[0-9]+/i,d=5,s;(s=i.getElementById("eyeDiv"),f&&!f.isMonitored&&g(f))&&(r.addEventListener?(s.addEventListener("mousedown",l.bind(this,f)),f.isMonitored=!0):r.attachEvent?(s.attachEvent("onmousedown",function(){l(f)}),f.isMonitored=!0):f.isMonitored=!1)}});define("arrowScroll",["jquery","jqBehavior","imgSrc","remToPixel","scrollLeft","dir.tokens","elementTrackingDecorator","perfMarker","requestAnimationFrame"],function(n,t,i,r,u,f,e,o,s){function h(t,o){function g(){k=o.reduceScrollAmount?r(o.reduceScrollAmount):0;o.reposition&&l[0]&&(a=u(l[0]));h.on("click",ut);c.on("click",ft);s(function(){b()});l.on("scroll",b)}function nt(){h.off("click",ut);c.off("click",ft);l.off("scroll",b)}function et(){nt();g()}function b(){if(ot(),!y){ht();return}p>=0&&p<=d?(f.ltr?rt:it)():p>d&&p<y?ct():p===y&&(f.ltr?it:rt)()}function tt(n){l.animate({scrollLeft:u.adjustValue(l[0],st(n))},{queue:!1,duration:220,complete:function(){b()}})}function ot(){var n=l[0];n&&(w=n.clientWidth,p=u(n),y=n.scrollWidth-w-o.scrollOffset,i.loadInViewport&&i.loadInViewport(t[0]))}function st(n){return f.ltr||(n*=-1),n==-1?a>0&&(a-=w-k+o.scrollOffset,a<0&&(a=0)):n==1&&a<y&&(a+=w-k+o.scrollOffset,a>y&&(a=y)),a}function ht(){h.removeClass(v);c.removeClass(v)}function ct(){h.addClass(v);c.addClass(v)}function it(){c.removeClass(v);h.addClass(v)}function rt(){h.removeClass(v);c.addClass(v)}function ut(){tt(-1)}function ft(){tt(1)}function lt(){h=n('<button class="stripearrow"><\/button>');e.setTrackingForSingleElement(h,l,{defaults:{n:"prevStripArrow"}});c=n('<button class="stripearrow"><\/button>');e.setTrackingForSingleElement(c,l,{defaults:{n:"nextStripArrow"}});l.before(h).after(c)}var h,c,l=o.scrollRegion?t.find(o.scrollRegion):t.children("div");o.addArrowButtons?lt():(h=t.find("button").first(),c=t.find("button").last());var p=0,d=1,y=0,v="show",a=0,w,k;return{setup:g,update:et,teardown:nt}}return t(h,{addArrowButtons:!1,reduceScrollAmountForArrows:!1,scrollOffset:0,reposition:!1})});define("meFacebook",["jquery","jqBehavior","navigation","meModule","meModule.Tokens","window","headData","getCookie","setCookie","mediator","elementTrackingDecorator","meStripeTelemetry","location","track"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function ft(t){var i={notificationCounts:{messages:0,notifications:0},init:function(t,r){n("head").prepend("<style id='fb-animation-fix'><\/style>");f.fbAsyncInit=function(){f.FB.init({appId:t,xfbml:!1,cookie:!0,version:"v2.0"});i.ready()},function(n,t,i){var u,f=n.getElementsByTagName(t)[0];n.getElementById(i)||(u=n.createElement(t),u.id=i,u.src="//connect.facebook.net/"+r+"/sdk.js",f.parentNode.insertBefore(u,f))}(document,"script","facebook-jssdk");i.bindEvents()},bindEvents:function(){t.on("click",it,function(){t.find(".meflyout").hasClass(r.classNames.signout)&&i.login()})},ready:function(){var e,u;if(f.FB){if(e=o(g),e){i.logout();s(g,0,-1);return}f.FB.getLoginStatus(function(n){n&&n.status==="connected"?r.deferredFlyoutOnHover(t,"FacebookFlyoutVisible",i.getNews):l.updateFacebookAop(!1)});u=n(".fb-page");f.FB.Event.subscribe("edge.create",function(){v.trackEvent({type:"click_nonnav",target:u},"","","User liked our page");s("likePromptDisabled","true",180,s.topDomain,"/")});f.FB.Event.subscribe("edge.remove",function(){v.trackEvent({type:"click_nonnav",target:u},"","","User un-liked our page");s("likePromptDisabled","false",180,s.topDomain,"/")})}},getNews:function(){h.unsub("FacebookFlyoutVisible",i.getNews);r.updateFlyout(t,y,{showProgress:!0},!0,d,i.logout);i.notificationCounts.messages=0;i.notificationCounts.notifications=0;i.updateNotifications();n.ajax({url:b,cache:!1,timeout:ut,crossDomain:!0,xhrFields:{withCredentials:!0}}).fail(function(n,t){r.logAjaxError(t,"Facebook","get news");i.updateFlyout({signedIn:!0,error:!0})}).done(function(n){i.updateFlyout({result:n,signedIn:!0,error:!1})})},updateFlyout:function(u){var e={},s=u.signedIn,h=u.result,o,a,f;i.notificationCounts.notifications=0;i.notificationCounts.messages=0;s?u.error?e.showError=!0:(o=h&&h.trim(),o?(f=n(o),i.notificationCounts.notifications=f.data("notifications-count")||0,i.notificationCounts.messages=f.data("messages-count")||0,a=f.find("li"),a.length?(f=n("<div>"+o+"<\/div>"),c.setTrackingAttrs(f,t,{defaults:{n:y+".content"}}),e.content=f.html()):e.showNoContent=!0):e.showNoContent=!0):e.signedOutImageUrl=w;r.updateFlyout(t,y,e,s,d,i.logout);i.updateNotifications();l.updateFacebookAop(s)},updateNotifications:function(){var n=i.notificationCounts.messages,u=i.notificationCounts.notifications,f=n+u,e=f&&f>0,o=[{index:0,count:n,displayNotification:n>0},{index:1,count:u,displayNotification:u>0}];r.updateNotifications(t,".facebook",o,p,{maxNotifications:rt,count:f,updateInTile:!0,updateInTask:!0,displayNotification:e})},login:function(){f.FB&&f.FB.login(function(n){n.authResponse&&i.getNews()},{scope:tt})},logout:function(n){n&&n.preventDefault();try{f.FB.getLoginStatus(function(n){n.status==="connected"?f.FB.logout(function(){i.updateFlyout({signedIn:!1})}):i.updateFlyout({signedIn:!1})},!0)}catch(t){i.updateFlyout({signedIn:!1})}}};return{setup:function(){var o,n,u;if(e&&e.clientSettings&&e.clientSettings.fbid){o=e.clientSettings.fbid;n="en_US";w||(w=t.find(r.selector.contentDiv).data("signedout-image-url"));try{u=r.info.locale.split("-");n=u[0]+"_"+u[1].toUpperCase()}catch(s){}i.init(o,n)}else f.console&&f.console.warn&&f.console.warn("Missing fbid in data-client-settings. Can't initialize the Facebook module for this origin: "+f.location.origin)},facebook:i}}var nt=r.info.httpsOrigin+"/"+r.info.locale,b=nt+"/homepage/Facebook/Data",k=a.href.split("?")[1],y="facebook";typeof k!="undefined"&&(b+="?"+k);var tt="read_stream,manage_notifications,read_mailbox",p=u.tile.facebook[1],d=r.selector.tasks[0],it=r.selector.flyoutFooter,rt=p.maxNotifications,ut=p.requestTimeout,w,g="FBForceSignout";return t(ft)});define("meTwitter",["jquery","jqBehavior","navigation","meModule","meModule.Tokens","getCookie","window","document","track","mediator","meStripeTelemetry","headData"],function(n,t,i,r,u,f,e,o,s,h,c,l){function tt(t,i){function g(){e.twttr=function(n,t,i){var u,o=n.getElementsByTagName(t)[0],f=e.twttr||{},r=f.impressions||{};return(r._e=r._e||[],r.ready=r.ready||function(n){r._e.push(n)},f.impressions=r,n.getElementById(i))?f:(u=n.createElement(t),u.id=i,u.src="//platform.twitter.com/impressions.js",o.parentNode.insertBefore(u,o),f)}(o,"script","twitter-impressionsjs")}function y(n,f){var o=n.signedIn&&f!=="USER_AUTH_FAILED",s=n.error,e={},h;o?(l.twitterimpenabled&&g(),h=u.tile.twitter[1],s?e.showError=!0:f&&f.trim()?e.content=f:e.showNoContent=!0):e.signedOutImageUrl=p;r.updateFlyout(t,"twitter",e,o,r.selector.tasks[2],w);o?tt():r.attachSignInPopupWindow(t,v,i.popupWidth,i.popupHeight);c.updateTwitterAop(o);nt()}function nt(){if(e.twttr&&e.twttr.impressions){var n=t.find(r.selector.contentList).get();n&&n.length&&e.twttr.impressions.ready(function(t){t.impressions.logTweets(n)})}}function w(t){t.preventDefault();n.get(k).always(y.bind(null,{signedIn:!1,error:!1}))}function tt(){var i,u,f;t.find(r.selector.contentItem).off(a).on(a,function(t){var i=n(this).data("landingurl"),r=t.target||t.srcElement;i&&r&&r.tagName.toLowerCase()==="p"&&(e.open(i,"_blank"),s.trackEvent({type:"click",target:this}))});t.find(".tweetactions a").off(a).on(a,function(n){var t=n.target||n.srcElement;t&&t.href&&(n.preventDefault(),it(t.href))});i=t.find(r.selector.contentList);u=i.length?i.data("meurl"):null;u&&(f=t.find(r.selector.tasks[1]),f.length&&(f[0].href=u))}function it(n){var i=550,t=420,r=screen.height,u=screen.width,f=Math.round(u/2-i/2),o=r>t?Math.round(r/2-t/2):0;e.open(n,"intent","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+i+",height="+t+",left="+f+",top="+o)}return e.populateTweets=function(){h.unsub("TwitterFlyoutVisible",e.populateTweets);r.updateFlyout(t,"twitter",{showProgress:!0},!0,r.selector.tasks[1],w);n.ajax({url:b,type:"GET",cache:!1,timeout:i.timeout,crossDomain:!0,xhrFields:{withCredentials:!0}}).fail(function(n,t){r.logAjaxError(t,"Twitter","get tweets");y({signedIn:!0,error:!0})}).done(y.bind(null,{signedIn:!0,error:!1}))},{setup:function(){p||(p=t.find(r.selector.contentDiv).data("signedout-image-url"));f(d)?r.deferredFlyoutOnHover(t,"TwitterFlyoutVisible",e.populateTweets):(r.attachSignInPopupWindow(t,v,i.popupWidth,i.popupHeight),c.updateTwitterAop(!1))}}}var g={popupWidth:500,popupHeight:500,timeout:u.tile.twitter[1].requestTimeout},a="click",w=r.info.origin+"/"+r.info.locale+"/homepage/",nt=r.info.httpsOrigin+"/"+r.info.locale+"/homepage/",b=nt+"Twitter/Tweets",v=w+"Twitter/Authorize",y=location.href.split("?")[1],k,d,p;return typeof y!="undefined"&&(b+="?"+y,v+="?"+y),k=w+"Twitter/SignOut",d="TwitterSignedIn",t(tt,g)});define("meOffice",["jquery","jqBehavior","mediator","refreshModules","meStripeTelemetry"],function(n,t,i,r,u){function f(t,f){function c(){var i=t.find("section li time");i.each(function(){var t=new Date(n(this).attr("datetime"));t&&n(this).html(t.toLocaleString())})}function a(){s=t.find("[data-module-id]").eq(0);s.length&&(o=s.data("moduleId"),o&&(h="moduleRefreshed-"+o,i.sub(h,c)))}function v(){t.hasClass("office")?u.updateOfficeAop():u.updateOnenoteAop()}function l(){i.unsub(f.eventName,l);r(e).done(function(){c();a();v()})}var e,s,o,h;return{setup:function(){e=t.find("[data-module-deferred-hover], [data-module-deferred]").not("[data-sso-dependent]");e.length&&e.data("module-deferred-hover")&&e.html("<p class='meloading'><\/p>");i.sub(f.eventName,l)},teardown:function(){o&&i.unsub(h,c)}}}return t(f)});define("loadMeImages",["jquery","jqBehavior","imgSrc"],function(n,t,i){function r(t,r){function e(){u.length==0&&r.selectOnHover&&(u=n(r.imagesToLoad));u.each(function(){i.go(this)});r.selectOnHover&&n(r.flyout).addClass("lzy")}var u=n(r.imagesToLoad),o=navigator.pointerEnabled||navigator.msPointerEnabled?"pointermove MSPointerMove":"mousemove",f=o+" touchstart MSPointerDown pointerdown";return{setup:function(){t.one(f,e)},teardown:function(){t.off(f,e)}}}return t(r)});define("outlookInbox",["jquery","jqBehavior","outlookModel","outlookInbox.tokens","format","headData","meModule","meModule.Tokens","meStripeTelemetry","setCookie","location","trackInfo","track","mediator"],function(n,t,i,r,u,f,e,o,s){var h=o.tile.mail[1],c=function(t,r){function u(){function l(n){u&&v(n);a(n);s.updateOutlookAop()}function a(n){var i=n.unre;e.updateNotifications(t,".mail",0,h,{count:i,updateInTile:!0,updateInTask:!1,displayNotification:i>0})}function v(n){var i=n&&n.msgs?y(n.msgs):null;e.updateFlyout(t,"mail",{content:i},!0)}function y(t){var i="",r=o.tile.mail[1].piiText,u=o.tile.mail[1].piiUrl;return n.each(t,function(n,t){var f=new Date(t.date),e="<li "+b(t)+'><a href="'+t.murl+'" target="_blank" data-piitxt="'+r+'" piiurl="'+u+'"><span class="from">'+t.name+"<\/span><p>"+t.subj+'<\/p><time datetime="'+f.toISOString()+'">'+f.toLocaleString()+"<\/time><\/a><\/li>";i+=e}),i&&(i="<ul>"+i+"<\/ul>"),i}function p(){e.updateFlyout(t,"mail",{showProgress:!0},!0)}function w(){if(u){var n="<span>"+h.refreshPageErrorMessage+"<\/span><span>"+h.viewInboxErrorMessage+"<\/span> <a href='"+h.headerUrl+"' target='_blank'> "+h.tileTitle+"<\/a>";e.updateFlyout(t,"mail",{showError:!0,errorMessage:n},!0);s.updateOutlookAop()}}function b(n){return n.read?"":'class="unread"'}if(!f.signedin){s.updateOutlookAop();require(["c.sso"],c.bind(null,t,r));return}var u=i.isPcDeviceGroup();p();i.getOutlookData().done(l,w)}u()};return t(c)});define("meIntegratedSkype",["jquery","jqBehavior","headData","meModule","meModule.Tokens","skypeConversationsUtility","skypeContactsUtility","skypeRenderUtility","skypeUtility","mediator","window","touchGestures","escape","meStripeTelemetry"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function tt(t,u){function at(){f.init(it,y);e.init(it);o.init(it,y);r.updateFlyout(t,y.integratedSkypeClass,{showProgress:!0},!0);s.isSkypeIdLinked(yt,pt)}function st(){nt?(y.$recentConversations.is(":hidden")&&k.click(),rt()):(nt=!0,f.fetchOnlineStatus(ht),y.useAbch&&e.fetchContacts(kt))}function vt(){b.blur()}function yt(){f.fetchRecentConversations(wt)}function pt(){gt();si();v.updateSkypeAop()}function wt(){if(it.isError){dt();return}bt();o.renderConversationSkypeIcons();ni();ri();ui();ct();ei();oi();ii();v.updateSkypeAop()}function bt(){var i=o.getContactsMarkup()+o.getRecentConversationsMarkup();r.updateFlyout(t,y.integratedSkypeClass,{content:i},!0);y.$recentConversations=n(".recentconversations")}function ht(){o.renderConversationOnlineStatus();it.isLongPollFinished||f.fetchNextOnlieStatus(ht)}function kt(){var n,t;w&&w.is(":visible")&&(n=b.val(),n.length?(t=e.searchContacts(n),ut(t)):ut(it.contacts,!0));o.renderConversationContacts()}function ut(n,t){var i;it.searchContactsSkypeButtons.length=0;it.searchContactsUsersIndex.length=0;it.isFetchingContacts?(i=o.getFetchingContactsMarkup(),w.html(i)):n.length?(i=o.getSearchContactsMarkup(n),w.html(i),o.renderSearchContactsSkypeIcons(),o.renderSearchContactsOnlineStatus(),ti(n),fi()):t?w.html(""):(i=o.getSearchContactsEmptyMarkup(),w.html(i))}function dt(){var n=o.getErrorMarkup();r.updateFlyout(t,y.integratedSkypeClass,{content:n},!0)}function gt(){var i=o.renderLinkAccountView();r.updateFlyout(t,y.integratedSkypeClass,{content:i},!0);n(".integratedskype .meflyout.signin").addClass("unlinked")}function ni(){r.updateNotifications(t,"."+y.integratedSkypeClass,0,g,{maxNotifications:y.maxNotifications,count:it.missedConversations,updateInTile:!0,updateInTask:!1,displayNotification:it.missedConversations>0})}function ti(n){d=n.length>y.defaultCount?!0:!1;d?y.$skypeContacts.find("> div:last-child").css("overflow-y","scroll"):y.$skypeContacts.find("> div:last-child").css("overflow-y","hidden")}function ii(){var r,t,i;i=n(".mestripescrollfix ."+y.integratedSkypeClass);t=i.data(y.abchEnabled);r=i.data(y.firstRun);typeof t!="undefined"&&(y.useAbch=t);(r||n(".integratedskype .signin").is(":visible"))&&st();h.sub(y.flyoutVisibleEvent,st);h.sub(y.flyoutClosedEvent,vt)}function ri(){y.$skypeContacts=n(".skypecontacts");k=y.$skypeContacts.find("> div:nth-child(2) button");b=y.$skypeContacts.find("> div:nth-child(2) input");lt()}function ui(){if(y.$recentConversations.find("li").hover(function(){p.touchOnly||(p.hover=!0,rt(),ft(this,!0))},function(){p.touchOnly||p.conversationElement||ft(this,!1)}),l.settings.touchSupported)y.$recentConversations.find("li").on(p.touchStopEvents,function(){p.hover?p.conversationElement=this:(p.touchOnly=!0,p.conversationElement&&rt(),p.conversationElement=this,ft(this,!0))})}function fi(){if(n(".searchresultcontacts li").hover(function(){p.touchOnly||(p.hover=!0,rt(),et(this,!0))},function(){p.touchOnly||p.contactElement||et(this,!1)}),l.settings.touchSupported)n(".searchresultcontacts li").on(p.touchStopEvents,function(){p.hover?p.contactElement=this:(p.touchOnly=!0,p.contactElement&&rt(),p.contactElement=this,et(this,!0))})}function ct(){b.bind(y.focus,function(){n(this).val("");n(this).unbind(y.focus);rt();ci()})}function ei(){b.bind("change paste keyup",function(){var t,i;t=n(this).val();i=t.length>0?e.searchContacts(t):it.contacts;ut(i)})}function oi(){k.click(function(){k.hasClass(y.searchClearClass)&&(lt(),li(),ct())})}function si(){n(".linkskypeid button").click(function(){hi()})}function ft(t,i){var u,f,e,r;r=n(t);u=n("> :nth-child(2)",r);f=n("> :nth-child(3)",r);e=n("> :nth-child(4)",r);i?(r.css(y.background,y.conversationSelectedColor),f.hide(),u.css(y.width,"12.3rem"),e.show()):(r.css(y.background,y.conversationNotSelectedColor),e.hide(),u.css(y.width,"25.2rem"),f.show())}function et(t,i){var f,e,o,u,r;r=n(t);f=n("> :nth-child(2)",r);e=n("> :nth-child(3)",r);o=n("> :nth-child(4)",r);i?(u=d?"10.1rem":"12.3rem",e.hide(),r.css(y.background,y.conversationSelectedColor),f.css(y.width,u),o.show()):(u=d?"26.5rem":"28.7rem",r.css(y.background,y.conversationNotSelectedColor),o.hide(),f.css(y.width,u),e.show())}function hi(){var n,t;n=a.urlPart(c.location);t=g.linkSkypeIdUrl+"&return_url="+n;c.location.href=t}function lt(){b.val(g.searchContactsText);b.blur()}function ci(){w=y.$skypeContacts.find("> :nth-child(3)");y.$recentConversations.hide();w.show();k.addClass(y.searchClearClass);ut(it.contacts,!0)}function li(){k.removeClass(y.searchClearClass);w.hide();y.$recentConversations.show();w=null}function rt(){p.conversationElement&&(ft(p.conversationElement,!1),p.conversationElement=null);p.contactElement&&(et(p.contactElement,!1),p.contactElement=null)}function ot(){if(!(this instanceof ot))return new ot;this.isError=!1;this.isOnlineStatusError=!1;this.isContactError=!1;this.isLongPollFinished=!1;this.isFetchingContacts=!1;this.conversations=[];this.contacts=[];this.usersStatus=[];this.skypeButtons=[];this.searchContactsSkypeButtons=[];this.usersIndex=[];this.searchContactsUsersIndex=[];this.missedConversations=0}if(!i.signedin){require(["c.sso"],tt.bind(null,t,u));v.updateSkypeAop();return}var it=new ot;at()}var g=u.tile.integratedskype[1],w=null,d=!1,nt=!1,b=null,k=null,p={touchStopEvents:"touchend MSPointerUp pointerup",conversationElement:null,contactElement:null,touchOnly:!1,hover:!1},y={integratedSkypeClass:"integratedskype",defaultPhotoClass:"defaultphoto",defaultUserPhotoClass:"defaultuserphoto",linkSkypeAccountClass:"linkskypeid",birthdayClass:"hasbirthday",userPhotoClass:"userphoto",searchClearClass:"clearsearch",flyoutVisibleEvent:"SkypeFlyoutVisible",flyoutClosedEvent:"SkypeFlyoutClosed",conversationNotSelectedColor:"white",conversationSelectedColor:"#f1f1f1",hideLinkSkypeCookie:"HideLinkSkype",firstRun:"firstrun",abchEnabled:"abchenabled",background:"background",color:"color",width:"width",focus:"focus",defaultCount:4,maxNotifications:99,cookieExpiryDays:365,useAbch:!0,$recentConversations:null,$skypeContacts:null};return t(tt)});define("skypeConversationsUtility",["jquery","meModule.Tokens","skypeUtility"],function(n,t,i){function c(){if(!(this instanceof c))return new c;this.userId=null;this.name=null;this.photo=null;this.message=null;this.missed=!1;this.birthday=!1}function g(n,t){u=n;y=t;r.conversations=r.conversations+r.conversationsQueryString;r.subscription=r.subscription+r.subscriptionQueryString;r.endpoint=r.endpoint+r.endpointQueryString}function nt(n){s=n;l()}function tt(n){e=n;h(r.endpoint,{},ft,et)}function it(n){e=n;h(r.longpoll,{},b,k)}function l(){wt(r.conversations,rt,ut)}function rt(n,t,i){a(i);ct(n);u.isError=!1;s()}function ut(n){n.status==404?(bt(n),a(n),l()):n.status==401&&w==!1?(w=!0,i.updateLiveCookies(ht)):n.status==500&&n.responseJSON!=null&&n.responseJSON.errorCode==1&&n.responseJSON.message=="Getting linked skype id failed."?(u.isError=!1,s()):(i.logError("[skypeConversationUtility.js] API call to get skype conversation failed. "+JSON.stringify(n)),u.isError=!0,s())}function ft(n,t,i){a(i);h(r.subscription,{channelType:"httpLongPoll",template:"raw",interestedResources:["/v1/users/ME/contacts/ALL"]},ot,st)}function et(n){i.logError("[skypeConversationUtility.js] API call to create endpoint failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ot(n,t,i){r.longpoll=i.getResponseHeader("Location")+"/poll";h(r.longpoll,{},b,k)}function st(n){i.logError("[skypeConversationUtility.js] API call to create subscription failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function b(n){dt(n);u.isLongPollFinished=n.length==0?!0:!1;u.isOnlineStatusError=!1;e()}function k(n){i.logError("[skypeConversationUtility.js] API call for long polling failed. "+JSON.stringify(n));u.isOnlineStatusError=!0;u.isLongPollFinished=!0;e()}function ht(){l()}function ct(n){var t,r;n.conversations&&n.conversations.length!==0&&(t=lt(n.conversations),i.printSortedConversations(n.conversations,t),r=vt(n.conversations,t),at(n.conversations),yt(r),i.printRecentConversations(u))}function lt(n){for(var t,r=[],i=0;i<n.length;i++)t=n[i],t.lastMessage&&t.lastMessage.originalarrivaltime&&(t={index:i,originalArrivalTime:new Date(t.lastMessage.originalarrivaltime)},r.push(t));return r.sort(function(n,t){return t.originalArrivalTime-n.originalArrivalTime}),r}function at(n){for(var i,t=0;t<n.length;t++)i=n[t],i.id!==p&&d(i)&&u.missedConversations++}function vt(n,t){for(var r,f=[],e=0,u,i=0;i<t.length&&e<y.defaultCount;i++)u=t[i].index,r=n[u],r.lastMessage&&r.lastMessage.type&&r.id!==p&&(f.push(n[u]),e++);return f}function yt(n){for(var i,t=0;t<n.length;t++)i=new c,i.userId=n[t].id.substring(2,n[t].id.length),i.name=kt(n[t].id),i.missed=d(n[t]),n[t].lastMessage.messagetype==="Text"||n[t].lastMessage.messagetype==="RichText"?i.message=pt(n[t].lastMessage.content):n[t].lastMessage.messagetype==="Event/Call"?i.message=f.callMessageText:n[t].lastMessage.messagetype==="RichText/UriObject"||n[t].lastMessage.messagetype==="RichText/Files"?i.message=f.fileMessageText:n[t].lastMessage.messagetype==="Event/SkypeVideoMessage"?i.message=f.videoMessageText:n[t].lastMessage.messagetype==="RichText/Contacts"&&(i.message=f.contactMessageText),u.conversations.push(i)}function d(n){var i,r,t,u,f;return n.properties&&n.properties.consumptionhorizon&&(t=n.properties.consumptionhorizon.split(";"),t.length&&(i=parseInt(t[1],10))),n.lastMessage&&(u=new Date(n.lastMessage.originalarrivaltime),f=new Date(u.toUTCString()),r=+f),r>i?!0:!1}function pt(n){var t=n.indexOf("<"),i=n.indexOf(">");return t==-1&&i==-1?n:""}function wt(t,i,r){var f={},u={clientInfo:v};o?u.RegistrationToken=o:(f.withCredentials=!0,u.BehaviorOverride="redirectAs404");n.ajax({type:"GET",url:t,crossDomain:!0,headers:u,xhrFields:f,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}function h(t,i,r,u){var f={clientInfo:v,RegistrationToken:o};n.ajax({type:"POST",url:t,data:JSON.stringify(i),contentType:"application/json",crossDomain:!0,headers:f,success:function(n,t,i){typeof r=="function"&&r(n,t,i)},error:function(n,t,i){typeof u=="function"&&u(n,t,i)}})}function bt(n){var i,u,t;i=n.getResponseHeader("Location");u=i.indexOf("/v1");t=i.substring(0,u);r.conversations=t+r.conversationsQueryString;r.endpoint=t+r.endpointQueryString;r.subscription=t+r.subscriptionQueryString}function a(n){var t=n.getResponseHeader("Set-RegistrationToken");t&&(o=t)}function kt(n){var t=n.split(":");return t.length?t[t.length-1]:n}function dt(n){var t,f,r;if(n.eventMessages&&n.eventMessages.length!==0){for(f=gt(n.eventMessages),r=ni(f),t=0;t<r.length;t++)u.usersStatus.push(r[t]);i.printOnlineStatus(u)}}function gt(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],i.resourceType==="UserPresence"&&r.push(i);return r}function ni(n){for(var i,r,u=[],t=0;t<n.length;t++)i=n[t],i.resource&&(r={userId:ti(i.resource.selfLink),status:i.resource.status},u.push(r));return u}function ti(n){var i,t=null;return n?(i=n.split("/"),i.length>5&&(t=i[5]),t.substring(2,t.length)):t}var f=t.tile.integratedskype[1],r={conversationsQueryString:"/v1/users/ME/conversations?startTime=1&pageSize=100&view=msnp24Equivalent&targetType=Skype",endpointQueryString:"/v1/users/ME/endpoints",subscriptionQueryString:"/v1/users/ME/endpoints/SELF/subscriptions",conversations:f.chatServiceUrl,endpoint:f.chatServiceUrl,subscription:f.chatServiceUrl,longpoll:""},v="os=windows; osVer=8; proc=x86; lcid=en-us; deviceType=10; country=us; clientName=msn; clientVer=1.0",o=null,s=null,e=null,u=null,y=null,p="8:echo123",w=!1;return{init:g,fetchRecentConversations:nt,fetchOnlineStatus:tt,fetchNextOnlieStatus:it}});define("skypeContactsUtility",["jquery","skypeUtility","window"],function(n,t,i){function e(){if(!(this instanceof e))return new e;this.userId=null;this.name=null;this.photo=null;this.birthday=!1}function s(t){var u,e;r=t;e="https://"+i.location.hostname;u=n("html").attr("lang").toLowerCase()||"en-us";f.addressBook=e+"/"+u+f.addressBook}function h(n){u=n;r.isFetchingContacts=!0;y(f.addressBook,l,o)}function c(n){for(var i,u=[],t=0;t<r.contacts.length;t++)i=r.contacts[t].name.toLowerCase().indexOf(n.trim().toLowerCase()),i!=-1&&u.push(r.contacts[t]);return u}function l(n){if(n&&n.Error){o(n);return}a(n.Contacts);r.isContactError=!1;r.isFetchingContacts=!1;u()}function o(n){t.logError("[skypeContactsUtility.js] API call to get user skype contacts. "+JSON.stringify(n));r.isContactError=!0;r.isFetchingContacts=!1;u()}function a(n){var u,i,f=[];if(n)for(u=0;u<n.length;u++)if(i=new e,i.userId=n[u].ObjectId,i.name=n[u].OrderedName,i.photo=n[u].AvatarUrl,i.birthday=v(n[u]),i.userId!=null&&i.name!=null)if(i.userId==="echo123")continue;else f.push(i);f.sort(function(n,t){var i,r;return(i=n.name.toLowerCase(),r=t.name.toLowerCase(),i<r)?-1:i>r?1:0});r.contacts=f;t.printContacts(r)}function v(n){if(!n.Birthday)return!1;var t=new Date(n.Birthday.match(/\d+/)[0]*1),r=t.getUTCDate(),u=t.getUTCMonth()+1,i=new Date,f=i.getUTCDate(),e=i.getUTCMonth()+1;return r==f&&u==e}function y(t,i,r){var u={};u.withCredentials=!0;n.ajax({type:"GET",url:t,crossDomain:!0,xhrFields:u,success:function(n,t,r){typeof i=="function"&&i(n,t,r)},error:function(n,t,i){typeof r=="function"&&r(n,t,i)}})}var r=null,u=null,f={addressBook:"/api/addressbook/"};return{init:s,fetchContacts:h,searchContacts:c}});define("skypeRenderUtility",["jquery","meModule.Tokens","window"],function(n,t,i){function a(n,t){r=n;f=t}function v(){var n,t,i,u;if(!r.isContactError){for(u=f.$recentConversations.clone(!0),n=0;n<r.usersIndex.length;n++)for(t=0;t<r.contacts.length;t++)if(r.usersIndex[n].userId===r.contacts[t].userId){i=u.find("ul > :nth-child("+(r.usersIndex[n].index+1)+")");y(n,t,i);p(n,t,i);w(n,t,i);break}f.$recentConversations.replaceWith(u);f.$recentConversations=u}}function y(n,t,i){var e,u,o;r.contacts[t].photo&&(o=b(r.usersIndex[n].index+1),u='<div style="background:url('+r.contacts[t].photo+') no-repeat">',u+='<div class="'+f.userPhotoClass+" "+o+'">',u+="<\/div>",e=i.find("> :first-child"),e.replaceWith(u))}function p(n,t,i){var u;r.contacts[t].name&&(u=i.find("> :nth-child(2) h3"),u.html(r.contacts[t].name))}function w(n,t,i){var u;r.contacts[t].birthday&&(u=i.find("> :nth-child(3) > div:first-child"),u.addClass(f.birthdayClass))}function b(n){var t,i=e.offline;return t=f.$recentConversations.find("ul > :nth-child("+n+") > :first-child > div"),t.hasClass(e.available)?i=e.available:t.hasClass(e.idle)?i=e.idle:t.hasClass(e.busy)&&(i=e.busy),i}function k(){r.isOnlineStatusError||s(!0)}function d(){r.isOnlineStatusError||s(!1)}function s(t){var i,l,s,a,e,h,o,u,c;for(t?(u=r.usersIndex,c=".recentconversations"):(u=r.searchContactsUsersIndex,c=".searchresultcontacts"),a=n(c+" ul"),i=0;i<u.length;i++)l=g(u[i].userId),s=nt(l),e=a.find("> :nth-child("+(u[i].index+1)+") > :first-child"),h=e.find("div"),o=e.hasClass(f.defaultPhotoClass)?'<div class="'+f.defaultUserPhotoClass+" "+s+'">':'<div class="'+f.userPhotoClass+" "+s+'">',o+="<\/div>",h.length?h.replaceWith(o):e.append(o)}function g(n){for(var t=0;t<r.usersStatus.length;t++)if(r.usersStatus[t].userId==n)return r.usersStatus[t].status;return o.offline}function nt(n){return n==o.online||n==o.onThePhone?e.available:n==o.idle||n==o.away||n==o.outToLunch||n==o.beRightBack?e.idle:n==o.busy?e.busy:(n==o.offline,e.offline)}function tt(){require({js:(i.location.protocol==="https:"?"https://secure":"http://www")+".skypeassets.com/i/scom/js/skype-uri.js"},["window.Skype"],function(t){for(var i=0;i<r.skypeButtons.length;i++)h(r.skypeButtons[i]);n(".integratedskype > div > ul > li:first-child").html('<div id="SkypeButton_Launch"><\/div>');t.ui({element:"SkypeButton_Launch",imageSize:10});n("#SkypeButton_Launch > p > a").html(u.launchText)})}function it(){for(var n=0;n<r.searchContactsSkypeButtons.length;n++)h(r.searchContactsSkypeButtons[n])}function h(t){i.Skype&&(i.Skype.ui({name:"chat",element:t.messageIconId,participants:[t.userId],imageSize:10}),i.Skype.ui({name:"call",element:t.videoIconId,participants:[t.userId],imageSize:10,video:!0}),i.Skype.ui({name:"call",element:t.phoneIconId,participants:[t.userId],imageSize:10}));n("#"+t.messageIconId+" > p > a").html('<div class="skypeicon" title="'+u.chatButtonText+'"><span>SkypeMessage<\/span><\/div>');n("#"+t.videoIconId+" > p > a").html('<div class="skypeicon" title="'+u.videoButtonText+'"><span>SkypeVideo<\/span><\/div>');n("#"+t.phoneIconId+" > p > a").html('<div class="skypeicon" title="'+u.audioButtonText+'"><span>SkypeCall<\/span><\/div>')}function rt(){var n='<div class="skypecontacts">';return n+="<div><h3>"+u.contactsText+"<\/h3><\/div>",n+="<div>",n+='<input type="search">',n+='<button type="button"><span style="display:none">Skype Contact Search<\/span><\/button>',n+="<\/div>",n+='<div class="searchresultcontacts"><\/div>',n+"<\/div>"}function ut(){return'<p class="meloading"><\/p>'}function ft(){return"<p>"+u.emptySearchContactsText+"<\/p>"}function et(n){for(var u,f=n.length>4?!0:!1,i="<ul>",t=0;t<n.length;t++)i+=ot(n[t],f),u={userId:n[t].userId,index:t},r.searchContactsUsersIndex.push(u);return i+"<\/ul>"}function ot(n,t){var i;return i="<li>",i+=c(n.photo),i+=st(n,t),i+=ht(n),i+=ct(n),i+"<\/li>"}function st(n,t){var i;return i=t?'<div class="sb">':"<div>",i+="<h3>"+n.name+"<\/h3>",i+"<\/div>"}function ht(n){var t;return t="<div",n.birthday&&(t+=' class="'+f.birthdayClass+'"'),t+"><\/div>"}function ct(n){var t={},i;return i=l(n.userId,"contact_",t),r.searchContactsSkypeButtons.push(t),i}function lt(){var n,t,i;for(t='<div class="recentconversations">',t+="<h3>"+u.recentText+"<\/h3>",t+="<ul>",n=0;n<r.conversations.length;n++)t+=at(r.conversations[n]),i={userId:r.conversations[n].userId,index:n},r.usersIndex.push(i);return t+="<\/ul>",t+"<\/div>"}function at(n){var t;return t="<li>",t+=c(n.photo),t+=vt(n),t+=yt(n),t+=pt(n),t+"<\/li>"}function c(n){return n?'<div style="background:url('+n+') no-repeat"><\/div>':'<div class="defaultphoto"><\/div>'}function vt(n){var t;return t="<div>",t+="<h3>"+n.name+"<\/h3>",n.message&&(t+="<p>"+n.message+"<\/p>"),t+"<\/div>"}function yt(n){var t;return t="<div>",t+="<div><\/div>",t+="<div>",n.missed&&(t+="<div><\/div>"),t+="<\/div>",t+"<\/div>"}function pt(n){var t={},i;return i=l(n.userId,"",t),r.skypeButtons.push(t),i}function l(n,t,i){var r,u;return u=bt(n),i.userId=n,i.messageIconId="SkypeButton_Message_"+t+u,i.videoIconId="SkypeButton_Video_"+t+u,i.phoneIconId="SkypeButton_Phone_"+t+u,r="<div>",r+='<div id="'+i.messageIconId+'"><\/div>',r+='<div id="'+i.videoIconId+'"><\/div>',r+='<div id="'+i.phoneIconId+'"><\/div>',r+"<\/div>"}function wt(){var n='<div class="skypeerror">';return n+="<div><h3>"+u.contactsText+"<\/h3><\/div>",n+='<p class="meerror">'+u.errorMessage+"<\/p>",n+"<div>"}function bt(n){var r,t,u="",i;if(t=n.split(":"),t.length)r=t[t.length-1];else return n;for(t=r.split("."),i=0;i<t.length;i++)u+=t[i];return u}function kt(){var n='<div class="integratedskypeflyout '+f.linkSkypeAccountClass+'" >',t=u.linkAccountContentList.split("|");return n+="<section>",n+="<h2>"+u.headerText+"<\/h2>",t.length==3&&(n+="<ul>",n+="<li>"+t[0]+"<\/li>",n+="<li>"+t[1]+"<\/li>",n+="<li>"+t[2]+"<\/li>",n+="<\/ul>"),n+="<\/section>",n+="<h3>"+u.linkAccountText+"<\/h3>",n+="<p>"+u.linkAccountDisclaimerText+"<\/p>",n+='<button title="'+u.continueButtonText+'">'+u.continueButtonText+"<\/button>",n+='<a target="_blank" href="'+u.learnMoreUrl+'" title="'+u.learnMoreText+'">'+u.learnMoreText+"<\/a>",n+"<\/div>"}var u=t.tile.integratedskype[1],r=null,f=null,o={online:"Online",onThePhone:"OnThePhone",idle:"Idle",away:"Away",busy:"Busy",outToLunch:"OutToLunch",beRightBack:"BeRightBack",offline:"Offline"},e={available:"availablestatus",idle:"idlestatus",busy:"busystatus",offline:"offlinestatus"};return{init:a,getContactsMarkup:rt,getFetchingContactsMarkup:ut,getSearchContactsMarkup:et,getSearchContactsEmptyMarkup:ft,renderConversationSkypeIcons:tt,renderSearchContactsSkypeIcons:it,renderConversationOnlineStatus:k,renderSearchContactsOnlineStatus:d,getRecentConversationsMarkup:lt,getErrorMarkup:wt,renderConversationContacts:v,renderLinkAccountView:kt}});define("skypeUtility",["logging","window"],function(n,t){function r(n){var r,u,f;u="wlssc_frame";r=t.document.createElement("IFRAME");r.id=u;r.style.width="1px";r.style.height="1px";r.style.position="absolute";r.style.visibility="hidden";r.style.left="0px";r.style.bottom="0px";r.src="https://login.live.com";i("Skype is refreshing login.live cookies");t.document.body.appendChild(r);f=function(){var i=t.document.getElementById(u);i&&t.document.body.removeChild(i);typeof n=="function"&&n()};r.addEventListener?r.addEventListener("load",f,!0):r.attachEvent("onload",f)}function u(n,i){var r,u,f;u="linked_skypeid_frame";r=t.document.createElement("IFRAME");r.id=u;r.style.width="1px";r.style.height="1px";r.style.position="absolute";r.style.visibility="hidden";r.style.left="0px";r.style.bottom="0px";r.src="https://login.skype.com/login/silent?client_id=738133&redirect_uri="+t.location.protocol+"//"+t.location.hostname+"&partner=999&response_type=postmessage";t.document.body.appendChild(r);f=function(r){var f,e;if(r.origin=="https://login.skype.com"){if(f=t.document.getElementById(u),f&&t.document.body.removeChild(f),e=JSON.parse(r.data),e.hasOwnProperty("error")&&e.error=="not_linked"&&typeof i=="function"){i();return}typeof n=="function"&&n()}};t.addEventListener?t.addEventListener("message",f,!1):t.attachEvent("onmessage",f)}function f(){}function e(){}function o(){}function s(){}function h(t){n.error(t)}function i(){}return{updateLiveCookies:r,isSkypeIdLinked:u,printSortedConversations:f,printRecentConversations:e,printOnlineStatus:o,printContacts:s,logError:h,logMessage:i}});define("meModule",["jquery","meModule.Tokens","headData","window","logging","perfPing","mediator","elementTrackingDecorator","location"],function(n,t,i,r,u,f,e,o,s){function y(n,t,i,r,u,f){var e=n.find(f.tasks[i]),o=e.find("span");r?(e.addClass(a),o.text((t.notifications||v).replace("{0}",u))):(e.removeClass(a),o.empty())}function w(n,t,i,r,u){n.find(u.notification).text(i?(t.notifications||v).replace("{0}",r):t.notificationEmpty||"")}function b(n,t,i,u){var f=(l.width-t)/2,e=(l.height-i-100)/2,o="status=0,toolbar=0,location=0,resizable=1,scrollbars=1,left="+f+",top="+e+",width="+t+",height="+i;u.preventDefault();r.open(n,"Login",o)}function k(t,i){if(i&&i.taskLinks&&i.taskLinks.trim()){var r=i.taskLinks.split(";");r.length&&(t.push("<ul>"),n.each(r,function(n,i){var r=i.split("|"),u;r[0]&&r[1]&&(u=r[0],t.push("<li><a target='_blank' data-piitxt='",u,"' href='",r[1],"'>",u,"<span><\/span><\/a><\/li>"))}),t.push("<\/ul>"))}}var l=r.screen,h="click",a="notifications",c=".popUpWindow",v="({0})",p="{0}+";return{info:{locale:n("html").attr("lang"),origin:s.protocol+"//"+s.host,httpsOrigin:"https://"+s.host},logAjaxError:function(n,t,i){n!="abort"&&(f.setMarker('[meModule] service error: "'+t+'" call failed with status of "'+n+'", '+i),f.getPayLoad(u.error))},updateFlyout:function(r,u,f,e,s,l){var v="",y=typeof e!="undefined"?e:i.signedin,tt=t.tile[u][y?1:0],a={},w,p,b,d;n.extend(!0,a,tt,f);v=["<section>"];a.headerUrl&&(w="<a href='"+a.headerUrl+"' target='_blank'><h3>"+a.header+"<\/h3><\/a>",p=o.setTrackingAttrs(n(w),r.find(this.selector.flyout),{defaults:{n:u+".flyout"},selector:"a"}),v.push(w));v.push("<div>");a.showProgress?v.push("<p class='meloading'>",a.content||"","<\/p>"):a.showError?v.push("<p class='meerror'>",a.errorMessage||"","<\/p>"):a.showNoContent?v.push("<p class='meerror'>",a.noContent||"","<\/p>"):y?v.push(a.content.length?a.content:"<p class='meerror'>"+a.noContent+"<\/p>"):(a.signedOutImageUrl&&v.push("<img src='",a.signedOutImageUrl,"' />"),v.push("<p>",a.content.length?a.content:a.ErrorMessage,"<\/p>"));v.push("<\/div>");!y&&a.footerText&&v.push("<a href='",a.footerUrl,"' class='mefoot'>",a.footerText,"<\/a>");v.push("<\/section>");k(v,a);var g=r.find(this.selector.flyout),it=o.setTrackingAttrs(n(v.join("")),g,{defaults:{n:u+".flyout"}}),nt=g.html(it);if(p&&p.length&&n("section > a",r).replaceWith(p),b=this.classNames.signout,d=this.classNames.signin,y){if(r.find(this.selector.flyoutFooter).off(c),typeof s=="string"&&(s=r.find(s)),s&&s.length&&l&&n.isFunction(l))s.off(h).on(h,l);n(nt).removeClass(b).addClass(d)}else n(nt).removeClass(d).addClass(b)},attachSignInPopupWindow:function(n,t,i,r){n.find(this.selector.flyoutFooter).off(c).on(h+c,b.bind(null,t,i,r))},selector:{flyout:".meflyout",flyouts:".meflyouts",notification:">a>h3>span",flyoutHeader:".meflyout>section>h3",flyoutFooter:".meflyout>section>.mefoot",contentDiv:".meflyout>section>div",contentItem:".meflyout>section>div p",contentList:".meflyout>section>div ul",taskLinks:".meflyout>ul>li>a",tasks:[".meflyout>ul>li>a:eq(0)",".meflyout>ul>li>a:eq(1)",".meflyout>ul>li>a:eq(2)",".meflyout>ul>li>a:eq(3)"]},classNames:{signout:"signout",signin:"signin"},updateNotifications:function(t,i,r,u,f){var s=t.closest(".stripeouter").find(".mestripe "+i),o=this.selector,e=f.count;f.maxNotifications&&e>f.maxNotifications&&(e=(u.notificationsTooMany||p).replace("{0}",f.maxNotifications));f.updateInTile&&w(s,u,f.displayNotification,e,o);f.updateInTask&&(n.isNumeric(r)?y(t,u,r,f.displayNotification,e,o):n(r).each(function(n,i){y(t,u,i.index,i.displayNotification,i.count,o)}))},ssoAutoRefresh:function(){var i=this,r=n(i.selector.flyouts);n.each(t.tile,function(n,u){var f,o,s,e;u[0].ssoAutoRefresh&&(f=r.children("."+n),o=f.find(i.selector.flyout).hasClass(i.classNames.signout),f.length&&o&&(s=t.tile[n][1],e=f.find("[data-module-id]"),e.html(s.content),i.updateFlyout(f,n,{content:e.length?e[0].outerHTML:" "},!0,null,null)))})},deferredFlyoutOnHover:function(n,t,i){var r=n.data("deferred");r?e.sub(t,i):i()},getMeModuleId:function(t){var i=n(".meflyouts .meflyoutcontainer").index(t);return n(".mestripe ul li").eq(i).attr("data-module-id")}}});define("outlookModel",["jquery","getCookie","outlookInbox.tokens","promise","headData","window","logging","setCookie","meModule","location"],function(n,t,i,r,u,f,e,o,s,h){function st(){return t(l.canaryCookieName)||""}function tt(){return u.dg?u.dg.indexOf(l.pcDgIdent)!=-1:!1}function ht(){a||(a=pt());var n=t(l.userMigratedCookieName)||"";return n&&n===a}function ct(){return y||(y=setTimeout(lt,l.timeoutInMs)),c||(c=new r(rt)),c}function lt(){f[k]=null;c&&(c.cancel(),c=null);d("[outlookModel.js] outlook preview api request timeout")}function d(n){e.error(n)}function it(){var t={};t.withCredentials=!0;n.ajax({type:"GET",url:ot,crossDomain:!0,xhrFields:t,timeout:l.timeoutForOutlookExchangeCallInMs,cache:!1,success:function(n){v();w(n);c=null},error:function(n,t){v();b("");c=null;d("[outlookModel.js] outlook exchange rest api call error textStatus: "+t+"\r\n")}})}function rt(t,i){w&&b||(w=t,b=i);nt&&ht()?it():(p=at(),n.ajax({type:"GET",url:p,jsonp:"cb",jsonpCallback:k,contentType:"application/json",dataType:"jsonp"}))}function at(){var i=tt()?l.numOfMsgForPc:l.numOfMsgForMobile,r={num:i,nocache:+new Date,mac:f.decodeURIComponent(st())},t=ut;return document.location.hostname.indexOf("betaplace")>=0&&(t=ft),p=t+"?"+n.param(r)}function vt(n){if(!c){v();return}n&&n.err&&!g&&n.err.client&&n.err.client.invalidmac?(g=!0,rt()):nt&&n&&n.err&&n.err.user&&n.err.user.exchangemigrated?(yt(),it()):n&&n.err?(v(),b(n),c=null,d("[outlookModel.js] error response from outlook preview mail api \r\n"+JSON.stringify(n.err))):(v(),w(n),c=null)}function yt(){a&&o(l.userMigratedCookieName,a,730)}function pt(){var n=t("ANON"),i,r;return n&&(i=n.indexOf("="),r=n.indexOf("&"),i!==-1&&r!==-1)?n.substring(i+1,r):(d("[outlookModel.js] MeStripe outlook mail - error getting ANID value, returning empty value"),"")}function v(){f[k]=null;y&&clearTimeout(y)}var l={timeoutInMs:15e3,timeoutForOutlookExchangeCallInMs:5e3,canaryCookieName:"WLMMAC",numOfMsgForPc:3,numOfMsgForMobile:0,pcDgIdent:".pc",globalFnName:"setOutlookData",userMigratedCookieName:"UMH2E"},c,ut=i.outlookPreviewApiUrl,ft=i.outlookPreviewApiUrlBetaplace,y,p,g=!1,w,b,a,nt=u.exchangeenabled,k=l.globalFnName+Math.floor(Math.random()*1e4+1)+ +new Date,et="https://"+h.host+"/"+s.info.locale,ot=et+"/homepage/OutlookMail/GetEmails";return f[k]=vt,{isPcDeviceGroup:tt,getOutlookData:ct}});define("meModule.Tokens",{tile:{mail:[{header:"Outlook.com",content:"Sign in with any Microsoft account: Outlook, Hotmail, MSN, Live.",footerText:"Sign in",footerUrl:"[[signin]]",taskLinks:""},{header:"Inbox",headerUrl:"https://mail.live.com/default.aspx",content:"Loading...",noContent:"Wow, you have a very clean inbox!",tileTitle:"Outlook.com",refreshPageErrorMessage:"We couldn't connect you to Outlook.com. Please refresh the page and try again later.",viewInboxErrorMessage:"If you continue to have a problem with viewing your inbox, please visit",taskLinks:"Compose|https://mail.live.com/default.aspx?rru=compose;Calendar|https://calendar.live.com/calendar/calendar.aspx",piiText:"Read Outlook Email",piiUrl:"http://www.hotmail.msn.com/pii/ReadOutlookEmail/"}],office:[{header:"Office",content:"See your recent documents, or start one for free with Office Online.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Word Online|https://office.live.com/start/Word.aspx?WT.mc_id=MSN_site;Excel Online|https://office.live.com/start/Excel.aspx?WT.mc_id=MSN_site;Sway|https://www.sway.com/?WT.mc_id=MSN_site&utm_source=MSN&utm_medium=Topnav&utm_campaign=link;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?WT.mc_id=MSN_site"},{header:"Recent documents",headerUrl:"https://onedrive.live.com/#qt=mru",content:"Loading...",noContent:"This folder is empty. Click below to create a new document.",errorMessage:"Couldn't connect to Office Online",errorFooterText:"Go to Office Online",taskLinks:"Word Online|https://office.live.com/start/Word.aspx?WT.mc_id=MSN_site;Excel Online|https://office.live.com/start/Excel.aspx?WT.mc_id=MSN_site;Sway|https://www.sway.com/?WT.mc_id=MSN_site&utm_source=MSN&utm_medium=Topnav&utm_campaign=link;PowerPoint Online|https://office.live.com/start/PowerPoint.aspx?WT.mc_id=MSN_site"}],onenote:[{header:"OneNote",content:"Sign in to your Microsoft account to see recent notes.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Quick Note|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"},{header:"Recent Notebooks",headerUrl:"https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_Recent&auth=1",content:"Loading...",noContent:"This folder is empty. Click below to create new notebook.",errorMessage:"Couldn't connect to OneNote Online",errorFooterText:"Go to OneNote Online",taskLinks:"Quick Note|https://www.onenote.com/notebooks?WT.mc_id=MSN_OneNote_QuickNote&auth=1"}],onedrive:[{header:"OneDrive",content:"Sign in to your Microsoft account to see recent OneDrive contents.",footerText:"Sign in",footerUrl:"[[signin]]",ssoAutoRefresh:!0,taskLinks:"Files|https://onedrive.live.com;Photos|https://onedrive.live.com/?qt=allmyphotos;Recent documents|https://onedrive.live.com/?qt=mru;Download the OneDrive app|https://onedrive.live.com/about/en/download/"},{header:"OneDrive",headerUrl:"https://onedrive.live.com?wt.mc_id=oo_msn_msnhomepage_header",content:"Loading...",errorMessage:"Couldn't connect to OneDrive",errorFooterText:"Go to OneDrive",taskLinks:"Files|https://onedrive.live.com;Photos|https://onedrive.live.com/?qt=mru;Recent documents|https://onedrive.live.com;Download the OneDrive app|https://onedrive.live.com/about/en/download/"}],finance:[{header:"",content:"",footerText:"",footerUrl:"",taskLinks:""},{header:"",headerUrl:"",content:"",errorMessage:"",taskLinks:""}],sports:[{header:"Scores - Live",content:"",footerText:"All scores",footerUrl:"/en-us/sports",taskLinks:""},{header:"Scores - Live",headerUrl:"/en-us/sports",content:"",errorMessage:"",taskLinks:""}],maps:[{header:"Maps",headerUrl:"",content:"",footerText:"",footerUrl:"",taskLinks:"me_maps_directions|http://www.bing.com/maps/directions;me_maps_traffic|http://www.bing.com/maps/?FORM=MSNMAP"},{header:"Maps",headerUrl:"",content:"",errorMessage:"",taskLinks:"me_maps_directions|http://www.bing.com/maps/directions;me_maps_traffic|http://www.bing.com/maps/?FORM=MSNMAP"}],skype:[{header:"Skype keeps the world talking",headerUrl:"",content:"Use Skype to call, see, message and share with others  wherever they are.",footerText:"Go to Skype.com",footerUrl:"http://www.skype.com",taskLinks:"me_skype_download|http://www.skype.com/go/onedrivepromo.download?cm_mmc=MSFT_2390_MSN-com"},{header:"Group video calling",headerUrl:"",content:"Now it's free to get the whole family together on the same video call.",errorMessage:"",taskLinks:""}],integratedskype:[{},{searchContactsText:"Search Contacts",emptySearchContactsText:"No contacts were found matching your search text",nameText:"Name",contactsText:"Contacts",recentText:"Recent",launchText:"Launch Skype",errorMessage:"Couldn't connect to Skype",chatButtonText:"Chat",audioButtonText:"Audio Call",videoButtonText:"Video Call",taskLinks:"Launch Skype|skype:;Download Skype|http://www.skype.com/go/onedrivepromo.download?cm_mmc=MSFT_2390_MSN-com",chatServiceUrl:"https://client-s.gateway.messenger.live.com",linkSkypeIdUrl:"https://login.skype.com/login/oauth/microsoft?client_id=738133",headerText:"Skype on MSN",linkAccountContentList:"See who's online|Notifications and missed messages|Voice calls and chats",linkAccountText:"Link your accounts",linkAccountDisclaimerText:"To get the full experience of Skype on MSN, link your Skype and Microsoft accounts.",continueButtonText:"Continue",learnMoreText:"Help",learnMoreUrl:"https://support.skype.com",callMessageText:"call",fileMessageText:"sent a file",videoMessageText:"video message",contactMessageText:"sent a contact"}],facebook:[{header:"Facebook",content:"Get your latest feed from Facebook",errorMessage:"Couldnt connect to Facebook",footerText:"Sign in",footerUrl:"#",taskLinks:""},{header:"Facebook",headerUrl:"http://www.facebook.com",content:"Loading...",noContent:"Your feed is currently empty",errorMessage:"Couldnt connect to Facebook",errorFooterText:"Go to Facebook",maxNotifications:"99",requestTimeout:"10000",likeUrl:"https://www.facebook.com/msnmalaysia",taskLinks:"Sign out|#"}],twitter:[{header:"Twitter",content:"Get your Twitter Updates",footerText:"Sign In",footerUrl:"https://twitter.com",requestTimeout:"10000",taskLinks:""},{header:"Tweets",headerUrl:"https://twitter.com",content:"Loading...",noContent:"Your timeline is currently empty",errorMessage:"Couldn't connect to Twitter",errorFooterText:"Go to Twitter",taskLinks:"Notifications|https://twitter.com/i/notifications;Me|#;Sign out|#"}],xbox:[{header:"Spotlight",content:"",footerText:"View All",footerUrl:"",taskLinks:"me_groove_taskLinks_store|https://www.microsoft.com/store/media/redirect/music?view=hub;me_groove_taskLinks_play|http://aka.ms/Ixhi8e;me_groove_taskLinks_try|http://aka.ms/msvmj1"},{header:"My amazing playlist",headerUrl:"http://aka.ms/qeqf5y",content:"",errorMessage:"",taskLinks:"me_groove_taskLinks_store|https://www.microsoft.com/store/media/redirect/music?view=hub;me_groove_taskLinks_play|http://aka.ms/Ixhi8e;me_groove_taskLinks_try|http://aka.ms/msvmj1"}],bingrewards:[{header:"Rewards",content:"Join Rewards and earn credits when you explore and search on MSN.",footerText:"Join now",footerUrl:"[[signin]]",signedOutImageUrl:"/Images/Homepage/me_bingrewards_signed_out.jpg",appendAddMoreTask:!0,showProgress:!0},{errorMessage:"Could not connect to Bing Rewards",taskLinks:"Redeem your credits|https://www.bing.com/rewards/redeem/all;Get help|https://www.bing.com/rewards/faq",appendAddMoreTask:!0,signInText:"Sign in",msaSignInDesc:"Already a Bing Rewards Member?",rewardsSignInDesc:"Become a Bing Rewards Member today.",joinNowText:"Join now",joinNowUrl:"http://www.bing.com/explore/rewards-msn?FORM=MA12LM&PUBL=BINGCOMBEX&CREA=MA12LM&Programname=REWARDS-MSN",hdrText:"Bing Rewards",hdrDesc:"Explore and search on MSN. Earn free Rewards.",subhdrtext:"Earn and explore",rewardsApiUrl:"https://www.bing.com/msrewards/api/v1/getuserinfo",rewardsPartnerID:"79E3A169-6A98-49E1-ADB9-ED64666CC743",rewardsChannel:"Msn",offerLayoutType:"MissionTaskLayout",maxOfferCount:4,emptyOfferMsg:"Offers are unavailable at the moment.",maxNotifications:"9999"}],store:[{header:"Microsoft Store",taskLinks:"me_store_taskLinks_surface|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MESurf&url=http://www.microsoftstore.com/store/msusa/en_US/cat/All-Surface/categoryID.69403400?icid=MSN_surface;me_store_taskLinks_windows|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEWin10&url=http://www.microsoftstore.com/store/msusa/en_US/cat/Windows/categoryID.70036700?icid=MSN_Win10;me_store_taskLinks_support|http://clk.tradedoubler.com/click?p=261853&a=2811279&g=0&epi=Prime_ENUS_HP_MEstoreSupport&url=http://www.microsoftstore.com/help"},{header:"Microsoft Store",headerUrl:"http://clk.tradedoubler.com/click?p=240150&a=2811271&g=0&epi=Prime_ENMY_HP_MeStoreH&url=http://www.microsoftstore.com/store/msapac/home/locale.en_GB/ThemeID.31743200/mktp.MY/Currency.MYR?icid=MSN_storeHL",taskLinks:"me_store_taskLinks_windows|http://clk.tradedoubler.com/click?p=240150&a=2811271&g=0&epi=Prime_ENMY_HP_ME&url=http://www.microsoftstore.com/store/msapac/en_GB/cat/Windows/categoryID.70040000;me_store_taskLinks_support|http://clk.tradedoubler.com/click?p=240150&a=2811271&g=0&epi=Prime_ENMY_HP_ME&url=http://www.microsoftstore.com/store/msapac/en_GB/DisplayHelpContactUsPage /"}],yahoomail:[{header:"Yahoo Mail",content:"Sign in to view your emails",footerText:"Sign in",footerUrl:"https://mail.yahoo.com",taskLinks:""},{header:"Inbox",headerUrl:"https://mail.yahoo.com",content:"Loading...",noContent:"There are no emails in your Inbox folder.",errorMessage:"Couldn't connect to Yahoo Mail",errorFooterText:"Go to Yahoo Mail",maxNotifications:"9999",requestTimeout:"10000",taskLinks:"Compose|https://mrd.mail.yahoo.com/compose;Calendar|https://calendar.yahoo.com/;Sign out|#",contentEmpty:"There are no emails in your Inbox folder."}],gmail:[{header:"Gmail",content:"Sign in to view your emails",footerText:"Sign in",footerUrl:"",taskLinks:""},{header:"Inbox",headerUrl:"https://www.gmail.com",content:"Loading...",noContent:"There are no emails in your Inbox folder.",errorMessage:"Couldn't connect to Gmail",errorFooterText:"Go to Gmail",maxNotifications:"9999",requestTimeout:"10000",taskLinks:"Compose|https://mail.google.com/mail/?view=cm;Google Calendar|https://www.google.com/calendar;Sign out|#",contentEmpty:"There are no emails in your Inbox folder."}],mailProviderOptions:[{mailTileRemovedEvent:"mailTileRemovedEvent"}]}});define("outlookInbox.tokens",{outlookPreviewApiUrl:"https://hotmailproxy.msn.com/pm/v1.0/getheaders.aspx",outlookPreviewApiUrlBetaplace:"https://hotmailproxy.betaplace.com/pm/v1.0/getheaders.aspx"});define("pagingSection",["jquery","jqBehavior","modernizr","pagingAnimator","device","pointerEvents","touchGestures","touchDataManager","requestAnimationFrame","format","imgSrc","paging.tokens","dir.tokens","viewAware","mediator","window","perfMarker","navigator","document","c.deferred"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function lt(t,i){function gi(){et=n("<button class='leftarrow'><\/button>");ot=n("<button class='rightarrow'><\/button>");at.prepend(et).append(ot)}function nr(n){i.contentSelector=n||i.contentSelector;f=at.find(i.contentSelector);lt=r(f);g&&lt.setup();ir();i.rememberLastKnownIndex&&(ti=at.data("pagesection-name"))}function tr(){b>1&&rr();g&&lt.teardown();y.unsub(ut,fr)}function hr(){c.loadInViewport&&s(function(){f.attr(c.dataOffsetAttr,Math.round(-u*v*d)+";0");c.loadInViewport(at[0])})}function ir(){s(cr)}function cr(){for(var o,s,t,h,e=yi,c=f.length,r=0;r<c;r++)if(pt.children().length&&(pt.empty(),et.removeClass(yt),ot.removeClass(yt),gt(f,0)),w=bi=vt=ki=nt=b=u=0,i.rememberLastKnownIndex&&ti&&(u=n("head").data(di+ti)||u),bt=kt=wt=!1,wi=pt.offset().left,o=e[0].clientWidth||e.outerWidth(!1),v=o+i.columnGap+i.scrollOffset,v)if(b=Math.ceil(f[r].scrollWidth/v),y.sub(ut,fr),b>1){for(g&&lt.initialize(b,v,i.columnGap,u),vr(),ui||lr(),ct=[],s=v/2,t=0;t<b;t++)ct[t]=v*t+s-1;ri=f[0].scrollWidth;si(0);g||u==0||(h=or(-1,u)*d,gt(f,h));er()}else ui&&rr()}function lr(){ar(f);et.on("click",hi);ot.on("click",hi);y.sub(ft,ur);ui=!0}function rr(){at.off("gesture");et.off("click",hi);ot.off("click",hi);y.unsub(ft,ur);ui=!1}function ur(n){f[0]===n.elem&&(g&&(u+=n.direction*-1,si()),ai())}function fr(n){f[0]===n&&(tr(),nr())}function ar(n){if(e.settings.touchSupported&&!g&&n.data("gesture")!==!0){n.on("gesture",{direction:"horizontal"},pr);n.data("gesture",!0)}}function er(){b>1&&(kt?ot.addClass(yt):ot.removeClass(yt),bt?et.addClass(yt):et.removeClass(yt),i.extendedArrows&&(kt||bt)&&et.add(ot).text(h(l.pagingArrowText,u+1,b)))}function oi(t){ni||s(function(){ni=!0;var r=or(t)*d;u+=t*-1;i.rememberLastKnownIndex&&ti&&n("head").data(di+ti,u);g?(lt.incrementViewPort(t,tt,rt),si()):(lt.animationStarting(f),gt(f,r,tt,rt));p.setTimeout(ai,i.autoHideArrowMS)})}function ai(){s(function(){g||lt.animationCompleted(f);wt=ni=!1;yr();er();hr();y.pub(ht,ei)})}function si(n){g?(bt=lt.allowScrollLeft(),kt=lt.allowScrollRight()):(bi=w,ki=vt,w=n*d,vt=ri+w,vt<0&&(vt=0),bt=w<0,kt=vt>v)}function vr(){for(var t,n=0;n<b;n++)t=k.createElement("span"),n==u&&(t.className="selected"),pt[0].appendChild(t);ci=pt.children();ii=ci.eq(u)}function yr(){ii&&ii.removeClass("selected");ii=n(ci[u]).addClass("selected")}function or(n,t){var u=t||1,r,f;return n==1?w<wi&&(fi!=0?(nt=w+fi,fi=0):nt=w+(v+dt)*u,nt>0&&(nt=0)):n==-1&&w<vt&&(nt=w-(v+dt)*u,w==0&&(nt+=dt),nt>vt&&(nt=vt),r=ri+nt+i.columnGap,!i.alwaysScrollCompletePage&&r<vt&&r<v&&(f=u>1?w-(v+dt)*(u-1):w,nt=f-r,fi=r)),nt}function sr(t){t&&!i.autoHideArrow?n(t).removeClass(yt):(et.removeClass(yt),ot.removeClass(yt))}function hi(n){ei="click";typeof n.originalEvent!="undefined"&&n.originalEvent&&n.originalEvent.pointerType==="touch"&&(ei="tap");n.target==ot[0]?u+1<b?oi(-1):sr(n.target):u>0?oi(1):sr(n.target);n.preventDefault()}function gt(n,t,i){if(t==undefined){var r=n.css("transform").split(","),u=4;r.length>6&&(u=12);t=parseFloat(r[u]);t=isNaN(t)?0:t}else si(t),i||(i=0),lt.animate(t,i,rt,it);return t}function vi(n){s(function(){var t=0,o=Math.abs(w),s,r,h;if(ni=!0,w>=0)t=0,u=0;else if(!i.alwaysScrollCompletePage&&ct[ct.length-1]<Math.abs(w))t=-ct[ct.length-1]*d,u=b-1;else if(o>v*(b-1))u=b-1,t=-v*u*d;else{if(n)s=!0,(a.ltr&&n==e.types.swipeRight||!a.ltr&&n==e.types.swipeLeft)&&(s=!1),s?u<b&&(u=u+1):u>0&&(u=u-1);else for(r=0;r<b;r++)if(o<=ct[r]){u=r;break}else if(o<v*(r+1)){u=r+1;break}t=-(v+dt)*u*d;u==1&&(t+=dt);i.alwaysScrollCompletePage||(h=ri-v+i.columnGap,Math.abs(t)>h&&(t=-h*d),b-1==u&&ct[ct.length-1]!=t&&(ct.pop(),ct.push(Math.abs(t))))}lt.animationStarting(f);gt(f,t,tt);p.setTimeout(ai,i.autoHideArrowMS)})}function pr(t){if(t.direction){ei="swipe";switch(t.current.touchType){case e.types.move:st&&!ni&&s(function(){wt?li.input(t.current.coord.x):(li.reset(t.current.coord.x),pi=gt(f),wt=!0);gt(f,pi+li.getDelta()|0)});break;case e.types.swipeUp:case e.types.swipeDown:case e.types.throwUp:case e.types.throwDown:case e.types.cancel:case e.types.stop:vi();break;case e.types.swipeRight:case e.types.throwRight:wt?vi(e.types.swipeRight):bt&&oi(1);break;case e.types.swipeLeft:case e.types.throwLeft:wt?vi(e.types.swipeLeft):kt&&oi(-1);break;case e.types.tap:var i=t.originalEvent.originalEvent,r=i.target,u=k.createEvent("MouseEvent");u.initMouseEvent("click",!1,!1,p,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null);r.tagName!=="A"&&(r=n(r).parentsUntil("LI","A")[0]);r&&r.dispatchEvent(u)}}}var at=t,f,et,ot,yi=i.useViewPortForWidthContainer?at:at.find(i.widthContainerSelector),pt=at.find("."+i.pagingClass);pt.length?(et=at.find(".leftarrow"),ot=at.find(".rightarrow"),et.length||gi()):(pt=n("<div class='"+i.pagingClass+"'><\/div>"),yi.append(pt),gi());var ci,ii,li=new o,wt=!1,ni=!1,pi,wi,w,ri,bi,vt,ki,ct,yt="show",nt,b,u,bt,kt,v,ui=!1,fi=0,lt,ti,di="pagingsection",dt=1,ei="";return{setup:nr,teardown:tr,update:ir}}var d,ct,ot;d=a.ltr?1:-1;var tt="400ms",it,nt="left",rt="cubicBezierQuint",ut="PagingContentUpdated",st=u.isCapable("ShowMoveTouchGestures"),ft="snapCompleted",g=b.msManipulationViewsEnabled,et=!1,ht="ViewabilityUpdatedEvent";return i.csstransforms3d&&u.isCapable("AllowTransform3d")?(nt="translate3d",it=nt+"({0}px, 0px, 0px)",et=!0):i.csstransforms&&u.isCapable("AllowTransform2d")&&(nt="translateX",it=nt+"({0}px)",et=!0),ct=n(p),ot={autoHideArrow:!1,autoHideArrowMS:250,alwaysScrollCompletePage:!1,contentSelector:".sectioncontent",columnGap:23,extendedArrows:!0,pagingClass:"paging",rememberLastKnownIndex:!1,scrollOffset:0,useViewPortForWidthContainer:!1,widthContainerSelector:".full-width"},t(lt,ot)});define("renderSectionAd",["jquery","jqBehavior","adLoad","c.dom"],function(n,t,i){function r(n,t){return{setup:function(){i.loadSectionAd(n[0],t.adItemSelector)}}}return t(r,{adItemSelector:".showcasead"})});define("autoRefresh",["jquery","jqBehavior","window","headData"],function(n,t,i,r){function u(t,u){function v(){n.isNumeric(u.timeout)&&(clearTimeout(s),s=i.setTimeout(w,u.timeout))}function y(){n.isNumeric(u.idleTimeout)&&(f=!1,clearTimeout(h),h=i.setTimeout(p,u.timeout))}function p(){f||(f=!0);c&&(i.location=a(i.location.href,l))}function w(){f?i.location=a(i.location.href,l):c=!0}function a(n,t){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),f=n.indexOf("?")!==-1?"&":"?",r,u;return n.match(i)?(r=n.match(i)[0].substring(4,5),u=parseInt(r)+1,n.replace(i,"$1"+t+"="+u+"$2")):n+f+t+"=1"}var e={},o=!1;r&&r.clientSettings&&r.clientSettings.autorefreshsettings&&(e={isEnabled:r.clientSettings.autorefreshsettings.is_market_enabled,timeout:r.clientSettings.autorefreshsettings.timeout,idle:r.clientSettings.autorefreshsettings.idle_enabled,idleTimeout:r.clientSettings.autorefreshsettings.idle_timeout},o=r.clientSettings.autorefresh);var s,h,f=!0,c=!1,l="AR";return{setup:function(){if(u=n.extend(!0,{},u,e),o&&u.isEnabled&&(n.isNumeric(u.timeout)&&(u.timeout=u.timeout*6e4),v(),u.idle))n(document).on(u.monitorEvents,y)}}}return t(u,{isEnabled:!1,timeout:1,idle:!0,idleTimeout:1,monitorEvents:"mousemove keypress"})});define("modal",["jquery","modal.tokens"],function(n,t){function s(){var n=document.createElement("div");return n.setAttribute("id",r),n.setAttribute("title",t.closeButtonTitle),n}function h(n){var t=document.createElement("section");return t.setAttribute("class",o),t.setAttribute("role","dialog"),t.setAttribute("aria-labelledby","dialog-title"),t.setAttribute("aria-describedby","dialog-desc"),n&&t.setAttribute("id",n),t}function a(n){var i=document.createElement("button");return i.setAttribute("class","close"),i.setAttribute("title",t.closeButtonTitle),i.click(function(){f.close(n)}),i}var r="mask",o="modal",c="error",i,u,e=220,l="<h1>"+t.errorMessageTitle+"<\/h1><p>"+t.errorMessageLabel+"<\/p>",f={open:function(t,v,y,p){var w,b;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){f.close(y)}));w=n("#"+y);w.length==0&&(b=h(),i.append(b),n("."+o+":not([id])").attr("id",y),w.load(v,function(t,i,r){i==="error"?(w.append(l).addClass(c),n("p",this).append(r.status+" "+r.statusText)):typeof p=="function"&&p(y);w.append(a(y))}));i.addClass(r);n("#"+r+", #"+y).fadeIn(e);n(".webkit > #"+y).show()},close:function(t){i=i||n("body");n("#"+r+", #"+t).fadeOut(e).hide();i.removeClass(r)},openModalWithContent:function(t,o,c,l){var y,a,v;i=i||n("body");u||(i.append(s()),u=n("#"+r),u.click(function(){l&&typeof l=="function"?l():f.close(o)}));y=n("#"+o);y.length==0&&(a=h(o),c&&(v=n("#"+c),v&&v.appendTo(a)),i.append(a));i.addClass(r);n("#"+r+", #"+o).fadeIn(e);n(".webkit > #"+o).show()}};return f});define("stripeMenuManager",["jqBehavior","jquery","window","headData","stripeMenuData","stripeMenuModal","mediator"],function(n,t,i,r,u,f,e){function h(n,h){function it(){var n=t(this).closest(h.sectionsContainerElements),r=n.find(".stripenav").eq(0).find("li:first-child"),u=r.text(),i=a.getSectionInfo(n).sectionId,e=h.sectionRemovedText.replace("%s",u);n.append('<span data-undo-id="'+i+'">'+e+'<\/span><button class="undo" data-undo-id="'+i+'"> '+h.sectionUndoText+'<\/button><button class="close" data-undo-id="'+i+'"/> ');t('button.undo[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();b(n,i)});t('button.close[data-undo-id="'+i+'"]').on("click",function(t){t.preventDefault();n.remove()});w();n.addClass("hide").removeClass("expanded");p(n);f.removeSection(i);a.removeSection(n,function(){},function(){b(n,i)})}function w(){t(h.hiddenStripes).remove()}function b(n,i){t('[data-undo-id="'+i+'"]').remove();n.removeClass("hide").addClass("expanded");d();p(n);f.addSection(i)}function rt(){k.call(this,!0)}function ut(){k.call(this,!1)}function k(n){var e,o;w();var s=!1,r=t(this).closest(h.sectionsContainerElements),f=t(h.sectionsContainerElements),u=r.prevAll(h.sectionsContainerElements).length;n&&u>0&&(e=f.eq(u-1),u===1&&(r.find(h.personalizationContextMenu).addClass(h.firstContextMenu),e.find(h.personalizationContextMenu).removeClass(h.firstContextMenu)),u===f.length-1&&(r.find(h.personalizationContextMenu).removeClass(h.lastContextMenu),e.find(h.personalizationContextMenu).addClass(h.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()-r.offset().top+e.offset().top),e.before(r),s=!0);!n&&u<f.length-1&&(o=f.eq(u+1),u===0&&(r.find(h.personalizationContextMenu).removeClass(h.firstContextMenu),o.find(h.personalizationContextMenu).addClass(h.firstContextMenu)),u===f.length-2&&(r.find(h.personalizationContextMenu).addClass(h.lastContextMenu),o.find(h.personalizationContextMenu).removeClass(h.lastContextMenu)),t(i).scrollTop(t(i).scrollTop()+o.offset().top-r.offset().top),o.after(r),s=!0);s&&d();l=!1}function d(){clearTimeout(c);c=setTimeout(g,h.reorderTimeout)}function g(){clearTimeout(c);c=null;var n=t(h.sectionsContainerElements);a.showSectionsInOrder(n)}function ft(){var n=t(this).closest(h.sectionsContainerElements);f.open(n)}function y(){t(h.expandedPersonalizationContextMenu).data(h.contextMenuExpanded,!1).removeClass(h.expandedMenuClass);v=!1}function et(n){y();n.data(h.contextMenuExpanded,!0).addClass(h.expandedMenuClass);v=!0}function ot(){o=t(this);r.clientSettings.lazyload.enabled&&!s?e.pub("startLazyLoad",""):nt()}function nt(){var n=o.closest(h.personalizationContextMenu);n.data(h.contextMenuExpanded)?y():et(n);l=!1;o=null}function st(){v&&l&&y();l=!0}function p(){var i=t(h.sectionsElements),n;t(h.personalizationContextMenu).removeClass(h.firstContextMenu+" "+h.lastContextMenu+" "+h.onlyContextMenu);i.first().find(h.personalizationContextMenu).addClass(h.firstContextMenu);i.last().find(h.personalizationContextMenu).addClass(h.lastContextMenu);n=t(h.sectionsContainerElements).not(".hide");n.length===1&&n.find(h.personalizationContextMenu).addClass(h.onlyContextMenu)}function tt(){var n="click";p();t(h.personalizationContextMenuExpander).off(n);t(h.removeSectionButtonClass).off(n);t(h.moveSectionUpButtonClass).off(n);t(h.moveSectionDownButtonClass).off(n);t(h.addBelowButtonClass).off(n);t(h.personalizationContextMenuExpander).on(n,ot);t(h.removeSectionButtonClass).on(n,it);t(h.moveSectionUpButtonClass).on(n,rt);t(h.moveSectionDownButtonClass).on(n,ut);t(h.addBelowButtonClass).on(n,ft);t(i).unload(function(){typeof c=="number"&&(clearTimeout(c),g())})}var a=new u,l=!0,v=!1,c=null;t(h.headerPersonalizationButton).on("click",function(){f.open()});return r.clientSettings.lazyload.enabled&&!s&&require([h.lazyLoadCanary],function(){s=!0;tt();o&&(nt(),l=!0)}),{setup:function(){t("body").on("click.hideContextMenu",st);f.initStripeMenuModal();tt()},teardown:function(){}}}var o,s=!1;return n(h,{addBelowButtonClass:".stripemenu .add",contextMenuExpanded:"menuExpanded",expandedMenuClass:"expanded",expandedPersonalizationContextMenu:".stripemenu.expanded",firstContextMenu:"first",lastContextMenu:"last",onlyContextMenu:"only",moveSectionDownButtonClass:".stripemenu .down",moveSectionUpButtonClass:".stripemenu .up",personalizationContextMenu:".stripemenu",personalizationContextMenuExpander:".stripemenu .edit",removeSectionButtonClass:".stripemenu .remove",sectionRemovedText:"%s section removed",sectionRemoveTimeout:2500,sectionsContainerElements:"#main > .stripecontainer",sectionsElements:".stripeouter:not(.mestripeouter)",sectionUndoText:"Undo",reorderTimeout:2e3,headerPersonalizationButton:"header ul[role='menu'] li button.personalization",hiddenStripes:".stripecontainer.hide",lazyLoadCanary:"c.lazyLoaded"})});define("stripeMenuModal",["jquery","modal","stripeMenuData","imgSrc","track","headData","mediator"],function(n,t,i,r,u,f,e){function et(){d=new i;s=n("#"+o.modalId);s.remove();nt();s.on("click",o.tileSelector,ot);s.on("click",it,yt);w=s.find(rt).one("click",y).one("click",y);b=s.find(ut);s.appendTo(n("body"))}function nt(){var i=n(o.sectionSelector),t=s.find(o.tileSelector);ft=t.length;l=0;c=[];t.each(function(t,r){var u=n(r),f,e;g&&!v?u.hasClass(h)||(l++,c.push(u.data(o.dialogSectionIdAttr))):(f=u.data(o.dialogSectionIdAttr),e=i.filter("[data-"+o.pageSectionIdAttr+"='"+f+"']"),!e.length||e.eq(0).hasClass(o.removedSectionClass)?u.addClass(h):(u.removeClass(h),l++,c.push(f)))})}function ot(t){var i,r,f;t.preventDefault();i=n(this);i.hasClass(h)?(i.removeClass(h),l++):l>1&&(i.addClass(h),l--);r=!i.hasClass(h);f=i.attr("data-stripe-id");u.trackEvent({type:"click_nonnav",target:this},"","",f+"|add="+r);t.stopPropagation()}function st(n){tt(n,!1);var t=c.indexOf(n);t>=0&&c.splice(t,1)}function ht(n){tt(n,!0);c.push(n)}function tt(n,t){if(s&&s.length){var i=s.find("button[data-"+o.dialogSectionIdAttr+"='"+n+"']");t?(i.removeClass(h),l++):(i.addClass(h),l--)}}function ct(){n("img",s).each(function(){r.reset(this)})}function lt(n){if(p=n,g&&!v)try{define.get(o.lazyLoadCanary);v=!0;k()}catch(t){e.pub("startLazyLoad","");require([o.lazyLoadCanary],function(){v=!0;k()})}else k()}function k(){ct();t.openModalWithContent(null,o.modalContainerId,o.modalId);s.show();w.off("click",y).one("click",y).removeClass("disabled");b.hide()}function at(){var u;a=[];var r={},t=[],i=n(o.sectionSelector).map(function(t,i){var u=n(i),f=u.data(o.pageSectionIdAttr);return r[f]=t,{id:f,path:o.pdpPath,shown:!u.hasClass(o.removedSectionClass)}});return s.find(o.tileSelector).each(function(u,f){var c=n(f),e=c.data(o.dialogSectionIdAttr),l=!c.hasClass(h),s=i[r[e]];s?(s.shown=l,s.shown&&a.push(e)):l&&(t.push({id:e,path:o.pdpPath,shown:!0}),a.push(e))}),t.length&&(u=i.length,p&&(u=r[p.data(o.pageSectionIdAttr)]+1),t.unshift(u,0),[].splice.apply(i,t)),i}function vt(){var t,n;if(a.length!==c.length)return!0;for(c.sort(),a.sort(),t=a.length,n=0;n<t;n++)if(a[n]!==c[n])return!0;return!1}function yt(){nt();t.close(o.modalContainerId)}function y(n){w.addClass("disabled");var r=at(),i=vt();i?(b.show(),d.updateSectionInfosInOrder(r,function(){location.reload(!0)})):t.close(o.modalContainerId);u.trackEvent({type:"click_nonnav",target:this},"","","done|dirty="+i);n.stopPropagation()}var o={pageSectionIdAttr:"section-id",dialogSectionIdAttr:"stripe-id",pdpPath:"MSNHomePage/Stripes",modalId:"stripemenuoptions",modalContainerId:"stripemenumodal",removedSectionClass:"hide",sectionSelector:".stripecontainer",tileSelector:"button[data-stripe-id]",lazyLoadCanary:"c.lazyLoaded"},h="pending",it=".close",rt=".done",ut=".loading",ft,l,d,p,w,b,s,c=[],a=[],g=f.clientSettings.lazyload.enabled||f.clientSettings.lazyload.enabled==="true",v=!1;return{initStripeMenuModal:et,removeSection:st,addSection:ht,open:lt,setConfig:function(t){n.extend(!0,o,t)}}});define("stripeMenuData",["jquery","headData"],function(n,t){function e(n,t){return t.pdpPathTemplate.replace("%sectionId",n)}function f(n,t){var i=n.attr(t.sectionIdAttributeName),r;return u[i]||(r=e(i,t),u[i]={sectionId:i,pdpPath:r}),u[i]}function o(n,t){return f(n,t).sectionId}function s(n,t){return f(n,t).pdpPath}function w(n,t){return{Id:n,State:t?"expanded":"hidden"}}function h(n,t,i){return{operation:"Add",path:t,payload:JSON.stringify(w(n,i))}}function c(n,t,i){var r=[];return r.push(h(n,t,i)),JSON.stringify(r)}function b(t){var i=n.map(t,function(n){return h(n.id,n.path,n.shown)});return JSON.stringify(i)}function l(n,t,i){return c(o(n,i),s(n,i),t)}function a(n,t,i){return c(n,e(n,i),t)}function k(t,i){return n.map(t,function(t){var r=n(t);return{id:o(r,i),path:s(r,i),shown:!0}})}function r(t,i,r){i=i||n.noop;r?t.then(function(n){i(n)},function(n){r(n)}):t.always(function(n){i(n)})}function v(i,r,u,f,e){if(r>=u)f&&f();else{var o=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:b(i[r])}),s=v.bind(null,i,r+1,u,f,e);o.then(s,function(n){e?e(n):f&&f(n)})}}function d(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!1,this._config)});r(e,u,f)}function g(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:l(i,!0,this._config)});r(e,u,f)}function nt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!1,this._config)});r(e,u,f)}function tt(i,u,f){var e=n.ajax({url:t.pdpdeltaupdateapi,type:"POST",data:a(i,!0,this._config)});r(e,u,f)}function it(n,t,i){var r=k(n,this._config);y(r,t,i)}function y(n,t,i){for(var u=[],r=0,f=n.length;r<f;r+=10)u.push(n.slice(r,r+10));v(u,0,u.length,t,i)}function i(t){var i={};n.extend(!0,i,p,t);this._config=i}var p={sectionIdAttributeName:"data-section-id",pdpPathTemplate:"MSNHomePage/Stripes"},u={};return i.prototype.removeSection=d,i.prototype.addSection=g,i.prototype.removeSectionById=nt,i.prototype.addSectionById=tt,i.prototype.showSectionsInOrder=it,i.prototype.updateSectionInfosInOrder=y,i.prototype.getSectionInfo=function(n){return f(n,this._config)},i});define("modal.tokens",{closeButtonTitle:"Close",errorMessageTitle:"Message:",errorMessageLabel:"Error loading content"});define("paging.tokens",{seeAllLink:"See all",pagingArrowText:"{0} of {1}"});define("skypeFirstRunBanner",["jquery","c.deferred"],function(n){function t(){n(".skypefirstrunbanner").click(n(this).remove)}return t(),{init:t}});require(["setCookie","c.deferred"],function(n){var t="timeZoneOffsetInMins";(function(){var i=new Date;n(t,i.getTimezoneOffset(),365,null,"/",null)})()});require(["jquery","headData","perfMarker","requestAnimationFrame","c.deferred"],function(n,t,i,r){function f(){var n=document.createElement("IFRAME");n.id="greenid_frame";n.style.color="rgb(0,0,0)";n.style.float="left";n.style.position="absolute";n.style.top="-100px";n.style.left="-200px";n.style.border="0px";n.style.display="none";n.src="https://fpt.msn.com/tags?session_id="+u;document.body.appendChild(n)}function e(){return(/\ba\:([^;]*)/.exec(document.getElementsByTagName("head")[0].getAttribute("data-info"))||{})[1]||""}if(t.greenidcallenabled){var u=e();u&&r(f)}});define("pageBindings",["binding","c.dom"],function(n){return function(t){n("truncate",".stripecontent h4,.stripecontent p,.meflyout>section p,.smalla h4,.todaymodule .title,.todaystripe .title,.todayprimemobile h4,.popularnowimagewithlinks p,.popularnowimagewithlinks .first .title,.eventsection .title",t).all();n("pagingSection",".oscars > .eventcontent").all({columnGap:0,scrollOffset:10,contentSelector:".scrollcontent",extendedArrows:!1,widthContainerSelector:".scrollcontent",alwaysScrollCompletePage:!0});var i=n.views.SIZE23COLUMN;n("pagingSection",".stripeouter:not(.mestripeouter)",t).view(i,{contentSelector:".stripe .paging-container",scrollOffset:0,alwaysScrollCompletePage:!1,columnGap:15,extendedArrows:!0,useViewPortForWidthContainer:!1,widthContainerSelector:".paging-container"});require(["c.deferred"],function(){var i=20;n("arrowScroll",".stripeouter.mestripeouter",t).all({scrollRegion:".mestripe",reduceScrollAmount:i});n("arrowScroll",".todaynavigation .full-width",t).all({scrollRegion:".sectioncontent",reduceScrollAmount:i});n("stripeMenuManager","body",t).all();n("autoRefresh","#main",t).all();n("outlookInbox",".meflyouts .mail",t).all();n("meTwitter",".meflyouts .twitter",t).all();n("meFacebook",".meflyouts .facebook",t).all();n("loadMeImages",".mestripe li.maps",t).all({imagesToLoad:".meflyouts .maps img"});n("loadMeImages",".mestripe li.xbox",t).all({imagesToLoad:".meflyouts .xbox section li img"});n("loadMeImages",".mestripe li.bingrewards",t).all({imagesToLoad:".meflyouts .bingrewards .signin section li img",flyout:".meflyouts .bingrewards .signin",selectOnHover:!0});n("loadMeImages",".mestripe li.store",t).all({imagesToLoad:".meflyouts .store section li img"});n("meIntegratedSkype",".meflyouts .integratedskype",t).all();n("meOffice",".meflyouts .office",t).all({eventName:"OfficeFlyoutVisible"});n("meOffice",".meflyouts .onenote",t).all({eventName:"OneNoteFlyoutVisible"})})}});require(["refreshPdpModules","c.sso"],function(n){n()});require(["meModule","c.sso"],function(n){n.ssoAutoRefresh()});require(["refreshPdpModules","c.pdp"],function(n){n()});define("pagingAnimator",["jquery","modernizr","jqueryPlus"],function(n,t){var i=t.translateXCss;return function(t){function r(n,r,u){var f={};f[i]=n+"px";t.animate(f,{queue:!1,duration:r,easing:u})}return{initialize:n.noop,animationStarting:n.noop,animate:r,animationCompleted:n.noop}}});define("meStripe",["jquery","jqBehavior","dom","document","dir.tokens","imgSrc","touchGestures","scrollStop","track","mediator","viewport","truncate","scrollLeft","requestAnimationFrame","window","perfMarker","setCookie","getCookie","meStripeTelemetry","navigation","navigator","location"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){function tt(t){function or(){fi=n(r);ht=n("body");at=n(y);tt=t.find(".mestripe");p=tt.find("> ul > li");vt=t.find(".meflyouts .meflyout");gt=a(tt[0]);yt=tt.outerWidth();lt="touchstart MSPointerDown pointerdown";si=pr()}function sr(){or();p.each(kr);ui();h.sub(c.sizeChangeEventName,ui);gr()?hr():bi()}function hr(){yr();at.on(ei,ki);ht.click(hi);nu()}function bi(){if(!oi)fi.on(dt,gi);o(tt,null).setup();tt.on("scroll",ri);tt.on("scrollStop",nr);t.on(dt+" "+lt,li);at.on(wi,tr);if(ri(),e.settings.touchSupported)p.children("a").on(si,ar);p.children("a").on("click touchend",function(){arguments[0].type===pt&&k.updateClickE1(n(this).parent());(n(this).attr("href")=="#"?cr:lr).apply(this,arguments)});h.subChannel("closeFlyout","meStripeBehavior",rt)}function hi(t){if(ut[0]!=t.target&&!n.contains(ut[0],t.target))return t.preventDefault(),t.stopPropagation(),ht.off(pt,hi),ci(),!1}function ki(t){ut[0]==t.target||n.contains(ut[0],t.target)||ci(t)}function ci(n){n&&n.isPropagationStopped()||(ht.off(ei,ci),ut.removeClass(ft),ot.removeClass(ft),bi())}function cr(i){if(i.type===pt&&!oi&&!vi(i.originalEvent)){var r=n(this).parent();t.addClass(ti);ai(p.index(r))}i.preventDefault();i.stopPropagation();n(this).blur()}function lr(t){if(t.type==="touchend"||oi||vi(t.originalEvent))return t.preventDefault(),t.stopPropagation(),!1;n(this).blur()}function li(){v(function(){t.find(".signout img").each(function(){f.go(this)})});t.off(dt+" "+lt,li)}function di(n){p.find(n.target).length||vt.find(n.target).length||(rt(),ht.off(lt,di))}function ar(){var i=n(this).parent();if(i.hasClass(ft))rt();else{if(kt)return;t.addClass(ti);ai(p.index(i));ht.on(lt,di)}}function gi(n){if(!kt&&!vi(n.originalEvent)){var i,r;i=u.ltr?n.originalEvent.pageX:y.innerWidth-n.originalEvent.pageX;r=n.originalEvent.pageY;r>=it.top&&r<=it.bottom&&i>=it.left&&i<=pi?vr(n.originalEvent,i):ct?i<ct.x1||i>ct.x2||r<ct.y1||r>ct.y2?rt():et!==!1&&(clearTimeout(et),et=!1,rt()):ii&&(t.removeClass(ti),et&&(clearTimeout(et),et=!1),ii=!1)}}function ri(n){var t=a(tt[0]);n?t!==gt&&(kt=!0,rt()):rt();gt=t}function nr(){kt=!1}function tr(n){rt(n)}function vr(t,i){var f,u,s=wt.length,e,o;for(ii||(et||(et=setTimeout(br,700)),ii=!0),f=i+gt-it.left,u=0;u<s;u++)if(f<wt[u]){bt!==u&&(e=p[u],o=r.elementFromPoint(t.clientX,t.clientY),n.contains(e,o)?ai(u):rt());break}}function yr(){ut=vt.eq(p.index(ot));v(function(){ut.find("img").each(function(){f.go(this)})});ot.addClass(ft);ur(ot,ut);ut.addClass(ft)}function ai(n){var t,r,f,e,i,o;kt||bt===n||(t=p.eq(n),r=vt.eq(n),f=t.data(),e=f&&f.name?f.name:"meTile",rt(),k.updateHoverAop(t,e),k.updateHoverE1(t),st=r.addClass(ft),t.addClass(ft),ni=setTimeout(function(){h.pub(e.split(" ")[0]+"FlyoutVisible");s.trackEvent({type:"mouseenter"},t,"",e)},250),r.attr("data-truncated")!=="true"&&r.find("> section ul > li").length&&(l(" > section p",r,null).setup(),r.attr("data-truncated","true")),bt=n,ur(t,st),i=st.offset(),o=st.outerWidth(),ct={x1:u.ltr?i.left:y.innerWidth-i.left-o,y1:i.top,x2:u.ltr?i.left+o:y.innerWidth-i.left,y2:i.top+st.outerHeight()})}function rt(t){if(st&&(!t||t.type!="blur"||!n("iframe").is(":focus"))){var r=p.eq(bt),i=r.data(),u=i&&i.name?i.name:"meTile";st.removeClass(ft);r.removeClass(ft);st=bt=ct=!1;ni&&(clearTimeout(ni),ni=!1);h.pub(u.split(" ")[0]+"FlyoutClosed")}}function ir(){var n;return n=tt.offset(),n.right=n.left+tt.outerWidth(),n.bottom=n.top+t.outerHeight(),n}function pr(){return"touchend MSPointerUp pointerup"}function ui(){if(!it){rr();return}var n=ir();(it.left!=n.left||it.top!=n.top||it.right!=n.right||it.bottom!=n.bottom)&&rr(n)}function rr(n){rt();yt=tt.outerWidth();it=n?n:ir();wr()}function wr(){wt=[];for(var t=0,i=p.length,n=0;n<i;n++)wt.push(t+=p[n].offsetWidth);pi=wt[n-1]+it.left}function br(){et=!1;t.addClass(ti)}function kr(){var t=n(this),r=i.text(this),u="app",f="mixed";t.hasClass(u)?r+="_"+u:t.hasClass(f)&&(r+="_"+f);t.data({name:r})}function gr(){return ot===undefined&&(ot=p.filter(fr)),ot.length}function vi(n){return n.pointerType&&n.pointerType!=="mouse"&&n.pointerType!==4}function ur(n,t){var r=t.outerWidth(),i=u.ltr?n.position().left:yt-n.position().left-n[0].offsetWidth,f=i+r;f>yt&&(i=u.ltr?n.position().left+n.outerWidth()-r:yt-n.position().left-r);u.ltr?t.css({left:i}):t.css({right:i})}function nu(){var i="skypefre",r="ocid",n=d.getParamsFromUrl(nt.href),t=n&&n[r]?n[r].toLowerCase():"",u=t=="sky2dhp"||t.indexOf("sk2")==0,f=b(i);u&&!f&&w(i,t,365,w.topDomain,"/")}var fi,ht,at,tt,p,vt,it,gt,yt,ni,ot,ut,ft="hover",ti="noflyoutdelay",yi="mestripefre",ei="keydown",fr="[data-firstrun]:first",pt="click",er=180,wt=[],pi,st=!1,bt=!1,ct=!1,ii=!1,et=!1,kt=!1,wi="blur MSOrientationChange orientationchange",oi=/(iPad|iPhone|iPod|Android)/g.test(g.userAgent),dt=g.pointerEnabled||g.msPointerEnabled?"pointermove MSPointerMove":"mousemove",lt,si;return{setup:function(){sr()},update:function(){p=tt.find("> ul > li");vt=t.find(".meflyouts .meflyout");ri();ui()},teardown:function(){h.unsub(c.sizeChangeEventName,ui);fi.off(dt,gi);tt.off("scroll",ri);tt.off("scrollStop",nr);t.off(dt+" "+lt,li);p.children("a").off(si).off("mouseup").off(pt);at.off(wi,tr);at.off(ei,ki);ht.off(pt,hi)}}}return t(tt)});define("outlookLogout",["jquery","jqBehavior","track","window"],function(n,t,i,r){function u(n){var t=n.data("outlook-url");n.click(function(){return r.open(t),i.trackEvent({type:"click",target:this}),!1})}return t(u)});define("meStripeTelemetry",["jquery","headData"],function(n,t){function l(n,t){var r=g(),u=nt();tt(n)&&(t+="_signedin");r.attr(i.attributes.aop,t);u.attr(i.attributes.aop,t)}function a(n){if(n.hasClass(i.classes.app)){var t=n.data(i.attributes.m);t&&t.y&&(delete t.y,delete t.l,n.attr(i.attributes.datam,JSON.stringify(t)))}}function v(n){if(n.hasClass(i.classes.app)){var t=n.data(i.attributes.m);t.y=18;t.l=t.n;n.attr(i.attributes.datam,JSON.stringify(t))}}function y(){u(i.tileClasses.outlook,i.flyoutClasses.outlook);u(i.tileClasses.onedrive,i.flyoutClasses.onedrive);r(i.tileClasses.maps,i.flyoutClasses.maps);r(i.tileClasses.xbox,i.flyoutClasses.xbox);r(i.tileClasses.oldskype,i.flyoutClasses.oldskype);r(i.tileClasses.store,i.flyoutClasses.store)}function p(){u(i.tileClasses.office,i.flyoutClasses.office)}function w(){u(i.tileClasses.onenote,i.flyoutClasses.onenote)}function b(){u(i.tileClasses.skype,i.flyoutClasses.skype)}function k(n){i.signedInStatus.facebook=n;n?r(i.tileClasses.facebook,i.flyoutClasses.facebook):f(i.tileClasses.facebook,i.flyoutClasses.facebook)}function d(n){i.signedInStatus.twitter=n;n?r(i.tileClasses.twitter,i.flyoutClasses.twitter):f(i.tileClasses.twitter,i.flyoutClasses.twitter)}function u(n,i){t.signedin?r(n,i):f(n,i)}function f(n,t){var r=e(n),u,f;r.length&&(u=o(t),f=u.find(i.classes.section),r.attr(i.attributes.aop,i.aopValues.tile),f.attr(i.attributes.aop,i.aopValues.signin))}function r(n,t){var r=e(n);if(r.length){var u=o(t),f=u.find(i.classes.section),s=u.find(i.classes.tasks);r.attr(i.attributes.aop,i.aopValues.tile);f.attr(i.attributes.aop,i.aopValues.section);s.attr(i.attributes.aop,i.aopValues.task)}}function e(n){return h(),i.elements.tiles.filter(n)}function o(n){return c(),i.elements.flyouts.filter(n)}function g(){return i.elements.tilesParent||(h(),i.elements.tilesParent=i.elements.tiles.eq(0).parent()),i.elements.tilesParent}function nt(){return i.elements.flyoutParent||(c(),i.elements.flyoutParent=i.elements.flyouts.eq(0).parent()),i.elements.flyoutParent}function s(){return i.elements.main||(i.elements.main=n("#main")),i.elements.main}function h(){if(!i.elements.tiles){var n=s();i.elements.tiles=n.find(i.classes.tiles)}}function c(){if(!i.elements.flyouts){var n=s();i.elements.flyouts=n.find(i.classes.flyouts)}}function tt(n){return n.hasClass("facebook")?i.signedInStatus.facebook:n.hasClass("twitter")?i.signedInStatus.twitter:t.signedin}var i={attributes:{aop:"data-aop",datam:"data-m",m:"m"},elements:{main:null,tiles:null,flyouts:null,tilesParent:null,flyoutParent:null},classes:{tiles:"div.mestripe > ul li",flyouts:"div.meflyouts  > div",section:"> div > section",tasks:"> div > ul",app:"app"},tileClasses:{outlook:"li.mail",skype:"li.integratedskype",oldskype:"li.skype",office:"li.office",onenote:"li.onenote",onedrive:"li.onedrive",maps:"li.maps",facebook:"li.facebook",twitter:"li.twitter",store:"div.store",xbox:"li.xbox"},flyoutClasses:{outlook:"div.mail",skype:"div.integratedskype",oldskype:"div.skype",office:"div.office",onenote:"div.onenote",onedrive:"div.onedrive",maps:"div.maps",facebook:"div.facebook",twitter:"div.twitter",store:"div.store",xbox:"div.xbox"},aopValues:{tile:"tile",signin:"signin",section:"section",task:"task"},signedInStatus:{facebook:!1,twitter:!1}};return{updateFacebookAop:k,updateHoverAop:l,updateHoverE1:a,updateClickE1:v,updateOutlookAop:y,updateOfficeAop:p,updateOnenoteAop:w,updateSkypeAop:b,updateTwitterAop:d}});define("keypressCapture",["jquery","jqBehavior","mediator","perfMarker","window","document"],function(n,t,i,r,u,f){function s(t,u){function a(){h=!0}function v(){h||n(this).focus()}function c(t){t.charCode>32&&t.charCode<=126&&n(t.target).is(l)&&s.focus()}var s=n(u.focusSelector),l=":not(input,textarea,select,{selector})".replace("{selector}",u.focusSelector),h=!1,f;o.one("focusin mousedown touchstart",a);s.one("keypress",v);return f={setup:function(){t.on("keypress",c);e||(e=!0,r("TimeToFirstSearchInteractive",!0))},teardown:function(){t.off("keypress",c)}},i.sub("feedback.open",f.teardown),i.sub("feedback.close",f.setup),f}var o=n(f),e;return t(s,{focusSelector:""})});define("skypeUserFirstRunExperience",["jquery","track","imgSrc","window","c.dom"],function(n,t,i,r){function c(){if(u.length){e=n("body,.stripeouter.mestripeouter");h=n("#skypefrecontinue");o="keydown";s="skypefreoverlay";a();u.click(f);n(r).on(o,l);e.addClass(s);h.focus()}}function f(i){i.stopPropagation();i.preventDefault();n(r).off(o,l);u.off("click",f);e.removeClass(s);t.trackEvent({type:"click_nonnav",target:this},null,"skypefredialog");u.remove()}function l(n){f(n)}function a(){n("#skypefredialog img").each(function(){i.go(this)})}var u=n("#skypefredialog,#skypefrecontinue,#skypefreclose"),e,h,o,s;return c(),{init:c,trackAndDismiss:f}});define("nativeAdTrackingHelper",["jquery","elementTrackingDecorator","trackInfo","format","trackingHelper"],function(n,t,i,r,u){function c(i,r){if(i&&r){var u=n(i),e=u.parent();r.elementOverride=f;t.setTrackingAttrs(u,e,r)}}function f(t,r){var f=n(t),e=f.is("[data-item-id]")?f.index():f.closest("[data-item-id]").index(),u;e!==-1&&r.Items?(u=r.Items[e],u&&(r.l=u.trackingId,r.n=s.format(u.type),r.y=u.trackingType,u.trackingType!=i.telemetryModuleTypes.appStore||f.logger_url||n.each(f.find("a"),function(n,t){t.logger_url=t.logger_url.replace(/&redir=(.*)&/,"&redir="+u.url+"&")}))):r.n=o;r.Items=undefined}function e(n){var t,r,f;n.url&&(n.url.indexOf("://")>-1&&!(n.url.indexOf("ms-windows-store")>-1)?(t=n.url.split("/")[2],t.indexOf("msn.com")>-1?(n.trackingType=i.telemetryModuleTypes.Headline,n.trackingId=n.url.split("?")[0].split("-").pop()):n.trackingType=i.telemetryModuleTypes.Module):(t=n.url.split("/")[0],t.indexOf("ms-windows-store")>-1&&(r=decodeURIComponent(n.url).match(h),f=r&&r.length>1&&r[1],f||(n.trackingType=i.telemetryModuleTypes.appStore,n.trackingId=n.url.split("&")[0].split("=").pop(),n.url=encodeURIComponent(u.addCcidToStoreUrl(n.url))))))}function l(t){var i={selector:"a,div[data-item-id]"},r=i.defaults||{},u={};n.each(t.detail.items,function(n,t){e(t);u[t.slot]=t});r.Items=u;i.defaults=r;c(t.detail.container,i)}var o="TaboolaAttributionLink",s="Taboola{0}Item",h=/[&?]ccid=([^&]+)/i;return{taboolaCallback:f,setTrackingAttributes:e,onTaboolaElementsRender:l}});define("externalNativeAdsLoader",["jquery","jqBehavior","nativeAdTrackingHelper","c.deferred"],function(n,t,i){function r(n){var f,u,e,t;f={"10":"//a.postrelease.com/serve/load.js","20":"//ib.3lift.com/ttj?inv_code=msn_main_infopane","21":"//ib.3lift.com/ttj?inv_code=msn_main_river","30":"//widgets.outbrain.com/external/publishers/msn/MSNOBCore.min.js","40":"//cdn.taboola.com/libtrc/msn-home-network/loader.js","50":"//static.grvcdn.com/personalization/js-src/msn-14f1a20a34a9356b91dd8b860925478c/hostedSnippet-pl-401-sp-6804.js","60":"//cdn.taboola.com/libtrc/msn-section-network/loader.js"};var r=[],c=n.attr("data-nativead"),l="data-ad-tag",o=c.split(";");for(t=0;t<o.length;t++)if(u=o[t].split("_"),u.length>2){var s=u[0],a=u[1],v=u[2],h=n.find(v).first();h.length&&(e=f[s],e&&(h.attr(l,s+":"+a+":"+t),r.indexOf(e)<0&&r.push(e)))}for(require({js:r}),t=0;t<r.length;t++)(r[t]===f[40]||r[t]===f[60])&&(window._taboola=[],_taboola.push({listenTo:"render",handler:i.onTaboolaElementsRender}),_taboola.push({flush:!0}))}return t(r)});require(["binding","perfMarker","c.dom"],function(n){n("externalNativeAdsLoader","#main [data-nativead]").all()});define("likePrompt.tokens",{supportedReferrerList:"facebook.com",likeStripText:"Never miss another interesting story. Like MSN on Facebook",referralBasedLikePromptHeaderText:"Take a moment to Like MSN.",referralBasedLikePromptBodyText:"Join millions of fans to get the best online content on Facebook",sharingBasedLikePromptHeaderText:"Did you find the story interesting?",sharingBasedLikePromptBodyText:"Like us on Facebook to see similar stories",startPagePromptDisplayCycle:"10",startPageMaxDisplayCountForLikePrompt:"21",maxDisplayCountForLikePromptAcrossAllEntryPoints:"2",maxShareCountForLikePrompt:"13",maxReferralCountForLikePrompt:"21",shareCountCycle:"3",referralCountCycle:"10",facebookLang:"en_US",fbMsnUrl:"https://www.facebook.com/msnmalaysia"});define("likePrompt",["jquery","jqBehavior","window","getCookie","setCookie","track","likePrompt.tokens","trackInfo","format","escape","document","navigation"],function(n,t,i,r,u,f,e,o,s,h,c,l){function a(t){function ut(){k===st?(ct.textContent=e.referralBasedLikePromptHeaderText,lt.textContent=e.referralBasedLikePromptBodyText):(ct.textContent=e.sharingBasedLikePromptHeaderText,lt.textContent=e.sharingBasedLikePromptBodyText)}function at(){h.stop().hide();p.removeClass("disablefblink");g.add(h).add(nt).add(p).off("click")}function vt(n,t,i){f.trackEvent({type:n,target:t},"","",i,k,d)}function yt(){vt("click_nonnav",g,"Like Prompt Closed - Prompt Display Count #"+tt);s&&!v&&i.open(t.attr("href"),"_blank");at()}function dt(n){at();n.stopImmediatePropagation();n.preventDefault();u(w,"true",y,u.topDomain,"/");vt("click_nonnav",nt,"User disabled the prompt - Prompt Display Count #"+tt);s&&!v&&i.open(t.attr("href"),"_blank")}function gt(t){!n(t.target).closest(".fbpopup").length&&h.is(":visible")&&yt()}function ni(){h.delay(1e3).show();setTimeout(function(){i.FB&&i.FB.XFBML.parse(n(".fbpopup")[0])},200);g.add(p).on("click",function(n){n.stopImmediatePropagation();n.preventDefault();yt()});h.on("click",gt);nt.on("click",function(n){dt(n)})}function ti(n){return n.pointerType&&n.pointerType!=="mouse"&&n.pointerType!==4}function ft(n,t){var i=r(n),f=r(rt);if(r(w)!=="true"){if(f&&typeof f=="string"||u(rt,"0",y,u.topDomain,"/"),i&&typeof i=="string"){if(Number(i)>=Number(ot))return u(t,"true",y,u.topDomain,"/"),0;u(n,Number(i)+1,y,u.topDomain,"/")}else u(n,"1",y,u.topDomain,"/");if(i=r(n),(Number(i)-1)%Number(it)==0)return(u(rt,Number(f)+1,y,u.topDomain,"/"),Number(f)+1>ht)?(u(t,"true",y,u.topDomain,"/"),0):(tt=(Number(i)-1)/Number(it)+1,ni(),1)}return 0}function pt(n){ti(n.originalEvent)||ft(b,w)!==1&&(v||i.open(t.attr("href"),"_blank"))}function et(n){(typeof n=="undefined"||n&&(!n.error_code||n.error_code===4201))&&ft(b,w)}function ii(){ut();i.FB&&i.FB.ui({method:"share",display:"popup",href:t.attr("href")},et)}function ri(){ut();i.FB&&i.FB.ui({method:"feed",display:"popup",link:t.attr("href"),picture:t.data("thumbnail-href"),redirect_uri:t.data("redirect"),description:t.data("description")},et)}function ui(){p.addClass("disablefblink")}function fi(){setTimeout(function(){s?ui():ut();ft(b,w)!==1&&p.removeClass("disablefblink")},2500)}function ei(){s=o.sitePage.pageName==="startpage";a=!s&&t.is("body");v=s&&t.is("body")}function oi(){if(b=s?v?"startpageEngagedUsersPageVisitCount":"startpageMeStripeClickCount":a?"referralCount":"shareCount",k=s?v?wt:bt:a?st:kt,d=k,a){var t=l.getHostName(c.referrer),i=e.supportedReferrerList.split(";");n.each(i,function(n,i){t.toLowerCase().indexOf(i)>-1&&(d=d+" - "+i)})}ht=Number(e.maxDisplayCountForLikePromptAcrossAllEntryPoints);ot=s?e.startPageMaxDisplayCountForLikePrompt:a?e.maxReferralCountForLikePrompt:e.maxShareCountForLikePrompt;it=s?e.startPagePromptDisplayCycle:a?e.referralCountCycle:e.shareCountCycle}var y=180,tt,s,a,v,ot,it,b,w="likePromptDisabled",k,d,st="FBMSNRefLikePrompt",wt="FBMSNStartPageEngagedUsersLikePrompt",bt="FBMSNStartPageLikePrompt",kt="FBMSNLikePrompt",ht,rt="promptDisplayCount",h=n(".fbpopup-container"),g=h.find(".fbpopup-close"),p=h.find(".fblink"),nt=n("#fbdisablelikeprompt"),ct=h.find("h2")[0],lt=h.find("p")[0];return i.handleFbResponse=et,i.handleMeStripeFbTileClick=pt,{setup:function(){if(ei(),oi(),a||v)fi();else if(s)t.on("click",function(n){pt(n)});else if(t.hasClass("feed-dialog"))t.on("click",ri);else t.on("click",ii)},teardown:function(){a||v||t.off("click");g.add(h).add(nt).add(p).off("click");p.removeClass("disablefblink")}}}return t(a)});define("pageBindings.pc",["binding","perfMarker","headData","document","c.dom"],function(n,t,i,r){n("keypressCapture","body").all({focusSelector:"#q"});var u=r.getElementById("q");return u!=null&&u.focus(),t("TimeToFirstSearchInteractive",!0),require(["jquery"],function(n){n(".mestripe>ul>li.facebook>a").on("click",function(n){n.preventDefault()})}),function(t){i&&i.clientSettings&&i.clientSettings.static_page||(n("meStripe",".mestripeouter",t).all(),n("outlookLogout","#outlooklogout",t).all(),require(["c.deferred"],function(){n("likePrompt",".mestripe > ul > li.facebook > a").all({triggerEvent:"click"})}))}});define("feedbackHelper",["jquery","trackInfo","screen","document","headData","guidGen","navigator"],function(n,t,i,r,u,f,e){function o(n){if(!t.sitePage)return n;n=n||{};var o=t.sitePage,s=t.telemetryTracking.setupParameters();return n["feedback.id"]=f(),n.pageType=o.pageName,n.subcvs=o.vertical,n.cvs=o.canvas,n.contentid=o.entityId,n.cu=o.pageUrl,n.evt="feedback",n.mkt=o.localeCode,n["client.deviceOS"]=o.os,n.flightid=o.flightid,n.referrer=r.referrer,n.signedin=t.userStatic?t.userStatic.isSignedIn:"",n["client.deviceModel"]=u?u.dg:"",n.userAgent=e.userAgent,n.scr=i.width&&i.height?i.width.toString()+" X "+i.height.toString():"",s!==null&&s!==undefined&&(n.rid=s.rid,n.clid=s.clid),n}return{createFeedbackData:o,flyoutEventOrigin:"#footer_feedback, #usermenu-feedback, #feedback-bottomentry, .floatingfeedback"}});define("feedback.tokens",{inputBoxError:"Please leave a comment.",categoryNotSelectedError:"Please leave a comment or select a problem category."});define("feedback",["jquery","trackInfo","feedback.tokens","flyout","logging","jqBehavior","mediator","document","headData","feedbackHelper","guidGen","window"],function(n,t,i,r,u,f,e,o,s,h,c,l){function g(f){function ni(){dt?o.body.appendChild(et):(et=o.createElement("div"),et.setAttribute("class","layoutoverlay"),o.body.appendChild(et),rt=f.find(".feedbackheader .selected"),ut=n("#feedback-reportproblem"),yt=n("#feedback-submit"),lt=n("#feedback-ok"),at=n("#feedback-close"),ot=n("#feedback-feedbackarea"),g=n("#feedback-inputbox"),pt=n("#feedback-useralias"),vt=f.find(".stars > ul > li"),dt=!0);tt=!1;nt=null;it.text(w);it.removeClass("uploading uploaded");gt=c();wt=!1;!y&&t.sitePage&&(y=(t.sitePage||{}).otfURL,y||u.error("[telemetryTracking.Feedback] BaseUrl was empty or undefined in sitePage."))}function si(){g.length&&(s.submitValue=g.val());pt.length&&(s[v+".source"]=pt.val())}function hi(){if(s[v+".area"])return ft&&ht(),!0;if(!ft&&g.length){if(g.val().length)return!0;g.val(tt?i.categoryNotSelectedError:i.inputBoxError);g.addClass("error").on("focus",ht);ft=!0}return!1}function ht(){ft&&(g.removeClass("error").off("focus",ht),ft=!1);g.val("")}function ti(n){n.preventDefault();st.click()}function ii(){var t,r,i;if(!y){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}t=st[0];r=t.value?t.value.replace(/^.*(\\|\/|\:)/,""):"";it.text(r||w);t.value&&t.files&&t.files.length&&(it.addClass("uploading"),i=new l.FormData,i.append("file",t.files[0]),n.ajax({url:y+"?"+n.param({"feedback.id":gt}),data:i,processData:!1,contentType:!1,type:"POST"}).done(function(){it.removeClass("uploading").addClass("uploaded")}))}function ci(){if(!y){u.error("[feedback] Error submitting user feedback as telemetry baseUrl is empty");return}s=h.createFeedbackData(s);si();n.ajax({type:"POST",url:y,data:JSON.stringify([s]),contentType:"application/json; charset=utf-8",dataType:"json"}).fail(function(n,t,i){u.error("[feedback] Error submitting user feedback. ErrorType: {0}. Error: {1}".format(t,i.message))})}function li(n,t){ni();yt.on(a,ei);at.on(a,ct);ut.on(a,oi);rt.on(a,kt);vt.on(a,fi);st.on("change",ii);it.on(a,ti);e.pub(v+".open");t(n)}function ri(n){var t=ot.find(".feedbackarea>ul>li");t.length&&(n?t.on(a,ui):t.off(a,ui))}function ui(t){var i=n(t.currentTarget);s[v+".area"]=i.text();s[v+".type"]="bug";nt&&nt.removeClass("selectedcategory");nt=i;i.addClass("selectedcategory")}function fi(t){var i=n(t.currentTarget),r=i.index()+1;i.parent().attr("data-selected",r);s[v+".rating"]=r}function ai(){s[v+".rating"]=0;vt.parent().attr("data-selected",0).off(a,fi)}function ct(){e.pub(v+".close");wt&&(lt.off(a,ct),ci());f.removeClass("show finalpage");o.body.removeChild(et);yt.off(a,ei);at.off(a,ct);ut.off(a,oi);rt.off(a,kt);st.off("change",ii);it.off(a,ti);ht();ai();tt&&kt()}function ei(){if(hi()){f.addClass("finalpage");wt=!0;lt.on(a,ct)}}function oi(){tt||(tt=!0,ot.addClass("showproblemarea"),rt.removeClass(p),ut.addClass(p),ri(!0))}function kt(){tt&&(ri(!1),s[v+".type"]="General",s[v+".area"]=undefined,rt.addClass(p),ut.removeClass(p),ot.removeClass("showproblemarea"),tt=!1,nt&&nt.removeClass("selectedcategory"),nt=null)}var lt,at,ot,g,rt,ut,nt,vt,yt,pt,ft,wt,et,tt,st=f.find(b),it=f.find(d),dt=!1,gt=c(),s={},bt;return s[v+".rating"]=0,s[v+".type"]="General",bt=r(k,o,{eventOrigin:h.flyoutEventOrigin,outsideEvent:"",openFlyoutDelegate:li,allowToggleOff:!1}),{setup:bt.setup,teardown:bt.teardown,feedback:{initialize:ni}}}var y="",a="click",v="feedback",b="#feedback-file",k="#feedback-flyout",w="Upload a Screenshot",p="selected",d="#feedback-upload";return f(g)});require(["binding","c.deferred"],function(n){n("feedback","#feedback-flyout").all()});define("makeHomepageDialog",["jquery","jqBehavior","document","track","imgSrc"],function(n,t,i,r,u){function f(t){function it(){if(s&&s!="false"){var n="<iframe id='installerIFrame' width='0' height='0' style='display:none'><\/iframe>";e.append(n);y.click(g)}(c.length||f.length)&&(p.add(w).click(a),c.click(h),f.click(h))}function h(i){i.preventDefault();rt();b.on(k,d);return t.css("visibility","hidden").show(),e.css({top:"50%",marginTop:e.height()/-2}),t.css("visibility","visible"),e.focus(),n("#installerIFrame").attr(l,s),r.trackEvent({type:nt},this),!1}function a(){b.off(k,d);t.hide();v.hide();f.hide();n("#installerIFrame").attr(l,"")}function d(n){n.preventDefault();n.keyCode==27&&a()}function g(t){t.preventDefault();n("#installerIFrame").attr(l,s)}function rt(){n(".makehomepagesteps img").each(function(){u.go(this)})}function ut(){p.add(w).off(o,a);c.off(o,h);f.off(o,h);y.off(o,g)}var v=n(".todaynavigation .makehomepage"),c=v.find("a"),f=n("#makehomepage"),y=n(".refresh + a"),e=n("#makehomepagedialog"),p=t.find(".closebutton"),w=n("#makehomepageback"),b=n(i.body),o="click",nt="click_nonnav",k="keydown",tt="data-installer",l="src",s=t.attr(tt);return{setup:it,teardown:ut}}return t(f)});require(["binding","c.dom"],function(n){n("makeHomepageDialog","#makehomepagecontainer").all()});define("appPromoFooter",["jquery","setCookie","track","c.dom"],function(n,t,i){return function(){function f(){i.trackEvent({type:"click_nonnav"},this);r.remove();t("pf-"+u,e(),365,!1,"/")}function e(){var n=new Date;return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}var r=n("#promoappfooter"),u;r.length&&(u=r.attr("data-vkey"),r.find(".closebutton,.msnpromo li a,.appexploretext").click(f))}});require(["appPromoFooter"],function(n){n()});define("bingAutoSuggest.tokens",{resourceJs:"http://www.bing.com/s/as/1436447/en.js",helpLinkText:"What's this?",helpLinkUrl:"http://help.live.com/help.aspx?project=wl_searchv1&market=en-my&querytype=keyword&query=nsmtseggus",market:"en-MY",popularNowText:"Popular Now",enablePopularNow:0,bingHelp:"http://onlinehelp.microsoft.com/en-my/bing/ff808490.aspx",disableText:"Turn off search suggestions",enableText:"Turn on search suggestions"});define("bingAutoSuggest",["bingAutoSuggest.tokens","jquery","jqBehavior","mediator","getCookie","setCookie","track","events","format","headData","window","document","location"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function k(n,i){function k(){var n=new RegExp("\\b"+it+"=0\\b","i");return u(tt).match(n)?1:0}function lt(n,i,r){if(typeof n!="undefined"){var u=n.js;u&&t.isFunction(i)&&t.ajax({url:u,dataType:"script",success:function(){i(r)}})}}function at(){nt();var u=t.extend(!0,{},{f:n.attr("id"),i:i.inputId},i.config,{sid:w||""});u.cb=function(n){if(g=!0,r.pub(p.beforeSubmit,n.value),g){var u=t(n).parents("form"),i=u[0],f=i&&i.action&&i.action.indexOf("://")>=0?i.action:"";e.trackEvent({type:"submit",target:i},null,f);u.submit()}};c._G={Mkt:i.market};typeof c.sa_autosuggest!="undefined"&&(c[a]=new c.sa_autosuggest(u),c[a].init(a),u.lmh||t(".sa_om").hide(),nt(),n[0]&&o.unbind(n[0],"submit",e.trackEvent))}function ot(){var r=k(),u;return(h.attr(ut,r?ft:et),typeof c[a]!="undefined")?(c[a].enable(!k()),nt(),1):n[0]&&h[0]&&!r?(i.config.asId&&(rt=i.config.asId),n.append(t("<div><\/div>").attr("id",rt)),i.delayBind==2?(d=1,st()):ht(y.delay,st),lt(i.resources,at),u=new Image,u.src=i.config.u+"&q=",1):0}function vt(n,t){var r=t?"1":"0";i.cookieDomain||(i.cookieDomain=f.topDomain);f(tt,it+"="+r,i.cookieExpiry,i.cookieDomain,"/");i.delayBind=2;ot();n.preventDefault()}function st(){return v(u("_SS"),5)||f("_SS","SID=00",365,i.cookieDomain,"/"),1}function ht(n,i){n==0?i():n==1?t(l).ready(i):n==2&&yt(i)}function yt(n){var t=".asue";h.bind("click"+t,function(){n()&&h.unbind(t)}).bind("keyup"+t,function(i){i.which!=27&&i.which!=9&&n()&&h.unbind(t)})}function nt(){var n,r,i,f;w||(n=v(y.cn,1)?y.cn.split("+"):null,n&&v(n[0],1)&&(r=u(n[0]),v(r,4)&&(i=r.match(/SID=[\d(A-Z(a-z)]+/),i&&v(i[0],5)&&(w=i[0].substr(4)))));typeof c[a]!="undefined"&&(f=c[a].sid,t.isFunction(f)&&f(w),d&&(d=0,l.activeElement==h[0]&&h.click()));w&&t.isFunction(y.onCk)&&(y.onCk(),y.onCk=0)}function ct(n){var t=k();n.text(t?i.enableText:i.disableText);h.attr(ut,t?ft:et)}var tt="SRCHHPGUSR",it="AS",rt="sw_as",ut="autocomplete",ft="on",et="off",a="sa_inst",y=i.sharedCk,d=0,w,b,h,g;i.config.u=s(i.config.u,i.formCode);i.sharedCk.ru=s(i.sharedCk.ru,i.formCode);b=t(i.toggleSelector);h=t("#"+i.inputId,n);r.sub(p.preventSubmit,function(){g=!1});ct(b);b.click(function(n){n.stopImmediatePropagation();vt(n,k());ct(b)});ht(i.delayBind,ot)}function v(n,t){return typeof n=="string"&&(!t||n.length>=t)}var y=h.ssl===!0||h.bingssl===!0?"https":"http",b={resources:{js:y+n.resourceJs.substr(n.resourceJs.indexOf("://"))},config:{l:[n.helpLinkText,n.helpLinkUrl,1],r:"AutoSugShared",o:"s+a+p+hs+",h:1,k:0,m:8,d:100,u:y+"://api.bing.com/qsonhs.aspx?form={0}",mkt:n.market,ol:1,tPN:n.popularNowText,eLO:1,eHS:1,ePN:n.enablePopularNow,nw:"true",lh:n.bingHelp,lmh:0},disableText:n.disableText,enableText:n.enableText,inputId:"q",openNew:"1",market:n.market,cookieExpiry:365,cookieDomain:"msn.com",delayBind:1,sharedCk:{delay:1,ru:y+"://"+a.host+"/sck.aspx&form={0}",pu:y+"://www.bing.com/sck",cn:"_SS",domain:"msn.com",onCk:function(){}},toggleSelector:"#asugoff"},p={beforeSubmit:"autosuggestBeforeSubmit",preventSubmit:"autosuggestPreventSubmit"},w=i(k,b);return w.event=p,w.resize=function(n){c.sa_inst&&c.sa_inst.autosuggest.setQuery(n.val())},w});require(["binding","c.deferred"],function(n){n("bingAutoSuggest","#srchfrm").all()});define("sso.tokens",{signInText:"Sign in",signOutText:"Sign out"});define("meControlBootstrap",["headData","window","perfMarker"],function(n,t){return function(){n.clientSettings&&(t.onMeControlReadyToLoad=function(){t.MSA&&t.MSA.MeControl&&(t.define("meControlApi",t.MSA.MeControl.API),t.define("meControlLoader",t.MSA.MeControl.Loader),t.define("meControlIdp",t.MSA.MeControl.IDP),t.define("meControlAuthState",t.MSA.MeControl.AuthState))},t.require({js:n.clientSettings.mecontroluri}))}});require(["headData","meControlBootstrap","c.deferred"],function(n,t){n.signedin&&!n.sso&&t()});define("meControlEventHandler",["perfMarker"],function(){return function(){}});require(["window","jquery","c.dom"],function(n,t){var i=t("#meCtrl").data();i&&(i.isAuthenticated=i.isAuthenticated&&i.isAuthenticated.toString().toUpperCase()==="TRUE",i.cid=typeof i.cid=="number"?i.cid.toString():i.cid,n.define("meControlRpsModel",i))});define("meControlOptionsFactory",["jquery","sso.tokens","meControlRpsModel","meControlIdp","meControlAuthState","meControlEventHandler"],function(n,t,i,r,u,f){return function(e){var o=e.isAuthenticated?u.SignedIn:u.NotSignedIn;return{containerId:"meCtrl",jQuery:n,signInStr:t.signInText,signOutStr:t.signOutText,userData:{idp:r.MSA,firstName:e.firstName,lastName:e.lastName,memberName:e.memberName,cid:e.cid,authenticatedState:o},rpData:{preferredIdp:r.MSA,msaInfo:{signInUrl:i.signInUrl,signOutUrl:i.signOutUrl,meUrl:i.meUrl},aadInfo:{}},events:{onEventLog:f}}}});require(["window","meControlRpsModel","meControlLoader","meControlOptionsFactory"],function(n,t,i,r){function u(n){var t=r(n);i.load(t)}t.isAuthenticated?u(t):n.require(["meControlAuthState","ssoData","c.sso"],function(n,t){u({firstName:t.firstName,lastName:t.lastName,memberName:t.memberName,cid:t.cid,isAuthenticated:!0})})});define("autosuggestDestinationUrl",["jquery","format","c.deferred"],function(n,t){var i={weather:"/{7}/we-latlon-{0},{1}?c={2}&st={3}&cn={4}&iso={5}&type={6}&id={8}",geolocation:"?lat={0}&long={1}&cty={2}&subdiv={3}&cntreg={4}&cc={5}&type={6}&id={8}",weathercity:"/{2},{3},{4}/we-{10}-{0},{1}?q={7}&form={9}&iso={5}",weatherski:"/{2},{3},{4}/we-ski-{8}-{0},{1}?q={7}&form={9}&iso={5}"},u=function(n,u){var o=u&&u.urltype?u.urltype.toLowerCase():"geolocation",s=i[o]?i[o]:i.geolocation,e=f;o=="weather"&&(s=n.type==2?i.weatherski:i.weathercity,e=r);var c=u.formcode&&u.formcode.length?u.formcode.toUpperCase():"",h="",l=n.state&&n.name!=n.state?n.name+"-"+n.state:n.name;return s&&n.name&&n.lat&&n.lon&&(h=t(s,n.lat,n.lon,e(n.name),e(n.state),e(n.countryRegion),e(n.isoCode),n.type,r(l).toLowerCase().replace(/\&/g,""),n.id!=null?e(n.id):"",c,n.et=="Island"?"island":"city")),h},f=function(n){return n?encodeURIComponent(n.replace(/\./g,"").replace(/\//g,"")):""},r=function(n){return n?encodeURIComponent(n.replace(/\./g,"").replace(/\//g,"").replace(/\&/g,"").replace(/\s+/g,"-")):""};return u});define("queryAutosuggest",["jquery","window","mediator","c.deferred"],function(n,t,i){var f={host:"//platform.bing.com/geo/AutoSuggest/v1",appid:"C98EA5B0842DBB9405BBF071E1DA76512D21FE36",mr:5},r=null,e=function(t,u){var e=n.extend({},f,u),o;(r&&r.readystate!=4&&r.abort(),t&&e.appid&&e.host&&e.mr)&&(o={appid:e.appid,mr:e.mr,cb:"populateAutosuggestResponse",q:t,setmkt:e.market,setlang:e.market},e.lat&&e.lon&&(o.ul="{0},{1},100".format(e.lat,e.lon)),r=n.ajax({url:e.host,cache:"true",async:"false",type:"GET",data:o,dataType:"jsonp",jsonpCallback:"populateAutosuggestResponse",timeout:1e4}).fail(function(n,t,r){t!="parsererror"&&t!="abort"&&i.pub("locSrchError",r)}))},u=function(n,t){var i=t?t:2;return n&&(n=parseFloat(n).toFixed(i)),n||""},o=function(n,t){var i,r,f,e;if(t.type!=1){if(i="ID_"+t.id,n[i])return!1;n[i]=t}return(r=[t.name,t.state,t.countryRegion].join(),n[r])?!1:(n[r]=t,f=[u(t.lat),u(t.lon)].join(),n[f])?!1:(n[f]=t,e=[t.name,u(t.lat,1),u(t.lon,1)].join(),n[e])?!1:(n[e]=t,!0)};return t.populateAutosuggestResponse=t.populateAutosuggestResponse||function(n){var c=[],l={},u,t,r,s,e,f,h;if(n&&n["@graph"]&&(u=n["@graph"],t={},u&&u.length>0))for(e=0;e<u.length;e++)if(f=u[e],f){h=f["b:stype"];switch(h){case"Island":case"PopulatedPlace":case"Postcode1":t={};r=f["s:address"]||{};t.name=r["s:addressLocality"]||r["s:name"]||"";t.state=r["s:addressRegion"]||"";t.countryRegion=r["s:addressCountry"]||"";t.isoCode=r["b:countryIso"]||"";s=f["s:geo"]||{};t.lat=s["s:latitude"]||"";t.lon=s["s:longitude"]||"";t.id=null;t.type=1;t.et=h;o(l,t)&&c.push(t)}}i.pub("locSrchUpdate",{result:c,mode:"as",status:"success"})},e});define("weaLocationAutosuggest",["jquery","jqBehavior","queryAutosuggest","autosuggestDestinationUrl","mediator","keyCode","format","navigation","window","track","trackingHelper","c.deferred"],function(n,t,i,r,u,f,e,o,s,h,c){function a(t,a){function st(n){if(!n.data("init")){it=n;n.data("init",!0);y=n.closest("form");var t=y.find(l.autoSuggestResultsClass);t.length?t.append(v):y.append(v)}}function at(n){switch(n.keyCode){case f.Arrow.Down:case f.Arrow.Up:break;default:ht.call(this,n)}}function vt(t){var i,r,u;switch(t.keyCode){case f.Arrow.Down:t.preventDefault();d&&(g?(i=n("li.selected",v).removeClass("selected"),r=i.next(),r[0]?r.addClass("selected"):n("li",v).first().addClass("selected")):ft());break;case f.Arrow.Up:t.preventDefault();d&&(g?(i=n("li.selected",v).removeClass("selected"),u=i.prev(),u[0]?u.addClass("selected"):n("li",v).last().addClass("selected")):ft());break;case f.Space:case f.Enter:ct(t,n(this));break;case f.Esc:g&&(t.preventDefault(),nt())}}function yt(){var t=n(this);rt=!0;d>0&&(t.select(),ft());u.sub("locSrchUpdate",lt);u.sub("locSrchError",tt)}function pt(){rt=!1;g&&nt();u.unsub("locSrchUpdate",lt);u.unsub("locSrchError",tt)}function ht(){var r,t;ut||(r=n(this),st(r),t=n.trim(r.val()),t?t!=b&&(b=t,i(t,p)):k());ut=!1}function wt(){n(this).val("");k()}function ct(t,i){var d=n(".selected",v),e,r,a,g,w,it,rt,l;d.length?(e=d.text(),b=e,r=p.baseurl+d.data("link"),a=p.method&&p.method.length?p.method.toLowerCase():"get",a=="custom"?(ut=!0,i.val(e),b=null,k(),u.pub("myLocationSelected",{name:e,url:r,source:"as",event:t})):a=="refresh"&&p.selector?(g=o.getParamsFromUrl(location.href),w=o.getParamsFromUrl(r),w=n.extend(!0,{},g,w),ut=!0,i.val(e),b=null,k(),require(["refreshModules"],function(n){var t=n(p.selector,w);t.done(function(){u.pub("myLocationSelected",{name:e,url:r,source:"as"})})})):a=="ajax"&&p.selector?(y.hide(),it=o.getParamsFromUrl(r+"&pfr=1"),r=r.split("?")[0],ot({url:r,data:it,method:"get",contentType:"application/json",refreshElement:p.refreshElement}).done(function(r){if(b=null,r.status=="fail")h.trackEvent({type:"click_nonnav",target:t.target},"","",c.getActionResult(p.action,!1)),k(),tt();else{h.trackEvent({type:"click_nonnav",target:t.target},"","",c.getActionResult(p.action,!0));k();i.val(e);var u=n(p.selector);u.length&&r.length&&u.replaceWith(r)}}).fail(function(){h.trackEvent({type:"click_nonnav",target:t.target},"","",c.getActionResult(p.action,!1));b=null;k();tt()})):(i.val(e),location.href=r),t.preventDefault(),nt()):t.keyCode!=f.Space&&(b=i.val(),rt="",y.length&&(l=y[0].action,l&&(rt=l&&l.indexOf("://")>=0?l:s.location.host+l)),h.trackEvent({type:"click",target:y},"","","srchbtn"),t.stopPropagation(),t.preventDefault(),y.submit(),nt())}function k(){v.empty();n(".nolocerr,.errmsg",y).hide();d=0}function bt(n){d&&rt||n?ft():nt()}function nt(){v&&(v.hide(),n("li.selected",v).removeClass("selected"),g=!1)}function ft(){v&&(v.show(),g=!0)}function kt(t,i){return n("<li>").text(t).data("link",i).on("mousedown click",function(t){var u=n(this),f,i,r;u.hasClass("selected")||(f=y.find(w),n("li.selected",v).removeClass("selected"),u.addClass("selected"),i=y,r=y.find(l.autoSuggestResultsClass),r.length&&(i=r),h.trackEvent({type:"click",target:i},"","","autosuggest"),ct(t,f))})}function dt(t,i){var u,f;if(t&&(u=n(t),u.length))return f=n("<ul id='locList'><\/ul>"),v.append(f),d=u.length,u.each(function(n){if(u[n].name){var t=u[n].name,i=u[n].state&&t!=u[n].state?", "+u[n].state:"",e=u[n].countryRegion&&u[n].state!=u[n].countryRegion?", "+u[n].countryRegion:"";f.append(kt(t+i+e,r(u[n],p)))}}),!0;if(i!="as")n(".nolocerr",y).each(function(){var t=n(this);t.text(e(t.data("message"),b)).show()});else if(et)return n("<div/>").text(et).appendTo(v),!1;return d=0,!0}function lt(n){if(rt){k();var t=!0;n.status=="success"?t=dt(n.result,n.mode):tt();bt(!t)}}function tt(){it.trigger("clear");y.show();n(".errmsg",y).show()}var w="input[name=q]",it=n(w,t),et=it.data("seemoretext"),p=n.extend({},l,a,it.data("auto-suggest-settings")),b,v=n("<div class='locResult' />"),y,d,g,rt,ut=!1,ot=n.ajax;return require(["ajaxWithAnimation"],function(n){ot=n}),{setup:function(){t.on("keydown.autosuggest",w,vt).on("keyup.autosuggest",w,at).on("change.autosuggest",w,ht).on("focus.autosuggest",w,yt).on("blur.autosuggest",w,pt).on("clear.autosuggest",w,wt);st(n(w,t))},teardown:function(){t.off(".autosuggest",w);v&&v.empty()}}}var l={autoSuggestResultsClass:".autosuggestresults",mode:"AS",method:"get",baseurl:"/en-us/weather/today",refreshElement:"#placesmodule",formcode:""};return t(a,l)});define("searchLocation",["jquery","jqBehavior","mediator"],function(n,t,i){function r(t){function r(i,r){var e=i.data("url"),f;r&&r.coords&&(e+="?lat="+r.coords.latitude+"&long="+r.coords.longitude);f=n("input[name=q]",t);f.val("");f.focus();u(e);f.focus()}function u(t){n.ajax({method:"get",url:t,contentType:"application/json"}).done(function(n){i.pub("locSrchUpdate",n)}).fail(function(n,t,r){i.pub("locSrchError",r)})}t.on("click","div.weaaddlocation .gps",function(t){var i=n(this);navigator.geolocation?navigator.geolocation.getCurrentPosition(function(n){r(i,n)},function(){r(i)}):r(n(this));t.stopPropagation();t.preventDefault()});t.on("submit","div.weaaddlocation form",function(i){var r=n("input[name=q]",t),f=r.val(),e;r.focus();f&&f.length&&(e=n(this).data("action")+"?q="+encodeURIComponent(f),u(e));r.focus();i.stopPropagation();i.preventDefault()})}return t(r)});define("detectGpsLocation",["jquery","jqBehavior","format","c.deferred"],function(n,t,i){var r=function(t,r){function f(f){f&&f.coords&&f.coords.latitude&&f.coords.longitude?location.href=i("{0}?lat={1}&long={2}&gps=1",n(r.selector,t).data("url"),f.coords.latitude.toFixed(3),f.coords.longitude.toFixed(3)):u()}function u(){location.href=n(r.selector,t).attr("href")}t.delegate(r.selector,"click",function(n){navigator.geolocation&&(n.preventDefault(),navigator.geolocation.getCurrentPosition(f,u))})};return t(r,{selector:".buttons .gps"})});define("todayWeatherEditPopup",["jquery","jqBehavior","navigation","mediator","refreshModules","binding","document","window"],function(n,t,i,r,u,f,e,o){function tt(t){t&&t.keyCode==27?n(e).trigger("closepopup"):t&&n(".weaaddlocation input:focus").length>0&&(t.keyCode==8||t.keyCode==46)&&(c=null)}function ct(t,i){y();i(t);it||require(["todaydropdown_moved"],function(){n(h+" input[name=q]").focus()});n(e).on("keydown",tt)}function lt(t,i){i(t);n(e).off("keydown",tt);rt()}function yt(t,i){function o(){t.on(s+".editselection",e,function(i){i.preventDefault();var o=n(this),r=n(h),f=n(u+" .weapopup",t);!r.length&&f.length?(f.detach(),f.appendTo(n("body")),define("todaydropdown_moved",1),r=n(h),r.data("editselector",e),r.data("loc",n(u+" a",t).data("loc"))):(f.length&&f.remove(),r.data("editselector",e),r.data("loc",n(u+" a",t).data("loc")),y());c();t.off(s+".editselection",e);setTimeout(function(){o.trigger("click")},10)})}function c(){var t=n(".weapopup");t&&t.length&&(t[0].behaviorConstructors=null);f("flyout",h).all({outsideEvent:"mousedown touchstart closepopup",triggerEvent:s,eventOrigin:e,toggleTargets:{".weaddn":"show"},openFlyoutDelegate:ct,closeFlyoutDelegate:lt})}if(i.weaTodayWeatherSelector){var u=i.weaTodayWeatherSelector,e=u+" .edithome";v.length&&(v+=",");v+=u;require(["c.pdp"],function(){o()});require(["c.sso"],function(){o()});o();r.sub("myLocationChanged",o)}}var s="click",h="body > .weapopup ",it=/(iPad|iPhone|iPod|Android)/g.test(o.navigator.userAgent),p=".wpopctn .donebutton",a=".wpopctn .signinbutton",w=".wpopctn .nonsigninbutton",k=h+".setdegree",d,v="",l,c,g=function(){ut();et();st()},rt=function(){ft();ot();ht()},ut=function(){var t=n(p);t&&t.removeClass("disabled").removeAttr("disabled")},ft=function(){var t=n(p);t&&t.addClass("disabled").attr("disabled","disabled")},et=function(){var t=n(a);t&&t.removeClass("disabled").removeAttr("disabled")},ot=function(){var t=n(a);t&&t.addClass("disabled").attr("disabled","disabled")},st=function(){var t=n(w);t&&t.removeClass("disabled").removeAttr("disabled")},ht=function(){var t=n(w);t&&t.addClass("disabled").attr("disabled","disabled")},nt,y;r.sub("myLocationSelected",g);n(e).delegate(k+" button",s,function(t){t.preventDefault();var i=n(h),r=n("button[name=weaDegreeType]",i);r.removeClass("selected");n(this).addClass("selected");l=n(this).attr("value");g()});n(e).delegate(k,"submit",function(n){n.preventDefault()});n(e).delegate(".weather.noclick .stripenav li:first-child a",s,function(n){n.preventDefault();n.stopPropagation()});n(e).delegate(".weather .noclick .col li:first-child a",s,function(n){n.preventDefault();n.stopPropagation()});nt=function(n){n&&n.event&&n.event.stopPropagation();c=n};y=function(){var t=n(h),i=n(t.data("editselector")),r,u;l=c=null;r=n("input[name=q]",t);r.attr("placeholder",i.data("home")).trigger("clear");u=n("button[name=weaDegreeType]",t);u.removeClass("selected");n("button[value='"+i.data("degreetype")+"']",t).addClass("selected")};n(e).delegate(p,s,function(){b(!1)});n(e).delegate(w,s,function(){b(!1)});n(e).delegate(a,s,function(){at()});r.sub("myLocationSelected",nt);n(e).delegate(".wpopbg, .wpopctn .close",s,function(t){y();n(e).trigger("closepopup");t.preventDefault()});var b=function(t){var f,e;n(".weaddn").removeClass("show");n(".weaaddlocation input").filter(function(){return n(this).val()!=""}).length||(c=null);(c||l)&&(f=c?c.url+"&sethome=true":n(h).data("loc"),l&&(f+="&weadegreetype="+l),t&&(f+="&signInFlow=true"),e=f.indexOf("?")!=-1?i.getParamsFromUrl(f):i.getParams(f),u(v,e).done(function(){r.pub("myLocationChanged")}))},at=function(){var t=n(a);d=t.attr("data-href");r.sub("myLocationChanged",vt);b(!0)},vt=function(){o.location=d};return t(yt)});require(["jquery","binding","c.dom"],function(n,t){require(["todaydropdown_moved"],function(){t("weaLocationAutosuggest","body>.weapopup").all();t("searchLocation","body>.weapopup").all();t("detectGpsLocation","body>.weapopup .buttons").all()});t("todayWeatherEditPopup","#main").all({weaTodayWeatherSelector:".weatodaymini"})});define("FinanceDataUtils",["jquery"],function(){function f(f,e){var l=f.OS01W,o=f.OS01V,s,a=e?e.split(n)[0]:null,h,c;return o&&(o=o.toLowerCase(),s=o,(o===r||o===u)&&(s=o?o.split(n)[0]:null),a!==t&&(s===e||s===a)&&(h=f.OS0LN,c=f.RT0SN,l=s===i?c?c:h?h:l:h?h:c?c:l)),l}var t="en",i="ko",r="zh-hans",u="zh-hant",n="-";return{getStockDisplayName:f}});define("financeHomepageAutoSuggest",["jquery","jqBehavior","FinanceDataUtils","keyCode","homepageFinanceIndices","track"],function(n,t,i,r,u,f){function e(t,e){function ht(){var t=n(".selected",o)[0]||n("li",o)[0];t&&w(t)}function ct(t){var i=n("input[type='search']",t.target);i.val()!=null&&i.val().trim().length==0&&t.preventDefault()}function lt(i){var u,f,e;switch(i.keyCode){case r.Arrow.Down:h&&(l?(u=n("li.selected",o).removeClass("selected"),f=u.next(),f[0]?f.addClass("selected"):n("li",o).first().addClass("selected")):(d(),a()));break;case r.Arrow.Up:h&&(l?(u=n("li.selected",o).removeClass("selected"),e=u.prev(),e[0]?e.addClass("selected"):n("li",o).last().addClass("selected")):(d(),a()));break;case r.Enter:w();break;case r.Esc:l&&(i.preventDefault(),v());a();t.blur()}}function at(){g=!0;p();h>0&&(t.select(),d(),a())}function vt(){g=!1;l&&(n(".selected",o).length>0?w():v());a()}function p(){var i=n.trim(t.val());i?i!=ut&&(ut=i,gt(i)):(wt(),bt(),v(),st(),ot(),h=0)}function w(i,r){tt[y]!=undefined&&function(){var u=i;tt[y].done(function(){var s=u||n(".selected",o)[0]||n("li",o)[0],i,h;if(s)if(e.isCallBackProvided)i={},i.instrumentSymbol=n(s).find("a")[0].getAttribute("instrumentSymbol"),i.instrumentType=n(s).find("a")[0].getAttribute("instrumentSymbolType"),i.instrumentTicker=n(s).find("a")[0].getAttribute("instrumentTicker"),i.instrumentFullname=n(s).find("a")[0].getAttribute("instrumentFullname"),i.instrumentMarket=n(s).find("a")[0].getAttribute("instrumentMarket"),i.KeyUsed=r,e.callback(i);else return h=n(s).find("a")[0].href,f.trackEvent({type:"submit",target:t},null,h),window.location.href=h,!1;return v(),!1})}()}function yt(t){var i=t||n(".selected",s)[0];return n(i).href==undefined?!1:(window.location.href=n(i).href,!1)}function gt(t){var f=e.count?e.count:6,i=+new Date,r;y=i;wt();r=n.ajax({url:e.endpoint,dataType:"jsonp",cache:!0,data:{q:t,locale:u.market.replace("-",":"),count:f},jsonpCallback:"cb"+rt++});r.fail(function(){i==y&&v()}).done(function(n){n&&i==y&&(bt(),n=n.data,ni(n,t),h=n.length,ti())});tt[i]=r}function ni(r,f){for(var v,a,c=n("<ul><\/ul>"),l=0;l<r.length;l++){var e=r[l],h={label:e.OS001+"."+e.OS01W+"."+e.OS010+"."+e.AC040,displaySymbol:e.OS001,companyName:i.getStockDisplayName(e,u.market),symbolType:e.OS010,exchangeName:e.AC040,value:e.OS001},s=n("<a><\/a>");s.attr("href",si(e));s.attr("instrumentSymbol",kt(e));s.attr("instrumentTicker",h.displaySymbol);s.attr("instrumentFullname",h.companyName);s.attr("instrumentMarket",e.RT0EC);v=b(e.OS010);s.attr("instrumentSymbolType",v);s.html('<span class="fi-as-sym">'+pt(h.displaySymbol,f)+'<\/span><span class="fi-as-cn">'+pt(h.companyName,f)+'<\/span><span class="fi-as-en">'+h.exchangeName+"<\/span>");a=n("<li><\/li>");a.append(s);c.append(a)}c.width(t.width);o.append(c)}function pt(n,t){var i=t.toLowerCase(),r=t.toUpperCase();return t=n.indexOf(i)>=0?i:r,n.replace(t,"<b>"+t+"<\/b>")}function wt(){k&&k.val()&&k.val("")}function bt(){o||ii();o.empty();h=0}function ti(){h?g?(d(),a()):w():(v(),st(),ot())}function v(){o&&(o.hide(),o.addClass("hideautosuggest"),l=!1)}function d(){o&&(o.show(),o.removeClass("hideautosuggest"),l=!0)}function ii(){o=n('<div class="'+ft+'">').on("mousedown",function(t){var i,r;t.preventDefault();i=n(t.target).closest("li");i[0]?(i.hasClass("selected")||(n(".selected",o).removeClass("selected"),i.addClass("selected")),w()):(r=n(t.target).closest("a"),yt(r))});t.before(o)}function ri(t){return n.inArray(t,["ST"])!=-1}function ui(t){return n.inArray(t,["FE","CE"])!=-1}function fi(t){return n.inArray(t,["FO","FC"])!=-1}function it(t){return n.inArray(t,["XI"])!=-1}function ei(t){return n.inArray(t,["CUR"])!=-1}function oi(t){return n.inArray(t,["COM"])!=-1}function si(n){var i=kt(n),r=b(n.OS010),t=null;return r==="Stock"&&(t=u.stockdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Index"&&(t=u.indexdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Etf"&&(t=u.etfdetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Fund"&&(t=u.funddetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Currency"&&(t=u.currencyConverterUrl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),r==="Commodity"&&(t=u.commoditydetailsurl+"/fi-"+i+"?symbol="+n.OS001+"&form="+u.FORMCode),t}function b(n){var t="";return n&&(t=fi(n)?"Fund":ri(n)?"Stock":ui(n)?"Etf":it(n)?"Index":ei(n)?"Currency":oi(n)?"Commodity":""),t}function kt(n){var t={},o,s,f;if(n){var i=n.OS010,r=n.OS001,h=n.LS01Z,e=n.RT00E,u="";if(b(i)=="Commodity")return t=n.RT00E+"."+n.RT00T+"."+n.RT00S,dt(t);if(b(i)=="Currency")return n.OS001.substring(0,3)+"-"+n.OS001.substring(3,6)+"-1.0000";if(b(i)=="Fund")return n.SecId;it(i)?(o="10",u=o):(s="1",u=n.RT00T||s);f=n.RT00S?n.RT00S:r?r:"";it(i)?t=hi({E1:e,Sym:f,St:u,E2:e,Eqsm:r}):(t=e+"."+u+"."+f+"."+h,r!==f&&(t+="."+r))}return dt(t)}function dt(n){return n==null||typeof n!="string"?"":(n=n.replace(/\//g,"|SLA|"),n=n.replace(/</g,"|LETHA|"),n=n.replace(/>/g,"|GRETHA|"),n=n.replace(/\*/g,"|ASTER|"),n=n.replace(/%/g,"|PERCENT|"),n=n.replace(/:/g,"|SEPA|"),n=n.replace(/&/g,"|AMP|"),n=n.replace("/\\/g","|BKSLA|"),encodeURIComponent(n))}function hi(n){var t="";return n&&(t=n.Eqsm&&n.Sym&&n.Sym!==n.Eqsm?n.E1+"."+n.St+"."+n.Sym+"."+n.E2+"."+n.Eqsm:n.E1+"."+n.St+"."+n.Sym),t}function c(n,t){if(t){var i=n&&n.indexOf("?")!==-1,r=i?"&":"?";n+=r+t}return n}var y,rt,ut,o,h,l,g,k,ft,s;e.autoSuggestSettings&&(e=e.autoSuggestSettings);rt=1;ft=e.cssclass||"autosuggest";e.endpoint=e.endpoint||"http://finance.services.appex.bing.com/Market.svc/MTAutocomplete";var nt=e.recentQuotesRequired||!1,et=!1,tt=[];n(function(){t.data("holder",t.attr("placeholder"));var n;t.focusin(function(){t.attr("placeholder","");n&&n.length?t.val(n):t.val("")});t.focusout(function(){n=t.val();t.attr("placeholder",t.data("holder"))})});s=n('<div class="recent-quotes autosuggest"><\/div>').on("mousedown",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var i=n(t.target).closest("a");yt(i)});t.before(s);var a=nt===!0?function(){s&&(s.hide(),s.addClass("hideautosuggest"),et=!1)}:function(){},ot=nt===!0?function(){s&&(s.show(),s.removeClass("hideautosuggest"),et=!0)}:function(){},st=nt==!0?function(){var i=u.recentquotesurl,t=e.showPopularSearchWhenNoRecentQuotes?c(i,"showpopularsearch=true"):i;t=e.flightStocksInNews?c(t,"flightstocksinnews=true"):t;t=e.backfillRecentQuotesWithPopularSearch?c(t,"backfillwithpopularsearch=true"):t;t=c(t,"showtrendingstocks=true");t=c(t,"form=RecentQuoteFormCode");t=c(t,"recentquoteformcode="+u.RecentQuotesFormCode);t=c(t,"popularsearchesformcode="+u.PopularSearchesFormCode);n.ajax(t).done(function(n){s.empty();s.html(n)}).fail(function(){})}:function(){};if(e.endpoint)return e.codefield&&(k=n("#"+e.codefield)),{setup:function(){t.on("keydown",lt).on("keyup",p).on("change",p).on("focus",at).on("blur",vt);t.siblings("span").on("click",ht);t.closest("form").on("submit",ct)},teardown:function(){t.off("keydown",lt).off("keyup",p).off("change",p).off("focus",at).off("blur",vt);t.closest("form").off("submit",ct);t.siblings("button").off("click",ht);o&&(o.remove(),o=null)}}}return t(e)});define("keyCode",function(){return{Back:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Break:19,CapsLock:20,Esc:27,Space:32,Page:{Up:33,Down:34},End:35,Home:36,Arrow:{Left:37,Up:38,Right:39,Down:40},Print:44,Insert:45,Delete:46,Colon2:59,Equals2:61,Equals3:107,Minus2:109,Period:190,Windows:{Left:91,Right:92,Opera:219},Menu:93,NumPad:{0:96,1:97,2:98,3:99,4:100,5:101,6:102,7:103,8:104,9:105,Multiply:106,Plus:107,Minus:109,Dot:110,Divide:111},Function:{1:112,2:113,3:114,4:115,5:116,6:117,7:118,8:119,9:120,10:121,11:122,12:123},Lock:{Caps:20,Num:144,Scroll:145},Colon:186,Equals:187,Comma:188,Minus:189,Slash:{Forward:191,Back:220},Tilde:192,Bracket:{Open:219,Close:221},Quote:222}});require(["binding","window","c.deferred"],function(n){n("financeHomepageAutoSuggest","#finance-autosuggest").all({recentQuotesRequired:!0,showPopularSearchWhenNoRecentQuotes:!0,flightStocksInNews:!0,backfillRecentQuotesWithPopularSearch:!1})});define("devicePlatform",["navigator"],function(n){function i(){return typeof i.cache=="undefined"&&(i.cache=t.indexOf("windows nt 6.1")!==-1),i.cache}function r(){return typeof r.cache=="undefined"&&(r.cache=t.indexOf("windows nt 6.2")!==-1),r.cache}function u(){return typeof u.cache=="undefined"&&(u.cache=t.indexOf("windows nt 6.3")!==-1),u.cache}function f(){return typeof f.cache=="undefined"&&(f.cache=t.indexOf("windows nt 10.0")!==-1),f.cache}var t=n.userAgent.toLowerCase();return{isWindows7:i,isWindows8:r,isWindows8Update1:u,isWindows10:f}});define("win10PromoHelper",["jquery","navigation","window","document","setCookie","getCookie","navigator","location","track","deviceGroup","logging","viewport","mediator","devicePlatform"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function rt(){var n=y.indexOf(d)>0,t=y.indexOf(g)>0,i=y.indexOf(nt)>0,r=y.indexOf(w)>0;return n||t||i||r}function p(n){c.error(n)}function st(n){var u=!(v.isWindows7()||v.isWindows8()||v.isWindows8Update1()),f=y.indexOf(et)>0,t=y.indexOf(w)>0,e=n.find(".managed"),i;return t&&e.length&&(t=!1),i=r.getElementById("conditionalbanner"),u||f||t||i}function ht(n,t,i){u(n,t,i,u.topDomain,"/",null)}function ct(){var i=n(this),r=t.getHostName(this.href)||k;r.indexOf(k)===-1&&i.attr("target","_blank")}function b(n){return{title:n.data("title"),subTitle:n.data("subtitle"),buttonText:n.data("buttontext"),learnMore:n.data("learnmore"),titleUrl:n.data("titleurl"),buttonUrl:n.data("buttonurl"),learnMoreUrl:n.data("learnmoreurl")}}function lt(n){var t=n.find(".qualified");return t.length?b(t):null}function at(n){var t=n.find(".reservedordownloaded");return t.length?b(t):null}function vt(n){var t=n.find(".managed");return t.length?b(t):null}function yt(n){var t,i,r;if(h.isMs)if(y.indexOf(d)!==-1){if(t=lt(n),t)return t;p("[Win10PromoBanner.js] Invalid qualified content")}else if(y.indexOf(g)!==-1||y.indexOf(nt)!==-1){if(i=at(n),i)return i;p("[Win10PromoBanner.js] Invalid reserved or downloaded content")}else if(y.indexOf(w)!==-1){if(r=vt(n),r)return r;p("[Win10PromoBanner.js] Invalid managed content")}return null}function ut(n,t){n.jquery&&(n=n[0]);s.trackEvent({type:ft,target:n},null,o.href,t)}function pt(n,t){return n.indexOf(tt)>=0?n:n+" "+t}function wt(t,r,u,f){var o=rt();r.indexOf(tt)>=0||o&&!e.msLaunchUri||(t.preventDefault(),t.stopImmediatePropagation(),ut(t.target,f),e.msLaunchUri(r,n.noop(),function(){p("[Win10PromoBanner.js] msLaunchUri failed to launch GWX app "+r);i.open(u,"_blank")}))}function bt(){return Math.round((new Date("2016/07/01")-new Date)/864e5)}function kt(){i.setTimeout(function(){a.pub(l.sizeChangeEventName,"headerbanner")},1e3)}function dt(){var n=new Date,t={y:n.getUTCFullYear(),m:n.getUTCMonth()+1,d:n.getUTCDate(),h:n.getUTCHours(),min:n.getUTCMinutes()};return JSON.stringify(t)}function gt(n){var t;try{t=JSON.parse(n)}catch(i){}return t}function ni(){var t=f(ot),n;return t?(n=gt(t),!isNaN(parseInt(n)))?n:n?n.hasOwnProperty(it)?n[it]:null:null:null}var ft="click_nonnav",k="msn.com",d="gwx:qualified",g="gwx:reserved",nt="gwx:downloaded",w="gwx:managed",et="gwx:red",tt="http",y=e.userAgent.toLowerCase(),ot="pop",it="t";return{logError:p,isGwxAppPresent:rt,shouldHidePromotionBanner:st,stampCookie:ht,setOpenNewTab:ct,getBannerContent:yt,fireTrackingCall:ut,getGwxUrl:pt,executeMsGwx:wt,getTemplateName:ni,calculateCookieExpirationDate:bt,broadcastSizeChangeEvent:kt,getCurrentUtcTimeInJson:dt}});require(["jquery","viewport","window","getCookie","document","win10PromoHelper","track","mediator","c.deferred"],function(n,t,i,r,u,f,e,o){function yt(){var n=f.getBannerContent(a);n&&(l.find(st).first().text(n.title),l.find(st).last().text(n.subTitle),y.text(n.buttonText),p.text(n.learnMore),d=s.data("trackingparam")||"msn.1",l.attr(v,f.getGwxUrl(n.titleUrl,d)),y.attr(v,f.getGwxUrl(n.buttonUrl,d)),p.attr(v,f.getGwxUrl(n.learnMoreUrl,d)))}function pt(){if(w){var n=t.getDimensions(),i=a.height(),r=(n.height-i)/2;a.css("top",r+"px")}}function wt(){et=y.attr(v);ot=l.attr(v);p.length&&(k=p.attr(v)||k)}function bt(){s.show();y.focus();w&&b.css(ht,"hidden");s.find("a").each(f.setOpenNewTab)}function lt(){o.unsub(t.sizeChangeEventName,c);s.remove();w?(b.css(ht,"auto"),b.off(h,at)):(nt.css(g,"0"),tt.css(g,"0"),it.css(ct,"0"),f.broadcastSizeChangeEvent())}function ut(n,t){lt();var i=f.calculateCookieExpirationDate(),r="pop",u="pbcls",e=f.getTemplateName();i>0&&(e?e==1?(f.stampCookie(r,2,i),f.stampCookie(u,1,Math.min(i,rt.ShowSecondHeaderFreq))):e==2&&(f.stampCookie(r,2,i),f.stampCookie(u,1,Math.min(i,rt.ShowHeaderFreq))):(f.stampCookie(r,1,i),f.stampCookie(u,1,Math.min(i,rt.ShowFirstHeaderFreq))));n&&f.fireTrackingCall(t||s[0],n)}function ft(n,t,i){ut();f.executeMsGwx(n,t,vt,i)}function at(t){n(t.target).is(".refreshbody *, .refreshbody")||(t.preventDefault(),t.stopImmediatePropagation(),ut("promo popup overlay clicked",t.target))}function kt(n){n.target===a[0]&&(i.open(k,"_blank"),f.fireTrackingCall(l,"win 10 promo banner logo clicked"))}function c(t){var i,r;w||t==="headerbanner"||(i=s.outerHeight(),c.oldOuterHeight||(c.oldOuterHeight=1,nt=n(".head"),tt=n("#maincontent"),it=n("#foot")),c.oldOuterHeight!==i)&&(r=i+"px",c.oldOuterHeight=i,nt.css(g,r),tt.css(g,r),it.css(ct,r),f.broadcastSizeChangeEvent())}function dt(){l.on(h,function(n){ft(n,ot,"promo content clicked")});y.on(h,function(n){ft(n,et,"promo button clicked")});p.on(h,function(n){ft(n,k,"promo learn more clicked")});n(".delete",s).on(h,function(n){n.preventDefault();n.stopImmediatePropagation();ut("promo close clicked",this)});w?b.on(h,at):a.on(h,kt);o.sub(t.sizeChangeEventName,c);setTimeout(function(){lt()},48e4)}function gt(){!f.shouldHidePromotionBanner(a)&&s.length&&(yt(),wt(),bt(),pt(),dt(),c(),e.trackPartialImpression(s))}var h="click",s=n(".win10promo"),y=n(".button",s),l=n(".content",s),p=n(".link",s),a=s.find(".refreshbody"),b=n("body"),et,ot,k="http://www.microsoft.com",vt="http://go.microsoft.com/fwlink/p/?LinkId=533710&pm=pd_MSNPopupBnnr1",v="href",st="span",ht="overflow",d,w=s.hasClass("popup"),nt,tt,it,g="top",ct="padding-top",rt={ShowFirstHeaderFreq:7,ShowSecondHeaderFreq:7,ShowHeaderFreq:7};gt()});define("slideShowNavigation.tokens",{arrowLeftText:"Previous Slide",arrowRightText:"Next Slide",arrowRightNextGalleryText:"Next Gallery",playPauseText:"Pause/Rotate"});define("galleryUtilsCore",["jquery","location"],function(n,t){function i(n,t){var i="";return n!=null&&(t!=null&&(i+=t+"|"),i+=n+1),i&&(i="#image="+i),i}function u(){var n=r.exec(t.hash)||[],u=n[2],i=n[3],f=i?i-1:!1;return{galleryId:u,imageIndex:f}}function f(n,r){var u=i(n,r),f=!!history.replaceState;f?history.replaceState(null,"Gallery",u):t.hash=u.replace("#","")}function e(i){if(i)n(".relatedgallery ul li a").attr("tabindex","-1");else{var r=t.href.toLowerCase().indexOf("fullscreen=true")>0?!0:!1,u=r?n(".thumbnails li:last").attr("tabindex"):n(".authorinfo-bsb .stb-bsb a:last").attr("tabindex");n(".relatedgallery ul li a").each(function(){n(this).attr("tabindex",++u)})}}var r=/\bimage=(([a-z0-9]+)\|)?(\d+)/i;return{getImageInfoFromHash:u,getHashFromImageInfo:i,setHashFromImageInfo:f,setupTabOrderForEndSlate:e}});define("slideShowNavigation",["jquery","jqBehavior","mediator","slideShowNavUtils","safeCss","track","tabKeyPressed","pageTime","window","slideShowNavigation.tokens","requestAnimationFrame","dir.tokens","scaledView","galleryUtilsCore","visibility","elementTrackingDecorator","perfMarker","location","document"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function ct(t,o){function tr(n){var t=b.href.toLowerCase(),i=t.toLowerCase().indexOf(tt);i>=0&&(ct=vr(ct));n&&lr(n)}function ir(n,t,i){n&&f.trackEvent({type:"click",target:n},"",b.protocol+ct,t);tr(i);k.location=ct}function lr(n){n&&(n.preventDefault(),n.stopImmediatePropagation())}function ar(){var t;return ct&&(t=n(ft).click(rr)),t}function rr(n){var t=this;n&&(t=n.target);f.trackEvent({type:"click",target:t},"",b.protocol+ct,"rightarrow-recircle");tr(n);k.location=ct}function vr(n){var i="?",t;return typeof n!="string"?n:(t=n.toLowerCase().indexOf(tt),t>=0)?n:(t=n.indexOf(i),t>=0&&(i="&"),n+i+tt)}function ur(n){var f=fr(),t=b.href,i=t.toLowerCase().indexOf("#"),r,u;return i>=0&&(t=b.href.substring(0,i)),r=f+n,u=v.getHashFromImageInfo(r-1,o.inlineGalleryId),t+u}function fr(){var i=t.parents(".gallery-container:first"),r;return i=i.length>0?i:n("body"),r=parseInt(i.find(".show .count").html()),isNaN(r)?1:r}function gt(n){(o.autoRotate=!!n)?kt=setTimeout(si,oi()):ni()}function ii(){bt&&(ci(t).css({padding:""}),h.resize(),sr())}function oi(){return o.autoRotateWait}function si(){if(o.autoRotate){var n=h.current();y.isElementTrulyVisible(t)&&(n>=li-1||yr(n+1))&&(ai=!0,i.pubChannel(d.animate,w,1));y.notifyWhenPageVisible().then(function(){kt=setTimeout(si,oi())})}}function yr(n){var t=!0,i=wt.eq(n);return i.hasClass("hasimage")&&(t=!i.find("img[data-src]").is(".loading")),t}function er(){o.autoRotate&&e()&&ni()}function pr(){o.stopStartRotationOnMouseHover&&bi&&ni()}function wr(){o.stopStartRotationOnMouseHover&&bi&&gt(!0)}function ni(){o.autoRotate=!1;clearTimeout(kt)}function or(n){n?clearTimeout(kt):o.autoRotate&&(kt=setTimeout(si,oi()))}function sr(){var n;n=148;at.css("top",n+"px");vt.css("top",n+"px");yt&&yt.css("top",n+"px")}function hi(){var n=h.hasNext(),t=h.hasPrevious();if(!o.carousel&&!o.isThumbnail){br(n,t);return}ei&&t?ui||(at.removeClass(g),ui=!0):ui&&(at.addClass(g),ui=!1);ei&&n?fi||(vt.removeClass(g),fi=!0):fi&&(vt.addClass(g),fi=!1);vi&&clearTimeout(vi)}function br(n,t){n?(vt.removeClass(g),yt&&!yt.hasClass(g)&&yt.addClass(g)):(vt.addClass(g),yt&&yt.removeClass(g));t?at.removeClass(g):at.addClass(g)}function hr(n){ti(-1,n)}function cr(t){n(t.target).parents("li").hasClass("relatedgallery")||ti(1,t)}function ti(n,t){var u,e,r,c;n===1&&h.hasNext()||n===-1&&h.hasPrevious()?(u=b.href,e=o.carousel?"":ur(n),h.animate(n),o.isThumbnail||(r=this,t&&(t.preventDefault(),t.stopImmediatePropagation(),r=t.target),c=o.carousel?"":"slideTitle",f.trackEvent({type:ki,target:r},null,e,c),o.carousel?(f.sendPageViewCandidate(),f.sendSinglePageViewBeacon("scorecard")):(f.trackEvent({type:"unload",noSpin:1},s),i.pubChannel(d.afterUpdate,w,n))),ct&&v.setupTabOrderForEndSlate(h.hasNext()),pt.trackNewImpression(u,h.current())):n===1&&!h.hasNext()&&ct&&rr(t)}var ci=u.createGroup(),wt=t.children(),pi=n("a",wt),it=t.parent(),li=wt.length,wi,ri=!o.autoRotate,bi=!0,nr,ui,fi,ei,vi,dt,yi,pt,h;setTimeout(function(){ri=!o.autoRotate},0);var ki=o.carousel?"click_nonnav":"click",di=!o.carousel&&!o.isThumbnail,ct,gi=lt(o.wrapAround,o.carousel,!1),bt=li>1;if(bt){var w=et++,ai,kt,at=n(ot).click(function(n){ti(-1,n)}).on(nt,function(){e()&&pt.showArrows()}).on(ut,function(){e()&&pt.hideArrows()}),vt=n(st).click(function(n){ti(1,n)}).on(nt,function(){e()&&pt.showArrows()}).on(ut,function(){e()&&pt.hideArrows()}),yt;if(o.isThumbnail||o.carousel||(nr=t.find("li.relatedgallery"),ct=nr.find("ul").first().attr("data-url"),ct?yt=n(ft).click(function(n){ir(this,"rightarrow-recircle",n)}):(ct=it.find("ul").first().attr("data-next-url"),yt=ar(ct))),o.isThumbnail?it&&(dt=it.parent(),dt&&dt.length&&(dt.append(at).append(vt),p.setTrackingForSingleElement(at,dt,{defaults:{n:"previousSlideArrow"}}),p.setTrackingForSingleElement(vt,dt,{defaults:{n:"nextSlideArrow"}}))):(it.append(at).append(vt),p.setTrackingForSingleElement(at,it,{defaults:{n:"previousSlideArrow"}}),p.setTrackingForSingleElement(vt,it,{defaults:{n:"nextSlideArrow"}}),yt&&(it.append(yt),p.setTrackingForSingleElement(yt,it,{defaults:{n:"nextGalleryArrow"}}))),o.autoRotate){yi=n(ht);yi.click(function(){gt(!o.autoRotate)}).appendTo(it);p.setTrackingForSingleElement(yi,it,{defaults:{n:"playPauseToggle"}});t.on("mouseover",pr)}t.data(rt,w);wi=!0}else t.removeClass("loading");return pt={slides:function(n,r){var a=b.href,u,e,c,l;if(o.carousel&&(u=h.hasNext()?h.current():0,e=t[0].children[u],f.trackPartialImpression(e)),r){c=r.touch_gesture;r.touch_gesture="swipe";var v=o.carousel||o.isThumbnail?"":ur(n),y=o.carousel?"":"slideTitle",p=o.isThumbnail?"click_nonnav":ki;n!==0&&(l=n>0?vt:at,f.trackEvent({type:p,target:r,noSpin:1},l,v,y));r.touch_gesture=c;di&&(f.trackEvent({type:"unload",noSpin:1},s),i.pubChannel(d.afterUpdate,w,n));o.carousel&&(f.sendPageViewCandidate(),f.sendSinglePageViewBeacon("scorecard"))}i.pubChannel(d.update,w,n);o.carousel||gi||hi();r&&pt.trackNewImpression(a,h.current());ai||ni();ai=!1;ri=!1},hideArrows:function(){ri||o.alwaysShowArrows||(ei=!1,c(hi))},showArrows:function(){ei=!0;c(hi)},trackNewImpression:function(t,r){var h,s,u,e;if(di){if(k.referrerOverride=t,h=1,r&&wt.length&&(s=wt.eq(r),s.length&&(h=s.hasClass("interstitialAd")?"":s.hasClass("relatedgallery")?-1:fr())),u={pgIdx:h},o.isInlineGallery&&(u.pgTot=li,e=n("#main").find(".gallery-container"),e.length)){var l=e.attr("data-page-name"),a=e.attr("data-page-id"),v=e.attr("data-gallery-id"),y=e.attr("data-page-provider-id"),c=e.attr("data-page-partner-name"),p=e.attr("data-page-publcat");u.pn=l;u.pid=a;u["cv.entityId"]=v;u.provid=y;c!==undefined&&(u["cv.partner"]=c,u["cv.publcat"]=p)}f.trackPage(u);i.pubChannel(d.thirdParty,w)}},nextSlideShow:ir},h=r(bt,o.carousel,o.isThumbnail,gi,o.swipeToNextGallery,t,wt,it,ci,pt,o.startSlideIndex),h.addHoverElements&&o.addHoverSelector&&h.addHoverElements(n(o.addHoverSelector)),bt&&hi(),{setup:function(){if(!wi)return!1;if(bt){if(t.addClass("loaded"),at.show(),vt.show(),o.isThumbnail||sr(),pt.showArrows(),ri||(vi=setTimeout(pt.hideArrows,o.showArrowTime)),i.subChannel(d.realign,w,ii),i.subChannel(d.animate,w,h.animate),i.subChannel(d.change,w,h.change),i.subChannel("autoRotate",w,gt),i.subChannel(d.next,w,cr),i.subChannel(d.previous,w,hr),a.addListener(ii),o.autoRotate){kt=setTimeout(si,oi());it.one("mousedown",ni);pi.one(nt,er);t.on("mouseout",wr)}if(i.sub("fullscreen",or),i.sub("allAutoRotate",gt),o.carousel)it.on("keydown",function(n){return n.which==37?(h.animate(l.ltr?-1:1),!1):n.which==39?(h.animate(l.ltr?1:-1),!1):void 0});else it.on("keydown",function(t){var i,r;return t.which==37?(ti(l.ltr?-1:1,t),!1):t.which==38?(i=n(".gallerydata .show .body-text .more"),i.length==1&&i.css("display")!="none"&&i.click(),!1):t.which==39?(ti(l.ltr?1:-1,t),!1):t.which==40?(r=n(".gallerydata .show .body-text .close"),r.length==1&&r.css("display")!="none"&&r.click(),!1):void 0})}return h.setup(),!0},teardown:function(){t.removeClass("loaded");ci.reset();bt&&(it.off("keydown"),pt.hideArrows(),at.hide(),vt.hide(),i.unsubChannel(d.realign,w,ii),i.unsubChannel(d.animate,w,h.animate),i.unsubChannel(d.change,w,h.change),i.unsubChannel(d.next,w,cr),i.unsubChannel(d.previous,w,hr),i.unsubChannel("autoRotate",w,gt),a.removeListener(ii),it.off("mousedown",ni),pi.off(nt,er),i.unsub("fullscreen",or),i.unsub("allAutoRotate",gt));h.teardown()},update:ii}}function lt(){for(var t=arguments.length,n=0;n<t;n++)if(typeof arguments[n]!="undefined")return arguments[n];return null}var d={animate:"slideShowNavAnimate",change:"slideShowNavChange",update:"slideShowNavUpdate",next:"slideShowNavNext",previous:"slideShowNavPrevious",afterUpdate:"slideShowNavAfterUpdate",thirdParty:"slideShowNavThirdParty",realign:"slideShowNavRealign",exitFullScreen:"exitFullScreen"},rt="slideShowNavId",et=1,tt="fullscreen=true",nt="focus",ut="blur",ot='<button class="leftarrow fade" title="'+h.arrowLeftText+'">'+h.arrowLeftText+"<\/button>",st='<button class="rightarrow fade" title="'+h.arrowRightText+'">'+h.arrowRightText+"<\/button>",ft='<button class="rightarrow fade" id="nextgallery" title="'+h.arrowRightNextGalleryText+'">'+h.arrowRightNextGalleryText+"<\/button>",ht='<button class="playpause hide" title="'+h.playPauseText+'">'+h.playPauseText+"<\/button>",g="fade",it=t(ct,{carousel:!0,autoRotate:!1,autoRotateWait:5e3,alwaysShowArrows:!1,showArrowTime:3500,isThumbnail:!1,swipeToNextGallery:!1,stopStartRotationOnMouseHover:!1});return it.event=d,it.id=rt,it});define("infopaneNavVNext",["jquery","jqBehavior","slideShowNavigation","mediator","format","tabKeyPressed","document"],function(n,t,i,r,u,f,e){function l(t,l){function tt(n){var t=(a+n)%k,i;t<0&&(t+=k);i=v.eq(t);v.eq(a).removeClass(l.selectedClass);b.eq(a).removeClass(l.selectedClass);i.addClass(l.selectedClass);b.eq(t).addClass(l.selectedClass);a=t;r.pub("infopane_navigation",{elem:i,index:t})}function it(i){p=0;i.keyCode==s&&(d=n(i.target).closest(t).length,p+=o);i.shiftKey&&(p+=c)}function rt(){f()&&(w?w=!1:d?p==o&&ut()?r.pubChannel(i.event.change,l.slideShowNavigationId,1):p==h&&ut()&&r.pubChannel(i.event.change,l.slideShowNavigationId,-1):(w=!0,v.eq(a).find("a").first().focus()))}function ut(){return!v.eq(a).find(e.activeElement).length}function ft(){var i,r;for(y=n(u('<div class="slidecount {0}"/>',l.accentColor)),i=0;i<v.length;i++)r=i?"":' class="'+l.selectedClass+'"',y.append(u("<span{0}/>",r));b=y.children();t.after(y)}var a=0,v=t.children(),k=v.length,y,w=!1,d=!1,b,p=0,g=n(e),nt=t.find("a");return{setup:function(){r.subChannel(i.event.update,l.slideShowNavigationId,tt);y||ft();g.on("keydown",it);nt.on("focusin",rt)},teardown:function(){r.unsubChannel(i.event.update,l.slideShowNavigationId,tt);g.off("keydown",it);nt.off("focusin",rt)}}}var s=9,h=3,c=2,o=1;return t(l,{selectedClass:"selected",accentColor:"pink"})});define("infopaneVNext",["jquery","jqBehavior","safeCss","slideShowNavigation","infopaneNavVNext","mediator","imgSrc","setCookie"],function(n,t,i,r,u,f,e){function o(t,o){function rt(){var t=a.children(),i=new Array(t.length);return t.each(function(t){i[t]=n("img",this)}),i}function k(n){var t=(s+n)%b;return t<0&&(t+=b),t}function p(n){var i,t;for(s=k(n),i=n<0?-1:1,t=0;t<=2;++t)w[k(t*i)].each(function(){e.go(this)})}function d(){v.each(function(t,i){n(i).toggleClass("selected",t===s)});l.not(".selected").css("opacity")=="0"&&l.css("opacity","1");g()}function g(){var n=l.eq(s).find("a").removeAttr("tabindex").end();l.not(n).find("a").attr("tabindex",-1)}function nt(t){var u=n(t.target).data("tab-id"),i=u-s;i!=0&&f.pubChannel(r.event.animate,c,i)}var s=0;if(o.tabbedInfopane){var v=t.find(".ip-tab-title"),l=t.find(".pane"),tt=!1;n.extend(o,{alwaysShowArrows:!1,autoRotate:tt,showArrows:!1,showDotPaginition:!1,startSlideIndex:s})}var it=i.createGroup(),a=n("ul.swipenav",t),y=r(a,null,o),c=a.data(r.id),w=rt(),b=w.length,h=!1;return!o.tabbedInfopane&&o.showDotPaginition&&(h=u(a,0,n.extend({slideShowNavigationId:c},o))),{setup:function(){if(!y.setup())return t.addClass("invalid"),!1;if(f.subChannel(r.event.update,c,p),h&&h.setup(),o.tabbedInfopane){g();s!=0&&p(0);f.subChannel(r.event.update,c,d);v.on("click",nt)}return!0},teardown:function(){it.reset();y.teardown();h&&h.teardown();f.unsubChannel(r.event.update,c,p);o.tabbedInfopane&&(f.unsubChannel(r.event.update,c,d),v.off("click",nt))},update:function(){y.update();h&&h.update()}}}return t(o,{autoRotate:!0,showDotPaginition:!0,tabbedInfopane:!1})});canary="c.deferred";require(["binding","infopaneVNext",canary],function(n){n("infopaneVNext",".ip").all();n("infopaneVNext",".sip").all({alwaysShowArrows:!0})});define("slideShowNavUtils",["jqueryPlus","touchDataManager","carouselManager","mediator","modernizr","touchGestures","dir.tokens","requestAnimationFrame"],function(n,t,i,r,u,f,e,o){var s=u.translateXCss,h=e.ltr?1:-1,c=e.ltr?1:-1;return function(u,l,a,v,y,p,w,b,k,d,g){function ri(){for(var t,i=[],r=vt(w.eq(0)),n=0;n<rt;++n)t=w.eq(n),t.leftRelSlider=vt(t)-r,i[n]=t;nt.load(i)}function kt(n){(pt=n)?(k(w).css("left",""),ui()):a||(k(w).css({top:"",width:""}),k(p).css("width",""))}function ui(){a||(k(p).css("width",100*w.length+"%"),k(w).css("width",100/w.length+"%"))}function fi(n){if(u)n.on("gesture",{direction:"horizontal"},ei)}function ei(n){if(ht&&n.direction)switch(n.current.touchType){case f.types.move:ct?ft.input(n.current.coord.x):(ft.reset(n.current.coord.x),dt(),ii=lt(),ct=!0);ut(p,ii+ft.getDelta()|0);break;case f.types.swipeUp:case f.types.swipeDown:case f.types.throwUp:case f.types.throwDown:case f.types.cancel:case f.types.stop:ct=!1;ai(n.target);break;case f.types.swipeRight:case f.types.swipeLeft:case f.types.throwRight:case f.types.throwLeft:ct=!1;var t=n.current.touchType==f.types.swipeRight||n.current.touchType==f.types.throwRight,i=n.current.touchType==f.types.throwLeft||n.current.touchType==f.types.throwRight,r=i?oi():0;ni(r+(t?-h:h),n.target)}}function dt(){st&&(p.stop(),st=!1)}function ci(n){ot||o(function(){ot();ot=null});ot=n}function gt(n){return at(n)+c*(b.width()-n.width())/2}function li(n){if(n||!a){var i,t=nt.getItem(0);i=a?at(t):gt(t);typeof n!="undefined"?ci(function(){ft.ensureJQueryEase();st=!0;var n={};n[s]=i;p.stop().animate(n,{duration:ft.getDuration(),easing:"cubicBezierQuint",step:function(n){var i=gt(t),r=lt();return(i|0)!=(n.endValue|0)&&(n.startValue=r-t.width(),n.endValue=i),n},complete:function(){st=!1;(lt()|0)!=(gt(t)|0)&&et()}})}):p.css(s)!==i&&ut(p,i)}}function ai(n){ni(oi(),n)}function oi(){for(var u,t,i=0,r=Infinity,f=lt(),n=-bt;n<=ti;n++)u=at(nt.getItem(n)),t=Math.abs(u-f),t<r&&(r=t,i=n);return i}function lt(){return ut(p)}function ut(n,t){return isNaN(n.leftRelSlider)&&(n.leftRelSlider=0),t==undefined?t=parseFloat(n.css(s)):k(n).css(s,t-n.leftRelSlider),t+n.leftRelSlider}function ni(n,t){var i,r,u;if(l||v)tt=(tt+n+rt)%rt;else{if(i=tt+n,i<0)i=0;else if(i>=rt){if(y){t&&(t.touch_gesture="swipe");d.nextSlideShow(t,"swipe-recircle");return}i=rt-1}i!=tt+n&&(n=i-tt);tt=i}(nt.getItem(1).leftRelSlider==0&&ri(),nt.changeIndex(n),r=at(nt.getItem(0)),u=ut(p),r!=u)&&(et(n),d.slides(n,t))}function at(n){return l?(b.width()-n.outerWidth(!0))/2-ut(n)-.5|0:-n.leftRelSlider}function si(){et()}function et(n){var u,r,f,t,i;if(ht){for(u=n&&ut(nt.getItem(-n)),dt(),r=nt.getItem(-bt).outerWidth(!0)/2,f=vt(w.eq(0)),t=-bt;t<=ti;t++)i=nt.getItem(t),i.leftRelSlider=vt(i)-f,r+=i.outerWidth(!0);pt||a||k(p).css("width",r);li(n,l&&n&&ut(nt.getItem(-n))-u)}}function vt(n){return n.offset().left+(e.ltr?0:n.outerWidth(!0))}var it=b,rt=w.length,nt=new i,tt=g||0,yt=n("body"),pt=(yt.hasClass("gfp")||yt.hasClass("afp"))&&yt.hasClass("fullscreen"),wt=f.settings.touchSupported,ot,bt=Math.floor((rt-1)/2),ti=Math.floor(rt/2),hi,st,ht,ft=new t,ct,ii;return y=y&&!l&&!a&&!v,wt&&fi(it),setTimeout(function(){pt&&ui();r.sub("fullscreen",kt)},100),{setup:function(){ri();nt.setIndex(tt);it.on("mouseover",d.showArrows);it.on("mouseout",d.hideArrows);if(!l)n("img",b).on("load",si);r.sub("fullscreen",kt);u&&(ht=!0,hi=0,et(g))},teardown:function(){ht=!1;wt&&(dt(),ut(p,0));it.off("mouseover",d.showArrows);it.off("mouseout",d.hideArrows);it.off("gesture",{direction:"horizontal"},ei);l||n("img",b).off("load",si);r.unsub("fullscreen",kt)},animate:ni,change:function(n){nt.changeIndex(n);tt+=n;d.slides(n)},resize:et,current:function(){return tt},hasNext:function(){return l||v||tt<rt-1},hasPrevious:function(){return l||v||tt>0},addHoverElements:function(n){wt&&fi(n);it=it.add(n)}}}})