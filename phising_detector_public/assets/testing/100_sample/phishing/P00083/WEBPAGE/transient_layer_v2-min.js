/*Copyright (c) 2012 United Services Automobile Association All Rights Reserved transient_layer_v2.js*/
USAA.ent.widget.TransientLayer=(function(){var P="tllv2",J={},R=YAHOO.util.Dom,Q=YAHOO.util.Event;var e=function(n){var o=arguments[2].dependencies||n;if(typeof (o)=="object"){var q=0,l=o.length;for(var m=l;m--;){USAA.ent.util.Loader.includeJS(o[m],function(){q++})}if(l==q){J.callers=new Array();YAHOO.util.Event.addListener(window,"resize",D);YAHOO.util.Event.addListener(document,"click",i);H();var p=YAHOO.util.Dom.getElementsByClassName(P);for(var m=p.length;m--;){if(p[m].attributes.onmouseover){S(p[m])}}}}};var Y=function(m){var n=0;if(window.pageYOffset){n=window.pageYOffset}else{n=document.documentElement.scrollTop}var l=m-n;return l};var k=function(n){var o=YAHOO.util.Event.getTarget(n),m=YAHOO.util.Dom.getXY(o),l=250;var p={xPos:m[0],yPos:Y(m[1]),viewportWidth:YAHOO.util.Dom.getViewportWidth(),viewportHeight:YAHOO.util.Dom.getViewportHeight()};p.halfHeight=parseInt(p.viewportHeight-(p.viewportHeight/2),10);p.thirdWidth=parseInt(p.viewportWidth-((p.viewportWidth/3)*2),10);if(p.yPos<(p.halfHeight+l)){if(o.offsetWidth>800){p.arrowPosition="ta"}else{if(p.xPos<p.thirdWidth){p.arrowPosition="ta"}else{if(p.xPos<(p.thirdWidth*2)){p.arrowPosition="tc"}else{p.arrowPosition="tb"}}}}else{if(o.offsetWidth>800){p.arrowPosition="bb"}else{if(p.xPos<p.thirdWidth){p.arrowPosition="ba"}else{if(p.xPos<(p.thirdWidth*2)){p.arrowPosition="bc"}else{p.arrowPosition="bb"}}}}return(p.arrowPosition)};var a=function(m){var l=YAHOO.util.Event.getTarget(m);if(l.onmouseover&&l.className.match(P)){S(l)}};var S=function(n){for(var m=J.callers.length;m--;){if(n===J.callers[m]){return }}J.callers.push(n);var o={};var p=n.attributes.onmouseover.value.toString().split("{")[1].split("}")[0].replace(/["'\s]/g,"").split(",");for(var m=p.length;m--;){var l=p[m].split(":");o[l[0]]=l[1]}YAHOO.util.Event.addListener(n,"click",function(q){c(q,o)});YAHOO.util.Event.addListener(n,"mouseout",function(){b(o)})};var c=function(m,l){if(!l.hoverOnly){YAHOO.util.Event.preventDefault(m)}if(J[l.tlID]){V(m,J[l.tlID].cfg)}else{var o=(l.arrowPosition)?true:false;var n={};n.tlID=l.tlID||null;J[n.tlID]={};n.width=parseInt(l.width)||300;n.contentSrc=l.contentSrc||false;n.arrowPosition=l.arrowPosition||k(m);n.xOffset=parseInt(l.xOffset)||0;n.yOffset=parseInt(l.yOffset)||0;n.contentUrl=l.contentUrl||null;n.largeShadow=l.largeShadow||false;n.autoCloseExempt=l.autoCloseExempt||false;n.insideModal=l.insideModal||false;n.hoverOnly=l.hoverOnly||false;n.legacyGlossary=l.legacyGlossary||false;n.resized=false;if(l.reclickClose!=undefined){n.reclickClose=l.reclickClose}else{n.reclickClose=true}if(l.clickOutClose!=undefined){n.clickOutClose=l.clickOutClose}else{n.clickOutClose=true}if(l.cacheable!=undefined){n.cacheable=l.cacheable}else{n.cacheable=(o)?false:true}if(n.contentSrc=="iframe"){n.cacheable=false}n.arrowPlacement=n.arrowPosition.substring(0,1);n.arrowFlank=n.arrowPosition.substring(1,2);n.arrowEdgeOffset=parseInt(n.arrowPosition.substring(2))||0;if(n.arrowEdgeOffset<30){n.arrowEdgeOffset=30}if(n.arrowPlacement=="t"||n.arrowPlacement=="b"){n.extraWidth=5}else{if(n.arrowPlacement=="l"){n.extraWidth=21}else{if(n.arrowPlacement=="r"){n.extraWidth=26}}}J[n.tlID].callingElement=YAHOO.util.Event.getTarget(m);J[n.tlID].cfg=f(true,{},n);J[n.tlID].state={};J[n.tlID].events={};J[n.tlID].events.openingComplete=new YAHOO.util.CustomEvent("openingComplete",window);J[n.tlID].events.buildComplete=new YAHOO.util.CustomEvent("buildComplete",window);J[n.tlID].events.contentComplete=new YAHOO.util.CustomEvent("contentComplete",window);J[n.tlID].events.fitComplete=new YAHOO.util.CustomEvent("fitComplete",window);J[n.tlID].events.fitComplete.subscribe(function(){A(J[n.tlID].cfg)});J[n.tlID].events.positionComplete=new YAHOO.util.CustomEvent("positionComplete",window);J[n.tlID].events.positionComplete.subscribe(function(){J[n.tlID].state.loading=false});J[n.tlID].nextFocusableEl=T(J[n.tlID].callingElement);V(m,J[n.tlID].cfg)}};var V=function(m,l){var n=m.type.toLowerCase();if(n=="mouseover"&&(J[l.tlID].state.clickedOpen||J[l.tlID].state.loading)){return }else{if(n=="mouseover"){J[l.tlID].timer=setTimeout(function(){J[l.tlID].state.hover=true;if(!J[l.tlID].state.loading){J[l.tlID].state.loading=true;O(J[l.tlID].cfg)}},250)}else{if(n!="mouseover"&&J[l.tlID].state.clickedOpen||((J[l.tlID].state.loading&&!J[l.tlID].state.hover)||((J[l.tlID].obj&&J[l.tlID].obj.tl.style.display=="block")&&!J[l.tlID].state.hover))&&J[l.tlID].cfg.reclickClose){L(J[l.tlID].cfg)}else{if(n!="mouseover"&&J[l.tlID].state.loading&&J[l.tlID].state.hover){J[l.tlID].state.hover=false;J[l.tlID].state.clickedOpen=true;if(J[l.tlID].cfg.cacheable){O(l)}}else{if(!l.hoverOnly){if(!J[l.tlID].cfg.cacheable&&J[l.tlID].state.hover){J[l.tlID].obj.tlCloseTop.style.display="block";J[l.tlID].state.hover=false;J[l.tlID].state.clickedOpen=true;J[l.tlID].obj.topCloseLink.focus();return }J[l.tlID].state.hover=false;j();if(!J[l.tlID].state.loading){if(J[l.tlID].obj&&J[l.tlID].obj.tl.style.display=="block"){J[l.tlID].obj.tl.style.display="none"}J[l.tlID].state.loading=true;J[l.tlID].state.clickedOpen=true;YAHOO.util.Event.addListener(J[l.tlID].callingElement,"keydown",function(o){g(o,l)});YAHOO.util.Event.addListener(J[l.tlID].nextFocusableEl,"keydown",function(o){g(o,l)});O(J[l.tlID].cfg)}}}}}}};var O=function(l){if(J[l.tlID].timer){clearTimeout(J[l.tlID].timer)}if(J[l.tlID].cfg.cacheable&&J[l.tlID].state.cached){if(J[l.tlID].state.hover){J[l.tlID].obj.tlCloseTop.style.display="none"}else{J[l.tlID].obj.tlCloseTop.style.display="block"}J[l.tlID].obj.tl.style.display="block";X(l)}else{I(l)}};var I=function(m){W(m);G(m);var n=J[m.tlID].obj;var l=J[m.tlID].totalWidth=parseInt(m.width)+parseInt(m.extraWidth);n.tl.style.width=l+"px";n.tlTop.style.width=l+"px";n.tlTopL.style.width=Math.ceil(l/2)+"px";n.tlTopR.style.width=Math.floor(l/2)+"px";n.tlBottom.style.width=l+"px";n.tlBottomL.style.width=Math.ceil(l/2)+"px";n.tlBottomR.style.width=Math.floor(l/2)+"px";n.tlTopL.style.backgroundPosition="left -16px";n.tlTopR.style.backgroundPosition="right -38px";n.tlBottomL.style.backgroundPosition="left -44px";n.tlBottomR.style.backgroundPosition="right -71px";n.tlLeftT.style.backgroundPosition="left top";n.tlLeftB.style.backgroundPosition="left top";n.tlRightT.style.backgroundPosition="-7px top";n.tlRightB.style.backgroundPosition="-7px top";n.tlBody.style.width=m.width-12+"px";if(m.arrowPlacement=="t"){n.tlTop.style.height="22px";n.tlTopL.style.height="22px";n.tlTopR.style.height="22px";n.tlTopL.style.backgroundPosition="left 0px";n.tlTopR.style.backgroundPosition="right -22px";n.tlTopM.style.display="block";if(m.arrowFlank=="a"){n.tlTopL.style.width=m.arrowEdgeOffset-16+"px";n.tlTopR.style.width=l-36-(m.arrowEdgeOffset-16)+"px";n.tl.style.top=J[m.tlID].callingElementRegion.bottom+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementCenterX-m.arrowEdgeOffset+m.xOffset+"px"}else{if(m.arrowFlank=="b"){n.tlTopL.style.width=l-36-(m.arrowEdgeOffset+5-20)+"px";n.tlTopR.style.width=m.arrowEdgeOffset+5-20+"px";n.tl.style.top=J[m.tlID].callingElementRegion.bottom+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementCenterX-(l-5-m.arrowEdgeOffset)+m.xOffset+"px"}else{if(m.arrowFlank=="c"){n.tlTopL.style.width=Math.ceil(l/2)-16-3+"px";n.tlTopR.style.width=Math.floor(l/2)-20+3+"px";n.tl.style.top=J[m.tlID].callingElementRegion.bottom+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementCenterX-Math.ceil(l/2)+3+m.xOffset+"px"}}}}else{if(m.arrowPlacement=="b"){n.tlBottom.style.height="27px";n.tlBottomL.style.height="27px";n.tlBottomR.style.height="27px";n.tlBottomL.style.backgroundPosition="left -44px";n.tlBottomR.style.backgroundPosition="right -71px";n.tlBottomM.style.display="block";if(m.arrowFlank=="a"){n.tlBottomL.style.width=m.arrowEdgeOffset-16+"px";n.tlBottomR.style.width=l-36-(m.arrowEdgeOffset-16)+"px";n.tl.style.top=J[m.tlID].callingElementRegion.top-133+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementCenterX-m.arrowEdgeOffset+m.xOffset+"px"}else{if(m.arrowFlank=="b"){n.tlBottomL.style.width=l-36-(m.arrowEdgeOffset+5-20)+"px";n.tlBottomR.style.width=m.arrowEdgeOffset+5-20+"px";n.tl.style.top=J[m.tlID].callingElementRegion.top-133+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementCenterX-(l-5-m.arrowEdgeOffset)+m.xOffset+"px"}else{if(m.arrowFlank=="c"){n.tlBottomL.style.width=Math.ceil(l/2)-16-3+"px";n.tlBottomR.style.width=Math.floor(l/2)-20+3+"px";n.tl.style.top=J[m.tlID].callingElementRegion.top-133+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementCenterX-Math.ceil(l/2)+3+m.xOffset+"px"}}}}else{if(m.arrowPlacement=="l"){n.tlLeft.style.width="22px";n.tlLeftT.style.width="22px";n.tlLeftB.style.width="22px";n.tlLeftT.style.backgroundPosition="16px top";n.tlLeftB.style.backgroundPosition="16px top";n.tlLeftM.style.display="block";n.tlTopL.style.backgroundPosition="16px -16px";n.tlBottomL.style.backgroundPosition="16px -44px";n.tlLeftT.style.height="34px";n.tlLeftB.style.height="29px";n.tl.style.top=J[m.tlID].callingElementCenterY-56+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementRegion.right+m.xOffset+"px"}else{if(m.arrowPlacement=="r"){n.tlRight.style.width="27px";n.tlRightT.style.width="27px";n.tlRightB.style.width="27px";n.tlRightT.style.backgroundPosition="-6px top";n.tlRightB.style.backgroundPosition="-6px top";n.tlRightM.style.display="block";n.tlTopR.style.width=l/2-20+"px";n.tlBottomR.style.width=l/2-20+"px";n.tlTopR.style.backgroundPosition="right -38px";n.tlBottomR.style.backgroundPosition="right -71px";n.tlRightT.style.height="34px";n.tlRightB.style.height="29px";n.tl.style.top=J[m.tlID].callingElementCenterY-56+m.yOffset+"px";n.tl.style.left=J[m.tlID].callingElementRegion.left-l+m.xOffset+"px"}}}}if(m.legacyGlossary){YAHOO.util.Dom.addClass(n.tl,"legacy-glossary")}document.body.appendChild(n.tl);if(J[m.tlID].state.hover==true){n.tlCloseTop.style.display="none"}else{n.tlCloseTop.style.display="block"}if(m.insideModal){J[m.tlID].obj.tl.style.zIndex=10005}else{J[m.tlID].obj.tl.style.zIndex=10002}n.tl.style.visibility="visible";n.tl.style.display="block";E(m)};var C=function(q){var m,r,p,o,l,n=q.length;m=q.substr(q.indexOf("</head>")+7,n);for(var o=m.indexOf("<script"),l=m.indexOf("<link");(o>-1)||(l>-1);o=m.indexOf("<script"),l=m.indexOf("<link")){n--;if(o>0){m=m.substr(0,o)+m.substr(m.indexOf("<\/script>")+9,(m.length-o))}if(l>0){r=m.substr(0,l);p=m.substr(l,m.length);m=r+p.substr(p.indexOf(">")+1,(p.length))}if(n<0){break}}return m.substr(0,m.indexOf("</html>"))};var E=function(m){if(m.contentSrc=="iframe"){var q=m.contentUrl||J[m.tlID].callingElement.href;J[m.tlID].obj.tlContent.innerHTML='<div class="tlCloseTop"><a href="javascript:;" class="topCloseLink" onclick="USAA.ent.widget.TransientLayer.closeTL(USAA.ent.widget.TransientLayer.cache[\''+m.tlID+'\'].cfg)" title="Close Popup"><img src="http://content.usaa.com/mcontent/static_assets/Media/tlClose.png" alt=" " title="" /></a></div><div class="tlSpinner"></div><iframe src="'+q+'" id="'+m.tlID+'_iframe" name="'+m.tlID+'_iframe" width="100%" height="0" frameborder="0" scrolling="no" onload="top.USAA.ent.widget.TransientLayer.adjustIframeHeight(this)"></iframe><a class="bottomCloseLink" href="javascript:;" onclick="USAA.ent.widget.TransientLayer.closeTL(USAA.ent.widget.TransientLayer.cache[\''+m.tlID+'\'].cfg)" onFocus="YAHOO.util.Dom.addClass(this, \'in-focus\');" onBlur="YAHOO.util.Dom.removeClass(this, \'in-focus\');" title="Close Popup">Close</a>';var n=J[m.tlID].obj.iframe=YAHOO.util.Dom.get(m.tlID+"_iframe");J[m.tlID].obj.tlCloseTop=J[m.tlID].obj.tlContent.firstChild;J[m.tlID].obj.topCloseLink=J[m.tlID].obj.tlCloseTop.firstChild;J[m.tlID].obj.bottomCloseLink=J[m.tlID].obj.tlContent.lastChild}else{if(m.contentSrc=="xhr"){var p=m.contentUrl||J[m.tlID].callingElement.href;var l=function(r){J[m.tlID].obj.tlContent.style.visibility="hidden";J[m.tlID].obj.tlContent.innerHTML=(J[m.tlID].cfg.legacyGlossary)?C(r.responseText):r.responseText;K(m);if(J[m.tlID].cfg.cacheable){J[m.tlID].state.cached=true}J[m.tlID].events.contentComplete.fire();X(m)};var o=function(r){J[m.tlID].obj.tlContent.style.visibility="hidden";J[m.tlID].obj.tlContent.innerHTML="The content for this popup has failed to load.<br /><br /><br />";K(m);J[m.tlID].events.contentComplete.fire();X(m)};YAHOO.util.Connect.asyncRequest("GET",p,{success:l,failure:o},null)}else{J[m.tlID].obj.tlContent.style.visibility="hidden";J[m.tlID].obj.tlContent.innerHTML=YAHOO.util.Dom.get(m.contentSrc).innerHTML;K(m);if(J[m.tlID].cfg.cacheable){J[m.tlID].state.cached=true}J[m.tlID].events.contentComplete.fire();X(m)}}};var K=function(l){J[l.tlID].obj.topCloseLink.appendChild(J[l.tlID].obj.closeImg);J[l.tlID].obj.tlCloseTop.appendChild(J[l.tlID].obj.topCloseLink);YAHOO.util.Dom.insertBefore(J[l.tlID].obj.tlCloseTop,J[l.tlID].obj.tlContent.firstChild);J[l.tlID].obj.tlContent.appendChild(J[l.tlID].obj.bottomCloseLink);J[l.tlID].obj.bottomCloseLink.innerHTML="Close";if(J[l.tlID].state.clickedOpen){J[l.tlID].obj.tlCloseTop.style.display="block";YAHOO.util.Event.addListener(J[l.tlID].obj.tl,"keydown",function(m){Z(m,l)})}};var h=function(q){var p=q;var o=p.id.split("_iframe")[0];var n=J[o].cfg;J[n.tlID].obj.tlContent.style.visibility="hidden";if(J[n.tlID].state.clickedOpen){J[n.tlID].obj.tlCloseTop.style.display="block";YAHOO.util.Event.addListener(J[n.tlID].obj.topCloseLink,"keydown",function(r){Z(r,n)});YAHOO.util.Event.addListener(J[n.tlID].obj.bottomCloseLink,"keydown",function(r){Z(r,n)})}if(J[n.tlID].obj.tlCloseTop.nextSibling.className=="tlSpinner"){J[n.tlID].obj.tlSpinner=J[n.tlID].obj.tlCloseTop.nextSibling;J[n.tlID].obj.tlSpinner.parentNode.removeChild(J[n.tlID].obj.tlSpinner)}var m=1;p.height=m;var l=p.contentWindow||p.contentDocument||p.document;l=l.document||l;m=l.body.scrollHeight;p.height=m;J[n.tlID].events.contentComplete.fire();X(n)};var X=function(l){var m=J[l.tlID].obj;J[l.tlID].obj.tlContent.style.display="block";var p=m.tlContent.offsetHeight;var n=J[l.tlID].heightSettings={};J[l.tlID].heightSettings.bodyHeight=p;J[l.tlID].heightSettings.contentHeight=p;n.leftHeight=p;n.rightHeight=p;W(l);if(l.legacyGlossary&&((p>350)&&(!l.resized))){J[l.tlID].obj.tl.style.display="none";l.width=(p<700)?640:890;if(l.arrowPosition=="la"){l.arrowPosition="ta"}else{if(l.arrowPosition=="lb"){l.arrowPosition="ba"}else{if(l.arrowPosition=="ra"){l.arrowPosition="tb"}else{if(l.arrowPosition=="rb"){l.arrowPosition="bb"}}}}l.arrowPlacement=l.arrowPosition.substr(0,1);l.arrowFlank=l.arrowPosition.substr(1,2);if(l.arrowPlacement=="t"||l.arrowPlacement=="b"){l.extraWidth=5}else{if(l.arrowPlacement=="l"){javascript:l.extraWidth=21}else{if(l.arrowPlacement=="r"){l.extraWidth=26}}}l.resized=true;J[l.tlID].cfg=l;O(l);return false}if(l.arrowPlacement=="t"||l.arrowPlacement=="b"){n.leftTHeight=Math.ceil(p/2);n.rightTHeight=Math.ceil(p/2);n.leftBHeight=Math.floor(p/2);n.rightBHeight=Math.floor(p/2);if(l.arrowPlacement=="t"){n.topPosition=J[l.tlID].callingElementRegion.bottom+l.yOffset}else{if(l.arrowPlacement=="b"){n.topPosition=J[l.tlID].callingElementRegion.top-(p+33)+l.yOffset}}}else{if(l.arrowPlacement=="l"){n.rightTHeight=Math.ceil(p/2);n.rightBHeight=Math.floor(p/2);if(l.arrowFlank=="a"){n.leftTHeight=(l.arrowEdgeOffset-16-6);n.leftBHeight=(p-37-(l.arrowEdgeOffset-16-6));n.topPosition=(J[l.tlID].callingElementCenterY-(p+18)+((p+18)-l.arrowEdgeOffset)+l.yOffset)}else{if(l.arrowFlank=="b"){n.leftTHeight=(p-37-(l.arrowEdgeOffset-6-21));n.leftBHeight=(l.arrowEdgeOffset-6-21);n.topPosition=(J[l.tlID].callingElementCenterY-(p+18)+l.arrowEdgeOffset+6+l.yOffset)}else{if(l.arrowFlank=="c"){n.leftTHeight=(Math.ceil(p/2)-16);n.leftBHeight=(Math.floor(p/2)-21);n.topPosition=(J[l.tlID].callingElementCenterY-(p+18)/2+3+l.yOffset)}}}}else{if(l.arrowPlacement=="r"){n.leftTHeight=Math.ceil(p/2);n.leftBHeight=Math.floor(p/2);if(l.arrowFlank=="a"){n.rightTHeight=(l.arrowEdgeOffset-16-6);n.rightBHeight=(p-37-(l.arrowEdgeOffset-16-6));n.topPosition=(J[l.tlID].callingElementCenterY-(p+18)+((p+18)-l.arrowEdgeOffset)+l.yOffset)}else{if(l.arrowFlank=="b"){n.rightTHeight=(p-37-(l.arrowEdgeOffset-21-6));n.rightBHeight=(l.arrowEdgeOffset-21-6);n.topPosition=(J[l.tlID].callingElementCenterY-(p+18)+l.arrowEdgeOffset+6+l.yOffset)}else{if(l.arrowFlank=="c"){n.rightTHeight=(Math.ceil(p/2)-16);n.rightBHeight=(Math.floor(p/2)-21);n.topPosition=(J[l.tlID].callingElementCenterY-(p+18)/2+3+l.yOffset)}}}}}}if(!J[l.tlID].state.cached||!J[l.tlID].animationObj){var o=J[l.tlID].animationObj={};o.tlLeftAnim=new YAHOO.util.Anim(m.tlLeft,{height:{to:n.leftHeight}},0.2);o.tlRightAnim=new YAHOO.util.Anim(m.tlRight,{height:{to:n.rightHeight}},0.2);o.tlLeftTAnim=new YAHOO.util.Anim(m.tlLeftT,{height:{to:n.leftTHeight}},0.2);o.tlRightTAnim=new YAHOO.util.Anim(m.tlRightT,{height:{to:n.rightTHeight}},0.2);o.tlLeftBAnim=new YAHOO.util.Anim(m.tlLeftB,{height:{to:n.leftBHeight}},0.2);o.tlRightBAnim=new YAHOO.util.Anim(m.tlRightB,{height:{to:n.rightBHeight}},0.2);o.tlBodyAnim=new YAHOO.util.Anim(m.tlBody,{height:{to:n.bodyHeight}},0.2);o.tlTopPosAnim=new YAHOO.util.Anim(m.tl,{top:{to:n.topPosition}},0.2);o.tlLeftAnim.animate();o.tlRightAnim.animate();o.tlLeftTAnim.animate();o.tlRightTAnim.animate();o.tlLeftBAnim.animate();o.tlRightBAnim.animate();o.tlBodyAnim.animate();o.tlTopPosAnim.onComplete.subscribe(function(){m.tlContent.style.visibility="visible";J[l.tlID].heightSettings.tlHeight=m.tlTop.offsetHeight+p+m.tlBottom.offsetHeight;m.tl.style.height=J[l.tlID].heightSettings.tlHeight+"px";J[l.tlID].events.fitComplete.fire()});o.tlTopPosAnim.animate()}else{m.tlLeft.style.height=n.leftHeight+"px";m.tlRight.style.height=n.rightHeight+"px";m.tlLeftT.style.height=n.leftTHeight+"px";m.tlRightT.style.height=n.rightTHeight+"px";m.tlLeftB.style.height=n.leftBHeight+"px";m.tlRightB.style.height=n.rightBHeight+"px";m.tlBody.style.height=n.bodyHeight+"px";m.tl.style.top=n.topPosition+"px";J[l.tlID].heightSettings.tlHeight=m.tlTop.offsetHeight+p+m.tlBottom.offsetHeight;m.tl.style.height=J[l.tlID].heightSettings.tlHeight+"px";m.tlContent.style.visibility="visible";J[l.tlID].events.fitComplete.fire()}};var A=function(m){W(m);var n=J[m.tlID].obj;var l=J[m.tlID].totalWidth=m.width+m.extraWidth;var o=J[m.tlID].heightSettings.contentHeight;if(m.arrowPlacement=="t"){n.tl.style.top=J[m.tlID].callingElementRegion.bottom+m.yOffset+"px";if(m.arrowFlank=="a"){n.tl.style.left=J[m.tlID].callingElementCenterX-m.arrowEdgeOffset+m.xOffset+"px"}else{if(m.arrowFlank=="b"){n.tl.style.left=J[m.tlID].callingElementCenterX-(l-5-m.arrowEdgeOffset)+m.xOffset+"px"}else{if(m.arrowFlank=="c"){n.tl.style.left=J[m.tlID].callingElementCenterX-Math.ceil(l/2)+3+m.xOffset+"px"}}}}else{if(m.arrowPlacement=="b"){n.tl.style.top=J[m.tlID].callingElementRegion.top-J[m.tlID].heightSettings.tlHeight+m.yOffset+"px";if(m.arrowFlank=="a"){n.tl.style.left=J[m.tlID].callingElementCenterX-m.arrowEdgeOffset+m.xOffset+"px"}else{if(m.arrowFlank=="b"){n.tl.style.left=J[m.tlID].callingElementCenterX-(l-5-m.arrowEdgeOffset)+m.xOffset+"px"}else{if(m.arrowFlank=="c"){n.tl.style.left=J[m.tlID].callingElementCenterX-Math.ceil(l/2)+3+m.xOffset+"px"}}}}else{if(m.arrowPlacement=="l"){n.tl.style.left=J[m.tlID].callingElementRegion.right+m.xOffset+"px";if(m.arrowFlank=="a"){n.tl.style.top=(J[m.tlID].callingElementCenterY-(o+18)+((o+18)-m.arrowEdgeOffset)+m.yOffset)}else{if(m.arrowFlank=="b"){n.tl.style.top=(J[m.tlID].callingElementCenterY-(o+18)+m.arrowEdgeOffset+6+m.yOffset)}else{if(m.arrowFlank=="c"){n.tl.style.top=(J[m.tlID].callingElementCenterY-(o+18)/2+3+m.yOffset)}}}}else{if(m.arrowPlacement=="r"){n.tl.style.left=J[m.tlID].callingElementRegion.left-l+m.xOffset+"px";if(m.arrowFlank=="a"){n.tl.style.top=(J[m.tlID].callingElementCenterY-(o+18)+((o+18)-m.arrowEdgeOffset)+m.yOffset)}else{if(m.arrowFlank=="b"){n.tl.style.top=(J[m.tlID].callingElementCenterY-(o+18)+m.arrowEdgeOffset+6+m.yOffset)}else{if(m.arrowFlank=="c"){n.tl.style.top=(J[m.tlID].callingElementCenterY-(o+18)/2+3+m.yOffset)}}}}}}}n.tl.style.visibility="visible";n.tl.style.display="none";n.tl.style.display="block";if(J[m.tlID].state.hover==true){n.tlCloseTop.style.display="none"}else{n.tlCloseTop.style.display="block"}if(J[m.tlID].state.clickedOpen){n.topCloseLink.focus()}J[m.tlID].events.positionComplete.fire();J[m.tlID].events.openingComplete.fire()};var W=function(m){var l=J[m.tlID].callingElementRegion=F(J[m.tlID].callingElement);if((l.bottom-l.top>28)&&m.legacyGlossary){if(m.arrowPlacement==="t"){var n=R.getXY(J[m.tlID].callingElement.parentNode);J[m.tlID].callingElementCenterX=n[0]+15}else{if(m.arrowPlacement==="b"){J[m.tlID].callingElementCenterX=parseInt(l.right-(J[m.tlID].callingElement.offsetWidth-20),10)}else{J[m.tlID].callingElementCenterX=parseInt(l.right-((l.right-l.left)/2),10)}}}else{J[m.tlID].callingElementCenterX=parseInt(l.right-((l.right-l.left)/2),10)}J[m.tlID].callingElementCenterY=parseInt(l.bottom-((l.bottom-l.top)/2))};var T=function(m){var p=YAHOO.util.Dom.getElementsBy(B);var o;for(var l=0;l<p.length;l++){if(m===p[l]){o=l;break}}var n=(p[o+1])?p[o+1]:p[0];return n};var B=function(m){var l=m.tagName.toLowerCase();if((l=="select"||l=="a"||l=="button"||l=="textarea"||(l=="input"&&(m.type=="undefined"||m.type!="hidden")))&&m.offsetWidth!=0&&(m.style.visiblity=="undefined"||m.style.visiblity!="hidden")){return true}return false};function F(o){var q=curtop=0;var n=o.offsetWidth;var l=o.offsetHeight;if(o.offsetParent){do{q+=o.offsetLeft;curtop+=o.offsetTop}while(o=o.offsetParent);var p=q+n;var m=curtop+l;return{top:curtop,right:p,bottom:m,left:q}}}var d=function(l){return toString.call(l)==="[object Function]"};var f=function(){var q=arguments[0]||{},n=1,p=arguments.length,l=false,m;if(typeof q==="boolean"){l=q;q=arguments[1]||{};n=2}if(typeof q!=="object"&&!d(q)){q={}}for(;n<p;n++){if((m=arguments[n])!=null){for(var o in m){var r=q[o],s=m[o];if(q===s){continue}if(l&&s&&typeof s==="object"&&!s.nodeType){q[o]=f(l,r||(s.length!=null?[]:{}),s)}else{if(s!==undefined){q[o]=s}}}}}return q};var D=function(){for(var l in J){if(J[l].state&&J[l].state.clickedOpen){A(J[l].cfg)}}};var G=function(l){var m=J[l.tlID].obj={};var o=new Array("tl","tlTop","tlTopL","tlTopM","tlTopR","tlLeft","tlLeftT","tlLeftM","tlLeftB","tlBody","tlContent","tlCloseTop","tlSpinner","tlRight","tlRightT","tlRightM","tlRightB","tlBottom","tlBottomL","tlBottomM","tlBottomR");for(var n=0;n<o.length;n++){var p=o[n];m[o[n]]=document.createElement("div");m[o[n]].className=p}m.tlTop.appendChild(m.tlTopL);m.tlTop.appendChild(m.tlTopM);m.tlTop.appendChild(m.tlTopR);m.tlLeft.appendChild(m.tlLeftT);m.tlLeft.appendChild(m.tlLeftM);m.tlLeft.appendChild(m.tlLeftB);m.tlContent.appendChild(m.tlCloseTop);m.topCloseLink=document.createElement("a");m.topCloseLink.className="topCloseLink";m.topCloseLink.href="javascript:;";m.topCloseLink.onclick=function(){USAA.ent.widget.TransientLayer.closeTL(USAA.ent.widget.TransientLayer.cache[l.tlID].cfg)};m.topCloseLink.title="Close Popup";m.tlCloseTop.appendChild(m.topCloseLink);m.closeImg=document.createElement("img");m.closeImg.src="https://content.usaa.com/mcontent/static_assets/Media/tlClose.png";m.closeImg.alt=" ";m.closeImg.title="";m.closeImg.border="0";m.topCloseLink.appendChild(m.closeImg);m.tlContent.appendChild(m.tlSpinner);m.bottomCloseLink=document.createElement("a");m.bottomCloseLink.className="bottomCloseLink";m.bottomCloseLink.href="javascript:;";m.bottomCloseLink.onclick=function(){USAA.ent.widget.TransientLayer.closeTL(USAA.ent.widget.TransientLayer.cache[l.tlID].cfg)};m.bottomCloseLink.title="Close Popup";m.bottomCloseLink.onfocus=function(){YAHOO.util.Dom.addClass(this,"in-focus")};m.bottomCloseLink.onblur=function(){YAHOO.util.Dom.removeClass(this,"in-focus")};m.tlContent.appendChild(m.bottomCloseLink);m.tlRight.appendChild(m.tlRightT);m.tlRight.appendChild(m.tlRightM);m.tlRight.appendChild(m.tlRightB);m.tlBottom.appendChild(m.tlBottomL);m.tlBottom.appendChild(m.tlBottomM);m.tlBottom.appendChild(m.tlBottomR);m.tl.appendChild(m.tlTop);m.tl.appendChild(m.tlLeft);m.tl.appendChild(m.tlBody);m.tl.appendChild(m.tlRight);m.tl.appendChild(m.tlBottom);m.tlBody.appendChild(m.tlContent);m.loadingContent=m.tlContent.cloneNode(true)};var U=function(m,l){while(m.parentNode!=null){if(m.parentNode==l){return true}m=m.parentNode}return false};var H=function(){var m;if(document.uniqueID){document.body.insertAdjacentHTML("AfterBegin",'<iframe id="font-resize-detect" frameborder="0"></iframe>');m=YAHOO.util.Dom.get("font-resize-detect")}else{m=document.createElement("iframe");document.body.insertBefore(m,document.body.firstChild)}var p=m.style;p.width="10em";p.height="10px";p.borderWidth=0;p.left="-8000px";p.top="-8000px";p.position="absolute";if(!document.uniqueID){var l=m.contentWindow||m.contentDocument||m.document;l=l.document||l;var n=m.contentWindow;var o='style="width:100%; height:100%; padding:0; margin:0; overflow:hidden;"';l.open();l.write("<html "+o+"><body "+o+"></body></html>");l.close();YAHOO.util.Event.addListener(n,"resize",N)}else{YAHOO.util.Event.addListener(m,"resize",N)}};var N=function(){for(var m in J){if(J[m].state&&J[m].state.clickedOpen){var l=J[m].cfg;if(J[m].cfg.contentSrc=="iframe"){h(J[m].obj.tlContent.firstChild.nextSibling)}else{X(l)}}}};var g=function(n,l){var p;var o=false;if(n.keyCode){p=n.keyCode}else{if(n.which||n.charCode){p=n.which}}if(n.shiftKey){o=true}var m=YAHOO.util.Event.getTarget(n);if((p==9&&o==false)&&m===J[l.tlID].callingElement){YAHOO.util.Event.preventDefault(n);J[l.tlID].obj.topCloseLink.focus()}else{if((p==9&&o==true)&&m===J[l.tlID].nextFocusableEl){YAHOO.util.Event.preventDefault(n);J[l.tlID].obj.bottomCloseLink.focus()}}};var Z=function(o,m){var q,l=false;var p=false;if(o.keyCode){q=o.keyCode}else{if(o.which||o.charCode){q=o.which}}if(o.shiftKey){p=true}var n=YAHOO.util.Event.getTarget(o);if((q==9&&p==false)&&n===J[m.tlID].obj.bottomCloseLink){YAHOO.util.Event.preventDefault(o);l=true;J[m.tlID].state.tabbedThrough=true}else{if((q==9&&p==true)&&n===J[m.tlID].obj.topCloseLink){YAHOO.util.Event.preventDefault(o);l=true}else{if(q===27){l=true}}}if(l){L(m)}};var i=function(m){var l=YAHOO.util.Event.getTarget(m);if(l.className.match(P)){return }for(var n in J){if((J[n].state&&J[n].state.clickedOpen)&&J[n].cfg.clickOutClose&&!J[n].cfg.autoCloseExempt){if(!U(l,J[n].obj.tl)){L(J[n].cfg)}}}};var b=function(l){J[l.tlID].state.hover=false;if(!J[l.tlID].state.clickedOpen){L(l)}if(J[l.tlID].timer){clearTimeout(J[l.tlID].timer)}};var L=function(r){var q=J[r.tlID].animationObj;if(!r.tlID){r=J[r].cfg}if(J[r.tlID].animationObj&&J[r.tlID].animationObj.tlTopPosAnim.isAnimated()){q.tlLeftAnim.stop();q.tlRightAnim.stop();q.tlLeftTAnim.stop();q.tlRightTAnim.stop();q.tlLeftBAnim.stop();q.tlRightBAnim.stop();q.tlBodyAnim.stop();q.tlTopPosAnim.stop()}YAHOO.util.Event.removeListener(J[r.tlID].callingElement,"keydown");YAHOO.util.Event.removeListener(J[r.tlID].nextFocusableEl,"keydown");if(J[r.tlID].state.clickedOpen){J[r.tlID].state.tabbedThrough?J[r.tlID].nextFocusableEl.focus():J[r.tlID].callingElement.focus();J[r.tlID].state.tabbedThrough=false;J[r.tlID].state.clickedOpen=false;J[r.tlID].state.loading=false}if(r.contentSrc=="iframe"){J[r.tlID].obj.tlContent.removeChild(J[r.tlID].obj.iframe)}if(J[r.tlID].obj){if(r.animClose){var o=J[r.tlID].obj;var p,v,n,s,u,t,m,l;if(J[r.tlID].cfg.arrowPlacement=="t"){v=n=s=u=t=m=l=0;p=o.tl.style.top.replace("px","")}else{if(J[r.tlID].cfg.arrowPlacement=="b"){v=n=s=u=t=m=l=0;p=parseInt(o.tl.style.top.replace("px",""))+J[r.tlID].heightSettings.contentHeight}else{if(J[r.tlID].cfg.arrowPlacement=="l"){v=n=l=37;t=m=18.5;s=u=0;p=J[r.tlID].callingElementCenterY-18.5+J[r.tlID].cfg.yOffset}else{if(J[r.tlID].cfg.arrowPlacement=="r"){v=n=l=37;s=u=18.5;t=m=0;p=J[r.tlID].callingElementCenterY-18.5+J[r.tlID].cfg.yOffset}}}}q.tlLeftAnim=new YAHOO.util.Anim(o.tlLeft,{height:{to:v}},0.2);q.tlRightAnim=new YAHOO.util.Anim(o.tlRight,{height:{to:n}},0.2);q.tlLeftTAnim=new YAHOO.util.Anim(o.tlLeftT,{height:{to:s}},0.2);q.tlRightTAnim=new YAHOO.util.Anim(o.tlRightT,{height:{to:t}},0.2);q.tlLeftBAnim=new YAHOO.util.Anim(o.tlLeftB,{height:{to:u}},0.2);q.tlRightBAnim=new YAHOO.util.Anim(o.tlRightB,{height:{to:u}},0.2);q.tlBodyAnim=new YAHOO.util.Anim(o.tlBody,{height:{to:l}},0.2);q.tlTopPosAnim=new YAHOO.util.Anim(o.tl,{top:{to:p}},0.2);o.tlContent.style.visibility="hidden";q.tlLeftAnim.animate();q.tlRightAnim.animate();q.tlLeftTAnim.animate();q.tlRightTAnim.animate();q.tlLeftBAnim.animate();q.tlRightBAnim.animate();q.tlBodyAnim.animate();q.tlTopPosAnim.onComplete.subscribe(function(){J[r.tlID].heightSettings.tlHeight=o.tlTop.offsetHeight+J[r.tlID].heightSettings.contentHeight+o.tlBottom.offsetHeight;o.tl.style.height=J[r.tlID].heightSettings.tlHeight+"px";J[r.tlID].obj.tl.style.display="none"});q.tlTopPosAnim.animate()}else{J[r.tlID].obj.tl.style.display="none";if(!J[r.tlID].cfg.cacheable){J[r.tlID].obj.tl.parentNode.removeChild(J[r.tlID].obj.tl);delete J[r.tlID]}}}};var j=function(){for(var l in J){if((J[l].state&&J[l].state.clickedOpen)&&!J[l].cfg.autoCloseExempt){L(J[l].cfg)}}};var M=function(m,l,n){var p=n||4000;var o="";if(typeof (l)=="string"){o=YAHOO.util.Dom.get(l)}else{o=l}m.autoCloseExempt=true;if(typeof o=="object"){c({type:"click",srcElement:o,target:o},m);if(n>0){setTimeout(function(){L({tlID:m.tlID,animClose:true})},p)}}};return{init:e,requestTL:c,mouseOutTL:b,closeTL:L,cache:J,adjustIframeHeight:h,timedRequestTL:M}})();