/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

var requirejs,require,define;(function(global){"use strict";function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(t(e[n],n,e))break}}function hasProp(e,t){return e.hasOwnProperty(t)}function eachProp(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&t(e[n],n))break}function mixin(e,t,n){t&&eachProp(t,function(t,r){if(n||!hasProp(e,r))e[r]=t})}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeContextModuleFunc(e,t,n){return function(){var r=aps.call(arguments,0),i;return n&&isFunction(i=r[r.length-1])&&(i.__requireJsBuild=!0),r.push(t),e.apply(null,r)}}function addRequireMethods(e,t,n){each([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(r){e[r[0]]=makeContextModuleFunc(t[r[1]||r[0]],n)})}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,n,r){var i=n&&n.split("/"),s=t.map,o=s&&s["*"],u,a,f,l,c,h,p,d;e&&e.charAt(0)==="."&&(n?(t.pkgs[n]?i=[n]:i=i.slice(0,i.length-1),e=i.concat(e.split("/")),m(e),a=t.pkgs[u=e[0]],e=e.join("/"),a&&e===u+"/"+a.main&&(e=u)):e.indexOf("./")===0&&(e=e.substring(2)));if(r&&(i||o)&&s){l=e.split("/");for(c=l.length;c>0;c-=1){p=l.slice(0,c).join("/");if(i)for(h=i.length;h>0;h-=1){f=s[i.slice(0,h).join("/")];if(f){f=f[p];if(f){d=f;break}}}!d&&o&&o[p]&&(d=o[p]);if(d){l.splice(0,c,d),e=l.join("/");break}}}return e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===p.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var n=t.paths[e];if(n&&isArray(n)&&n.length>1)return y(e),n.shift(),p.undef(e),p.require([e]),!0}function w(e,t,n,r){var i=e?e.indexOf("!"):-1,u=null,l=t?t.name:null,c=e,h=!0,d="",v,m,y;return e||(h=!1,e="_@r"+(a+=1)),i!==-1&&(u=e.substring(0,i),e=e.substring(i+1,e.length)),u&&(u=g(u,l,r),m=s[u]),e&&(u?m&&m.normalize?d=m.normalize(e,function(e){return g(e,l,r)}):d=g(e,l,r):(d=g(e,l,r),v=o[d],v||(v=p.nameToUrl(e,null,t),o[d]=v))),y=u&&!m&&!n?"_unnormalized"+(f+=1):"",{prefix:u,name:d,parentMap:t,unnormalized:!!y,url:v,originalName:c,isDefine:h,id:(u?u+"!"+d:d)+y}}function E(e){var t=e.id,r=n[t];return r||(r=n[t]=new p.Module(e)),r}function S(e,t,r){var i=e.id,o=n[i];hasProp(s,i)&&(!o||o.defineEmitComplete)?t==="defined"&&r(s[i]):E(e).on(t,r)}function x(e,t){var r=e.requireModules,i=!1;t?t(e):(each(r,function(t){var r=n[t];r&&(r.error=e,r.events.error&&(i=!0,r.emit("error",e)))}),i||req.onError(e))}function T(){globalDefQueue.length&&(apsp.apply(i,[i.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function N(e,t,n){var r=e&&e.map,i=makeContextModuleFunc(n||p.require,r,t);return addRequireMethods(i,p,r),i.isBrowser=isBrowser,i}function C(e){delete n[e],each(l,function(t,n){if(t.map.id===e)return l.splice(n,1),t.defined||(p.waitCount-=1),!0})}function k(e,t){var r=e.map.id,i=e.depMaps,s;if(!e.inited)return;return t[r]?e:(t[r]=!0,each(i,function(e){var i=e.id,o=n[i];if(!o)return;return!o.inited||!o.enabled?(s=null,delete t[r],!0):s=k(o,t)}),s)}function L(e,t,r){var i=e.map.id,o=e.depMaps;if(!e.inited||!e.map.isDefine)return;return t[i]?s[i]:(t[i]=e,each(o,function(s){var o=s.id,u=n[o],a;if(d[o])return;if(u){if(!u.inited||!u.enabled){r[i]=!0;return}a=L(u,t,r),r[o]||e.defineDepById(o,a)}}),e.check(!0),s[i])}function A(e){e.check()}function O(){var e=t.waitSeconds*1e3,r=e&&p.startTime+e<(new Date).getTime(),i=[],s=!1,o=!0,u,a,f,h;if(c)return;c=!0,eachProp(n,function(e){u=e.map,a=u.id;if(!e.enabled)return;if(!e.error)if(!e.inited&&r)b(a)?(h=!0,s=!0):(i.push(a),y(a));else if(!e.inited&&e.fetched&&u.isDefine){s=!0;if(!u.prefix)return o=!1}});if(r&&i.length)return f=makeError("timeout","Load timeout for modules: "+i,null,i),f.contextName=p.contextName,x(f);o&&(each(l,function(e){if(e.defined)return;var t=k(e,{}),n={};t&&(L(t,n,{}),eachProp(n,A))}),eachProp(n,A)),(!r||h)&&s&&(isBrowser||isWebWorker)&&!v&&(v=setTimeout(function(){v=0,O()},50)),c=!1}function M(e){E(w(e[0],null,!0)).init(e[1],e[2])}function _(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function D(e){var t=e.currentTarget||e.srcElement;return _(t,p.onScriptLoad,"load","onreadystatechange"),_(t,p.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}var t={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},n={},r={},i=[],s={},o={},u={},a=1,f=1,l=[],c,h,p,d,v;return d={require:function(e){return N(e)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports=s[e.map.id]={}},module:function(e){return e.module={id:e.map.id,uri:e.map.url,config:function(){return t.config&&t.config[e.map.id]||{}},exports:s[e.map.id]}}},h=function(e){this.events=r[e.id]||{},this.map=e,this.shim=t.shim[e.id],this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},h.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),each(e,bind(this,function(e,t){typeof e=="string"&&(e=w(e,this.map.isDefine?this.map:this.map.parentMap,!1,!0),this.depMaps.push(e));var r=d[e.id];if(r){this.depExports[t]=r(this);return}this.depCount+=1,S(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),n&&S(e,"error",n)})),this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDepById:function(e,t){var n;return each(this.depMaps,function(t,r){if(t.id===e)return n=r,!0}),this.defineDep(n,t)},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,p.startTime=(new Date).getTime();var e=this.map;e.prefix?this.callPlugin():this.shim?N(this,!0)(this.shim.deps||[],bind(this,function(){this.load()})):this.load()},load:function(){var e=this.map.url;u[e]||(u[e]=!0,p.load(this.map.id,e))},check:function(e){if(!this.enabled)return;var t=this.map.id,r=this.depExports,i=this.exports,o=this.factory,u,a;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error)try{i=p.execCb(t,o,r,i)}catch(f){u=f}else i=p.execCb(t,o,r,i);this.map.isDefine&&(a=this.module,a&&a.exports!==undefined&&a.exports!==this.exports?i=a.exports:i===undefined&&this.usingExports&&(i=this.exports));if(u)return u.requireMap=this.map,u.requireModules=[this.map.id],u.requireType="define",x(this.error=u)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(s[t]=i,req.onResourceLoad&&req.onResourceLoad(p,this.map,this.depMaps)),delete n[t],this.defined=!0,p.waitCount-=1,p.waitCount===0&&(l=[])}this.defining=!1,e||this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,r=e.id,i=w(e.prefix,null,!1,!0);S(i,"defined",bind(this,function(i){var s=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,u,a,f;if(this.map.unnormalized){i.normalize&&(s=i.normalize(s,function(e){return g(e,o,!0)})||""),a=w(e.prefix+"!"+s),S(a,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),f=n[a.id],f&&(this.events.error&&f.on("error",bind(this,function(e){this.emit("error",e)})),f.enable());return}u=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),u.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[r],eachProp(n,function(e){e.map.id.indexOf(r+"_unnormalized")===0&&C(e.map.id)}),x(e)}),u.fromText=function(e,t){var n=useInteractive;n&&(useInteractive=!1),req.exec(t),n&&(useInteractive=!0),p.completeLoad(e)},i.load(e.name,N(e.parentMap,!0,function(e,t){return p.require(e,t)}),u,t)})),p.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){this.enabled=!0,this.waitPushed||(l.push(this),p.waitCount+=1,this.waitPushed=!0),each(this.depMaps,bind(this,function(e){var t=e.id,r=n[t];!d[t]&&r&&!r.enabled&&p.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=n[e.id];t&&!t.enabled&&p.enable(e,this)})),this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},p={config:t,contextName:e,registry:n,defined:s,urlMap:o,urlFetched:u,waitCount:0,defQueue:i,Module:h,makeModuleMap:w,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var n=t.paths,r=t.pkgs,i=t.shim,s=t.map||{};mixin(t,e,!0),mixin(n,e.paths,!0),t.paths=n,e.map&&(mixin(s,e.map,!0),t.map=s),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),e.exports&&!e.exports.__buildReady&&(e.exports=p.makeShimExports(e.exports)),i[t]=e}),t.shim=i),e.packages&&(each(e.packages,function(e){var t;e=typeof e=="string"?{name:e}:e,t=e.location,r[e.name]={name:e.name,location:t||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),t.pkgs=r),(e.deps||e.callback)&&p.require(e.deps||[],e.callback)},makeShimExports:function(e){var t;return typeof e=="string"?(t=function(){return getGlobal(e)},t.exports=e,t):function(){return e.apply(global,arguments)}},requireDefined:function(e,t){return hasProp(s,w(e,t,!1,!0).id)},requireSpecified:function(e,t){return e=w(e,t,!1,!0).id,hasProp(s,e)||hasProp(n,e)},require:function(t,n,r,o){var u,a,f,l,c;if(typeof t=="string")return isFunction(n)?x(makeError("requireargs","Invalid require call"),r):req.get?req.get(p,t,n):(u=t,o=n,f=w(u,o,!1,!0),a=f.id,hasProp(s,a)?s[a]:x(makeError("notloaded",'Module name "'+a+'" has not been loaded yet for context: '+e)));r&&!isFunction(r)&&(o=r,r=undefined),n&&!isFunction(n)&&(o=n,n=undefined),T();while(i.length){c=i.shift();if(c[0]===null)return x(makeError("mismatch","Mismatched anonymous define() module: "+c[c.length-1]));M(c)}return l=E(w(null,o)),l.init(t,n,r,{enabled:!0}),O(),p.require},undef:function(e){var t=w(e,null,!0),i=n[e];delete s[e],delete o[e],delete u[t.url],delete r[e],i&&(i.events.defined&&(r[e]=i.events),C(e))},enable:function(e,t){var r=n[e.id];r&&E(e).enable()},completeLoad:function(e){var r=t.shim[e]||{},o=r.exports&&r.exports.exports,u,a,f;T();while(i.length){a=i.shift();if(a[0]===null){a[0]=e;if(u)break;u=!0}else a[0]===e&&(u=!0);M(a)}f=n[e];if(!u&&!s[e]&&f&&!f.inited){if(t.enforceDefine&&(!o||!getGlobal(o))){if(b(e))return;return x(makeError("nodefine","No define call for "+e,null,[e]))}M([e,r.deps||[],r.exports])}O()},toUrl:function(e,t){var n=e.lastIndexOf("."),r=null;return n!==-1&&(r=e.substring(n,e.length),e=e.substring(0,n)),p.nameToUrl(e,r,t)},nameToUrl:function(e,n,r){var i,s,o,u,a,f,l,c,h;e=g(e,r&&r.id,!0);if(req.jsExtRegExp.test(e))c=e+(n||"");else{i=t.paths,s=t.pkgs,a=e.split("/");for(f=a.length;f>0;f-=1){l=a.slice(0,f).join("/"),o=s[l],h=i[l];if(h){isArray(h)&&(h=h[0]),a.splice(0,f,h);break}if(o){e===o.name?u=o.location+"/"+o.main:u=o.location,a.splice(0,f,u);break}}c=a.join("/")+(n||".js"),c=(c.charAt(0)==="/"||c.match(/^[\w\+\.\-]+:/)?"":t.baseUrl)+c}return t.urlArgs?c+((c.indexOf("?")===-1?"?":"&")+t.urlArgs):c},load:function(e,t){req.load(p,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=D(e);p.completeLoad(t.id)}},onScriptError:function(e){var t=D(e);if(!b(t.id))return x(makeError("scripterror","Script error",e,[t.id]))}}}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var version="2.0.1",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,ostring=Object.prototype.toString,ap=Array.prototype,aps=ap.slice,apsp=ap.splice,isBrowser=typeof window!="undefined"&&!!navigator&&!!document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1,req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i=defContextName,s,o;return!isArray(e)&&typeof e!="string"&&(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(i=o.context),s=contexts[i],s||(s=contexts[i]=req.s.newContext(i)),o&&s.configure(o),s.require(e,t,n)},req.config=function(e){return req(e)},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),addRequireMethods(req,contexts[defContextName]),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(e){throw e},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=r.scriptType||"text/javascript",i.charset="utf-8",i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;isWebWorker&&(importScripts(n),e.completeLoad(t))},isBrowser&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript.replace(jsSuffixRegExp,"")),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=[]),!t.length&&isFunction(n)&&n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t)),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this)