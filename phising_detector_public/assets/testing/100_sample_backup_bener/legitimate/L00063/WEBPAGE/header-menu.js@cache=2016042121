_currentMenuId="";function isHovered(a){return document.querySelector("#"+a+":hover")}function showMenu(a,c,b){a.stopPropagation?a.stopPropagation():(a.cancelBubble=true);setTimeout(function(){var d=document.getElementById(b).children[1],f=document.getElementById(b).className.indexOf("_selected"),g=isHovered(b);if(f!=-1&&g){d.style.display="block";d.children[0].style.display="block";previousElementSibling(d).className="hovered";if(_currentMenuId!=""&&_currentMenuId!=b){var e=document.getElementById(_currentMenuId);e.querySelectorAll(".wideDropdown")[0].style.display="none"}_currentMenuId=b}},250)}function hideMenu(a,d,c,b){a.stopPropagation?a.stopPropagation():(a.cancelBubble=true);var e=(b)?b:0;setTimeout(function(){var f=document.getElementById(c).children[1],h=document.getElementById("headerMainMenu"),g=h.querySelectorAll("._selected");if(g.length===0){f.style.display="none";f.children[0].style.display="none";previousElementSibling(f).className=previousElementSibling(f).className.replace(/\bhovered\b/,"")}},e)}var wideDropdowns=document.querySelectorAll(".wideDropdown"),tempSelector=document.getElementById("headerMainMenu");function initWideDropdowns(){for(var a=0;a<wideDropdowns.length;a++){var b=wideDropdowns[a];var c;if(typeof b.dataset!=="undefined"){c=b.dataset.submenuType}else{c=b.getAttribute("data-submenu-type")}subjectEl=document.querySelectorAll(".menu."+c),objectEl=document.querySelectorAll(".wideDropdown."+c),tempHTML=subjectEl[0].childNodes[0].outerHTML+objectEl[0].outerHTML;subjectEl[0].innerHTML=tempHTML}}initWideDropdowns();function menuInit(a){var c=a,b=c.getElementsByTagName("ul");if(b.length>0){b[0].style.display="none";bindEvent(wideDropdownToggle,c,"mouseenter","hover");bindEvent(menuToggle,c,"mouseenter","on")}}function menuToggle(g,b,a){g.preventDefault?g.preventDefault():(g.returnValue=false);var h=b,e=(a==="on")?250:0,j={eventType:(a==="on")?"mouseleave":"mouseenter",menuState:(a==="on")?"off":"on",displayState:(a==="on")?"block":"none"};if(a==="on"){h.className+=" _selected hovered"}else{h.className=h.className.replace("  "," ");h.className=h.className.replace("_selected","");h.className=h.className.replace("hovered","")}var d=h.parentNode,c=h.cloneNode(true);if(d){d.replaceChild(c,h)}var f=c.getElementsByTagName("ul");if(f.length>0){bindEvent(menuToggle,c,j.eventType,j.menuState);bindEvent(wideDropdownToggle,c,"mouseenter","hover");(a==="on")?showMenu(g,tempSelector,c.id):hideMenu(g,tempSelector,c.id,250)}}function getMenuItem(){var c=tempSelector.childNodes;for(var b=0,a=c.length;b<a;++b){var d=c[b];if(d.nodeType===1&&d.tagName==="LI"){menuInit(d)}}}getMenuItem();function hoverItemToggle(a,d,g){var h=d,e=(g==="hover")?250:0,b=(g==="hover")?"unhover":"hover",c=(g==="hover")?"mouseleave":"mouseenter";h.previousSibling.className=(g==="hover")?"hovered":"";var f=h.cloneNode(true);h.parentNode.replaceChild(f,h);bindEvent(hoverItemToggle,h,c,b);showMenu(a,tempSelector,f.id)}function wideDropdownToggle(e,c,d,f){e.preventDefault?e.preventDefault():(e.returnValue=false);var a=c.className.split(" "),b=document.querySelectorAll(".wideDropdown."+a[2])[0];setTimeout(function(){bindEvent(hoverItemToggle,b,d,f)},250)}function bindEvent(c,b,a,e){var d={subject:b,name:a,state:(e)?e:""};if(d.subject.addEventListener){d.subject.addEventListener(d.name,function(g){var f=g;c(f,d.subject,d.state)},false)}else{d.subject.attachEvent("on"+d.name,function(g){var f=g||window.event;c(f,d.subject,d.state)})}}function ieMenuFixSet(){var b=document.querySelector(".menu.community *");for(var a=0;a<b.length;a++){bindEvent(ieMenuFixRemove,b[a],"mouseleave")}}function ieMenuFixRemove(){var a=document.querySelectorAll(".menu.community").getElementsByTagName("*");bindEvent(ieMenuFixSet,a[i],"mouseenter")}ieMenuFixSet();function previousElementSibling(a){do{a=a.previousSibling}while(a&&a.nodeType!==1);return a};