function FileProgress(a,b){if(this.fileProgressID=a.id,this.opacity=100,this.height=0,this.fileProgressWrapper=document.getElementById(this.fileProgressID),this.fileProgressWrapper)this.fileProgressElement=this.fileProgressWrapper.firstChild,this.reset();else{this.fileProgressWrapper=document.createElement("div"),this.fileProgressWrapper.className="progressWrapper",this.fileProgressWrapper.id=this.fileProgressID,this.fileProgressElement=document.createElement("div"),this.fileProgressElement.className="progressContainer";var c=document.createElement("a");c.className="progressCancel",c.href="#",c.style.visibility="hidden",c.appendChild(document.createTextNode(" "));var d=document.createElement("div");d.className="progressName",d.appendChild(document.createTextNode(a.name));var e=document.createElement("div");e.className="progressBarInProgress";var f=document.createElement("div");f.className="progressBarStatus",f.innerHTML="&nbsp;",this.fileProgressElement.appendChild(c),this.fileProgressElement.appendChild(d),this.fileProgressElement.appendChild(f),this.fileProgressElement.appendChild(e),this.fileProgressWrapper.appendChild(this.fileProgressElement),document.getElementById(b).appendChild(this.fileProgressWrapper)}this.height=this.fileProgressWrapper.offsetHeight,this.setTimer(null)}var imcon;!function(){imcon={_:{checked:!1,con:!1,conFuncs:["assert","clear","count","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"]},_getCon:function(a){return a||(a="log"),imcon._.checked||("object"==typeof console&&"function"==typeof console.log&&(imcon._.con=console),imcon._.checked=!0),imcon._.con&&"function"==typeof imcon._.con[a]?imcon._.con:!1},_makeFunc:function(a){imcon[a]=function(){return imcon._wrapped(a,arguments)}},_wrapped:function(a,b){var c=imcon._getCon(a);return c?c[a].apply(c,b):void 0}};for(var a=imcon._.conFuncs,b=a.length,c=0;b>c;c++)imcon._makeFunc(a[c])}(),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,e,f,g){if(Object.defineProperty)try{return Object.defineProperty(b,e,{configurable:!0,enumerable:!0,get:function(){return d(g),f},set:function(a){d(g),f=a}}),c}catch(h){}a._definePropertyBroken=!0,b[e]=f}var f={};a.migrateWarnings=[],!a.migrateMute&&b.console&&b.console.log&&b.console.log("JQMIGRATE: Logging is active"),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(4>h.length&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') may use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var e=(a.nodeName||"").toLowerCase();return"button"===e?j.apply(this,arguments):("input"!==e&&"option"!==e&&d("jQuery.fn.attr('value', val) no longer sets properties"),a.value=b,c)}};var o,p,q=a.fn.init,r=a.parseJSON,s=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,c,e){var f;return b&&"string"==typeof b&&!a.isPlainObject(c)&&(f=s.exec(a.trim(b)))&&f[0]&&("<"!==b.charAt(0)&&d("$(html) HTML strings must start with '<' character"),f[3]&&d("$(html) HTML text after last tag is ignored"),"#"===f[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),a.parseHTML)?q.call(this,a.parseHTML(f[2],c,!0),c,e):q.apply(this,arguments)},a.fn.init.prototype=a.fn,a.parseJSON=function(a){return a||null===a?r.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){return e&&e instanceof a&&!(e instanceof b)&&(e=b(e)),a.fn.init.call(this,d,e,c)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.ajaxSetup({converters:{"text json":a.parseJSON}});var t=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?t.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var u=/\/(java|ecma)script/i,v=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),v.apply(this,arguments)},a.clean||(a.clean=function(b,e,f,g){e=e||document,e=!e.nodeType&&e[0]||e,e=e.ownerDocument||e,d("jQuery.clean() is deprecated");var h,i,j,k,l=[];if(a.merge(l,a.buildFragment(b,e).childNodes),f)for(j=function(a){return!a.type||u.test(a.type)?g?g.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a):c},h=0;null!=(i=l[h]);h++)a.nodeName(i,"script")&&j(i)||(f.appendChild(i),i.getElementsByTagName!==c&&(k=a.grep(a.merge([],i.getElementsByTagName("script")),j),l.splice.apply(l,[h+1,0].concat(k)),h+=k.length));return l});var w=a.event.add,x=a.event.remove,y=a.event.trigger,z=a.fn.toggle,A=a.fn.live,B=a.fn.die,C="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=RegExp("\\b(?:"+C+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,F=function(b){return"string"!=typeof b||a.event.special.hover?b:(E.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(E,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&D.test(b)&&d("AJAX events should be attached to document: "+b),w.call(this,a,F(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){x.call(this,a,F(b)||"",c,d,e)},a.fn.error=function(){var a=Array.prototype.slice.call(arguments,0);return d("jQuery.fn.error() is deprecated"),a.splice(0,0,"error"),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this)},a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return z.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;e.length>g;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),B?B.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||D.test(a)||d("Global events are undocumented and deprecated"),y.call(this,a,b,c||document,e)},a.each(C.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}})}(jQuery,window),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){if(!a.support.cors&&a.ajaxTransport&&window.XDomainRequest){var b=/^https?:\/\//i,c=/^get|post$/i,d=new RegExp("^"+location.protocol,"i");a.ajaxTransport("* text html xml json",function(e,f){if(e.crossDomain&&e.async&&c.test(e.type)&&b.test(e.url)&&d.test(e.url)){var g=null;return{send:function(b,c){var d="",h=(f.dataType||"").toLowerCase();g=new XDomainRequest,/^\d+$/.test(f.timeout)&&(g.timeout=f.timeout),g.ontimeout=function(){c(500,"timeout")},g.onload=function(){var b="Content-Length: "+g.responseText.length+"\r\nContent-Type: "+g.contentType,d={code:200,message:"success"},e={text:g.responseText};try{if("html"===h||/text\/html/i.test(g.contentType))e.html=g.responseText;else if("json"===h||"text"!==h&&/\/json/i.test(g.contentType))try{e.json=a.parseJSON(g.responseText)}catch(f){d.code=500,d.message="parseerror"}else if("xml"===h||"text"!==h&&/\/xml/i.test(g.contentType)){var i=new ActiveXObject("Microsoft.XMLDOM");i.async=!1;try{i.loadXML(g.responseText)}catch(f){i=void 0}if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)throw d.code=500,d.message="parseerror","Invalid XML: "+g.responseText;e.xml=i}}catch(j){throw j}finally{c(d.code,d.message,e,b)}},g.onprogress=function(){},g.onerror=function(){c(500,"error",{text:g.responseText})},f.data&&(d="string"===a.type(f.data)?f.data:a.param(f.data)),g.open(e.type,e.url),g.send(d)},abort:function(){g&&g.abort()}}}})}});var humanMsg={className:void 0,remove:null,setup:function(a,b,c,d){humanMsg.msgID=void 0==d?"humanMsg":d,void 0==a&&(a="body"),humanMsg.msgOpacity=1,void 0!=c&&(humanMsg.msgOpacity=parseFloat(c)),jQuery(a).append('<div id="'+humanMsg.msgID+'" class="humanMsg"><p></p></div>')},displayMsg:function(a,b,c){if(""!=a){clearTimeout(humanMsg.t2),jQuery("#"+humanMsg.msgID+" p").html(a);var d=jQuery("#"+humanMsg.msgID).show().animate({opacity:humanMsg.msgOpacity},200);this.toggleClasses(d,b),humanMsg.remove=function(){humanMsg.removeMsg(c)},humanMsg.t1=setTimeout(function(){humanMsg.bindEvents(c)},1500),humanMsg.t2=setTimeout(humanMsg.remove,4e3)}},bindEvents:function(){jQuery(window).mousemove(humanMsg.remove).click(humanMsg.remove).keypress(humanMsg.remove)},removeMsg:function(a){jQuery(window).unbind("mousemove").unbind("click").unbind("keypress"),clearTimeout(humanMsg.t1),clearTimeout(humanMsg.t2),$("#"+humanMsg.msgID).fadeOut(function(){"function"==typeof a&&a()})},toggleClasses:function(a,b){void 0!==this.className&&(a.removeClass(this.className),this.className=void 0),void 0!==b&&(a.addClass(b),this.className=b)}};jQuery(document).ready(function(){humanMsg.setup()}),function(a,b,c){function d(c,d,e){var f=b.createElement(c);return d&&(f.id=_+d),e&&(f.style.cssText=e),a(f)}function e(){return c.innerHeight?c.innerHeight:a(c).height()}function f(b,c){c!==Object(c)&&(c={}),this.cache={},this.el=b,this.value=function(b){var d;return void 0===this.cache[b]&&(d=a(this.el).attr("data-cbox-"+b),void 0!==d?this.cache[b]=d:void 0!==c[b]?this.cache[b]=c[b]:void 0!==Z[b]&&(this.cache[b]=Z[b])),this.cache[b]},this.get=function(b){var c=this.value(b);return a.isFunction(c)?c.call(this.el,this):c}}function g(a){var b=A.length,c=(R+a)%b;return 0>c?b+c:c}function h(a,b){return Math.round((/%/.test(a)?("x"===b?B.width():e())/100:1)*parseInt(a,10))}function i(a,b){return a.get("photo")||a.get("photoRegex").test(b)}function j(a,b){return a.get("retinaUrl")&&c.devicePixelRatio>1?b.replace(a.get("photoRegex"),a.get("retinaSuffix")):b}function k(a){"contains"in t[0]&&!t[0].contains(a.target)&&a.target!==s[0]&&(a.stopPropagation(),t.focus())}function l(a){l.str!==a&&(t.add(s).removeClass(l.str).addClass(a),l.str=a)}function m(b){R=0,b&&b!==!1&&"nofollow"!==b?(A=a("."+ab).filter(function(){var c=a.data(this,$),d=new f(this,c);return d.get("rel")===b}),R=A.index(M.el),-1===R&&(A=A.add(M.el),R=A.length-1)):A=a(M.el)}function n(c){a(b).trigger(c),hb.triggerHandler(c)}function o(c){var e;if(!V){if(e=a(c).data($),M=new f(c,e),m(M.get("rel")),!T){T=U=!0,l(M.get("className")),t.css({visibility:"hidden",display:"block",opacity:""}),C=d(ib,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),v.css({width:"",height:""}).append(C),N=w.height()+z.height()+v.outerHeight(!0)-v.height(),O=x.width()+y.width()+v.outerWidth(!0)-v.width(),P=C.outerHeight(!0),Q=C.outerWidth(!0);var g=h(M.get("initialWidth"),"x"),i=h(M.get("initialHeight"),"y"),j=M.get("maxWidth"),o=M.get("maxHeight");M.w=(j!==!1?Math.min(g,h(j,"x")):g)-Q-O,M.h=(o!==!1?Math.min(i,h(o,"y")):i)-P-N,C.css({width:"",height:M.h}),X.position(),n(bb),M.get("onOpen"),L.add(F).hide(),t.focus(),M.get("trapFocus")&&b.addEventListener&&(b.addEventListener("focus",k,!0),hb.one(fb,function(){b.removeEventListener("focus",k,!0)})),M.get("returnFocus")&&hb.one(fb,function(){a(M.el).focus()})}var p=parseFloat(M.get("opacity"));s.css({opacity:p===p?p:"",cursor:M.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),M.get("closeButton")?K.html(M.get("close")).appendTo(v):K.appendTo("<div/>"),r()}}function p(){t||(Y=!1,B=a(c),t=d(ib).attr({id:$,"class":a.support.opacity===!1?_+"IE":"",role:"dialog",tabindex:"-1"}).hide(),s=d(ib,"Overlay").hide(),E=a([d(ib,"LoadingOverlay")[0],d(ib,"LoadingGraphic")[0]]),u=d(ib,"Wrapper"),v=d(ib,"Content").append(F=d(ib,"Title"),G=d(ib,"Current"),J=a('<button type="button"/>').attr({id:_+"Previous"}),I=a('<button type="button"/>').attr({id:_+"Next"}),H=d("button","Slideshow"),E),K=a('<button type="button"/>').attr({id:_+"Close","class":"icon-x-light icon"}),u.append(d(ib).append(d(ib,"TopLeft"),w=d(ib,"TopCenter"),d(ib,"TopRight")),d(ib,!1,"clear:left").append(x=d(ib,"MiddleLeft"),v,y=d(ib,"MiddleRight")),d(ib,!1,"clear:left").append(d(ib,"BottomLeft"),z=d(ib,"BottomCenter"),d(ib,"BottomRight"))).find("div div").css({"float":"left"}),D=d(ib,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),L=I.add(J).add(G).add(H)),b.body&&!t.parent().length&&a(b.body).append(s,t.append(u,D))}function q(){function c(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),o(this))}return t?(Y||(Y=!0,I.click(function(){X.next()}),J.click(function(){X.prev()}),K.click(function(){X.close()}),s.click(function(){M.get("overlayClose")&&X.close()}),a(b).bind("keydown."+_,function(a){var b=a.keyCode;T&&M.get("escKey")&&27===b&&(a.preventDefault(),X.close()),T&&M.get("arrowKey")&&A[1]&&!a.altKey&&(37===b?(a.preventDefault(),J.click()):39===b&&(a.preventDefault(),I.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+_,"."+ab,c):a("."+ab).live("click."+_,c)),!0):!1}function r(){var b,e,f,g=X.prep,k=++jb;if(U=!0,S=!1,n(gb),n(cb),M.get("onLoad"),M.h=M.get("height")?h(M.get("height"),"y")-P-N:M.get("innerHeight")&&h(M.get("innerHeight"),"y"),M.w=M.get("width")?h(M.get("width"),"x")-Q-O:M.get("innerWidth")&&h(M.get("innerWidth"),"x"),M.mw=M.w,M.mh=M.h,M.get("maxWidth")&&(M.mw=h(M.get("maxWidth"),"x")-Q-O,M.mw=M.w&&M.w<M.mw?M.w:M.mw),M.get("maxHeight")&&(M.mh=h(M.get("maxHeight"),"y")-P-N,M.mh=M.h&&M.h<M.mh?M.h:M.mh),b=M.get("href"),W=setTimeout(function(){E.show()},100),M.get("inline")){var l=a(b);f=a("<div>").hide().insertBefore(l),hb.one(gb,function(){f.replaceWith(l)}),g(l)}else M.get("iframe")?g(" "):M.get("html")?g(M.get("html")):i(M,b)?(b=j(M,b),S=new Image,a(S).addClass(_+"Photo").bind("error",function(){g(d(ib,"Error").html(M.get("imgError")))}).one("load",function(){k===jb&&setTimeout(function(){var b;a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(M.el).attr(c)||a(M.el).attr("data-"+c);d&&S.setAttribute(c,d)}),M.get("retinaImage")&&c.devicePixelRatio>1&&(S.height=S.height/c.devicePixelRatio,S.width=S.width/c.devicePixelRatio),M.get("scalePhotos")&&(e=function(){S.height-=S.height*b,S.width-=S.width*b},M.mw&&S.width>M.mw&&(b=(S.width-M.mw)/S.width,e()),M.mh&&S.height>M.mh&&(b=(S.height-M.mh)/S.height,e())),M.h&&(S.style.marginTop=Math.max(M.mh-S.height,0)/2+"px"),A[1]&&(M.get("loop")||A[R+1])&&(S.style.cursor="pointer",S.onclick=function(){X.next()}),S.style.width=S.width+"px",S.style.height=S.height+"px",g(S)},1)}),S.src=b):b&&D.load(b,M.get("data"),function(b,c){k===jb&&g("error"===c?d(ib,"Error").html(M.get("xhrError")):a(this).contents())})}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return a(this).attr("href")},title:function(){return this.title}},$="colorbox",_="cbox",ab=_+"Element",bb=_+"_open",cb=_+"_load",db=_+"_complete",eb=_+"_cleanup",fb=_+"_closed",gb=_+"_purge",hb=a("<a/>"),ib="div",jb=0,kb={},lb=function(){function a(){clearTimeout(g)}function b(){(M.get("loop")||A[R+1])&&(a(),g=setTimeout(X.next,M.get("slideshowSpeed")))}function c(){H.html(M.get("slideshowStop")).unbind(i).one(i,d),hb.bind(db,b).bind(cb,a),t.removeClass(h+"off").addClass(h+"on")}function d(){a(),hb.unbind(db,b).unbind(cb,a),H.html(M.get("slideshowStart")).unbind(i).one(i,function(){X.next(),c()}),t.removeClass(h+"on").addClass(h+"off")}function e(){f=!1,H.hide(),a(),hb.unbind(db,b).unbind(cb,a),t.removeClass(h+"off "+h+"on")}var f,g,h=_+"Slideshow_",i="click."+_;return function(){f?M.get("slideshow")||(hb.unbind(eb,e),e()):M.get("slideshow")&&A[1]&&(f=!0,hb.one(eb,e),M.get("slideshowAuto")?c():d(),H.show())}}();a[$]||(a(p),X=a.fn[$]=a[$]=function(b,c){var d,e=this;if(b=b||{},a.isFunction(e))e=a("<a/>"),b.open=!0;else if(!e[0])return e;return e[0]?(p(),q()&&(c&&(b.onComplete=c),e.each(function(){var c=a.data(this,$)||{};a.data(this,$,a.extend(c,b))}).addClass(ab),d=new f(e[0],b),d.get("open")&&o(e[0])),e):e},X.position=function(b,c){function d(){w[0].style.width=z[0].style.width=v[0].style.width=parseInt(t[0].style.width,10)-O+"px",v[0].style.height=x[0].style.height=y[0].style.height=parseInt(t[0].style.height,10)-N+"px"}var f,g,i,j=0,k=0,l=t.offset();if(B.unbind("resize."+_),t.css({top:-9e4,left:-9e4}),g=B.scrollTop(),i=B.scrollLeft(),M.get("fixed")?(l.top-=g,l.left-=i,t.css({position:"fixed"})):(j=g,k=i,t.css({position:"absolute"})),k+=M.get("right")!==!1?Math.max(B.width()-M.w-Q-O-h(M.get("right"),"x"),0):M.get("left")!==!1?h(M.get("left"),"x"):Math.round(Math.max(B.width()-M.w-Q-O,0)/2),j+=M.get("bottom")!==!1?Math.max(e()-M.h-P-N-h(M.get("bottom"),"y"),0):M.get("top")!==!1?h(M.get("top"),"y"):Math.round(Math.max(e()-M.h-P-N,0)/2),t.css({top:l.top,left:l.left,visibility:"visible"}),u[0].style.width=u[0].style.height="9999px",f={width:M.w+Q+O,height:M.h+P+N,top:j,left:k},b){var m=0;a.each(f,function(a){return f[a]!==kb[a]?void(m=b):void 0}),b=m}kb=f,b||t.css(f),t.dequeue().animate(f,{duration:b||0,complete:function(){d(),U=!1,u[0].style.width=M.w+Q+O+"px",u[0].style.height=M.h+P+N+"px",M.get("reposition")&&setTimeout(function(){B.bind("resize."+_,X.position)},1),a.isFunction(c)&&c()},step:d})},X.resize=function(a){var b;T&&(a=a||{},a.width&&(M.w=h(a.width,"x")-Q-O),a.innerWidth&&(M.w=h(a.innerWidth,"x")),C.css({width:M.w}),a.height&&(M.h=h(a.height,"y")-P-N),a.innerHeight&&(M.h=h(a.innerHeight,"y")),a.innerHeight||a.height||(b=C.scrollTop(),C.css({height:"auto"}),M.h=C.height()),C.css({height:M.h}),b&&C.scrollTop(b),X.position("none"===M.get("transition")?0:M.get("speed")))},X.prep=function(c){function e(){return M.w=M.w||C.width(),M.w=M.mw&&M.mw<M.w?M.mw:M.w,M.w}function h(){return M.h=M.h||C.height(),M.h=M.mh&&M.mh<M.h?M.mh:M.h,M.h}if(T){var k,m="none"===M.get("transition")?0:M.get("speed");C.remove(),C=d(ib,"LoadedContent").append(c),C.hide().appendTo(D.show()).css({width:e(),overflow:M.get("scrolling")?"auto":"hidden"}).css({height:h()}).prependTo(v),D.hide(),a(S).css({"float":"none"}),l(M.get("className")),k=function(){function c(){a.support.opacity===!1&&t[0].style.removeAttribute("filter")}var d,e,h=A.length;T&&(e=function(){clearTimeout(W),E.hide(),n(db),M.get("onComplete")},F.html(M.get("title")).show(),C.show(),h>1?("string"==typeof M.get("current")&&G.html(M.get("current").replace("{current}",R+1).replace("{total}",h)).show(),I[M.get("loop")||h-1>R?"show":"hide"]().html(M.get("next")),J[M.get("loop")||R?"show":"hide"]().html(M.get("previous")),lb(),M.get("preloading")&&a.each([g(-1),g(1)],function(){var c,d=A[this],e=new f(d,a.data(d,$)),g=e.get("href");g&&i(e,g)&&(g=j(e,g),c=b.createElement("img"),c.src=g)})):L.hide(),M.get("iframe")?(d=b.createElement("iframe"),"frameBorder"in d&&(d.frameBorder=0),"allowTransparency"in d&&(d.allowTransparency="true"),M.get("scrolling")||(d.scrolling="no"),a(d).attr({src:M.get("href"),name:(new Date).getTime(),"class":_+"Iframe",allowFullScreen:!0}).one("load",e).appendTo(C),hb.one(gb,function(){d.src="//about:blank"}),M.get("fastIframe")&&a(d).trigger("load")):e(),"fade"===M.get("transition")?t.fadeTo(m,1,c):c())},"fade"===M.get("transition")?t.fadeTo(m,0,function(){X.position(0,k)}):X.position(m,k)}},X.next=function(){!U&&A[1]&&(M.get("loop")||A[R+1])&&(R=g(1),o(A[R]))},X.prev=function(){!U&&A[1]&&(M.get("loop")||R)&&(R=g(-1),o(A[R]))},X.close=function(){T&&!V&&(V=!0,T=!1,n(eb),M.get("onCleanup"),B.unbind("."+_),s.fadeTo(M.get("fadeOut")||0,0),t.stop().fadeTo(M.get("fadeOut")||0,0,function(){t.hide(),s.hide(),n(gb),C.remove(),setTimeout(function(){V=!1,n(fb),M.get("onClosed")},1)}))},X.remove=function(){t&&(t.stop(),a[$].close(),t.stop(!1,!0).remove(),s.remove(),V=!1,t=null,a("."+ab).removeData($).removeClass(ab),a(b).unbind("click."+_).unbind("keydown."+_))},X.element=function(){return a(M.el)},X.settings=Z)}(jQuery,document,window),function(a){function b(b,c){this.$element=a(b),this.options=c,this.enabled=!0,this.fixTitle()}b.prototype={show:function(){var b=this.getTitle();if(b&&this.enabled){var c=this.tip();c.find(".tipsy-inner")[this.options.html?"html":"text"](b),c[0].className="tipsy "+(this.options.cls?this.options.cls:""),c.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var d,e=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),f=c[0].offsetWidth,g=c[0].offsetHeight,h="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0],this.$element[0]):this.options.gravity;switch(h.charAt(0)){case"n":d={top:e.top+e.height+this.options.offset,left:e.left+e.width/2-f/2};break;case"s":d={top:e.top-g-this.options.offset,left:e.left+e.width/2-f/2};break;case"e":d={top:e.top+e.height/2-g/2,left:e.left-f-this.options.offset};break;case"w":d={top:e.top+e.height/2-g/2,left:e.left+e.width+this.options.offset}}2==h.length&&(d.left="w"==h.charAt(1)?e.left+e.width/2-15:e.left+e.width/2-f+15),c.css(d).addClass("tipsy-"+h),this.options.fade?c.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity},this.options.duration):c.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(this.options.duration,function(){a(this).remove()}):this.tip().remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("original-title"))&&a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;this.fixTitle();var a,c=this.options;return"string"==typeof c.title?a=b.attr("title"==c.title?"original-title":c.title):"function"==typeof c.title&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,""),a||c.fallback},tip:function(){return this.$tip||(this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},a.fn.tipsy=function(c){function d(d){var e=a.data(d,"tipsy");return e||(e=new b(d,a.fn.tipsy.elementOptions(d,c)),a.data(d,"tipsy",e)),e}function e(){var a=d(this);a.hoverState="in",0==c.delayIn?a.show():(a.fixTitle(),setTimeout(function(){"in"==a.hoverState&&a.show()},c.delayIn))}function f(){var a=d(this);a.hoverState="out",0==c.delayOut?a.hide():setTimeout(function(){"out"==a.hoverState&&a.hide()},c.delayOut)}if(c===!0)return this.data("tipsy");if("string"==typeof c){var g=this.data("tipsy");return g&&g[c](),this}if(c=a.extend({},a.fn.tipsy.defaults,c),c.live||this.each(function(){d(this)}),"manual"!=c.trigger){var h="hover"==c.trigger?"mouseenter":"focus",i="hover"==c.trigger?"mouseleave":"blur";c.live?a(this.context).on(h,this.selector,e).on(i,this.selector,f):this.on(h,e).on(i,f)}return this},a.fn.tipsy.defaults={delayIn:0,delayOut:20,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover",duration:100},a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c},a.fn.tipsy.autoNS=function(){return a(".tipsy").addClass("autoNS"),a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"},a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){var b=[];a.preloadImages=function(){for(var a=arguments.length,c=a;c--;){var d=document.createElement("img");d.src=arguments[c],b.push(d)}}}(jQuery),$.fn.disable=function(){return $(this).attr("disabled",!0),$(this)},$.fn.enable=function(){return $(this).removeAttr("disabled"),$(this)},$.fn.setCursorPosition=function(a){try{if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(a,a);else if($(this).get(0).createTextRange){var b=$(this).get(0).createTextRange();b.collapse(!0),b.moveEnd("character",a),b.moveStart("character",a),b.select()}return $(this)}catch(c){}},$.fn.showPlaceholder=function(){try{var a=$(this),b=a.attr("title");return(""===a.val()||a.val()===b)&&(a.addClass("placeholder"),a.val(b)),$(this)}catch(c){}},$.fn.hidePlaceholder=function(){try{var a=$(this);return(a.is("[title]")&&a.val()===a.attr("title")||a.val()===a.attr("original-title"))&&(a.removeClass("placeholder"),a.val("")),$(this)}catch(b){}},$.fn.selectAll=function(){var a=$(this);try{a.is(":focus")||_.defer(function(){a.focus()}),a.select()}catch(b){}},$.getScript=function(a,b,c){$.ajax({type:"GET",url:a,success:b,dataType:"script",cache:c})},$.fn.number_format=function(){return this.each(function(){$(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})},eval(function(a,b,c,d,e,f){if(e=function(a){return(b>a?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;c--;)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}('(j($){$.l({n:P j(){4.z={d:2,J:15,G:Q,e:O,x:\'w/Y.y\',B:\'w/U.y\',q:12};4.K=j(k,s){6 h=b;6 g=b;9(k!=b){9(!V(k)){h=k;9(s!=b){g=s}}i{g=k}}X 4.S(j(R){6 8=4;9(h!=b&&4.5!=b&&4.3!=b){4.3.a=h;9(g!=b)8.3=$.l(4.3,g)}i{6 $4=$(4);6 3=$.l({},$.n.z,g);6 p=h;9(h==b)6 p=$4.v().W("%","");$4.v("");6 5=C.A(\'Z\');6 c=C.A(\'19\');5.m=4.m+"1c";c.m=4.m+"1e";5.1d=3.x;5.e=3.e;5.F="r...";5.1f="r...";6 $5=$(5);6 $c=$(c);4.5=$5;4.H=$c;4.3=3;4.3.7=0;4.3.a=p;$5.f("e",3.e+"o");$5.f("q",3.q+"o");$5.f("I-13","11("+3.B+")");$5.f("10","0");$5.f("14","0");$4.D($5);$4.D($c)}6 t=17(j(){6 3=8.3;6 7=u(3.7);6 a=u(3.a);6 d=u(3.d);6 5=8.5;6 c=8.H;6 E=3.e/16; 5.f("I-1a",(((3.e*-1))+(7*E))+\'o 1b%\');5.F="r...";9(3.G)c.v(" "+N.L(7)+"%");9(7>a){9(7-d<a){8.3.7=0+a}i{8.3.7-=d}}i 9(8.3.7<8.3.a){9(7+d>a){8.3.7=a}i{8.3.7+=d}}i{M(t)}},8.3.J)})}}});$.T.l({n:$.n.K})})(18);',62,78,"|||config|this|bar|var|cpercentage|pb|if|tpercentage|null|text|increment|width|css|argconfig|argpercentage|else|function|arg1|extend|id|progressBar|px|percentage|height|Uploading|arg2||parseInt|html|images|boxImage|gif|defaults|createElement|barImage|document|append|pixels|alt|showText|ntext|background|speed|construct|round|clearInterval|Math|120|new|true|child|each|fn|progressbg_green|isNaN|replace|return|progressbar|img|padding|url||image|margin||100|setInterval|jQuery|div|position|50|_percentImage|src|_percentText|title".split("|"),0,{})),function(a){var b;return a.event.fix=function(a){return function(b){return b=a.apply(this,arguments),(0===b.type.indexOf("copy")||0===b.type.indexOf("paste"))&&(b.clipboardData=b.originalEvent.clipboardData),b}}(a.event.fix),b={preventPropagation:!1,callback:a.noop,matchType:/image.*/},a.fn.pasteImageReader=function(c){return"function"==typeof c&&(c={callback:c}),c=a.extend({},b,c),this.each(function(){var b,d;return d=this,b=a(this),b.bind("paste",function(a){return items=a.clipboardData&&a.clipboardData.items||window.clipboardData&&window.clipboardData.files,jQuery.each(items,function(b,e){var f,g;
return e.type.match(c.matchType)?(f=e instanceof File?items[b]:items[b].getAsFile(),g=new FileReader,g.onload=function(a){c.callback.call(d,{dataURL:a.target.result,event:a,file:f,name:f.name})},g.readAsDataURL(f),c.preventPropagation&&a.stopPropagation(),!1):void 0})})})}}(jQuery),FileProgress.prototype.setTimer=function(a){this.fileProgressElement.FP_TIMER=a},FileProgress.prototype.getTimer=function(){return this.fileProgressElement.FP_TIMER||null},FileProgress.prototype.reset=function(){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[2].innerHTML="&nbsp;",this.fileProgressElement.childNodes[2].className="progressBarStatus",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].style.width="0%",this.appear()},FileProgress.prototype.setProgress=function(a){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].style.width=a+"%",this.appear()},FileProgress.prototype.setComplete=function(){this.fileProgressElement.className="progressContainer green",this.fileProgressElement.childNodes[3].className="progressBarComplete",this.fileProgressElement.childNodes[3].style.width="";var a=this;this.setTimer(setTimeout(function(){a.disappear()},3e3))},FileProgress.prototype.setIndefinite=function(){this.fileProgressElement.className="progressContainer indefinite",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].style.width="100%"},FileProgress.prototype.setError=function(){this.fileProgressElement.className="progressContainer red",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width="";var a=this;this.setTimer(setTimeout(function(){a.disappear()},1e4))},FileProgress.prototype.setCancelled=function(){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width="";var a=this;this.setTimer(setTimeout(function(){a.disappear()},1e3))},FileProgress.prototype.setStatus=function(a){this.fileProgressElement.childNodes[2].innerHTML=a},FileProgress.prototype.toggleCancel=function(a,b){if(this.fileProgressElement.childNodes[0].style.visibility=a?"visible":"hidden",b){var c=this.fileProgressID;this.fileProgressElement.childNodes[0].onclick=function(){return b.cancelUpload(c),!1}}},FileProgress.prototype.appear=function(){if(null!==this.getTimer()&&(clearTimeout(this.getTimer()),this.setTimer(null)),this.fileProgressWrapper.filters)try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=100}catch(a){this.fileProgressWrapper.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}else this.fileProgressWrapper.style.opacity=1;this.fileProgressWrapper.style.height="",this.height=this.fileProgressWrapper.offsetHeight,this.opacity=100,this.fileProgressWrapper.style.display=""},FileProgress.prototype.disappear=function(){var a=15,b=4,c=30;if(this.opacity>0)if(this.opacity-=a,this.opacity<0&&(this.opacity=0),this.fileProgressWrapper.filters)try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=this.opacity}catch(d){this.fileProgressWrapper.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+this.opacity+")"}else this.fileProgressWrapper.style.opacity=this.opacity/100;if(this.height>0&&(this.height-=b,this.height<0&&(this.height=0),this.fileProgressWrapper.style.height=this.height+"px"),this.height>0||this.opacity>0){var e=this;this.setTimer(setTimeout(function(){e.disappear()},c))}else this.fileProgressWrapper.style.display="none",this.setTimer(null)},function(a){var b,c,d="file_upload",e="undefined",f="function",g=function(a,b){var c=0,d=[];b&&(b.length?d=b:d[b-1]=null),this.complete=function(){c+=1,c===d.length&&(a(d),c=0,d=[])},this.push=function(a){d.push(a)},this.getList=function(){return d}},h=function(){var a=[];this.push=function(b){a.push(b),1===a.length&&b()},this.next=function(){a.shift(),a.length&&a[0]()}};b=function(b){var c,i,j,k=this,l={namespace:d,uploadFormFilter:function(){return!0},fileInputFilter:function(){return!0},cssClass:d,dragDropSupport:!0,dropZone:b,url:function(a){return a.attr("action")},method:function(a){return a.attr("method")},fieldName:function(a){return a.attr("name")},formData:function(a){return a.serializeArray()},requestHeaders:null,multipart:!0,multiFileRequest:!1,withCredentials:!1,forceIframeUpload:!1,sequentialUploads:!1,maxChunkSize:null},m=new g(function(a){typeof l.onLoadAll===f&&l.onLoadAll(a)}),n=new h,o={},p={},q=/^http(s)?:\/\//,r=function(){return typeof XMLHttpRequest!==e&&(typeof XMLHttpRequestUpload!==e||XMLHttpRequest().upload!==e)&&typeof File!==e&&(!l.multipart||typeof FormData!==e||typeof FileReader!==e&&typeof XMLHttpRequest.prototype.sendAsBinary===f)},s=function(){l.dragDropSupport&&(typeof l.onDocumentDragEnter===f&&(o["dragenter."+l.namespace]=function(a){l.onDocumentDragEnter(a)}),typeof l.onDocumentDragLeave===f&&(o["dragleave."+l.namespace]=function(a){l.onDocumentDragLeave(a)}),o["dragover."+l.namespace]=k.onDocumentDragOver,o["drop."+l.namespace]=k.onDocumentDrop,a(document).bind(o),typeof l.onDragEnter===f&&(p["dragenter."+l.namespace]=function(a){l.onDragEnter(a)}),typeof l.onDragLeave===f&&(p["dragleave."+l.namespace]=function(a){l.onDragLeave(a)}),p["dragover."+l.namespace]=k.onDragOver,p["drop."+l.namespace]=k.onDrop,l.dropZone.bind(p)),i.bind("change."+l.namespace,k.onChange)},t=function(){a.each(o,function(b,c){a(document).unbind(b,c)}),a.each(p,function(a,b){l.dropZone.unbind(a,b)}),i.unbind("change."+l.namespace)},u=function(a){return typeof a.uploadedBytes!==e},v=function(a,b,c){var d;if(typeof document.createEvent===f&&typeof ProgressEvent!==e)try{d=document.createEvent("ProgressEvent"),d.initProgressEvent&&d.initProgressEvent("progress",!1,!1,a,b,c)}catch(g){d={lengthComputable:!0,loaded:b,total:c}}else d={lengthComputable:!0,loaded:b,total:c};return d},w=function(a,b,c){var d,f;if(typeof c.progressTotal===e)if(a[b])f=a[b].size,c.progressTotal=f?f:1;else{for(f=0,d=0;d<a.length;d+=1)f+=a[d].size;c.progressTotal=f}return c.progressTotal},x=function(b,c,d,e,g){var h,i,j=0,k=0;b.lengthComputable&&typeof g.onProgressAll===f&&(g.progressLoaded=parseInt(b.loaded/b.total*w(c,d,g),10),i=m.getList(),a.each(i,function(a,b){j+=b[3].progressLoaded||0,k+=w(b[0],b[1],b[3])}),h=v(!0,j,k),g.onProgressAll(h,i))},y=function(a,b,c,d,e){var g;return u(e)&&(e.uploadedBytes=e.uploadedBytes+e.chunkSize,g=v(!0,e.uploadedBytes,b[c].size),typeof e.onProgress===f&&e.onProgress(g,b,c,d,e),x(g,b,c,d,e),e.uploadedBytes<b[c].size)?void(typeof e.resumeUpload===f?e.resumeUpload(a,b,c,d,e,function(){N(a,b,c,d,e,!0)}):N(a,b,c,d,e,!0)):(e.progressLoaded=w(b,c,e),typeof e.onLoad===f&&e.onLoad(a,b,c,d,e),m.complete(),void n.next())},z=function(a,b,c,d,e){var g=a;u(e)&&a.lengthComputable&&(g=v(!0,e.uploadedBytes+parseInt(a.loaded/a.total*e.chunkSize,10),b[c].size)),typeof e.onProgress===f&&e.onProgress(g,b,c,d,e),x(g,b,c,d,e)},A=function(a,b,c,d){c.upload&&(c.upload.onprogress=function(e){z(e,a,b,c,d)}),c.onload=function(e){y(e,a,b,c,d)},c.onabort=function(e){d.progressTotal=d.progressLoaded,typeof d.onAbort===f&&d.onAbort(e,a,b,c,d),m.complete(),n.next()},c.onerror=function(e){d.progressTotal=d.progressLoaded,typeof d.onError===f&&d.onError(e,a,b,c,d),m.complete(),n.next()}},B=function(a){return typeof a.url===f?a.url(a.uploadForm||c):a.url},C=function(a){return typeof a.method===f?a.method(a.uploadForm||c):a.method},D=function(a){return typeof a.fieldName===f?a.fieldName(a.fileInput||i):a.fieldName},E=function(b){var d;return typeof b.formData===f?b.formData(b.uploadForm||c):a.isArray(b.formData)?b.formData:b.formData?(d=[],a.each(b.formData,function(a,b){d.push({name:a,value:b})}),d):[]},F=function(b){if(q.test(b)){var c=location.host,d=location.protocol.length+2,e=b.indexOf(c,d),f=e+c.length;return e!==d&&e!==b.indexOf("@",d)+1||b.length!==f&&-1===a.inArray(b.charAt(f),["/","?","#"])?!1:!0}return!0},G=function(b,c,d,e){var f=b[c],g=B(e),h=F(g);d.open(C(e),g,!0),h?(d.setRequestHeader("X-Requested-With","XMLHttpRequest"),(!e.multipart||u(e))&&(d.setRequestHeader("X-File-Name",f.name),d.setRequestHeader("X-File-Type",f.type),d.setRequestHeader("X-File-Size",f.size),u(e)?e.multipart||d.setRequestHeader("Content-Type","application/octet-stream"):d.setRequestHeader("Content-Type",f.type))):e.withCredentials&&(d.withCredentials=!0),a.isArray(e.requestHeaders)?a.each(e.requestHeaders,function(a,b){d.setRequestHeader(b.name,b.value)}):e.requestHeaders&&a.each(e.requestHeaders,function(a,b){d.setRequestHeader(a,b)})},H=function(b,c,d){var e,f=new FormData;for(a.each(E(d),function(a,b){f.append(b.name,b.value)}),e=0;e<b.length;e+=1)f.append(D(d),b[e]);c.send(f)},I=function(a,b){var c=new FileReader;c.onload=function(c){a.content=c.target.result,b()},c.readAsBinaryString(a)},J=function(a){return unescape(encodeURIComponent(a))},K=function(b,c,d,e){var f="--",g="\r\n",h="";return a.each(e,function(a,c){h+=f+b+g+'Content-Disposition: form-data; name="'+J(c.name)+'"'+g+g+J(c.value)+g}),a.each(c,function(a,c){h+=f+b+g+'Content-Disposition: form-data; name="'+J(d)+'"; filename="'+J(c.name)+'"'+g+"Content-Type: "+J(c.type)+g+g+c.content+g}),h+=f+b+f+g},L=function(a,b,c){var d,e,f="----MultiPartFormBoundary"+(new Date).getTime();for(b.setRequestHeader("Content-Type","multipart/form-data; boundary="+f),d=new g(function(){b.sendAsBinary(K(f,a,D(c),E(c)))},a.length),e=0;e<a.length;e+=1)I(a[e],d.complete)},M=function(a,b){var c,d=b.uploadedBytes,e=b.maxChunkSize;return a&&typeof a.slice===f&&(d||e&&e<a.size)?(b.uploadedBytes=d=d||0,c=a.slice(d,e||a.size-d),b.chunkSize=c.size,c):a},N=function(b,c,d,g,h,i){var j;if(!i){if(typeof h.onSend===f&&h.onSend(b,c,d,g,h)===!1)return;m.push(Array.prototype.slice.call(arguments,1))}j=function(){var b,i=M(c[d],h);A(c,d,g,h),G(c,d,g,h),h.multipart?(b="number"==typeof d?[i]:c,typeof FormData!==e?H(b,g,h):typeof FileReader!==e&&typeof g.sendAsBinary===f?L(b,g,h):a.error("Browser does not support multipart/form-data XHR file uploads")):g.upload?g.send(i):a.error("Browser does not support XHR file uploads")},!i&&h.sequentialUploads?n.push(j):j()},O=function(b,c,d,e,g){var h=new XMLHttpRequest,i=a.extend({},l);i.fileInput=d,i.uploadForm=e,typeof i.initUpload===f?i.initUpload(b,c,g,h,i,function(){N(b,c,g,h,i)}):N(b,c,g,h,i)},P=function(a,b,c,d){var e;if(b=Array.prototype.slice.call(b,0),l.multiFileRequest&&l.multipart&&b.length)O(a,b,c,d);else for(e=0;e<b.length;e+=1)O(a,b,c,d,e)},Q=function(a,b,c,d,e){var f=b[c].size?b[c].size:1,g=v(!0,f,f);e.progressLoaded=f,x(g,b,c,d,e)},R=function(b,c,d){var e=E(d);c.find(":input").not(":disabled").attr("disabled",!0).addClass(d.namespace+"_disabled"),a.each(e,function(b,e){a('<input type="hidden"/>').attr("name",e.name).val(e.value).addClass(d.namespace+"_form_data").appendTo(c)}),b.attr("name",D(d)).appendTo(c)},S=function(a,b,c){a.detach(),b.find("."+c.namespace+"_disabled").removeAttr("disabled").removeClass(c.namespace+"_disabled"),b.find("."+c.namespace+"_form_data").remove()},T=function(b,c,d,e,g,h){var i;(typeof h.onSend!==f||h.onSend(b,c,0,g,h)!==!1)&&(m.push([c,0,g,h]),i=function(){var b=e.attr("action"),i=e.attr("method"),j=e.attr("target");g.unbind("abort").bind("abort",function(a){g.readyState=0,g.unbind("load").attr("src","javascript".concat(":false;")),Q(a,c,0,g,h),typeof h.onAbort===f&&h.onAbort(a,c,0,g,h),m.complete(),n.next()}).unbind("load").bind("load",function(b){g.readyState=4,Q(b,c,0,g,h),typeof h.onLoad===f&&h.onLoad(b,c,0,g,h),m.complete(),n.next(),a('<iframe src="javascript:false;" style="display:none"></iframe>').appendTo(e).remove()}),e.attr("action",B(h)).attr("method",C(h)).attr("target",g.attr("name")),R(d,e,h),g.readyState=2,e.get(0).submit(),S(d,e,h),e.attr("action",b).attr("method",i).attr("target",j)},h.sequentialUploads?n.push(i):i())},U=function(b,c,d){var e=a('<iframe src="javascript:false;" style="display:none" name="iframe_'+l.namespace+"_"+(new Date).getTime()+'"></iframe>'),g=a.extend({},l),h=b.target.files;h=h?Array.prototype.slice.call(h,0):[{name:c.val(),type:null,size:null}],g.fileInput=c,g.uploadForm=d,e.readyState=0,e.abort=function(){e.trigger("abort")},e.bind("load",function(){e.unbind("load"),typeof g.initUpload===f?g.initUpload(b,h,0,e,g,function(){T(b,h,c,d,e,g)}):T(b,h,c,d,e,g)}).appendTo(d)},V=function(){c=(b.is("form")?b:b.find("form")).filter(l.uploadFormFilter)},W=function(){i=(c.length?c:b).find("input:file").filter(l.fileInputFilter)},X=function(b){var c=b.clone(!0);a("<form/>").append(c).get(0).reset(),b.after(c).detach(),W()};this.onDocumentDragOver=function(a){return typeof l.onDocumentDragOver===f&&l.onDocumentDragOver(a)===!1?!1:void a.preventDefault()},this.onDocumentDrop=function(a){if(typeof l.onDocumentDrop===f&&l.onDocumentDrop(a)===!1)return!1;var b=a.originalEvent.dataTransfer;b&&b.files&&r()&&P(a,b.files),a.preventDefault()},this.onDragOver=function(a){if(typeof l.onDragOver===f&&l.onDragOver(a)===!1)return!1;var b=a.originalEvent.dataTransfer;b&&b.files&&(b.dropEffect="copy",a.preventDefault())},this.onDrop=function(a){if(typeof l.onDrop===f&&l.onDrop(a)===!1)return!1;var b=a.originalEvent.dataTransfer;b&&b.files&&r()&&P(a,b.files),a.preventDefault()},this.onChange=function(b){if(typeof l.onChange===f&&l.onChange(b)===!1)return!1;var c=a(b.target),e=a(b.target.form);1===e.length?(c.data(d+"_form",e),X(c)):e=c.data(d+"_form"),!l.forceIframeUpload&&b.target.files&&r()?P(b,b.target.files,c,e):U(b,c,e)},this.init=function(c){return c&&(a.extend(l,c),j=c),V(),W(),b.data(l.namespace)?void a.error('FileUpload with namespace "'+l.namespace+'" already assigned to this element'):(b.data(l.namespace,k).addClass(l.cssClass),l.dropZone.not(b).addClass(l.cssClass),void s())},this.options=function(c){var d,f,g,h;return typeof c===e?a.extend({},l):(j&&a.extend(j,c),t(),a.each(c,function(b,c){switch(b){case"namespace":return void a.error("The FileUpload namespace cannot be updated.");case"uploadFormFilter":g=!0,h=!0;break;case"fileInputFilter":h=!0;break;case"cssClass":d=l.cssClass;break;case"dropZone":f=l.dropZone}l[b]=c}),g&&V(),h&&W(),typeof d!==e?(b.removeClass(d).addClass(l.cssClass),(f?f:l.dropZone).not(b).removeClass(d),l.dropZone.not(b).addClass(l.cssClass)):f&&(f.not(b).removeClass(l.cssClass),l.dropZone.not(b).addClass(l.cssClass)),void s())},this.option=function(a,b){var c;return typeof b===e?l[a]:(c={},c[a]=b,void k.options(c))},this.destroy=function(){t(),b.removeData(l.namespace).removeClass(l.cssClass),l.dropZone.not(b).removeClass(l.cssClass)},this.upload=function(a){typeof a.length===e&&(a=[a]),P(null,a)}},c={init:function(c){return this.each(function(){new b(a(this)).init(c)})},option:function(b,c,f){f=f?f:d;var g=a(this).data(f);if(g){if(!b)return g.options();if("string"==typeof b&&typeof c===e)return g.option(b)}else a.error('No FileUpload with namespace "'+f+'" assigned to this element');return this.each(function(){var d=a(this).data(f);d?"string"==typeof b?d.option(b,c):d.options(b):a.error('No FileUpload with namespace "'+f+'" assigned to this element')})},destroy:function(b){return b=b?b:d,this.each(function(){var c=a(this).data(b);c?c.destroy():a.error('No FileUpload with namespace "'+b+'" assigned to this element')})},upload:function(b,c){return c=c?c:d,this.each(function(){var d=a(this).data(c);d?d.upload(b):a.error('No FileUpload with namespace "'+c+'" assigned to this element')})}},a.fn.fileUpload=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error('Method "'+b+'" does not exist on jQuery.fileUpload'):c.init.apply(this,arguments)}}(jQuery),function(a){var b,c,d="undefined",e="function",f=function(a){var b=0,c=[];this.complete=function(){b+=1,b===c.length+1&&(a(c),b=0,c=[])},this.push=function(a){c.push(a)},this.getList=function(){return c}};b=function(b,c){var g,h,i=this,j=new f(function(a){i.hideProgressBarAll(function(){i.resetProgressBarAll(),typeof i.onCompleteAll===e&&i.onCompleteAll(a)})}),k=function(a){return typeof a.uploadTable===e?a.uploadTable(a):a.uploadTable},l=function(a){return typeof a.downloadTable===e?a.downloadTable(a):a.downloadTable};this.requestHeaders={Accept:"application/json, text/javascript, */*; q=0.01"},this.dropZone=b,this.imageTypes=/^image\/(gif|jpeg|png)$/,this.previewMaxWidth=this.previewMaxHeight=80,this.previewLoadDelay=100,this.previewAsCanvas=!0,this.previewSelector=".file_upload_preview",this.progressSelector=".file_upload_progress div",this.cancelSelector=".file_upload_cancel button",this.cssClassSmall="file_upload_small",this.cssClassLarge="file_upload_large",this.cssClassHighlight="file_upload_highlight",this.dropEffect="highlight",this.uploadTable=this.downloadTable=null,this.buildUploadRow=this.buildDownloadRow=null,this.progressAllNode=null,this.loadImage=function(a,b,c,f,g,h){var i,j,k,l;return g&&!g.test(a.type)?null:(j=function(a){var b=document.createElement("canvas"),d=Math.min((c||a.width)/a.width,(f||a.height)/a.height);return d>1&&(d=1),a.width=parseInt(a.width*d,10),a.height=parseInt(a.height*d,10),h||typeof b.getContext!==e?a:(b.width=a.width,b.height=a.height,b.getContext("2d").drawImage(a,0,0,a.width,a.height),b)},i=document.createElement("img"),k=typeof URL!==d?URL:typeof webkitURL!==d?webkitURL:null,void(k&&typeof k.createObjectURL===e?(i.onload=function(){k.revokeObjectURL(this.src),b(j(i))},i.src=k.createObjectURL(a)):typeof FileReader!==d&&typeof FileReader.prototype.readAsDataURL===e?(i.onload=function(){b(j(i))},l=new FileReader,l.onload=function(a){i.src=a.target.result},l.readAsDataURL(a)):b(null)))},this.addNode=function(a,b,c){a&&b?b.css("display","none").appendTo(a).fadeIn(function(){if(typeof c===e)try{c()}catch(a){throw b.stop(),a}}):typeof c===e&&c()},this.removeNode=function(a,b){a?a.fadeOut(function(){if(a.remove(),typeof b===e)try{b()}catch(c){throw a.stop(),c}}):typeof b===e&&b()},this.replaceNode=function(a,b,c){a&&b?a.fadeOut(function(){b.css("display","none"),a.replaceWith(b),b.fadeIn(function(){if(typeof c===e)try{c()}catch(d){throw a.stop(),b.stop(),d}})}):typeof c===e&&c()},this.resetProgressBarAll=function(){i.progressbarAll&&i.progressbarAll.progressbar("value",0)},this.hideProgressBarAll=function(b){i.progressbarAll&&!a(k(i)).find(i.progressSelector+":visible:first").length?i.progressbarAll.fadeOut(b):typeof b===e&&b()},this.onAbort=function(a,b,c,d,e){e.removeNode(e.uploadRow,e.hideProgressBarAll)},this.cancelUpload=function(a,b,c,d,e){var f=d.readyState;d.abort(),("number"!=typeof f||2>f)&&e.onAbort(a,b,c,d,e)},this.initProgressBar=function(b,c){return b&&b.length?typeof b.progressbar===e?b.progressbar({value:c}):(b.addClass("progressbar").append(a("<div/>").css("width",c+"%")).progressbar=function(b,c){return this.each(function(){"destroy"===b?a(this).removeClass("progressbar").empty():a(this).children().css("width",c+"%")})},b):null},this.destroyProgressBar=function(a){return a&&a.length?a.progressbar("destroy"):null},this.initUploadProgress=function(a,b){!a.upload&&b.progressbar&&b.progressbar.progressbar("value",100)},this.initUploadProgressAll=function(){i.progressbarAll&&i.progressbarAll.is(":hidden")&&i.progressbarAll.fadeIn()},this.onSend=function(a,b,c,d,e){e.initUploadProgress(d,e)},this.onProgress=function(a,b,c,d,e){e.progressbar&&a.lengthComputable&&e.progressbar.progressbar("value",parseInt(a.loaded/a.total*100,10))},this.onProgressAll=function(a){i.progressbarAll&&a.lengthComputable&&i.progressbarAll.progressbar("value",parseInt(a.loaded/a.total*100,10))},this.onLoadAll=function(){j.complete()},this.initProgressBarAll=function(){i.progressbarAll||(i.progressbarAll=i.initProgressBar(typeof i.progressAllNode===e?i.progressAllNode(i):i.progressAllNode,0))},this.destroyProgressBarAll=function(){i.destroyProgressBar(i.progressbarAll)},this.initUploadRow=function(b,c,d,f,g){var h=g.uploadRow=typeof g.buildUploadRow===e?g.buildUploadRow(c,d,g):null;h&&(g.progressbar=g.initProgressBar(h.find(g.progressSelector),0),h.find(g.cancelSelector).click(function(a){g.cancelUpload(a,c,d,f,g),a.preventDefault()}),h.find(g.previewSelector).each(function(){var b=a(this),e=c[d];e&&setTimeout(function(){g.loadImage(e,function(c){g.addNode(b,a(c))},g.previewMaxWidth,g.previewMaxHeight,g.imageTypes,!g.previewAsCanvas)},g.previewLoadDelay)}))},this.initUpload=function(a,b,c,d,f,g){f.initUploadRow(a,b,c,d,f),f.addNode(k(f),f.uploadRow,function(){typeof f.beforeSend===e?f.beforeSend(a,b,c,d,f,g):g()}),f.initUploadProgressAll()},this.parseResponse=function(b){return a.parseJSON(typeof b.responseText!==d?b.responseText:b.contents().text())},this.initDownloadRow=function(a,b,c,d,f){var g,h;try{g=f.response=f.parseResponse(d),h=f.downloadRow=typeof f.buildDownloadRow===e?f.buildDownloadRow(g,f):null}catch(i){if(typeof f.onError!==e)throw i;f.originalEvent=a,f.onError(i,b,c,d,f)}},this.onLoad=function(a,b,c,d,f){var g=k(f),h=l(f),i=function(){typeof f.onComplete===e&&f.onComplete(a,b,c,d,f),j.complete()};j.push(Array.prototype.slice.call(arguments,1)),f.initDownloadRow(a,b,c,d,f),!g||h&&g.get(0)!==h.get(0)?f.removeNode(f.uploadRow,function(){f.addNode(h,f.downloadRow,i)}):f.replaceNode(f.uploadRow,f.downloadRow,i)},this.dropZoneEnlarge=function(){h||(typeof i.dropZone.switchClass===e?i.dropZone.switchClass(i.cssClassSmall,i.cssClassLarge):(i.dropZone.addClass(i.cssClassLarge),i.dropZone.removeClass(i.cssClassSmall)),h=!0)},this.dropZoneReduce=function(){typeof i.dropZone.switchClass===e?i.dropZone.switchClass(i.cssClassLarge,i.cssClassSmall):(i.dropZone.addClass(i.cssClassSmall),i.dropZone.removeClass(i.cssClassLarge)),h=!1},this.onDocumentDragEnter=function(){i.dropZoneEnlarge()},this.onDocumentDragOver=function(){g&&clearTimeout(g),g=setTimeout(function(){i.dropZoneReduce()},200)},this.onDragEnter=this.onDragLeave=function(){i.dropZone.toggleClass(i.cssClassHighlight)},this.onDrop=function(){g&&clearTimeout(g),i.dropEffect&&typeof i.dropZone.effect===e?i.dropZone.effect(i.dropEffect,function(){i.dropZone.removeClass(i.cssClassHighlight),i.dropZoneReduce()}):(i.dropZone.removeClass(i.cssClassHighlight),i.dropZoneReduce())},this.init=function(){i.initProgressBarAll()},this.destroy=function(){i.destroyProgressBarAll()},a.extend(this,c)},c={init:function(c){return this.each(function(){a(this).fileUpload(new b(a(this),c)).fileUploadUI("option","init",void 0,c.namespace)()})},option:function(b,c,e){return!b||"string"==typeof b&&typeof c===d?a(this).fileUpload("option",b,c,e):this.each(function(){a(this).fileUpload("option",b,c,e)})},destroy:function(b){return this.each(function(){a(this).fileUploadUI("option","destroy",void 0,b)(),a(this).fileUpload("destroy",b)})},upload:function(b,c){return this.each(function(){a(this).fileUpload("upload",b,c)})}},a.fn.fileUploadUI=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error('Method "'+b+'" does not exist on jQuery.fileUploadUI'):c.init.apply(this,arguments)}}(jQuery),function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},j,c),this._defaults=j,this._name=h,this.init()}function f(){return!!("ontouchstart"in b)}function g(){var a=c.body||c.documentElement,b=a.style,d="transition";if("string"==typeof b[d])return!0;v=["Moz","Webkit","Khtml","O","ms"],d=d.charAt(0).toUpperCase()+d.substr(1);for(var e=0;e<v.length;e++)if("string"==typeof b[v[e]+d])return!0;return!1}var h="tooltipster",j={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionInit:function(){},functionBefore:function(a,b){b()},functionReady:function(){},functionAfter:function(){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,interactiveAutoClose:!0,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},k=!0;g()||(k=!1);var l=f();a(b).on("mousemove.tooltipster",function(){l=!1,a(b).off("mousemove.tooltipster")}),e.prototype={init:function(){var b=a(this.element),e=this,f=!0;if(!e.options.touchDevices&&l&&(f=!1),c.all&&!c.querySelector&&(f=!1),f){var g=a.trim(e.options.content).length>0?e.options.content:b.attr("title"),h=e.options.functionInit(b,g);if(h&&(g=h),b.data("tooltipsterContent",g),b.removeAttr("title"),e.options.iconDesktop&&!l||e.options.iconTouch&&l){var i=e.options.iconTheme,j=a('<span class="'+i.replace(".","")+'"></span>');j.data("tooltipsterContent",g).append(e.options.icon).insertAfter(b),b.data("tooltipsterIcon",j),b=j}e.options.touchDevices&&l&&("click"==e.options.trigger||"hover"==e.options.trigger)?b.on("touchstart.tooltipster",function(){e.showTooltip()}):("hover"==e.options.trigger&&(b.on("mouseenter.tooltipster",function(){e.showTooltip()}),e.options.interactive?b.on("mouseleave.tooltipster",function(){var c=b.data("tooltipster"),f=!1;if(c!==d&&""!==c){c.mouseenter(function(){f=!0}),c.mouseleave(function(){f=!1});{setTimeout(function(){f?e.options.interactiveAutoClose&&(c.find("select").on("change",function(){e.hideTooltip()}),c.mouseleave(function(b){var c=a(b.target);0===c.parents(".tooltipster-base").length||c.hasClass("tooltipster-base")?e.hideTooltip():c.on("mouseleave",function(){e.hideTooltip()})})):e.hideTooltip()},e.options.interactiveTolerance)}}else e.hideTooltip()}):b.on("mouseleave.tooltipster",function(){e.hideTooltip()})),"click"==e.options.trigger&&b.on("click.tooltipster",function(){""===b.data("tooltipster")||b.data("tooltipster")===d?e.showTooltip():e.hideTooltip()}))}},showTooltip:function(){var b=a(this.element),c=this;b.data("tooltipsterIcon")!==d&&(b=b.data("tooltipsterIcon")),b.hasClass("tooltipster-disable")||(a(".tooltipster-base").not(".tooltipster-dying").length>0&&c.options.onlyOne&&a(".tooltipster-base").not(".tooltipster-dying").not(b.data("tooltipster")).each(function(){a(this).addClass("tooltipster-kill");var b=a(this).data("origin");b.data("plugin_tooltipster").hideTooltip()}),b.clearQueue().delay(c.options.delay).queue(function(){c.options.functionBefore(b,function(){if(b.data("tooltipster")!==d&&""!==b.data("tooltipster")){var e=b.data("tooltipster");if(!e.hasClass("tooltipster-kill")){var f="tooltipster-"+c.options.animation;if(e.removeClass("tooltipster-dying"),k&&e.clearQueue().addClass(f+"-show"),c.options.timer>0){var h=e.data("tooltipsterTimer");clearTimeout(h),h=setTimeout(function(){e.data("tooltipsterTimer",d),c.hideTooltip()},c.options.timer),e.data("tooltipsterTimer",h)}c.options.touchDevices&&l&&a("body").bind("touchstart",function(b){if(c.options.interactive){var d=a(b.target),e=!0;d.parents().each(function(){a(this).hasClass("tooltipster-base")&&(e=!1)}),e&&(c.hideTooltip(),a("body").unbind("touchstart"))}else c.hideTooltip(),a("body").unbind("touchstart")})}}else{c.options._bodyOverflowX=a("body").css("overflow-x"),a("body").css("overflow-x","hidden");var i=c.getContent(b),j=c.options.theme,m=j.replace(".",""),f="tooltipster-"+c.options.animation,n="-webkit-transition-duration: "+c.options.speed+"ms; -webkit-animation-duration: "+c.options.speed+"ms; -moz-transition-duration: "+c.options.speed+"ms; -moz-animation-duration: "+c.options.speed+"ms; -o-transition-duration: "+c.options.speed+"ms; -o-animation-duration: "+c.options.speed+"ms; -ms-transition-duration: "+c.options.speed+"ms; -ms-animation-duration: "+c.options.speed+"ms; transition-duration: "+c.options.speed+"ms; animation-duration: "+c.options.speed+"ms;",o=c.options.fixedWidth>0?"width:"+Math.round(c.options.fixedWidth)+"px;":"",p=c.options.maxWidth>0?"max-width:"+Math.round(c.options.maxWidth)+"px;":"",q=c.options.interactive?"pointer-events: auto;":"",e=a('<div class="tooltipster-base '+m+" "+f+'" style="'+o+" "+p+" "+q+" "+n+'"></div>'),r=a('<div class="tooltipster-content"></div>');r.html(i),e.append(r),e.appendTo("body"),b.data("tooltipster",e),e.data("origin",b),c.positionTooltip(),c.options.functionReady(b,e),k?e.addClass(f+"-show"):e.css("display","none").removeClass(f).fadeIn(c.options.speed);var s=i,t=setInterval(function(){var d=c.getContent(b);0===a("body").find(b).length?(e.addClass("tooltipster-dying"),c.hideTooltip()):s!==d&&""!==d&&(s=d,e.find(".tooltipster-content").html(d),c.options.updateAnimation&&(g()?(e.css({width:"","-webkit-transition":"all "+c.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+c.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+c.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+c.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+c.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){e.removeClass("tooltipster-content-changing"),setTimeout(function(){e.css({"-webkit-transition":c.options.speed+"ms","-moz-transition":c.options.speed+"ms","-o-transition":c.options.speed+"ms","-ms-transition":c.options.speed+"ms",transition:c.options.speed+"ms"})},c.options.speed)},c.options.speed)):e.fadeTo(c.options.speed,.5,function(){e.fadeTo(c.options.speed,1)})),c.positionTooltip()),(0===a("body").find(e).length||0===a("body").find(b).length)&&clearInterval(t)},200);if(c.options.timer>0){var h=setTimeout(function(){e.data("tooltipsterTimer",d),c.hideTooltip()},c.options.timer+c.options.speed);e.data("tooltipsterTimer",h)}c.options.touchDevices&&l&&a("body").bind("touchstart",function(b){if(c.options.interactive){var d=a(b.target),e=!0;d.parents().each(function(){a(this).hasClass("tooltipster-base")&&(e=!1)}),e&&(c.hideTooltip(),a("body").unbind("touchstart"))}else c.hideTooltip(),a("body").unbind("touchstart")})}}),b.dequeue()}))},hideTooltip:function(){var b=a(this.element),c=this;b.data("tooltipsterIcon")!==d&&(b=b.data("tooltipsterIcon"));var e=b.data("tooltipster");if(e===d&&(e=a(".tooltipster-dying")),b.clearQueue(),e!==d&&""!==e){var f=e.data("tooltipsterTimer");f!==d&&clearTimeout(f);var g="tooltipster-"+c.options.animation;k?e.clearQueue().removeClass(g+"-show").addClass("tooltipster-dying").delay(c.options.speed).queue(function(){e.remove(),b.data("tooltipster",""),a("body").css("overflow-x",c.options._bodyOverflowX),c.options.functionAfter(b)}):e.clearQueue().addClass("tooltipster-dying").fadeOut(c.options.speed,function(){e.remove(),b.data("tooltipster",""),a("body").css("overflow-x",c.options._bodyOverflowX),c.options.functionAfter(b)})}},positionTooltip:function(){function c(){var c=a(b).scrollLeft();if(0>K-c){var d=K-c;K=c,h.data("arrow-reposition",d)}if(K+m-c>j){var d=K-(j+c-m);K=j+c-m,h.data("arrow-reposition",d)}}function e(c,d){q-a(b).scrollTop()-o-N-12<0&&d.indexOf("top")>-1&&(g.options.position=c,s=d),q+l+o+12+N>a(b).scrollTop()+a(b).height()&&d.indexOf("bottom")>-1&&(g.options.position=c,s=d,M=q-o-N-12)}var f=a(this.element),g=this;if(f.data("tooltipsterIcon")!==d&&(f=f.data("tooltipsterIcon")),f.data("tooltipster")!==d&&""!==f.data("tooltipster")){var h=f.data("tooltipster");h.css("width","");var j=a(b).width(),k=f.outerWidth(!1),l=f.outerHeight(!1),m=h.outerWidth(!1),n=h.innerWidth()+1,o=h.outerHeight(!1),p=f.offset(),q=p.top,r=p.left,s=d;if(f.is("area")){var t=f.attr("shape"),u=f.parent().attr("name"),v=a('img[usemap="#'+u+'"]'),w=v.offset().left,x=v.offset().top,y=f.attr("coords")!==d?f.attr("coords").split(","):d;if("circle"==t){var z=parseInt(y[0]),A=parseInt(y[1]),B=parseInt(y[2]);l=2*B,k=2*B,q=x+A-B,r=w+z-B}else if("rect"==t){var z=parseInt(y[0]),A=parseInt(y[1]),C=parseInt(y[2]),D=parseInt(y[3]);l=D-A,k=C-z,q=x+A,r=w+z}else if("poly"==t){var E=0,F=0,G=0,H=0,I="even";for(i=0;i<y.length;i++){var J=parseInt(y[i]);"even"==I?(J>G&&(G=J,0===i&&(E=G)),E>J&&(E=J),I="odd"):(J>H&&(H=J,1==i&&(F=H)),F>J&&(F=J),I="even")}l=H-F,k=G-E,q=x+F,r=w+E
}else l=v.outerHeight(!1),k=v.outerWidth(!1),q=x,r=w}0===g.options.fixedWidth&&h.css({width:Math.round(n)+"px","padding-left":"0px","padding-right":"0px"});var K=0,L=0,M=0,N=parseInt(g.options.offsetY),O=parseInt(g.options.offsetX),P="";if("top"==g.options.position){var Q=r+m-(r+k);K=r+O-Q/2,M=q-o-N-12,c(),e("bottom","top")}if("top-left"==g.options.position&&(K=r+O,M=q-o-N-12,c(),e("bottom-left","top-left")),"top-right"==g.options.position&&(K=r+k+O-m,M=q-o-N-12,c(),e("bottom-right","top-right")),"bottom"==g.options.position){var Q=r+m-(r+k);K=r-Q/2+O,M=q+l+N+12,c(),e("top","bottom")}if("bottom-left"==g.options.position&&(K=r+O,M=q+l+N+12,c(),e("top-left","bottom-left")),"bottom-right"==g.options.position&&(K=r+k+O-m,M=q+l+N+12,c(),e("top-right","bottom-right")),"left"==g.options.position){K=r-O-m-12,L=r+O+k+12;var R=q+o-(q+f.outerHeight(!1));if(M=q-R/2-N,0>K&&L+m>j){var S=2*parseFloat(h.css("border-width")),T=m+K-S;h.css("width",T+"px"),o=h.outerHeight(!1),K=r-O-T-12-S,R=q+o-(q+f.outerHeight(!1)),M=q-R/2-N}else 0>K&&(K=r+O+k+12,h.data("arrow-reposition","left"))}if("right"==g.options.position){K=r+O+k+12,L=r-O-m-12;var R=q+o-(q+f.outerHeight(!1));if(M=q-R/2-N,K+m>j&&0>L){var S=2*parseFloat(h.css("border-width")),T=j-K-S;h.css("width",T+"px"),o=h.outerHeight(!1),R=q+o-(q+f.outerHeight(!1)),M=q-R/2-N}else K+m>j&&(K=r-O-m-12,h.data("arrow-reposition","right"))}if(g.options.arrow){var U="tooltipster-arrow-"+g.options.position;if(g.options.arrowColor.length<1)var V=h.css("background-color");else var V=g.options.arrowColor;var W=h.data("arrow-reposition");if(W?"left"==W?(U="tooltipster-arrow-right",W=""):"right"==W?(U="tooltipster-arrow-left",W=""):W="left:"+Math.round(W)+"px;":W="","top"==g.options.position||"top-left"==g.options.position||"top-right"==g.options.position)var X=parseFloat(h.css("border-bottom-width")),Y=h.css("border-bottom-color");else if("bottom"==g.options.position||"bottom-left"==g.options.position||"bottom-right"==g.options.position)var X=parseFloat(h.css("border-top-width")),Y=h.css("border-top-color");else if("left"==g.options.position)var X=parseFloat(h.css("border-right-width")),Y=h.css("border-right-color");else if("right"==g.options.position)var X=parseFloat(h.css("border-left-width")),Y=h.css("border-left-color");else var X=parseFloat(h.css("border-bottom-width")),Y=h.css("border-bottom-color");X>1&&X++;var Z="";if(0!==X){var $="",_="border-color: "+Y+";";-1!==U.indexOf("bottom")?$="margin-top: -"+Math.round(X)+"px;":-1!==U.indexOf("top")?$="margin-bottom: -"+Math.round(X)+"px;":-1!==U.indexOf("left")?$="margin-right: -"+Math.round(X)+"px;":-1!==U.indexOf("right")&&($="margin-left: -"+Math.round(X)+"px;"),Z='<span class="tooltipster-arrow-border" style="'+$+" "+_+';"></span>'}h.find(".tooltipster-arrow").remove(),P='<div class="'+U+' tooltipster-arrow" style="'+W+'">'+Z+'<span style="border-color:'+V+';"></span></div>',h.append(P)}h.css({top:Math.round(M)+"px",left:Math.round(K)+"px"}),s!==d&&(g.options.position=s)}},getContent:function(b){var c=b.data("tooltipsterContent");return c=a(a.parseHTML("<div>"+c+"</div>")).html()}},a.fn[h]=function(b){if(!b||"setDefaults"!==b){if("string"==typeof b){var c=this,f=arguments[1],g=null;if(c.data("plugin_tooltipster")===d){var i=c.find("*");c=a(),i.each(function(){a(this).data("plugin_tooltipster")!==d&&c.push(a(this))})}return c.each(function(){switch(b.toLowerCase()){case"show":a(this).data("plugin_tooltipster").showTooltip();break;case"hide":a(this).data("plugin_tooltipster").hideTooltip();break;case"disable":a(this).addClass("tooltipster-disable");break;case"enable":a(this).removeClass("tooltipster-disable");break;case"destroy":a(this).data("plugin_tooltipster").hideTooltip();var e=a(this).data("tooltipsterIcon");e&&e.remove(),a(this).attr("title",c.data("tooltipsterContent")).removeData("plugin_tooltipster").removeData("tooltipsterContent").removeData("tooltipsterIcon").off(".tooltipster");break;case"elementicon":return g=a(this).data("tooltipsterIcon"),g=g?g[0]:d,!1;case"update":var h=f;if(a(this).data("tooltipsterIcon")===d)a(this).data("tooltipsterContent",h);else{var i=a(this).data("tooltipsterIcon");i.data("tooltipsterContent",h)}break;case"reposition":a(this).data("plugin_tooltipster").positionTooltip();break;case"val":return g=a(this).data("tooltipsterContent"),console.log(g),!1}}),null!==g?g:this}return this.each(function(){a.data(this,"plugin_"+h)||a.data(this,"plugin_"+h,new e(this,b))})}a.extend(j,arguments[1])},l&&b.addEventListener("orientationchange",function(){a(".tooltipster-base").length>0&&a(".tooltipster-base").each(function(){var b=a(this).data("origin");b.data("plugin_tooltipster").hideTooltip()})},!1),a(b).on("scroll.tooltipster",function(){var b=a(".tooltipster-base").data("origin");b&&b.tooltipster("reposition")}),a(b).on("resize.tooltipster",function(){var b=a(".tooltipster-base").data("origin");null!==b&&b!==d&&b.tooltipster("reposition")})}(jQuery,window,document),function(a){var b=function(){var b={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},c={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="5" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},d={flat:!1,starts:1,prev:"&#9664;",next:"&#9654;",lastSel:!1,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}},onChange:function(){return!0},onShow:function(){return!0},onBeforeShow:function(){return!0},onHide:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},e=function(b){var d,e,f,h,i,j,k,l,m,n=a(b).data("datepicker"),o=a(b),p=Math.floor(n.calendars/2),q=0;o.find("td>table tbody").remove();for(var r=0;r<n.calendars;r++){switch(d=new Date(n.current),d.addMonths(-p+r),m=o.find("table").eq(r+1),m[0].className){case"datepickerViewDays":f=g(d,"B, Y");break;case"datepickerViewMonths":f=d.getFullYear();break;case"datepickerViewYears":f=d.getFullYear()-6+" - "+(d.getFullYear()+5)}m.find("thead tr:first th:eq(1) span").text(f),f=d.getFullYear()-6,e={data:[],className:"datepickerYears"};for(var s=0;12>s;s++)e.data.push(f+s);l=tmpl(c.months.join(""),e),d.setDate(1),e={weeks:[],test:10},h=d.getMonth();var f=(d.getDay()-n.starts)%7;for(d.addDays(-(f+(0>f?7:0))),i=-1,q=0;42>q;){j=parseInt(q/7,10),k=q%7,e.weeks[j]||(i=d.getWeekNumber(),e.weeks[j]={week:i,days:[]}),e.weeks[j].days[k]={text:d.getDate(),classname:[]},h!=d.getMonth()&&e.weeks[j].days[k].classname.push("datepickerNotInMonth"),0==d.getDay()&&e.weeks[j].days[k].classname.push("datepickerSunday"),6==d.getDay()&&e.weeks[j].days[k].classname.push("datepickerSaturday");var t=n.onRender(d),u=d.valueOf();(t.selected||n.date==u||a.inArray(u,n.date)>-1||"range"==n.mode&&u>=n.date[0]&&u<=n.date[1])&&e.weeks[j].days[k].classname.push("datepickerSelected"),t.disabled&&e.weeks[j].days[k].classname.push("datepickerDisabled"),t.className&&e.weeks[j].days[k].classname.push(t.className),e.weeks[j].days[k].classname=e.weeks[j].days[k].classname.join(" "),q++,d.addDays(1)}l=tmpl(c.days.join(""),e)+l,e={data:n.locale.monthsShort,className:"datepickerMonths"},l=tmpl(c.months.join(""),e)+l,m.append(l)}},f=function(a,b){if(a.constructor==Date)return new Date(a);for(var c,d,e,f,g,h=a.split(/\W+/),i=b.split(/\W+/),j=new Date,k=0;k<h.length;k++)switch(i[k]){case"d":case"e":c=parseInt(h[k],10);break;case"m":d=parseInt(h[k],10)-1;break;case"Y":case"y":e=parseInt(h[k],10),e+=e>100?0:29>e?2e3:1900;break;case"H":case"I":case"k":case"l":f=parseInt(h[k],10);break;case"P":case"p":/pm/i.test(h[k])&&12>f?f+=12:/am/i.test(h[k])&&f>=12&&(f-=12);break;case"M":g=parseInt(h[k],10)}return new Date(void 0===e?j.getFullYear():e,void 0===d?j.getMonth():d,void 0===c?j.getDate():c,void 0===f?j.getHours():f,void 0===g?j.getMinutes():g,0)},g=function(a,b){var c=a.getMonth(),d=a.getDate(),e=a.getFullYear(),f=(a.getWeekNumber(),a.getDay()),g=a.getHours(),h=g>=12,i=h?g-12:g,j=a.getDayOfYear();0==i&&(i=12);for(var k,l=a.getMinutes(),m=a.getSeconds(),n=b.split(""),o=0;o<n.length;o++){switch(k=n[o],n[o]){case"a":k=a.getDayName();break;case"A":k=a.getDayName(!0);break;case"b":k=a.getMonthName();break;case"B":k=a.getMonthName(!0);break;case"C":k=1+Math.floor(e/100);break;case"d":k=10>d?"0"+d:d;break;case"e":k=d;break;case"H":k=10>g?"0"+g:g;break;case"I":k=10>i?"0"+i:i;break;case"j":k=100>j?10>j?"00"+j:"0"+j:j;break;case"k":k=g;break;case"l":k=i;break;case"m":k=9>c?"0"+(1+c):1+c;break;case"M":k=10>l?"0"+l:l;break;case"p":case"P":k=h?"PM":"AM";break;case"s":k=Math.floor(a.getTime()/1e3);break;case"S":k=10>m?"0"+m:m;break;case"u":k=f+1;break;case"w":k=f;break;case"y":k=(""+e).substr(2,2);break;case"Y":k=e}n[o]=k}return n.join("")},h=function(a){Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=a.months,Date.prototype.monthsShort=a.monthsShort,Date.prototype.days=a.days,Date.prototype.daysShort=a.daysShort,Date.prototype.getMonthName=function(a){return this[a?"months":"monthsShort"][this.getMonth()]},Date.prototype.getDayName=function(a){return this[a?"days":"daysShort"][this.getDay()]},Date.prototype.addDays=function(a){this.setDate(this.getDate()+a),this.tempDate=this.getDate()},Date.prototype.addMonths=function(a){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(a){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+a),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){var a,b=new Date(Date.parse(this)),c=28;for(a=b.getMonth(),c=28;b.getMonth()==a;)c++,b.setDate(c);return c-1},Date.prototype.getFirstDay=function(){var a=new Date(Date.parse(this));return a.setDate(1),a.getDay()},Date.prototype.getWeekNumber=function(){var a=new Date(this);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var b=a.valueOf();return a.setMonth(0),a.setDate(4),Math.round((b-a.valueOf())/6048e5)+1},Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),b=new Date(this.getFullYear(),0,0,0,0,0),c=a-b;return Math.floor(c/24*60*60*1e3)})},i=function(b){var c=a(b).data("datepicker"),d=a("#"+c.id);if(!c.extraHeight){var e=a(b).find("div");c.extraHeight=e.get(0).offsetHeight+e.get(1).offsetHeight,c.extraWidth=e.get(2).offsetWidth+e.get(3).offsetWidth}var f=d.find("table:first").get(0),g=f.offsetWidth,h=f.offsetHeight;d.css({width:g+c.extraWidth+"px",height:h+c.extraHeight+"px"}).find("div.datepickerContainer").css({width:g+"px",height:h+"px"})},j=function(b){a(b.target).is("span")&&(b.target=b.target.parentNode);var c=a(b.target);if(c.is("a")){if(b.target.blur(),c.hasClass("datepickerDisabled"))return!1;var d=a(this).data("datepicker"),f=c.parent(),h=f.parent().parent().parent(),i=a("table",this).index(h.get(0))-1,j=new Date(d.current),l=!1,m=!1;if(f.is("th")){if(f.hasClass("datepickerWeek")&&"range"==d.mode&&!f.next().hasClass("datepickerDisabled")){var n=parseInt(f.next().text(),10);j.addMonths(i-Math.floor(d.calendars/2)),f.next().hasClass("datepickerNotInMonth")&&j.addMonths(n>15?-1:1),j.setDate(n),d.date[0]=j.setHours(0,0,0,0).valueOf(),j.setHours(23,59,59,0),j.addDays(6),d.date[1]=j.valueOf(),m=!0,l=!0,d.lastSel=!1}else if(f.hasClass("datepickerMonth"))switch(j.addMonths(i-Math.floor(d.calendars/2)),h.get(0).className){case"datepickerViewDays":h.get(0).className="datepickerViewMonths",c.find("span").text(j.getFullYear());break;case"datepickerViewMonths":h.get(0).className="datepickerViewYears",c.find("span").text(j.getFullYear()-6+" - "+(j.getFullYear()+5));break;case"datepickerViewYears":h.get(0).className="datepickerViewDays",c.find("span").text(g(j,"B, Y"))}else if(f.parent().parent().is("thead")){switch(h.get(0).className){case"datepickerViewDays":d.current.addMonths(f.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":d.current.addYears(f.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":d.current.addYears(f.hasClass("datepickerGoPrev")?-12:12)}m=!0}}else if(f.is("td")&&!f.hasClass("datepickerDisabled")){switch(h.get(0).className){case"datepickerViewMonths":d.current.setMonth(h.find("tbody.datepickerMonths td").index(f)),d.current.setFullYear(parseInt(h.find("thead th.datepickerMonth span").text(),10)),d.current.addMonths(Math.floor(d.calendars/2)-i),h.get(0).className="datepickerViewDays";break;case"datepickerViewYears":d.current.setFullYear(parseInt(c.text(),10)),h.get(0).className="datepickerViewMonths";break;default:var n=parseInt(c.text(),10);switch(j.addMonths(i-Math.floor(d.calendars/2)),f.hasClass("datepickerNotInMonth")&&j.addMonths(n>15?-1:1),j.setDate(n),d.mode){case"multiple":n=j.setHours(0,0,0,0).valueOf(),a.inArray(n,d.date)>-1?a.each(d.date,function(a,b){return b==n?(d.date.splice(a,1),!1):void 0}):d.date.push(n);break;case"range":d.lastSel||(d.date[0]=j.setHours(0,0,0,0).valueOf()),n=j.setHours(23,59,59,0).valueOf(),n<d.date[0]?(d.date[1]=d.date[0]+86399e3,d.date[0]=n-86399e3):d.date[1]=n,d.lastSel=!d.lastSel;break;default:d.date=j.valueOf()}}m=!0,l=!0}m&&e(this),l&&d.onChange.apply(this,k(d))}return!1},k=function(b){var c;return"single"==b.mode?(c=new Date(b.date),[g(c,b.format),c,b.el]):(c=[[],[],b.el],a.each(b.date,function(a,d){var e=new Date(d);c[0].push(g(e,b.format)),c[1].push(e)}),c)},l=function(){var a="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(a?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(a?document.documentElement.clientHeight:document.body.clientHeight)}},m=function(a,b,c){if(a==b)return!0;if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(var d=b.parentNode;d&&d!=c;){if(d==a)return!0;d=d.parentNode}return!1},n=function(){var b=a("#"+a(this).data("datepickerId"));if(!b.is(":visible")){var c=b.get(0);e(c);var d=b.data("datepicker");d.onBeforeShow.apply(this,[b.get(0)]);{var f=a(this).offset(),g=l(),h=f.top,j=f.left;a.css(c,"display")}switch(b.css({visibility:"hidden",display:"block"}),i(c),d.position){case"top":h-=c.offsetHeight;break;case"left":j-=c.offsetWidth;break;case"right":j+=this.offsetWidth;break;case"bottom":h+=this.offsetHeight}h+c.offsetHeight>g.t+g.h&&(h=f.top-c.offsetHeight),h<g.t&&(h=f.top+this.offsetHeight+c.offsetHeight),j+c.offsetWidth>g.l+g.w&&(j=f.left-c.offsetWidth),j<g.l&&(j=f.left+this.offsetWidth),b.css({visibility:"visible",display:"block",top:h+"px",left:j+"px"}),0!=d.onShow.apply(this,[b.get(0)])&&b.show(),a(document).bind("mousedown",{cal:b,trigger:this},o)}return!1},o=function(b){b.target==b.data.trigger||m(b.data.cal.get(0),b.target,b.data.cal.get(0))||(0!=b.data.cal.data("datepicker").onHide.apply(this,[b.data.cal.get(0)])&&b.data.cal.hide(),a(document).unbind("mousedown",o))};return{init:function(g){return g=a.extend({},d,g||{}),h(g.locale),g.calendars=Math.max(1,parseInt(g.calendars,10)||1),g.mode=/single|multiple|range/.test(g.mode)?g.mode:"single",this.each(function(){if(!a(this).data("datepicker")){if(g.el=this,g.date.constructor==String&&(g.date=f(g.date,g.format),g.date.setHours(0,0,0,0)),"single"!=g.mode)if(g.date.constructor!=Array)g.date=[g.date.valueOf()],"range"==g.mode&&g.date.push(new Date(g.date[0]).setHours(23,59,59,0).valueOf());else{for(var d=0;d<g.date.length;d++)g.date[d]=f(g.date[d],g.format).setHours(0,0,0,0).valueOf();"range"==g.mode&&(g.date[1]=new Date(g.date[1]).setHours(23,59,59,0).valueOf())}else g.date=g.date.valueOf();g.current=g.current?f(g.current,g.format):new Date,g.current.setDate(1),g.current.setHours(0,0,0,0);var h,k="datepicker_"+parseInt(1e3*Math.random());g.id=k,a(this).data("datepickerId",g.id);var l=a(c.wrapper).attr("id",k).bind("click",j).data("datepicker",g);g.className&&l.addClass(g.className);for(var m="",d=0;d<g.calendars;d++)h=g.starts,d>0&&(m+=c.space),m+=tmpl(c.head.join(""),{week:g.locale.weekMin,prev:g.prev,next:g.next,day1:g.locale.daysMin[h++%7],day2:g.locale.daysMin[h++%7],day3:g.locale.daysMin[h++%7],day4:g.locale.daysMin[h++%7],day5:g.locale.daysMin[h++%7],day6:g.locale.daysMin[h++%7],day7:g.locale.daysMin[h++%7]});l.find("tr:first").append(m).find("table").addClass(b[g.view]),e(l.get(0)),g.flat?(l.appendTo(this).show().css("position","relative"),i(l.get(0))):(l.appendTo(document.body),a(this).bind(g.eventName,n))}})},showPicker:function(){return this.each(function(){a(this).data("datepickerId")&&n.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("datepickerId")&&a("#"+a(this).data("datepickerId")).hide()})},setDate:function(b,c){return this.each(function(){if(a(this).data("datepickerId")){var d=a("#"+a(this).data("datepickerId")),g=d.data("datepicker");if(g.date=b,g.date.constructor==String&&(g.date=f(g.date,g.format),g.date.setHours(0,0,0,0)),"single"!=g.mode)if(g.date.constructor!=Array)g.date=[g.date.valueOf()],"range"==g.mode&&g.date.push(new Date(g.date[0]).setHours(23,59,59,0).valueOf());else{for(var h=0;h<g.date.length;h++)g.date[h]=f(g.date[h],g.format).setHours(0,0,0,0).valueOf();"range"==g.mode&&(g.date[1]=new Date(g.date[1]).setHours(23,59,59,0).valueOf())}else g.date=g.date.valueOf();c&&(g.current=new Date("single"!=g.mode?g.date[0]:g.date)),e(d.get(0))}})},getDate:function(b){return this.size()>0?k(a("#"+a(this).data("datepickerId")).data("datepicker"))[b?0:1]:void 0},clear:function(){return this.each(function(){if(a(this).data("datepickerId")){var b=a("#"+a(this).data("datepickerId")),c=b.data("datepicker");"single"!=c.mode&&(c.date=[],e(b.get(0)))}})},fixLayout:function(){return this.each(function(){if(a(this).data("datepickerId")){var b=a("#"+a(this).data("datepickerId")),c=b.data("datepicker");c.flat&&i(b.get(0))}})}}}();a.fn.extend({DatePicker:b.init,DatePickerHide:b.hidePicker,DatePickerShow:b.showPicker,DatePickerSetDate:b.setDate,DatePickerGetDate:b.getDate,DatePickerClear:b.clear,DatePickerLayout:b.fixLayout})}(jQuery),function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}(),function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;w={paneClass:"pane",sliderClass:"slider",contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},s="scrollbar",r="scroll",k="mousedown",l="mousemove",n="mousewheel",m="mouseup",q="resize",h="drag",u="up",p="panedown",f="DOMMouseScroll",g="down",v="wheel",i="keydown",j="keyup",t="touchmove",d="Microsoft Internet Explorer"===b.navigator.appName&&/msie 7./i.test(b.navigator.appVersion)&&b.ActiveXObject,e=null,x=function(){var a,b,d;return a=c.createElement("div"),b=a.style,b.position="absolute",b.width="100px",b.height="100px",b.overflow=r,b.top="-9999px",c.body.appendChild(a),d=a.offsetWidth-a.clientWidth,c.body.removeChild(a),d},o=function(){function i(d,f){this.el=d,this.options=f,e||(e=x()),this.$el=a(this.el),this.doc=a(this.options.documentContext||c),this.win=a(this.options.windowContext||b),this.$content=this.$el.children("."+f.contentClass),this.$content.attr("tabindex",0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return i.prototype.preventScrolling=function(a,b){if(this.isActive)if(a.type===f)(b===g&&a.originalEvent.detail>0||b===u&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===n){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(b===g&&a.originalEvent.wheelDelta<0||b===u&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}},i.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},i.prototype.updateScrollValues=function(){var a;a=this.content,this.maxScrollTop=a.scrollHeight-a.clientHeight,this.contentScrollTop=a.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},i.prototype.createEvents=function(){var a=this;this.events={down:function(b){return a.isBeingDragged=!0,a.offsetY=b.pageY-a.slider.offset().top,a.pane.addClass("active"),a.doc.bind(l,a.events[h]).bind(m,a.events[u]),!1},drag:function(b){return a.sliderY=b.pageY-a.$el.offset().top-a.offsetY,a.scroll(),a.updateScrollValues(),a.contentScrollTop>=a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&a.$el.trigger("scrolltop"),!1},up:function(){return a.isBeingDragged=!1,a.pane.removeClass("active"),a.doc.unbind(l,a.events[h]).unbind(m,a.events[u]),!1},resize:function(){a.reset()},panedown:function(b){return a.sliderY=(b.offsetY||b.originalEvent.layerY)-.5*a.sliderHeight,a.scroll(),a.events.down(b),!1},scroll:function(b){a.isBeingDragged||(a.updateScrollValues(),a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.slider.css({top:a.sliderTop})),null!=b&&(a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&a.preventScrolling(b,g),a.$el.trigger("scrollend")):0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(b,u),a.$el.trigger("scrolltop"))))},wheel:function(b){return null!=b?(a.sliderY+=-b.wheelDeltaY||-b.delta,a.scroll(),!1):void 0}}},i.prototype.addEvents=function(){var a;this.removeEvents(),a=this.events,this.options.disableResize||this.win.bind(q,a[q]),this.iOSNativeScrolling||(this.slider.bind(k,a[g]),this.pane.bind(k,a[p]).bind(""+n+" "+f,a[v])),this.$content.bind(""+r+" "+n+" "+f+" "+t,a[r])},i.prototype.removeEvents=function(){var a;a=this.events,this.win.unbind(q,a[q]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+r+" "+n+" "+f+" "+t,a[r])},i.prototype.generate=function(){var a,b,c,d,f;return c=this.options,d=c.paneClass,f=c.sliderClass,a=c.contentClass,this.$el.find("."+d).length||this.$el.find("."+f).length||this.$el.append('<div class="'+d+'"><div class="'+f+'" /></div>'),this.pane=this.$el.children("."+d),this.slider=this.pane.find("."+f),e&&(b="rtl"===this.$el.css("direction")?{left:-e}:{right:-e},this.$el.addClass("has-scrollbar")),null!=b&&this.$content.css(b),this},i.prototype.restore=function(){this.stopped=!1,this.pane.show(),this.addEvents()},i.prototype.reset=function(){var a,b,c,f,g,h,i,j,k;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content,c=a.style,f=c.overflowY,d&&this.$content.css({height:this.$content.height()}),b=a.scrollHeight+e,h=this.pane.outerHeight(),j=parseInt(this.pane.css("top"),10),g=parseInt(this.pane.css("bottom"),10),i=h+j+g,k=Math.round(i/b*i),k<this.options.sliderMinHeight?k=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&k>this.options.sliderMaxHeight&&(k=this.options.sliderMaxHeight),f===r&&c.overflowX!==r&&(k+=e),this.maxSliderTop=i-k,this.contentHeight=b,this.paneHeight=h,this.paneOuterHeight=i,this.sliderHeight=k,this.slider.height(k),this.events.scroll(),this.pane.show(),this.isActive=!0,a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&f!==r?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&f===r?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),this)},i.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop((this.paneHeight-this.contentHeight+e)*this.sliderY/this.maxSliderTop*-1),this.iOSNativeScrolling||this.slider.css({top:this.sliderY}),this):void 0},i.prototype.scrollBottom=function(a){return this.isActive?(this.reset(),this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger(n),this):void 0},i.prototype.scrollTop=function(a){return this.isActive?(this.reset(),this.$content.scrollTop(+a).trigger(n),this):void 0},i.prototype.scrollTo=function(b){return this.isActive?(this.reset(),this.scrollTop(a(b).get(0).offsetTop),this):void 0},i.prototype.stop=function(){return this.stopped=!0,this.removeEvents(),this.pane.hide(),this},i.prototype.flash=function(){var a=this;if(this.isActive)return this.reset(),this.pane.addClass("flashed"),setTimeout(function(){a.pane.removeClass("flashed")},this.options.flashDelay),this},i}(),a.fn.nanoScroller=function(b){var c=!0;return this.each(function(){var d,e;if((e=this.nanoscroller)||(d=a.extend({},w,b),this.nanoscroller=e=new o(this,d)),b&&"object"==typeof b){if(a.extend(e.options,b),b.scrollBottom)return e.scrollBottom(b.scrollBottom);
if(b.scrollTop)return e.scrollTop(b.scrollTop);if(b.scrollTo)return e.scrollTo(b.scrollTo);if("bottom"===b.scroll)return e.scrollBottom(0);if("top"===b.scroll)return e.scrollTop(0);if(b.scroll&&b.scroll instanceof a)return e.scrollTo(b.scroll);if(b.stop)return e.stop();if(b.flash)return e.flash();b.noReset&&(c=!1)}return c?e.reset():void 0})}}(jQuery,window,document),function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=null!=e?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return a>b?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{if(d=b.css(c).toLowerCase(),""!=d&&"transparent"!=d)break;b=b.parent()}while(b.length&&!a.nodeName(b.get(0),"body"));return"rgba(0, 0, 0, 0)"==d&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return"transparent"==f?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function b(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");d=window.G_vmlCanvasManager.initElement(d)}this.element=d;var e=this.context=d.getContext("2d"),f=window.devicePixelRatio||1,g=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=f/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}function c(c,e,f,g){function h(a,b){b=[qb].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function i(){for(var c={Canvas:b},d=0;d<g.length;++d){var e=g[d];e.init(qb,c),e.options&&a.extend(!0,eb,e.options)}}function j(b){a.extend(!0,eb,b),b&&b.colors&&(eb.colors=b.colors),null==eb.xaxis.color&&(eb.xaxis.color=a.color.parse(eb.grid.color).scale("a",.22).toString()),null==eb.yaxis.color&&(eb.yaxis.color=a.color.parse(eb.grid.color).scale("a",.22).toString()),null==eb.xaxis.tickColor&&(eb.xaxis.tickColor=eb.grid.tickColor||eb.xaxis.color),null==eb.yaxis.tickColor&&(eb.yaxis.tickColor=eb.grid.tickColor||eb.yaxis.color),null==eb.grid.borderColor&&(eb.grid.borderColor=eb.grid.color),null==eb.grid.tickColor&&(eb.grid.tickColor=a.color.parse(eb.grid.color).scale("a",.22).toString());var d,e,f,g=c.css("font-size"),i=g?+g.replace("px",""):13,j={style:c.css("font-style"),size:Math.round(.8*i),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};for(f=eb.xaxes.length||1,d=0;f>d;++d)e=eb.xaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},eb.xaxis,e),eb.xaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(f=eb.yaxes.length||1,d=0;f>d;++d)e=eb.yaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},eb.yaxis,e),eb.yaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(eb.xaxis.noTicks&&null==eb.xaxis.ticks&&(eb.xaxis.ticks=eb.xaxis.noTicks),eb.yaxis.noTicks&&null==eb.yaxis.ticks&&(eb.yaxis.ticks=eb.yaxis.noTicks),eb.x2axis&&(eb.xaxes[1]=a.extend(!0,{},eb.xaxis,eb.x2axis),eb.xaxes[1].position="top"),eb.y2axis&&(eb.yaxes[1]=a.extend(!0,{},eb.yaxis,eb.y2axis),eb.yaxes[1].position="right"),eb.grid.coloredAreas&&(eb.grid.markings=eb.grid.coloredAreas),eb.grid.coloredAreasColor&&(eb.grid.markingsColor=eb.grid.coloredAreasColor),eb.lines&&a.extend(!0,eb.series.lines,eb.lines),eb.points&&a.extend(!0,eb.series.points,eb.points),eb.bars&&a.extend(!0,eb.series.bars,eb.bars),null!=eb.shadowSize&&(eb.series.shadowSize=eb.shadowSize),null!=eb.highlightColor&&(eb.series.highlightColor=eb.highlightColor),d=0;d<eb.xaxes.length;++d)q(kb,d+1).options=eb.xaxes[d];for(d=0;d<eb.yaxes.length;++d)q(lb,d+1).options=eb.yaxes[d];for(var k in pb)eb.hooks[k]&&eb.hooks[k].length&&(pb[k]=pb[k].concat(eb.hooks[k]));h(pb.processOptions,[eb])}function k(a){db=l(a),r(),s()}function l(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},eb.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function m(a,b){var c=a[b+"axis"];return"object"==typeof c&&(c=c.n),"number"!=typeof c&&(c=1),c}function n(){return a.grep(kb.concat(lb),function(a){return a})}function o(a){var b,c,d={};for(b=0;b<kb.length;++b)c=kb[b],c&&c.used&&(d["x"+c.n]=c.c2p(a.left));for(b=0;b<lb.length;++b)c=lb[b],c&&c.used&&(d["y"+c.n]=c.c2p(a.top));return void 0!==d.x1&&(d.x=d.x1),void 0!==d.y1&&(d.y=d.y1),d}function p(a){var b,c,d,e={};for(b=0;b<kb.length;++b)if(c=kb[b],c&&c.used&&(d="x"+c.n,null==a[d]&&1==c.n&&(d="x"),null!=a[d])){e.left=c.p2c(a[d]);break}for(b=0;b<lb.length;++b)if(c=lb[b],c&&c.used&&(d="y"+c.n,null==a[d]&&1==c.n&&(d="y"),null!=a[d])){e.top=c.p2c(a[d]);break}return e}function q(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==kb?"x":"y",options:a.extend(!0,{},b==kb?eb.xaxis:eb.yaxis)}),b[c-1]}function r(){var b,c=db.length,d=-1;for(b=0;b<db.length;++b){var e=db[b].color;null!=e&&(c--,"number"==typeof e&&e>d&&(d=e))}d>=c&&(c=d+1);var f,g=[],h=eb.colors,i=h.length,j=0;for(b=0;c>b;b++)f=a.color.parse(h[b%i]||"#666"),b%i==0&&b&&(j=j>=0?.5>j?-j-.2:0:-j),g[b]=f.scale("rgb",1+j);var k,l=0;for(b=0;b<db.length;++b){if(k=db[b],null==k.color?(k.color=g[l].toString(),++l):"number"==typeof k.color&&(k.color=g[k.color].toString()),null==k.lines.show){var n,o=!0;for(n in k)if(k[n]&&k[n].show){o=!1;break}o&&(k.lines.show=!0)}null==k.lines.zero&&(k.lines.zero=!!k.lines.fill),k.xaxis=q(kb,m(k,"x")),k.yaxis=q(lb,m(k,"y"))}}function s(){function b(a,b,c){b<a.datamin&&b!=-s&&(a.datamin=b),c>a.datamax&&c!=s&&(a.datamax=c)}var c,d,e,f,g,i,j,k,l,m,o,p,q=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=Number.MAX_VALUE;for(a.each(n(),function(a,b){b.datamin=q,b.datamax=r,b.used=!1}),c=0;c<db.length;++c)g=db[c],g.datapoints={points:[]},h(pb.processRawData,[g,g.data,g.datapoints]);for(c=0;c<db.length;++c){if(g=db[c],o=g.data,p=g.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),g.bars.show||g.lines.show&&g.lines.fill){var t=!!(g.bars.show&&g.bars.zero||g.lines.show&&g.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:t}),g.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}g.datapoints.format=p}if(null==g.datapoints.pointsize){g.datapoints.pointsize=p.length,j=g.datapoints.pointsize,i=g.datapoints.points;var u=g.lines.show&&g.lines.steps;for(g.xaxis.used=g.yaxis.used=!0,d=e=0;d<o.length;++d,e+=j){m=o[d];var v=null==m;if(!v)for(f=0;j>f;++f)k=m[f],l=p[f],l&&(l.number&&null!=k&&(k=+k,isNaN(k)?k=null:1/0==k?k=s:k==-1/0&&(k=-s)),null==k&&(l.required&&(v=!0),null!=l.defaultValue&&(k=l.defaultValue))),i[e+f]=k;if(v)for(f=0;j>f;++f)k=i[e+f],null!=k&&(l=p[f],l.autoscale!==!1&&(l.x&&b(g.xaxis,k,k),l.y&&b(g.yaxis,k,k))),i[e+f]=null;else if(u&&e>0&&null!=i[e-j]&&i[e-j]!=i[e]&&i[e-j+1]!=i[e+1]){for(f=0;j>f;++f)i[e+j+f]=i[e+f];i[e+1]=i[e-j+1],e+=j}}}}for(c=0;c<db.length;++c)g=db[c],h(pb.processDatapoints,[g,g.datapoints]);for(c=0;c<db.length;++c){g=db[c],i=g.datapoints.points,j=g.datapoints.pointsize,p=g.datapoints.format;var w=q,x=q,y=r,z=r;for(d=0;d<i.length;d+=j)if(null!=i[d])for(f=0;j>f;++f)k=i[d+f],l=p[f],l&&l.autoscale!==!1&&k!=s&&k!=-s&&(l.x&&(w>k&&(w=k),k>y&&(y=k)),l.y&&(x>k&&(x=k),k>z&&(z=k)));if(g.bars.show){var A;switch(g.bars.align){case"left":A=0;break;case"right":A=-g.bars.barWidth;break;default:A=-g.bars.barWidth/2}g.bars.horizontal?(x+=A,z+=A+g.bars.barWidth):(w+=A,y+=A+g.bars.barWidth)}b(g.xaxis,w,y),b(g.yaxis,x,z)}a.each(n(),function(a,b){b.datamin==q&&(b.datamin=null),b.datamax==r&&(b.datamax=null)})}function t(){c.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove(),"static"==c.css("position")&&c.css("position","relative"),fb=new b("flot-base",c),gb=new b("flot-overlay",c),ib=fb.context,jb=gb.context,hb=a(gb.element).unbind();var d=c.data("plot");d&&(d.shutdown(),gb.clear()),c.data("plot",qb)}function u(){eb.grid.hoverable&&(hb.mousemove(T),hb.bind("mouseleave",U)),eb.grid.clickable&&hb.click(V),h(pb.bindEvents,[hb])}function v(){sb&&clearTimeout(sb),hb.unbind("mousemove",T),hb.unbind("mouseleave",U),hb.unbind("click",V),h(pb.shutdown,[hb])}function w(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=nb/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=ob/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),a.p2c=e==b?function(a){return(a-d)*c}:function(a){return(e(a)-d)*c},a.c2p=f?function(a){return f(d+a/c)}:function(a){return d+a/c}}function x(a){for(var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=d||("x"==a.direction?Math.floor(fb.width/(c.length||1)):null),g=a.direction+"Axis "+a.direction+a.n+"Axis",h="flot-"+a.direction+"-axis flot-"+a.direction+a.n+"-axis "+g,i=b.font||"flot-tick-label tickLabel",j=0;j<c.length;++j){var k=c[j];if(k.label){var l=fb.getTextInfo(h,k.label,i,null,f);d=Math.max(d,l.width),e=Math.max(e,l.height)}}a.labelWidth=b.labelWidth||d,a.labelHeight=b.labelHeight||e}function y(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,g=b.options.tickLength,h=eb.grid.axisMargin,i=eb.grid.labelMargin,j=!0,k=!0,l=!0,m=!1;a.each(f?kb:lb,function(a,c){c&&c.reserveSpace&&(c===b?m=!0:c.options.position===e&&(m?k=!1:j=!1),m||(l=!1))}),k&&(h=0),null==g&&(g=l?"full":5),isNaN(+g)||(i+=+g),f?(d+=i,"bottom"==e?(mb.bottom+=d+h,b.box={top:fb.height-mb.bottom,height:d}):(b.box={top:mb.top+h,height:d},mb.top+=d+h)):(c+=i,"left"==e?(b.box={left:mb.left+h,width:c},mb.left+=c+h):(mb.right+=c+h,b.box={left:fb.width-mb.right,width:c})),b.position=e,b.tickLength=g,b.box.padding=i,b.innermost=j}function z(a){"x"==a.direction?(a.box.left=mb.left-a.labelWidth/2,a.box.width=fb.width-mb.left-mb.right+a.labelWidth):(a.box.top=mb.top-a.labelHeight/2,a.box.height=fb.height-mb.bottom-mb.top+a.labelHeight)}function A(){var b,c=eb.grid.minBorderMargin;if(null==c)for(c=0,b=0;b<db.length;++b)c=Math.max(c,2*(db[b].points.radius+db[b].points.lineWidth/2));var d={left:c,right:c,top:c,bottom:c};a.each(n(),function(a,b){if(b.reserveSpace&&b.ticks&&b.ticks.length){var c=b.ticks[b.ticks.length-1];"x"===b.direction?(d.left=Math.max(d.left,b.labelWidth/2),c.v<=b.max&&(d.right=Math.max(d.right,b.labelWidth/2))):(d.bottom=Math.max(d.bottom,b.labelHeight/2),c.v<=b.max&&(d.top=Math.max(d.top,b.labelHeight/2)))}}),mb.left=Math.ceil(Math.max(d.left,mb.left)),mb.right=Math.ceil(Math.max(d.right,mb.right)),mb.top=Math.ceil(Math.max(d.top,mb.top)),mb.bottom=Math.ceil(Math.max(d.bottom,mb.bottom))}function B(){var b,c=n(),d=eb.grid.show;for(var e in mb){var f=eb.grid.margin||0;mb[e]="number"==typeof f?f:f[e]||0}h(pb.processOffset,[mb]);for(var e in mb)mb[e]+="object"==typeof eb.grid.borderWidth?d?eb.grid.borderWidth[e]:0:d?eb.grid.borderWidth:0;if(a.each(c,function(a,b){b.show=b.options.show,null==b.show&&(b.show=b.used),b.reserveSpace=b.show||b.options.reserveSpace,C(b)}),d){var g=a.grep(c,function(a){return a.reserveSpace});for(a.each(g,function(a,b){D(b),E(b),F(b,b.ticks),x(b)}),b=g.length-1;b>=0;--b)y(g[b]);A(),a.each(g,function(a,b){z(b)})}nb=fb.width-mb.left-mb.right,ob=fb.height-mb.bottom-mb.top,a.each(c,function(a,b){w(b)}),d&&K(),R()}function C(a){var b=a.options,c=+(null!=b.min?b.min:a.datamin),d=+(null!=b.max?b.max:a.datamax),e=d-c;if(0==e){var f=0==d?1:.01;null==b.min&&(c-=f),(null==b.max||null!=b.min)&&(d+=f)}else{var g=b.autoscaleMargin;null!=g&&(null==b.min&&(c-=e*g,0>c&&null!=a.datamin&&a.datamin>=0&&(c=0)),null==b.max&&(d+=e*g,d>0&&null!=a.datamax&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function D(b){var c,e=b.options;c="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==b.direction?fb.width:fb.height);var f=(b.max-b.min)/c,g=-Math.floor(Math.log(f)/Math.LN10),h=e.tickDecimals;null!=h&&g>h&&(g=h);var i,j=Math.pow(10,-g),k=f/j;if(1.5>k?i=1:3>k?(i=2,k>2.25&&(null==h||h>=g+1)&&(i=2.5,++g)):i=7.5>k?5:10,i*=j,null!=e.minTickSize&&i<e.minTickSize&&(i=e.minTickSize),b.delta=f,b.tickDecimals=Math.max(0,null!=h?h:g),b.tickSize=e.tickSize||i,"time"==e.mode&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(b.tickGenerator||(b.tickGenerator=function(a){var b,c=[],e=d(a.min,a.tickSize),f=0,g=Number.NaN;do b=g,g=e+f*a.tickSize,c.push(g),++f;while(g<a.max&&g!=b);return c},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),f=-1==e?0:d.length-e-1;if(f<b.tickDecimals)return(f?d:d+".")+(""+c).substr(1,b.tickDecimals-f)}return d}),a.isFunction(e.tickFormatter)&&(b.tickFormatter=function(a,b){return""+e.tickFormatter(a,b)}),null!=e.alignTicksWithAxis){var l=("x"==b.direction?kb:lb)[e.alignTicksWithAxis-1];if(l&&l.used&&l!=b){var m=b.tickGenerator(b);if(m.length>0&&(null==e.min&&(b.min=Math.min(b.min,m[0])),null==e.max&&m.length>1&&(b.max=Math.max(b.max,m[m.length-1]))),b.tickGenerator=function(a){var b,c,d=[];for(c=0;c<l.ticks.length;++c)b=(l.ticks[c].v-l.min)/(l.max-l.min),b=a.min+b*(a.max-a.min),d.push(b);return d},!b.mode&&null==e.tickDecimals){var n=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),o=b.tickGenerator(b);o.length>1&&/\..*0$/.test((o[1]-o[0]).toFixed(n))||(b.tickDecimals=n)}}}}function E(b){var c=b.options.ticks,d=[];null==c||"number"==typeof c&&c>0?d=b.tickGenerator(b):c&&(d=a.isFunction(c)?c(b):c);var e,f;for(b.ticks=[],e=0;e<d.length;++e){var g=null,h=d[e];"object"==typeof h?(f=+h[0],h.length>1&&(g=h[1])):f=+h,null==g&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function F(a,b){a.options.autoscaleMargin&&b.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function G(){fb.clear(),h(pb.drawBackground,[ib]);var a=eb.grid;a.show&&a.backgroundColor&&I(),a.show&&!a.aboveData&&J();for(var b=0;b<db.length;++b)h(pb.drawSeries,[ib,db[b]]),L(db[b]);h(pb.draw,[ib]),a.show&&a.aboveData&&J(),fb.render(),X()}function H(a,b){for(var c,d,e,f,g=n(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from,e=a[f].to;break}if(a[f]||(c="x"==b?kb[0]:lb[0],d=a[b+"1"],e=a[b+"2"]),null!=d&&null!=e&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function I(){ib.save(),ib.translate(mb.left,mb.top),ib.fillStyle=cb(eb.grid.backgroundColor,ob,0,"rgba(255, 255, 255, 0)"),ib.fillRect(0,0,nb,ob),ib.restore()}function J(){var b,c,d,e;ib.save(),ib.translate(mb.left,mb.top);var f=eb.grid.markings;if(f)for(a.isFunction(f)&&(c=qb.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,f=f(c)),b=0;b<f.length;++b){var g=f[b],h=H(g,"x"),i=H(g,"y");null==h.from&&(h.from=h.axis.min),null==h.to&&(h.to=h.axis.max),null==i.from&&(i.from=i.axis.min),null==i.to&&(i.to=i.axis.max),h.to<h.axis.min||h.from>h.axis.max||i.to<i.axis.min||i.from>i.axis.max||(h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max),(h.from!=h.to||i.from!=i.to)&&(h.from=h.axis.p2c(h.from),h.to=h.axis.p2c(h.to),i.from=i.axis.p2c(i.from),i.to=i.axis.p2c(i.to),h.from==h.to||i.from==i.to?(ib.beginPath(),ib.strokeStyle=g.color||eb.grid.markingsColor,ib.lineWidth=g.lineWidth||eb.grid.markingsLineWidth,ib.moveTo(h.from,i.from),ib.lineTo(h.to,i.to),ib.stroke()):(ib.fillStyle=g.color||eb.grid.markingsColor,ib.fillRect(h.from,i.to,h.to-h.from,i.from-i.to))))}c=n(),d=eb.grid.borderWidth;for(var j=0;j<c.length;++j){var k,l,m,o,p=c[j],q=p.box,r=p.tickLength;if(p.show&&0!=p.ticks.length){for(ib.lineWidth=1,"x"==p.direction?(k=0,l="full"==r?"top"==p.position?0:ob:q.top-mb.top+("top"==p.position?q.height:0)):(l=0,k="full"==r?"left"==p.position?0:nb:q.left-mb.left+("left"==p.position?q.width:0)),p.innermost||(ib.strokeStyle=p.options.color,ib.beginPath(),m=o=0,"x"==p.direction?m=nb+1:o=ob+1,1==ib.lineWidth&&("x"==p.direction?l=Math.floor(l)+.5:k=Math.floor(k)+.5),ib.moveTo(k,l),ib.lineTo(k+m,l+o),ib.stroke()),ib.strokeStyle=p.options.tickColor,ib.beginPath(),b=0;b<p.ticks.length;++b){var s=p.ticks[b].v;m=o=0,isNaN(s)||s<p.min||s>p.max||"full"==r&&("object"==typeof d&&d[p.position]>0||d>0)&&(s==p.min||s==p.max)||("x"==p.direction?(k=p.p2c(s),o="full"==r?-ob:r,"top"==p.position&&(o=-o)):(l=p.p2c(s),m="full"==r?-nb:r,"left"==p.position&&(m=-m)),1==ib.lineWidth&&("x"==p.direction?k=Math.floor(k)+.5:l=Math.floor(l)+.5),ib.moveTo(k,l),ib.lineTo(k+m,l+o))}ib.stroke()}}d&&(e=eb.grid.borderColor,"object"==typeof d||"object"==typeof e?("object"!=typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),d.top>0&&(ib.strokeStyle=e.top,ib.lineWidth=d.top,ib.beginPath(),ib.moveTo(0-d.left,0-d.top/2),ib.lineTo(nb,0-d.top/2),ib.stroke()),d.right>0&&(ib.strokeStyle=e.right,ib.lineWidth=d.right,ib.beginPath(),ib.moveTo(nb+d.right/2,0-d.top),ib.lineTo(nb+d.right/2,ob),ib.stroke()),d.bottom>0&&(ib.strokeStyle=e.bottom,ib.lineWidth=d.bottom,ib.beginPath(),ib.moveTo(nb+d.right,ob+d.bottom/2),ib.lineTo(0,ob+d.bottom/2),ib.stroke()),d.left>0&&(ib.strokeStyle=e.left,ib.lineWidth=d.left,ib.beginPath(),ib.moveTo(0-d.left/2,ob+d.bottom),ib.lineTo(0-d.left/2,0),ib.stroke())):(ib.lineWidth=d,ib.strokeStyle=eb.grid.borderColor,ib.strokeRect(-d/2,-d/2,nb+d,ob+d))),ib.restore()}function K(){a.each(n(),function(a,b){var c,d,e,f,g,h=b.box,i=b.direction+"Axis "+b.direction+b.n+"Axis",j="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+i,k=b.options.font||"flot-tick-label tickLabel";if(fb.removeText(j),b.show&&0!=b.ticks.length)for(var l=0;l<b.ticks.length;++l)c=b.ticks[l],!c.label||c.v<b.min||c.v>b.max||("x"==b.direction?(f="center",d=mb.left+b.p2c(c.v),"bottom"==b.position?e=h.top+h.padding:(e=h.top+h.height-h.padding,g="bottom")):(g="middle",e=mb.top+b.p2c(c.v),"left"==b.position?(d=h.left+h.width-h.padding,f="right"):d=h.left+h.padding),fb.addText(j,d,e,c.label,k,null,null,f,g))})}function L(a){a.lines.show&&M(a),a.bars.show&&P(a),a.points.show&&N(a)}function M(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;ib.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],m=f[j],n=f[j+1];if(null!=k&&null!=m){if(n>=l&&l<e.min){if(n<e.min)continue;k=(e.min-l)/(n-l)*(m-k)+k,l=e.min}else if(l>=n&&n<e.min){if(l<e.min)continue;m=(e.min-l)/(n-l)*(m-k)+k,n=e.min}if(l>=n&&l>e.max){if(n>e.max)continue;k=(e.max-l)/(n-l)*(m-k)+k,l=e.max}else if(n>=l&&n>e.max){if(l>e.max)continue;m=(e.max-l)/(n-l)*(m-k)+k,n=e.max}if(m>=k&&k<d.min){if(m<d.min)continue;l=(d.min-k)/(m-k)*(n-l)+l,k=d.min}else if(k>=m&&m<d.min){if(k<d.min)continue;n=(d.min-k)/(m-k)*(n-l)+l,m=d.min}if(k>=m&&k>d.max){if(m>d.max)continue;l=(d.max-k)/(m-k)*(n-l)+l,k=d.max}else if(m>=k&&m>d.max){if(k>d.max)continue;n=(d.max-k)/(m-k)*(n-l)+l,m=d.max}(k!=h||l!=i)&&ib.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=m,i=n,ib.lineTo(d.p2c(m)+b,e.p2c(n)+c)}}ib.stroke()}function c(a,b,c){for(var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,h=!1,i=1,j=0,k=0;;){if(e>0&&g>d.length+e)break;g+=e;var l=d[g-e],m=d[g-e+i],n=d[g],o=d[g+i];if(h){if(e>0&&null!=l&&null==n){k=g,e=-e,i=2;continue}if(0>e&&g==j+e){ib.fill(),h=!1,e=-e,i=1,g=j=k+e;continue}}if(null!=l&&null!=n){if(n>=l&&l<b.min){if(n<b.min)continue;m=(b.min-l)/(n-l)*(o-m)+m,l=b.min}else if(l>=n&&n<b.min){if(l<b.min)continue;o=(b.min-l)/(n-l)*(o-m)+m,n=b.min}if(l>=n&&l>b.max){if(n>b.max)continue;m=(b.max-l)/(n-l)*(o-m)+m,l=b.max}else if(n>=l&&n>b.max){if(l>b.max)continue;o=(b.max-l)/(n-l)*(o-m)+m,n=b.max}if(h||(ib.beginPath(),ib.moveTo(b.p2c(l),c.p2c(f)),h=!0),m>=c.max&&o>=c.max)ib.lineTo(b.p2c(l),c.p2c(c.max)),ib.lineTo(b.p2c(n),c.p2c(c.max));else if(m<=c.min&&o<=c.min)ib.lineTo(b.p2c(l),c.p2c(c.min)),ib.lineTo(b.p2c(n),c.p2c(c.min));else{var p=l,q=n;o>=m&&m<c.min&&o>=c.min?(l=(c.min-m)/(o-m)*(n-l)+l,m=c.min):m>=o&&o<c.min&&m>=c.min&&(n=(c.min-m)/(o-m)*(n-l)+l,o=c.min),m>=o&&m>c.max&&o<=c.max?(l=(c.max-m)/(o-m)*(n-l)+l,m=c.max):o>=m&&o>c.max&&m<=c.max&&(n=(c.max-m)/(o-m)*(n-l)+l,o=c.max),l!=p&&ib.lineTo(b.p2c(p),c.p2c(m)),ib.lineTo(b.p2c(l),c.p2c(m)),ib.lineTo(b.p2c(n),c.p2c(o)),n!=q&&(ib.lineTo(b.p2c(n),c.p2c(o)),ib.lineTo(b.p2c(q),c.p2c(o)))}}}}ib.save(),ib.translate(mb.left,mb.top),ib.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){ib.lineWidth=e,ib.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),ib.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}ib.lineWidth=d,ib.strokeStyle=a.color;var g=Q(a.lines,a.color,0,ob);g&&(ib.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),ib.restore()}function N(a){function b(a,b,c,d,e,f,g,h){for(var i=a.points,j=a.pointsize,k=0;k<i.length;k+=j){var l=i[k],m=i[k+1];null==l||l<f.min||l>f.max||m<g.min||m>g.max||(ib.beginPath(),l=f.p2c(l),m=g.p2c(m)+d,"circle"==h?ib.arc(l,m,b,0,e?Math.PI:2*Math.PI,!1):h(ib,l,m,b,e),ib.closePath(),c&&(ib.fillStyle=c,ib.fill()),ib.stroke())}}ib.save(),ib.translate(mb.left,mb.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(0==c&&(c=1e-4),c>0&&d>0){var g=d/2;ib.lineWidth=g,ib.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),ib.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}ib.lineWidth=c,ib.strokeStyle=a.color,b(a.datapoints,e,Q(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),ib.restore()}function O(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;j?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,l>m&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,o=b,n>o&&(t=o,o=n,n=t,s=!0,r=!1)),m<g.min||l>g.max||o<h.min||n>h.max||(l<g.min&&(l=g.min,p=!1),m>g.max&&(m=g.max,q=!1),n<h.min&&(n=h.min,s=!1),o>h.max&&(o=h.max,r=!1),l=g.p2c(l),n=h.p2c(n),m=g.p2c(m),o=h.p2c(o),f&&(i.fillStyle=f(n,o),i.fillRect(l,o,m-l,n-o)),k>0&&(p||q||r||s)&&(i.beginPath(),i.moveTo(l,n),p?i.lineTo(l,o):i.moveTo(l,o),r?i.lineTo(m,o):i.moveTo(m,o),q?i.lineTo(m,n):i.moveTo(m,n),s?i.lineTo(l,n):i.moveTo(l,n),i.stroke()))}function P(a){function b(b,c,d,e,f,g){for(var h=b.points,i=b.pointsize,j=0;j<h.length;j+=i)null!=h[j]&&O(h[j],h[j+1],h[j+2],c,d,e,f,g,ib,a.bars.horizontal,a.bars.lineWidth)}ib.save(),ib.translate(mb.left,mb.top),ib.lineWidth=a.bars.lineWidth,ib.strokeStyle=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;default:c=-a.bars.barWidth/2}var d=a.bars.fill?function(b,c){return Q(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,d,a.xaxis,a.yaxis),ib.restore()}function Q(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return cb(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a="number"==typeof f?f:.4,g.normalize(),g.toString()}function R(){if(null!=eb.legend.container?a(eb.legend.container).html(""):c.find(".legend").remove(),eb.legend.show){for(var b,d,e=[],f=[],g=!1,h=eb.legend.labelFormatter,i=0;i<db.length;++i)b=db[i],b.label&&(d=h?h(b.label,b):b.label,d&&f.push({label:d,color:b.color}));if(eb.legend.sorted)if(a.isFunction(eb.legend.sorted))f.sort(eb.legend.sorted);else if("reverse"==eb.legend.sorted)f.reverse();else{var j="descending"!=eb.legend.sorted;f.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=j?1:-1})}for(var i=0;i<f.length;++i){var k=f[i];i%eb.legend.noColumns==0&&(g&&e.push("</tr>"),e.push("<tr>"),g=!0),e.push('<td class="legendColorBox"><div style="border:1px solid '+eb.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+k.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+k.label+"</td>")}if(g&&e.push("</tr>"),0!=e.length){var l='<table style="font-size:smaller;color:'+eb.grid.color+'">'+e.join("")+"</table>";if(null!=eb.legend.container)a(eb.legend.container).html(l);else{var m="",n=eb.legend.position,o=eb.legend.margin;null==o[0]&&(o=[o,o]),"n"==n.charAt(0)?m+="top:"+(o[1]+mb.top)+"px;":"s"==n.charAt(0)&&(m+="bottom:"+(o[1]+mb.bottom)+"px;"),"e"==n.charAt(1)?m+="right:"+(o[0]+mb.right)+"px;":"w"==n.charAt(1)&&(m+="left:"+(o[0]+mb.left)+"px;");var p=a('<div class="legend">'+l.replace('style="','style="position:absolute;'+m+";")+"</div>").appendTo(c);if(0!=eb.legend.backgroundOpacity){var q=eb.legend.backgroundColor;null==q&&(q=eb.grid.backgroundColor,q=q&&"string"==typeof q?a.color.parse(q):a.color.extract(p,"background-color"),q.a=1,q=q.toString());var r=p.children();a('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+m+"background-color:"+q+';"> </div>').prependTo(p).css("opacity",eb.legend.backgroundOpacity)}}}}}function S(a,b,c){var d,e,f,g=eb.grid.mouseActiveRadius,h=g*g+1,i=null;for(d=db.length-1;d>=0;--d)if(c(db[d])){var j=db[d],k=j.xaxis,l=j.yaxis,m=j.datapoints.points,n=k.c2p(a),o=l.c2p(b),p=g/k.scale,q=g/l.scale;if(f=j.datapoints.pointsize,k.options.inverseTransform&&(p=Number.MAX_VALUE),l.options.inverseTransform&&(q=Number.MAX_VALUE),j.lines.show||j.points.show)for(e=0;e<m.length;e+=f){var r=m[e],s=m[e+1];if(null!=r&&!(r-n>p||-p>r-n||s-o>q||-q>s-o)){var t=Math.abs(k.p2c(r)-a),u=Math.abs(l.p2c(s)-b),v=t*t+u*u;h>v&&(h=v,i=[d,e/f])}}if(j.bars.show&&!i){var w,x;switch(j.bars.align){case"left":w=0;break;case"right":w=-j.bars.barWidth;break;default:w=-j.bars.barWidth/2}for(x=w+j.bars.barWidth,e=0;e<m.length;e+=f){var r=m[e],s=m[e+1],y=m[e+2];null!=r&&(db[d].bars.horizontal?n<=Math.max(y,r)&&n>=Math.min(y,r)&&o>=s+w&&s+x>=o:n>=r+w&&r+x>=n&&o>=Math.min(y,s)&&o<=Math.max(y,s))&&(i=[d,e/f])}}}return i?(d=i[0],e=i[1],f=db[d].datapoints.pointsize,{datapoint:db[d].datapoints.points.slice(e*f,(e+1)*f),dataIndex:e,series:db[d],seriesIndex:d}):null}function T(a){eb.grid.hoverable&&W("plothover",a,function(a){return 0!=a.hoverable})}function U(a){eb.grid.hoverable&&W("plothover",a,function(){return!1})}function V(a){W("plotclick",a,function(a){return 0!=a.clickable})}function W(a,b,d){var e=hb.offset(),f=b.pageX-e.left-mb.left,g=b.pageY-e.top-mb.top,h=o({left:f,top:g});h.pageX=b.pageX,h.pageY=b.pageY;var i=S(f,g,d);if(i&&(i.pageX=parseInt(i.series.xaxis.p2c(i.datapoint[0])+e.left+mb.left,10),i.pageY=parseInt(i.series.yaxis.p2c(i.datapoint[1])+e.top+mb.top,10)),eb.grid.autoHighlight){for(var j=0;j<rb.length;++j){var k=rb[j];k.auto!=a||i&&k.series==i.series&&k.point[0]==i.datapoint[0]&&k.point[1]==i.datapoint[1]||$(k.series,k.point)}i&&Z(i.series,i.datapoint,a)}c.trigger(a,[h,i])}function X(){var a=eb.interaction.redrawOverlayInterval;return-1==a?void Y():void(sb||(sb=setTimeout(Y,a)))}function Y(){sb=null,jb.save(),gb.clear(),jb.translate(mb.left,mb.top);var a,b;for(a=0;a<rb.length;++a)b=rb[a],b.series.bars.show?bb(b.series,b.point):ab(b.series,b.point);jb.restore(),h(pb.drawOverlay,[jb])}function Z(a,b,c){if("number"==typeof a&&(a=db[a]),"number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=_(a,b);-1==e?(rb.push({series:a,point:b,auto:c}),X()):c||(rb[e].auto=!1)}function $(a,b){if(null==a&&null==b)return rb=[],void X();if("number"==typeof a&&(a=db[a]),"number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}var d=_(a,b);-1!=d&&(rb.splice(d,1),X())}function _(a,b){for(var c=0;c<rb.length;++c){var d=rb[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function ab(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis,h="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var i=b.points.radius+b.points.lineWidth/2;jb.lineWidth=i,jb.strokeStyle=h;var j=1.5*i;d=f.p2c(d),e=g.p2c(e),jb.beginPath(),"circle"==b.points.symbol?jb.arc(d,e,j,0,2*Math.PI,!1):b.points.symbol(jb,d,e,j,!1),jb.closePath(),jb.stroke()}}function bb(b,c){var d,e="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),f=e;switch(b.bars.align){case"left":d=0;break;case"right":d=-b.bars.barWidth;break;default:d=-b.bars.barWidth/2}jb.lineWidth=b.bars.lineWidth,jb.strokeStyle=e,O(c[0],c[1],c[2]||0,d,d+b.bars.barWidth,function(){return f},b.xaxis,b.yaxis,jb,b.bars.horizontal,b.bars.lineWidth)}function cb(b,c,d,e){if("string"==typeof b)return b;for(var f=ib.createLinearGradient(0,d,0,c),g=0,h=b.colors.length;h>g;++g){var i=b.colors[g];if("string"!=typeof i){var j=a.color.parse(e);null!=i.brightness&&(j=j.scale("rgb",i.brightness)),null!=i.opacity&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var db=[],eb={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},fb=null,gb=null,hb=null,ib=null,jb=null,kb=[],lb=[],mb={left:0,right:0,top:0,bottom:0},nb=0,ob=0,pb={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},qb=this;
qb.setData=k,qb.setupGrid=B,qb.draw=G,qb.getPlaceholder=function(){return c},qb.getCanvas=function(){return fb.element},qb.getPlotOffset=function(){return mb},qb.width=function(){return nb},qb.height=function(){return ob},qb.offset=function(){var a=hb.offset();return a.left+=mb.left,a.top+=mb.top,a},qb.getData=function(){return db},qb.getAxes=function(){var b={};return a.each(kb.concat(lb),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)}),b},qb.getXAxes=function(){return kb},qb.getYAxes=function(){return lb},qb.c2p=o,qb.p2c=p,qb.getOptions=function(){return eb},qb.highlight=Z,qb.unhighlight=$,qb.triggerRedrawOverlay=X,qb.pointOffset=function(a){return{left:parseInt(kb[m(a,"x")-1].p2c(+a.x)+mb.left,10),top:parseInt(lb[m(a,"y")-1].p2c(+a.y)+mb.top,10)}},qb.shutdown=v,qb.destroy=function(){v(),c.removeData("plot").empty(),db=[],eb=null,fb=null,gb=null,hb=null,ib=null,jb=null,kb=[],lb=[],pb=null,rb=[],qb=null},qb.resize=function(){var a=c.width(),b=c.height();fb.resize(a,b),gb.resize(a,b)},qb.hooks=pb,i(qb),j(f),t(),k(e),B(),G(),u();var rb=[],sb=null}function d(a,b){return b*Math.floor(a/b)}var e=Object.prototype.hasOwnProperty;b.prototype.resize=function(a,b){if(0>=a||0>=b)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,e=this.pixelRatio;this.width!=a&&(c.width=a*e,c.style.width=a+"px",this.width=a),this.height!=b&&(c.height=b*e,c.style.height=b+"px",this.height=b),d.restore(),d.save(),d.scale(e,e)},b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},b.prototype.render=function(){var a=this._textCache;for(var b in a)if(e.call(a,b)){var c=this.getTextLayer(b),d=a[b];c.hide();for(var f in d)if(e.call(d,f)){var g=d[f];for(var h in g)if(e.call(g,h)){for(var i,j=g[h].positions,k=0;i=j[k];k++)i.active?i.rendered||(c.append(i.element),i.rendered=!0):(j.splice(k--,1),i.rendered&&i.element.detach());0==j.length&&delete g[h]}}c.show()}},b.prototype.getTextLayer=function(b){var c=this.text[b];return null==c&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},b.prototype.getTextInfo=function(b,c,d,e,f){var g,h,i,j;if(c=""+c,g="object"==typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d,h=this._textCache[b],null==h&&(h=this._textCache[b]={}),i=h[g],null==i&&(i=h[g]={}),j=i[c],null==j){var k=a("<div></div>").html(c).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(b));"object"==typeof d?k.css({font:g,color:d.color}):"string"==typeof d&&k.addClass(d),j=i[c]={width:k.outerWidth(!0),height:k.outerHeight(!0),element:k,positions:[]},k.detach()}return j},b.prototype.addText=function(a,b,c,d,e,f,g,h,i){var j=this.getTextInfo(a,d,e,f,g),k=j.positions;"center"==h?b-=j.width/2:"right"==h&&(b-=j.width),"middle"==i?c-=j.height/2:"bottom"==i&&(c-=j.height);for(var l,m=0;l=k[m];m++)if(l.x==b&&l.y==c)return void(l.active=!0);l={active:!0,rendered:!1,element:k.length?j.element.clone():j.element,x:b,y:c},k.push(l),l.element.css({top:Math.round(c),left:Math.round(b),"text-align":h})},b.prototype.removeText=function(a,b,c,d,f,g){if(null==d){var h=this._textCache[a];if(null!=h)for(var i in h)if(e.call(h,i)){var j=h[i];for(var k in j)if(e.call(j,k))for(var l,m=j[k].positions,n=0;l=m[n];n++)l.active=!1}}else for(var l,m=this.getTextInfo(a,d,f,g).positions,n=0;l=m[n];n++)l.x==b&&l.y==c&&(l.active=!1)},a.plot=function(b,d,e){var f=new c(a(b),d,e,a.plot.plugins);return f},a.plot.version="0.8.2",a.plot.plugins=[],a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}}(jQuery),function(a){function b(a,b){return b*Math.floor(a/b)}function c(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){return a=""+a,b=""+(null==b?"0":b),1==a.length?b+a:a},f=[],g=!1,h=a.getHours(),i=12>h;null==c&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==d&&(d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var j;j=h>12?h-12:0==h?12:h;for(var k=0;k<b.length;++k){var l=b.charAt(k);if(g){switch(l){case"a":l=""+d[a.getDay()];break;case"b":l=""+c[a.getMonth()];break;case"d":l=e(a.getDate());break;case"e":l=e(a.getDate()," ");break;case"h":case"H":l=e(h);break;case"I":l=e(j);break;case"l":l=e(j," ");break;case"m":l=e(a.getMonth()+1);break;case"M":l=e(a.getMinutes());break;case"q":l=""+(Math.floor(a.getMonth()/3)+1);break;case"S":l=e(a.getSeconds());break;case"y":l=e(a.getFullYear()%100);break;case"Y":l=""+a.getFullYear();break;case"p":l=i?"am":"pm";break;case"P":l=i?"AM":"PM";break;case"w":l=""+a.getDay()}f.push(l),g=!1}else"%"==l?g=!0:f.push(l)}return f.join("")}function d(a){function b(a,b,c,d){a[b]=function(){return c[d].apply(c,arguments)}}var c={date:a};void 0!=a.strftime&&b(c,"strftime",a,"strftime"),b(c,"getTime",a,"getTime"),b(c,"setTime",a,"setTime");for(var d=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function e(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var c=new timezoneJS.Date;return c.setTimezone(b.timezone),c.setTime(a),c}return d(new Date(a))}return d(new Date(a))}function f(d){d.hooks.processOptions.push(function(d){a.each(d.getAxes(),function(a,d){var f=d.options;"time"==f.mode&&(d.tickGenerator=function(a){var c=[],d=e(a.min,f),g=0,i=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?k:j;null!=f.minTickSize&&(g="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*h[f.minTickSize[1]]);for(var l=0;l<i.length-1&&!(a.delta<(i[l][0]*h[i[l][1]]+i[l+1][0]*h[i[l+1][1]])/2&&i[l][0]*h[i[l][1]]>=g);++l);var m=i[l][0],n=i[l][1];if("year"==n){if(null!=f.minTickSize&&"year"==f.minTickSize[1])m=Math.floor(f.minTickSize[0]);else{var o=Math.pow(10,Math.floor(Math.log(a.delta/h.year)/Math.LN10)),p=a.delta/h.year/o;m=1.5>p?1:3>p?2:7.5>p?5:10,m*=o}1>m&&(m=1)}a.tickSize=f.tickSize||[m,n];var q=a.tickSize[0];n=a.tickSize[1];var r=q*h[n];"second"==n?d.setSeconds(b(d.getSeconds(),q)):"minute"==n?d.setMinutes(b(d.getMinutes(),q)):"hour"==n?d.setHours(b(d.getHours(),q)):"month"==n?d.setMonth(b(d.getMonth(),q)):"quarter"==n?d.setMonth(3*b(d.getMonth()/3,q)):"year"==n&&d.setFullYear(b(d.getFullYear(),q)),d.setMilliseconds(0),r>=h.minute&&d.setSeconds(0),r>=h.hour&&d.setMinutes(0),r>=h.day&&d.setHours(0),r>=4*h.day&&d.setDate(1),r>=2*h.month&&d.setMonth(b(d.getMonth(),3)),r>=2*h.quarter&&d.setMonth(b(d.getMonth(),6)),r>=h.year&&d.setMonth(0);var s,t=0,u=Number.NaN;do if(s=u,u=d.getTime(),c.push(u),"month"==n||"quarter"==n)if(1>q){d.setDate(1);var v=d.getTime();d.setMonth(d.getMonth()+("quarter"==n?3:1));var w=d.getTime();d.setTime(u+t*h.hour+(w-v)*q),t=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+q*("quarter"==n?3:1));else"year"==n?d.setFullYear(d.getFullYear()+q):d.setTime(u+r);while(u<a.max&&u!=s);return c},d.tickFormatter=function(a,b){var d=e(a,b.options);if(null!=f.timeformat)return c(d,f.timeformat,f.monthNames,f.dayNames);var g,i=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],j=b.tickSize[0]*h[b.tickSize[1]],k=b.max-b.min,l=f.twelveHourClock?" %p":"",m=f.twelveHourClock?"%I":"%H";g=j<h.minute?m+":%M:%S"+l:j<h.day?k<2*h.day?m+":%M"+l:"%b %d "+m+":%M"+l:j<h.month?"%b %d":i&&j<h.quarter||!i&&j<h.year?k<h.year?"%b":"%b %Y":i&&j<h.year?k<h.year?"Q%q":"Q%q %Y":"%Y";var n=c(d,g,f.monthNames,f.dayNames);return n})})})}var g={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],j=i.concat([[3,"month"],[6,"month"],[1,"year"]]),k=i.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:f,options:g,name:"time",version:"1.0"}),a.plot.formatDate=c}(jQuery),function(a){function b(b){function c(a){p.active&&(k(a),b.getPlaceholder().trigger("plotselecting",[f()]))}function d(b){1==b.which&&(document.body.focus(),void 0!==document.onselectstart&&null==q.onselectstart&&(q.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==q.ondrag&&(q.ondrag=document.ondrag,document.ondrag=function(){return!1}),j(p.first,b),p.active=!0,r=function(a){e(a)},a(document).one("mouseup",r))}function e(a){return r=null,void 0!==document.onselectstart&&(document.onselectstart=q.onselectstart),void 0!==document.ondrag&&(document.ondrag=q.ondrag),p.active=!1,k(a),o()?h():(b.getPlaceholder().trigger("plotunselected",[]),b.getPlaceholder().trigger("plotselecting",[null])),!1}function f(){if(!o())return null;if(!p.show)return null;var c={},d=p.first,e=p.second;return a.each(b.getAxes(),function(a,b){if(b.used){var f=b.c2p(d[b.direction]),h=b.c2p(e[b.direction]);c[a]={from:Math.min(f,h),to:Math.max(f,h)},"xaxis"==a&&g(c[a],b)}}),c}function g(a,c){var d,e=b.getOptions();if("day"===c.options.minTickSize[1]){var f=Imgur.Util.RoundTimestamps.roundTimestampToEndOfDay(a.from-1e3)+1,g=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(a.to+1e3);if(g>=f){var h=Math.round((g-f)/864e5)+1;d=h>0?!0:!1}}else{var f=Imgur.Util.RoundTimestamps.roundTimestampToEndOfHour(a.from-1e3)+1,g=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfHour(a.to+1e3);if(g>=f){var i=Math.round((g-f)/36e5)+1;d=i>=6?!0:!1}}e.selection.color=d?"#AFD8F8":"#444442"}function h(){var a=f();b.getPlaceholder().trigger("plotselected",[a]),a.xaxis&&a.yaxis&&b.getPlaceholder().trigger("selected",[{x1:a.xaxis.from,y1:a.yaxis.from,x2:a.xaxis.to,y2:a.yaxis.to}])}function i(a,b,c){return a>b?a:b>c?c:b}function j(a,c){var d=b.getOptions(),e=b.getPlaceholder().offset(),f=b.getPlotOffset();a.x=i(0,c.pageX-e.left-f.left,b.width()),a.y=i(0,c.pageY-e.top-f.top,b.height()),"y"==d.selection.mode&&(a.x=a==p.first?0:b.width()),"x"==d.selection.mode&&(a.y=a==p.first?0:b.height())}function k(a){null!=a.pageX&&(j(p.second,a),o()?(p.show=!0,b.triggerRedrawOverlay()):l(!0))}function l(a){p.show&&(p.show=!1,b.triggerRedrawOverlay(),a||b.getPlaceholder().trigger("plotunselected",[]))}function m(a,c){var d,e,f,g,h=b.getAxes();for(var i in h)if(d=h[i],d.direction==c&&(g=c+d.n+"axis",a[g]||1!=d.n||(g=c+"axis"),a[g])){e=a[g].from,f=a[g].to;break}if(a[g]||(d="x"==c?b.getXAxes()[0]:b.getYAxes()[0],e=a[c+"1"],f=a[c+"2"]),null!=e&&null!=f&&e>f){var j=e;e=f,f=j}return{from:e,to:f,axis:d}}function n(a,c){var d,e=b.getOptions();"y"==e.selection.mode?(p.first.x=0,p.second.x=b.width()):(d=m(a,"x"),p.first.x=d.axis.p2c(d.from),p.second.x=d.axis.p2c(d.to)),"x"==e.selection.mode?(p.first.y=0,p.second.y=b.height()):(d=m(a,"y"),p.first.y=d.axis.p2c(d.from),p.second.y=d.axis.p2c(d.to)),p.show=!0,b.triggerRedrawOverlay(),!c&&o()&&h()}function o(){var a=b.getOptions().selection.minSize;return Math.abs(p.second.x-p.first.x)>=a&&Math.abs(p.second.y-p.first.y)>=a}var p={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},q={},r=null;b.clearSelection=l,b.setSelection=n,b.getSelection=f,b.hooks.bindEvents.push(function(a,b){var e=a.getOptions();null!=e.selection.mode&&(b.mousemove(c),b.mousedown(d))}),b.hooks.drawOverlay.push(function(b,c){if(p.show&&o()){var d=b.getPlotOffset(),e=b.getOptions();c.save(),c.translate(d.left,d.top);var f=a.color.parse(e.selection.color);c.strokeStyle=f.scale("a",.8).toString(),c.lineWidth=1,c.lineJoin=e.selection.shape,c.fillStyle=f.scale("a",.4).toString();var g=Math.min(p.first.x,p.second.x)+.5,h=Math.min(p.first.y,p.second.y)+.5,i=Math.abs(p.second.x-p.first.x)-1,j=Math.abs(p.second.y-p.first.y)-1;c.fillRect(g,h,i,j),c.strokeRect(g,h,i,j),c.restore()}}),b.hooks.shutdown.push(function(b,e){e.unbind("mousemove",c),e.unbind("mousedown",d),r&&a(document).unbind("mouseup",r)})}a.plot.plugins.push({init:b,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(a){function b(b){return"object"==typeof b&&(h=a.extend({},i,b)),a.extend({},h||i)}function c(a){return"string"==typeof a?a.length?a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"):a:void 0}function d(a,b){b.is(a.wrap)&&b.text()==a.str?b.addClass(a.className):b.html(b.html().replace(a.replgx,function(b,c){return c?"<"+a.wrap+' class="'+a.className+'">'+c+"</"+a.wrap+">":b}))}function e(b,c){c.find("*").filter(function(c,d){return b.rgx.test(a(d).text())}).each(function(c,e){d(b,a(e))})}function f(f,g,j,k){"string"==typeof g&&g.length&&(k&&b(j),this.$ele=a(f),this.options=a.extend({},h||i,j),this.options.str=""+g,this.options.rgx=new RegExp("(\\b"+c(g)+"\\b)",this.options.caseSensitive?"":"i"),this.options.replgx=new RegExp("<[^>]+>|(\\b"+c(g)+"\\b)",this.options.caseSensitive?"g":"gi"),this.$ele.length&&this.options.rgx.test(this.$ele.text())&&(this.kids=this.$ele.children(),this.kids.length<1?d(this.options,this.$ele):e(this.options,this.$ele)))}var g="strEle",h=null,i={caseSensitive:!1,className:"string-found",wrap:"span"};a.fn[g]=function(a,b,c){return new f(this,a,b,c),this},a.fn[g+"Opts"]=function(a){return b(a)}}(jQuery,window,document),function(a){a.belowthefold=function(b,c){var d=a(window).height()+a(window).scrollTop();return d<=a(b).offset().top-c.threshold},a.abovethetop=function(b,c){var d=a(window).scrollTop();return d>=a(b).offset().top+a(b).height()-c.threshold},a.rightofscreen=function(b,c){var d=a(window).width()+a(window).scrollLeft();return d<=a(b).offset().left-c.threshold},a.leftofscreen=function(b,c){var d=a(window).scrollLeft();return d>=a(b).offset().left+a(b).width()-c.threshold},a.inviewport=function(b,c){var d=a(b),e=d.offset(),f=a(window),g=f.scrollTop(),h=c.threshold;if(e.top-h<g){if(!(e.top+d.height()+h>=g))return!1}else if(!(e.top-h<=g+f.height()))return!1;var i=f.scrollLeft();if(e.left-h<i){if(!(e.left+d.width()+h>=i))return!1}else if(!(e.left-h<=i+f.width()))return!1;return!0},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return a.abovethetop(b,{threshold:0})},"left-of-screen":function(b){return a.leftofscreen(b,{threshold:0})},"right-of-screen":function(b){return a.rightofscreen(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:500})}})}(jQuery),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d,e,f,g,h,i,j,k=a("d"),l=a("es5-ext/object/valid-callable"),m=Function.prototype.apply,n=Function.prototype.call,o=Object.create,p=Object.defineProperty,q=Object.defineProperties,r=Object.prototype.hasOwnProperty,s={configurable:!0,enumerable:!1,writable:!0};d=function(a,b){var c;return l(b),r.call(this,"__ee__")?c=this.__ee__:(c=s.value=o(null),p(this,"__ee__",s),s.value=null),c[a]?"object"==typeof c[a]?c[a].push(b):c[a]=[c[a],b]:c[a]=b,this},e=function(a,b){var c,e;return l(b),e=this,d.call(this,a,c=function(){f.call(e,a,c),m.call(b,this,arguments)}),c.__eeOnceListener__=b,this},f=function(a,b){var c,d,e,f;if(l(b),!r.call(this,"__ee__"))return this;if(c=this.__ee__,!c[a])return this;if(d=c[a],"object"==typeof d)for(f=0;e=d[f];++f)(e===b||e.__eeOnceListener__===b)&&(2===d.length?c[a]=d[f?0:1]:d.splice(f,1));else(d===b||d.__eeOnceListener__===b)&&delete c[a];return this},g=function(a){var b,c,d,e,f;if(r.call(this,"__ee__")&&(e=this.__ee__[a]))if("object"==typeof e){for(c=arguments.length,f=new Array(c-1),b=1;c>b;++b)f[b-1]=arguments[b];for(e=e.slice(),b=0;d=e[b];++b)m.call(d,this,f)}else switch(arguments.length){case 1:n.call(e,this);break;case 2:n.call(e,this,arguments[1]);break;case 3:n.call(e,this,arguments[1],arguments[2]);break;default:for(c=arguments.length,f=new Array(c-1),b=1;c>b;++b)f[b-1]=arguments[b];m.call(e,this,f)}},h={on:d,once:e,off:f,emit:g},i={on:k(d),once:k(e),off:k(f),emit:k(g)},j=q({},i),b.exports=c=function(a){return null==a?o(j):q(Object(a),i)},c.methods=h},{d:2,"es5-ext/object/valid-callable":11}],2:[function(a,b){"use strict";var c,d=a("es5-ext/object/assign"),e=a("es5-ext/object/normalize-options"),f=a("es5-ext/object/is-callable"),g=a("es5-ext/string/#/contains");c=b.exports=function(a,b){var c,f,h,i,j;return arguments.length<2||"string"!=typeof a?(i=b,b=a,a=null):i=arguments[2],null==a?(c=h=!0,f=!1):(c=g.call(a,"c"),f=g.call(a,"e"),h=g.call(a,"w")),j={value:b,configurable:c,enumerable:f,writable:h},i?d(e(i),j):j},c.gs=function(a,b,c){var h,i,j,k;return"string"!=typeof a?(j=c,c=b,b=a,a=null):j=arguments[3],null==b?b=void 0:f(b)?null==c?c=void 0:f(c)||(j=c,c=void 0):(j=b,b=c=void 0),null==a?(h=!0,i=!1):(h=g.call(a,"c"),i=g.call(a,"e")),k={get:b,set:c,configurable:h,enumerable:i},j?d(e(j),k):k}},{"es5-ext/object/assign":3,"es5-ext/object/is-callable":6,"es5-ext/object/normalize-options":10,"es5-ext/string/#/contains":13}],3:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Object.assign:a("./shim")},{"./is-implemented":4,"./shim":5}],4:[function(a,b){"use strict";b.exports=function(){var a,b=Object.assign;return"function"!=typeof b?!1:(a={foo:"raz"},b(a,{bar:"dwa"},{trzy:"trzy"}),a.foo+a.bar+a.trzy==="razdwatrzy")}},{}],5:[function(a,b){"use strict";var c=a("../keys"),d=a("../valid-value"),e=Math.max;b.exports=function(a,b){var f,g,h,i=e(arguments.length,2);for(a=Object(d(a)),h=function(c){try{a[c]=b[c]}catch(d){f||(f=d)}},g=1;i>g;++g)b=arguments[g],c(b).forEach(h);if(void 0!==f)throw f;return a}},{"../keys":7,"../valid-value":12}],6:[function(a,b){"use strict";b.exports=function(a){return"function"==typeof a}},{}],7:[function(a,b){"use strict";b.exports=a("./is-implemented")()?Object.keys:a("./shim")},{"./is-implemented":8,"./shim":9}],8:[function(a,b){"use strict";b.exports=function(){try{return Object.keys("primitive"),!0}catch(a){return!1}}},{}],9:[function(a,b){"use strict";var c=Object.keys;b.exports=function(a){return c(null==a?a:Object(a))}},{}],10:[function(a,b){"use strict";var c=Array.prototype.forEach,d=Object.create,e=function(a,b){var c;for(c in a)b[c]=a[c]};b.exports=function(){var a=d(null);return c.call(arguments,function(b){null!=b&&e(Object(b),a)}),a}},{}],11:[function(a,b){"use strict";b.exports=function(a){if("function"!=typeof a)throw new TypeError(a+" is not a function");return a}},{}],12:[function(a,b){"use strict";b.exports=function(a){if(null==a)throw new TypeError("Cannot use null or undefined");return a}},{}],13:[function(a,b){"use strict";b.exports=a("./is-implemented")()?String.prototype.contains:a("./shim")},{"./is-implemented":14,"./shim":15}],14:[function(a,b){"use strict";var c="razdwatrzy";b.exports=function(){return"function"!=typeof c.contains?!1:c.contains("dwa")===!0&&c.contains("foo")===!1}},{}],15:[function(a,b){"use strict";var c=String.prototype.indexOf;b.exports=function(a){return c.call(this,a,arguments[1])>-1}},{}],16:[function(a){var b={};b.Client=a("./incus"),b.Presence=a("./lib/presence"),window.Incus=b},{"./incus":17,"./lib/presence":19}],17:[function(a,b){function c(a,b,c){this.MAXRETRIES=6,this.socketRetries=0,this.pollRetries=0,this.url=a,this.UID=b,this.page=c,this.socket=null,this.poll=null,this.pollCommand=null,this.connected=!1,this.socketConnected=!1,this.emitter=new d({}),this.connect()}var d=a("event-emitter");c.prototype.longpoll=function(a){if(!this.socketConnected){null!=this.poll&&(this.poll.abort(),this.pollCommand=null),this.poll=new XMLHttpRequest;var b={user:this.UID};this.page&&(b.page=this.page),"undefined"!=typeof a&&(b.command=a,this.pollCommand=a);var c=this.serialize(b),d=this;this.poll.onreadystatechange=function(){if(4==d.poll.readyState){var a={data:d.poll.responseText,status:d.poll.status,success:!0};0!==d.poll.status&&d.pollRetries<d.MAXRETRIES&&d.longpoll(),200!=a.status&&204!=a.status&&0!==a.status&&d.pollRetries++,200==a.status&&""!==a.data&&d.onMessage(a)}},this.poll.open("GET",this.url+"/lp"+c,!0),this.poll.timeout=0,this.poll.send(),this.connected=!0,this.emitter.emit("connect")}},c.prototype.connect=function(){this.longpoll(),"WebSocket"in window&&this.connectSocket()},c.prototype.connectSocket=function(){var a=this.url.replace("https","wss").replace("http","ws");this.socket=new WebSocket(a+"/socket");var b=this;this.socket.onopen=function(){b.authenticate()},this.socket.onmessage=function(a){b.onMessage(a)},this.socket.onclose=function(){b.onClose()}},c.prototype.newCommand=function(a,b){b.time=Math.round((new Date).getTime()/1e3);var c={command:a,message:b};return JSON.stringify(c)},c.prototype.authenticate=function(){this.socketConnected=!0,this.poll.abort();var a=this.newCommand({command:"authenticate",user:this.UID},{});this.socket.send(a),this.page&&this.setPage(this.page),null!==this.pollCommand&&(this.socket.send(this.pollCommand),this.pollCommand=null),this.emitter.emit("connect"),this.connected=!0},c.prototype.on=function(a,b){this.emitter.on("event:"+a,b)},c.prototype.onMessage=function(a){if(""===a.data)return void(this.socketRetries=0);var b=JSON.parse(a.data);"event"in b&&this.emitter.emit("event:"+b.event,b.data)},c.prototype.onClose=function(){if(!(this.socketRetries>this.MAXRETRIES)){this.socketRetries++,this.connected=!1;var a=this;window.setTimeout(function(){console.log("Connection closed, retrying"),a.connectSocket()},1e3)}},c.prototype.MessageUser=function(a,b,c){var d={command:"message",user:b},e={event:a,data:c},f=this.newCommand(d,e);return this.send(f)},c.prototype.MessagePage=function(a,b,c){var d={command:"message",page:b},e={event:a,data:c},f=this.newCommand(d,e);return this.send(f)},c.prototype.MessageAll=function(a,b){var c={command:"message"},d={event:a,data:b},e=this.newCommand(c,d);return this.send(e)},c.prototype.setPage=function(a){if(this.page=a,this.socketConnected){var b={command:"setpage",page:a},c=this.newCommand(b,{});return this.send(c)}this.send()},c.prototype.serialize=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return"?"+b.join("&")},c.prototype.send=function(a){this.socketConnected?this.socket.send(a):this.longpoll(a)},b.exports=c},{"event-emitter":1}],18:[function(){},{}],19:[function(a,b){var c=a("event-emitter"),d="setpresence",e=20,f=function(a){var b=new c;this.emitter=b,this.on=b.on.bind(b),this.off=b.off.bind(b),this.timerReference=null,this.lastActiveTime=null,this._lastResetCall=null,this.inactivityThresholdSeconds="undefined"!=typeof a?a:60,document.body.addEventListener("touchstart",this.handleUserActivity.bind(this)),document.body.addEventListener("keypress",this.handleUserActivity.bind(this)),document.body.addEventListener("mousemove",this.handleUserActivity.bind(this)),this.reset()};f.prototype={reset:function(){var a=+new Date/1e3;if(null!==this.lastActiveTime){var b=this.lastActiveTime+this.inactivityThresholdSeconds>=a;b||this.emitter.emit("return",this.lastActiveTime,a)}this.lastActiveTime=a,null!==this.timerReference&&window.clearTimeout(this.timerReference),this.timerReference=window.setTimeout(this.handleTimeout.bind(this),1e3*this.inactivityThresholdSeconds)},handleTimeout:function(){this.emitter.emit("idle")},handleUserActivity:function(){var a=+new Date;(null===this._lastResetCall||this._lastResetCall+1e3/e<=a)&&(this._lastResetCall=a,this.reset())}};var g=function(a,b){this.presence=a,this.incus=b,a.on("return",this.handleHere.bind(this)),a.on("idle",this.handleIdle.bind(this)),this.handleHere()};g.prototype.notifyIncus=function(a){var b={command:d},c={presence:a.present};this.incus.send(this.incus.newCommand(b,c))},g.prototype.handleHere=function(){this.notifyIncus({present:!0})},g.prototype.handleIdle=function(){this.notifyIncus({present:!1})},f.IncusNotifier=g,b.exports=f},{"event-emitter":1}],20:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}]},{},[16,17,18,19,20]),function(){function a(a,b,c){c=(c||0)-1;for(var d=a?a.length:0;++c<d;)if(a[c]===b)return c;return-1}function b(b,c){var d=typeof c;if(b=b.l,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:u+c;return b=(b=b[d])&&b[e],"object"==d?b&&-1<a(b,c)?0:-1:b?0:-1}function c(a){var b=this.l,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:u+a,b=b[c]||(b[c]={});"object"==c?(b[d]||(b[d]=[])).push(a):b[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){for(var c=a.m,d=b.m,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.n-b.n}function f(a){var b=-1,d=a.length,e=a[0],f=a[d/2|0],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;for(e=i(),e["false"]=e["null"]=e["true"]=e.undefined=!1,f=i(),f.k=a,f.l=e,f.push=c;++b<d;)f.push(a[b]);return f}function g(a){return"\\"+X[a]}function h(){return q.pop()||[]}function i(){return r.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,o:null}}function j(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function l(a){a.length=0,q.length<w&&q.push(a)}function m(a){var b=a.l;b&&m(b),a.k=a.l=a.m=a.object=a.number=a.string=a.o=null,r.length<w&&r.push(a)}function n(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var e=Array(0>c?0:c);++d<c;)e[d]=a[b+d];return e}function o(c){function q(a){var b,c;return!a||jc.call(a)!=Q||(b=a.constructor,sb(b)&&!(b instanceof b))||!Ac.argsClass&&w(a)||!Ac.nodeClass&&j(a)?!1:Ac.ownLast?(Nc(a,function(a,b,d){return c=nc.call(d,b),!1}),!1!==c):(Nc(a,function(a,b){c=b}),"undefined"==typeof c||nc.call(a,c))}function r(a){return a&&"object"==typeof a&&"number"==typeof a.length&&jc.call(a)==K||!1}function w(a){return a&&"object"==typeof a&&"number"==typeof a.length&&nc.call(a,"callee")&&!pc.call(a,"callee")||!1}function X(a){return a&&"object"==typeof a&&!r(a)&&nc.call(a,"__wrapped__")?a:new Z(a)}function Z(a,b){this.__chain__=!!b,this.__wrapped__=a}function $(a){function b(){if(d){var a=n(d);oc.apply(a,arguments)}if(this instanceof b){var f=Bc(c.prototype),a=c.apply(f,a||arguments);return tb(a)?a:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return b}function _(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}if(!tb(a))return a;var g=jc.call(a);if(!T[g]||!Ac.nodeClass&&j(a))return a;var i=yc[g];switch(g){case L:case M:return new i(+a);case P:case S:return new i(a);case R:return f=i(a.source,C.exec(a)),f.lastIndex=a.lastIndex,f}if(g=r(a),b){var k=!d;d||(d=h()),e||(e=h());for(var m=d.length;m--;)if(d[m]==a)return e[m];f=g?i(a.length):{}}else f=g?n(a):Lc({},a);return g&&(nc.call(a,"index")&&(f.index=a.index),nc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(g?Kc:Oc)(a,function(a,g){f[g]=_(a,b,c,d,e)}),k&&(l(d),l(e)),f):f}function ab(a,b,c){if("function"!=typeof a)return Sb;if("undefined"==typeof b||!("prototype"in a))return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Qb(a,b)}function cb(a){function b(){var a=i?g:this;if(e){var o=n(e);oc.apply(o,arguments)}return(f||k)&&(o||(o=n(arguments)),f&&oc.apply(o,f),k&&o.length<h)?(d|=16,cb([c,l?d:-4&d,o,null,g,h])):(o||(o=arguments),j&&(c=a[m]),this instanceof b?(a=Bc(c.prototype),o=c.apply(a,o),tb(o)?o:a):c.apply(a,o))}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,m=c;return b}function db(c,d){var e=-1,g=nb(),h=c?c.length:0,i=h>=v&&g===a,j=[];if(i){var k=f(d);k?(g=b,d=k):i=!1}for(;++e<h;)k=c[e],0>g(d,k)&&j.push(k);return i&&m(d),j}function eb(a,b,c,d){d=(d||0)-1;for(var e=a?a.length:0,f=[];++d<e;){var g=a[d];if(g&&"object"==typeof g&&"number"==typeof g.length&&(r(g)||w(g))){b||(g=eb(g,b,c));var h=-1,i=g.length,j=f.length;for(f.length+=i;++h<i;)f[j++]=g[h]}else c||f.push(g)}return f}function fb(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;if(a===a&&!(a&&W[typeof a]||b&&W[typeof b]))return!1;if(null==a||null==b)return a===b;var i=jc.call(a),k=jc.call(b);if(i==J&&(i=Q),k==J&&(k=Q),i!=k)return!1;switch(i){case L:case M:return+a==+b;case P:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case R:case S:return a==cc(b)}if(k=i==K,!k){var m=nc.call(a,"__wrapped__"),n=nc.call(b,"__wrapped__");if(m||n)return fb(m?a.__wrapped__:a,n?b.__wrapped__:b,c,d,e,f);if(i!=Q||!Ac.nodeClass&&(j(a)||j(b)))return!1;if(i=!Ac.argsObject&&w(a)?ac:a.constructor,m=!Ac.argsObject&&w(b)?ac:b.constructor,i!=m&&!(sb(i)&&i instanceof i&&sb(m)&&m instanceof m)&&"constructor"in a&&"constructor"in b)return!1}for(i=!e,e||(e=h()),f||(f=h()),m=e.length;m--;)if(e[m]==a)return f[m]==b;var o=0,g=!0;if(e.push(a),f.push(b),k){if(m=a.length,o=b.length,(g=o==m)||d)for(;o--;)if(k=m,n=b[o],d)for(;k--&&!(g=fb(a[k],n,c,d,e,f)););else if(!(g=fb(a[o],n,c,d,e,f)))break}else Nc(b,function(b,h,i){return nc.call(i,h)?(o++,g=nc.call(a,h)&&fb(a[h],b,c,d,e,f)):void 0}),g&&!d&&Nc(a,function(a,b,c){return nc.call(c,b)?g=-1<--o:void 0});return e.pop(),f.pop(),i&&(l(e),l(f)),g}function gb(a,b,c,d,e){(r(b)?Bb:Oc)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=r(b))||q(b))){for(i=d.length;i--;)if(g=d[i]==b){j=e[i];break}if(!g){var k;c&&(i=c(j,b),k="undefined"!=typeof i)&&(j=i),k||(j=h?r(j)?j:[]:q(j)?j:{}),d.push(b),e.push(j),k||gb(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function hb(a,b){return a+mc(xc()*(b-a+1))}function ib(c,d,e){var g=-1,i=nb(),j=c?c.length:0,k=[],n=!d&&j>=v&&i===a,o=e||n?h():k;for(n&&(o=f(o),i=b);++g<j;){var p=c[g],q=e?e(p,g,c):p;(d?!g||o[o.length-1]!==q:0>i(o,q))&&((e||n)&&o.push(q),k.push(p))}return n?(l(o.k),m(o)):e&&l(o),k}function jb(a){return function(b,c,d){var e={};if(c=X.createCallback(c,d,3),r(b)){d=-1;for(var f=b.length;++d<f;){var g=b[d];a(e,g,c(g,d,b),b)}}else Kc(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function kb(a,b,c,d,e,f){var g=16&b,h=32&b;if(!(2&b||sb(a)))throw new dc;return g&&!c.length&&(b&=-17,c=!1),h&&!d.length&&(b&=-33,d=!1),(1==b||17===b?$:cb)([a,b,c,d,e,f])}function lb(){V.h=I,V.b=V.c=V.g=V.i="",V.e="t",V.j=!0;for(var a,b=0;a=arguments[b];b++)for(var c in a)V[c]=a[c];b=V.a,V.d=/^[^,]+/.exec(b)[0],a=Zb,b="return function("+b+"){",c=V;var d="var n,t="+c.d+",E="+c.e+";if(!t)return E;"+c.i+";";c.b?(d+="var u=t.length;n=-1;if("+c.b+"){",Ac.unindexedChars&&(d+="if(s(t)){t=t.split('')}"),d+="while(++n<u){"+c.g+";}}else{"):Ac.nonEnumArgs&&(d+="var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';"+c.g+";}}else{"),Ac.enumPrototypes&&(d+="var G=typeof t=='function';"),Ac.enumErrorProps&&(d+="var F=t===k||t instanceof Error;");var e=[];if(Ac.enumPrototypes&&e.push('!(G&&n=="prototype")'),Ac.enumErrorProps&&e.push('!(F&&(n=="message"||n=="name"))'),d+="for(n in t){",c.j&&e.push("m.call(t, n)"),e.length&&(d+="if("+e.join("&&")+"){"),d+=c.g+";",e.length&&(d+="}"),d+="}",Ac.nonEnumShadows){for(d+="if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];",k=0;7>k;k++)d+="n='"+c.h[k]+"';if((!(r&&x[n])&&m.call(t,n))",c.j||(d+="||(!x[n]&&t[n]!==A[n])"),d+="){"+c.g+"}";
d+="}"}return(c.b||Ac.nonEnumArgs)&&(d+="}"),d+=c.c+";return E",a("d,j,k,m,o,p,q,s,A,B,y,I,J,L",b+d+"}")(ab,N,fc,nc,t,w,r,vb,gc,W,zc,S,hc,jc)}function mb(a){return Gc[a]}function nb(){var b=(b=X.indexOf)===Kb?a:b;return b}function ob(a){return Hc[a]}function pb(a,b,c){var d=Cc(a),e=d.length;for(b=ab(b,c,3);e--&&(c=d[e],!1!==b(a[c],c,a)););return a}function qb(a){var b=[];return Nc(a,function(a,c){sb(a)&&b.push(c)}),b.sort()}function rb(a){for(var b=-1,c=Cc(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function sb(a){return"function"==typeof a}function tb(a){return!(!a||!W[typeof a])}function ub(a){return"number"==typeof a||a&&"object"==typeof a&&jc.call(a)==P||!1}function vb(a){return"string"==typeof a||a&&"object"==typeof a&&jc.call(a)==S||!1}function wb(a){for(var b=-1,c=Cc(a),d=c.length,e=Wb(d);++b<d;)e[b]=a[c[b]];return e}function xb(a,b,c){var d=-1,e=nb(),f=a?a.length:0,g=!1;return c=(0>c?uc(0,f+c):c)||0,r(a)?g=-1<e(a,b,c):"number"==typeof f?g=-1<(vb(a)?a.indexOf(b,c):e(a,b,c)):Kc(a,function(a){return++d<c?void 0:!(g=a===b)}),g}function yb(a,b,c){var d=!0;if(b=X.createCallback(b,c,3),r(a)){c=-1;for(var e=a.length;++c<e&&(d=!!b(a[c],c,a)););}else Kc(a,function(a,c,e){return d=!!b(a,c,e)});return d}function zb(a,b,c){var d=[];if(b=X.createCallback(b,c,3),r(a)){c=-1;for(var e=a.length;++c<e;){var f=a[c];b(f,c,a)&&d.push(f)}}else Kc(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Ab(a,b,c){if(b=X.createCallback(b,c,3),!r(a)){var d;return Kc(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}c=-1;for(var e=a.length;++c<e;){var f=a[c];if(b(f,c,a))return f}}function Bb(a,b,c){if(b&&"undefined"==typeof c&&r(a)){c=-1;for(var d=a.length;++c<d&&!1!==b(a[c],c,a););}else Kc(a,b,c);return a}function Cb(a,b,c){var d=a,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:ab(b,c,3),r(a))for(;e--&&!1!==b(a[e],e,a););else{if("number"!=typeof e)var f=Cc(a),e=f.length;else Ac.unindexedChars&&vb(a)&&(d=a.split(""));Kc(a,function(a,c,g){return c=f?f[--e]:--e,b(d[c],c,g)})}return a}function Db(a,b,c){var d=-1,e=a?a.length:0,f=Wb("number"==typeof e?e:0);if(b=X.createCallback(b,c,3),r(a))for(;++d<e;)f[d]=b(a[d],d,a);else Kc(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function Eb(a,b,c){var e=-1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&r(a)){c=-1;for(var g=a.length;++c<g;){var h=a[c];h>f&&(f=h)}}else b=null==b&&vb(a)?d:X.createCallback(b,c,3),Kc(a,function(a,c,d){c=b(a,c,d),c>e&&(e=c,f=a)});return f}function Fb(a,b,c,d){var e=3>arguments.length;if(b=X.createCallback(b,d,4),r(a)){var f=-1,g=a.length;for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a)}else Kc(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function Gb(a,b,c,d){var e=3>arguments.length;return b=X.createCallback(b,d,4),Cb(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function Hb(a){var b=-1,c=a?a.length:0,d=Wb("number"==typeof c?c:0);return Bb(a,function(a){var c=hb(0,++b);d[b]=d[c],d[c]=a}),d}function Ib(a,b,c){var d;if(b=X.createCallback(b,c,3),r(a)){c=-1;for(var e=a.length;++c<e&&!(d=b(a[c],c,a)););}else Kc(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Jb(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=X.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:p;return n(a,0,vc(uc(0,d),e))}function Kb(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?uc(0,e+d):d||0}else if(d)return d=Mb(b,c),b[d]===c?d:-1;return a(b,c,d)}function Lb(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=X.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:uc(0,b);return n(a,d)}function Mb(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?X.createCallback(c,d,1):Sb,b=c(b);f>e;)d=e+f>>>1,c(a[d])<b?e=d+1:f=d;return e}function Nb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=X.createCallback(c,d,3)),ib(a,b,c)}function Ob(){for(var a=1<arguments.length?arguments:arguments[0],b=-1,c=a?Eb(Sc(a,"length")):0,d=Wb(0>c?0:c);++b<c;)d[b]=Sc(a,b);return d}function Pb(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||r(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Qb(a,b){return 2<arguments.length?kb(a,17,n(arguments,2),null,b):kb(a,1,null,null,b)}function Rb(a,b,c){function d(){k&&lc(k),g=k=l=p,(o||n!==b)&&(m=+new Yb,h=a.apply(j,f),k||g||(f=j=null))}function e(){var c=b-(+new Yb-i);c>0?k=qc(e,c):(g&&lc(g),c=l,g=k=l=p,c&&(m=+new Yb,h=a.apply(j,f),k||g||(f=j=null)))}var f,g,h,i,j,k,l,m=0,n=!1,o=!0;if(!sb(a))throw new dc;if(b=uc(0,b)||0,!0===c)var q=!0,o=!1;else tb(c)&&(q=c.leading,n="maxWait"in c&&(uc(b,c.maxWait)||0),o="trailing"in c?c.trailing:o);return function(){if(f=arguments,i=+new Yb,j=this,l=o&&(k||!q),!1===n)var c=q&&!k;else{g||q||(m=i);var p=n-(i-m),r=0>=p;r?(g&&(g=lc(g)),m=i,h=a.apply(j,f)):g||(g=qc(d,p))}return r&&k?k=lc(k):k||b===n||(k=qc(e,b)),c&&(r=!0,h=a.apply(j,f)),!r||k||g||(f=j=null),h}}function Sb(a){return a}function Tb(a,b,c){var d=!0,e=b&&qb(b);b&&(c||e.length)||(null==c&&(c=b),f=Z,b=a,a=X,e=qb(b)),!1===c?d=!1:tb(c)&&"chain"in c&&(d=c.chain);var f=a,g=sb(f);Bb(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];if(oc.apply(g,arguments),g=e.apply(a,g),d||b){if(c===g&&tb(g))return this;g=new f(g),g.__chain__=b}return g})})}function Ub(a){return function(b){return b[a]}}function Vb(){return this.__wrapped__}c=c?bb.defaults(Y.Object(),c,bb.pick(Y,H)):Y;var Wb=c.Array,Xb=c.Boolean,Yb=c.Date,Zb=c.Function,$b=c.Math,_b=c.Number,ac=c.Object,bc=c.RegExp,cc=c.String,dc=c.TypeError,ec=[],fc=c.Error.prototype,gc=ac.prototype,hc=cc.prototype,ic=c._,jc=gc.toString,kc=$b.ceil,lc=c.clearTimeout,mc=$b.floor,nc=gc.hasOwnProperty,oc=ec.push,pc=gc.propertyIsEnumerable,qc=c.setTimeout,rc=ec.splice,sc=c.isFinite,tc=c.isNaN,uc=$b.max,vc=$b.min,wc=c.parseInt,xc=$b.random,yc={};yc[K]=Wb,yc[L]=Xb,yc[M]=Yb,yc[O]=Zb,yc[Q]=ac,yc[P]=_b,yc[R]=bc,yc[S]=cc;var zc={};zc[K]=zc[M]=zc[P]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},zc[L]=zc[S]={constructor:!0,toString:!0,valueOf:!0},zc[N]=zc[O]=zc[R]={constructor:!0,toString:!0},zc[Q]={constructor:!0},function(){for(var a=I.length;a--;){var b,c=I[a];for(b in zc)nc.call(zc,b)&&!nc.call(zc[b],c)&&(zc[b][c]=!1)}}(),Z.prototype=X.prototype;var Ac=X.support={};!function(){function a(){this.x=1}var b={0:1,length:1},c=[];a.prototype={valueOf:1,y:1};for(var d in new a)c.push(d);for(d in arguments);Ac.argsClass=!1,Ac.argsObject=arguments.constructor==ac&&!(arguments instanceof Wb),Ac.enumErrorProps=pc.call(fc,"message")||pc.call(fc,"name"),Ac.enumPrototypes=pc.call(a,"prototype"),Ac.nonEnumArgs=0!=d,Ac.nonEnumShadows=!/valueOf/.test(c),Ac.ownLast="x"!=c[0],Ac.spliceObjects=(ec.splice.call(b,0,1),!b[0]),Ac.unindexedChars="xx"!="x"[0]+ac("x")[0];try{Ac.nodeClass=!(jc.call(document)==Q&&!({toString:0}+""))}catch(e){Ac.nodeClass=!0}}(1),X.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:D,variable:"",imports:{_:X}};var Bc=function(){function a(){}return function(b){if(tb(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}(),Cc=lb({a:"z",e:"[]",i:"if(!(B[typeof z]))return E",g:"E.push(n)"}),Dc={a:"g,e,K",i:"e=e&&typeof K=='undefined'?e:d(e,K,3)",b:"typeof u=='number'",g:"if(e(t[n],n,g)===false)return E"},Ec={a:"z,H,l",i:"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){",g:"if(typeof E[n]=='undefined')E[n]=t[n]",c:"}}"},Fc={i:"if(!B[typeof t])return E;"+Dc.i,b:!1},Gc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hc=rb(Gc),Ic=bc("("+Cc(Hc).join("|")+")","g"),Jc=bc("["+Cc(Gc).join("")+"]","g"),Kc=lb(Dc),Lc=lb(Ec,{i:Ec.i.replace(";",";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}"),g:"E[n]=e?e(E[n],t[n]):t[n]"}),Mc=lb(Ec),Nc=lb(Dc,Fc,{j:!1}),Oc=lb(Dc,Fc);sb(/x/)&&(sb=function(a){return"function"==typeof a&&jc.call(a)==O});var Pc=jb(function(a,b,c){nc.call(a,c)?a[c]++:a[c]=1}),Qc=jb(function(a,b,c){(nc.call(a,c)?a[c]:a[c]=[]).push(b)}),Rc=jb(function(a,b,c){a[c]=b}),Sc=Db,Tc=8==wc(x+"08")?wc:function(a,b){return wc(vb(a)?a.replace(E,""):a,b||0)};return X.after=function(a,b){if(!sb(b))throw new dc;return function(){return 1>--a?b.apply(this,arguments):void 0}},X.assign=Lc,X.at=function(a){var b=arguments,c=-1,d=eb(b,!0,!1,1),b=b[2]&&b[2][b[1]]===a?1:d.length,e=Wb(b);for(Ac.unindexedChars&&vb(a)&&(a=a.split(""));++c<b;)e[c]=a[d[c]];return e},X.bind=Qb,X.bindAll=function(a){for(var b=1<arguments.length?eb(arguments,!0,!1,1):qb(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=kb(a[e],1,null,null,a)}return a},X.bindKey=function(a,b){return 2<arguments.length?kb(b,19,n(arguments,2),null,a):kb(b,3,null,null,a)},X.chain=function(a){return a=new Z(a),a.__chain__=!0,a},X.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d},X.compose=function(){for(var a=arguments,b=a.length;b--;)if(!sb(a[b]))throw new dc;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}},X.constant=function(a){return function(){return a}},X.countBy=Pc,X.create=function(a,b){var c=Bc(a);return b?Lc(c,b):c},X.createCallback=function(a,b,c){var d=typeof a;if(null==a||"function"==d)return ab(a,b,c);if("object"!=d)return Ub(a);var e=Cc(a),f=e[0],g=a[f];return 1!=e.length||g!==g||tb(g)?function(b){for(var c=e.length,d=!1;c--&&(d=fb(b[e[c]],a[e[c]],null,!0)););return d}:function(a){return a=a[f],g===a&&(0!==g||1/g==1/a)}},X.curry=function(a,b){return b="number"==typeof b?b:+b||a.length,kb(a,4,null,null,null,b)},X.debounce=Rb,X.defaults=Mc,X.defer=function(a){if(!sb(a))throw new dc;var b=n(arguments,1);return qc(function(){a.apply(p,b)},1)},X.delay=function(a,b){if(!sb(a))throw new dc;var c=n(arguments,2);return qc(function(){a.apply(p,c)},b)},X.difference=function(a){return db(a,eb(arguments,!0,!0,1))},X.filter=zb,X.flatten=function(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=Db(a,c,d)),eb(a,b)},X.forEach=Bb,X.forEachRight=Cb,X.forIn=Nc,X.forInRight=function(a,b,c){var d=[];Nc(a,function(a,b){d.push(b,a)});var e=d.length;for(b=ab(b,c,3);e--&&!1!==b(d[e--],d[e],a););return a},X.forOwn=Oc,X.forOwnRight=pb,X.functions=qb,X.groupBy=Qc,X.indexBy=Rc,X.initial=function(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=X.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return n(a,0,vc(uc(0,e-d),e))},X.intersection=function(){for(var c=[],d=-1,e=arguments.length,g=h(),i=nb(),j=i===a,k=h();++d<e;){var n=arguments[d];(r(n)||w(n))&&(c.push(n),g.push(j&&n.length>=v&&f(d?c[d]:k)))}var j=c[0],o=-1,p=j?j.length:0,q=[];a:for(;++o<p;){var s=g[0],n=j[o];if(0>(s?b(s,n):i(k,n))){for(d=e,(s||k).push(n);--d;)if(s=g[d],0>(s?b(s,n):i(c[d],n)))continue a;q.push(n)}}for(;e--;)(s=g[e])&&m(s);return l(g),l(k),q},X.invert=rb,X.invoke=function(a,b){var c=n(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=Wb("number"==typeof f?f:0);return Bb(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g},X.keys=Cc,X.map=Db,X.mapValues=function(a,b,c){var d={};return b=X.createCallback(b,c,3),Oc(a,function(a,c,e){d[c]=b(a,c,e)}),d},X.max=Eb,X.memoize=function(a,b){function c(){var d=c.cache,e=b?b.apply(this,arguments):u+arguments[0];return nc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}if(!sb(a))throw new dc;return c.cache={},c},X.merge=function(a){var b=arguments,c=2;if(!tb(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=ab(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var b=n(arguments,1,c),e=-1,f=h(),g=h();++e<c;)gb(a,b[e],d,f,g);return l(f),l(g),a},X.min=function(a,b,c){var e=1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&r(a)){c=-1;for(var g=a.length;++c<g;){var h=a[c];f>h&&(f=h)}}else b=null==b&&vb(a)?d:X.createCallback(b,c,3),Kc(a,function(a,c,d){c=b(a,c,d),e>c&&(e=c,f=a)});return f},X.omit=function(a,b,c){var d={};if("function"!=typeof b){var e=[];Nc(a,function(a,b){e.push(b)});for(var e=db(e,eb(arguments,!0,!1,1)),f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=X.createCallback(b,c,3),Nc(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d},X.once=function(a){var b,c;if(!sb(a))throw new dc;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}},X.pairs=function(a){for(var b=-1,c=Cc(a),d=c.length,e=Wb(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e},X.partial=function(a){return kb(a,16,n(arguments,1))},X.partialRight=function(a){return kb(a,32,null,n(arguments,1))},X.pick=function(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=eb(arguments,!0,!1,1),g=tb(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=X.createCallback(b,c,3),Nc(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d},X.pluck=Sc,X.property=Ub,X.pull=function(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(rc.call(a,f--,1),e--);return a},X.range=function(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);var d=-1;b=uc(0,kc((b-a)/(c||1)));for(var e=Wb(b);++d<b;)e[d]=a,a+=c;return e},X.reject=function(a,b,c){return b=X.createCallback(b,c,3),zb(a,function(a,c,d){return!b(a,c,d)})},X.remove=function(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=X.createCallback(b,c,3);++d<e;)c=a[d],b(c,d,a)&&(f.push(c),rc.call(a,d--,1),e--);return f},X.rest=Lb,X.shuffle=Hb,X.sortBy=function(a,b,c){var d=-1,f=r(b),g=a?a.length:0,j=Wb("number"==typeof g?g:0);for(f||(b=X.createCallback(b,c,3)),Bb(a,function(a,c,e){var g=j[++d]=i();f?g.m=Db(b,function(b){return a[b]}):(g.m=h())[0]=b(a,c,e),g.n=d,g.o=a}),g=j.length,j.sort(e);g--;)a=j[g],j[g]=a.o,f||l(a.m),m(a);return j},X.tap=function(a,b){return b(a),a},X.throttle=function(a,b,c){var d=!0,e=!0;if(!sb(a))throw new dc;return!1===c?d=!1:tb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),U.leading=d,U.maxWait=b,U.trailing=e,Rb(a,b,U)},X.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,e=Wb(a);for(b=ab(b,c,1);++d<a;)e[d]=b(d);return e},X.toArray=function(a){return a&&"number"==typeof a.length?Ac.unindexedChars&&vb(a)?a.split(""):n(a):wb(a)},X.transform=function(a,b,c,d){var e=r(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor;c=Bc(f&&f.prototype)}return b&&(b=X.createCallback(b,d,4),(e?Kc:Oc)(a,function(a,d,e){return b(c,a,d,e)})),c},X.union=function(){return ib(eb(arguments,!0,!0))},X.uniq=Nb,X.values=wb,X.where=zb,X.without=function(a){return db(a,n(arguments,1))},X.wrap=function(a,b){return kb(b,16,[a])},X.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(r(c)||w(c))var d=d?ib(db(d,c).concat(db(c,d))):c}return d||[]},X.zip=Ob,X.zipObject=Pb,X.collect=Db,X.drop=Lb,X.each=Bb,X.eachRight=Cb,X.extend=Lc,X.methods=qb,X.object=Pb,X.select=zb,X.tail=Lb,X.unique=Nb,X.unzip=Ob,Tb(X),X.clone=function(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),_(a,b,"function"==typeof c&&ab(c,d,1))},X.cloneDeep=function(a,b,c){return _(a,!0,"function"==typeof b&&ab(b,c,1))},X.contains=xb,X.escape=function(a){return null==a?"":cc(a).replace(Jc,mb)},X.every=yb,X.find=Ab,X.findIndex=function(a,b,c){var d=-1,e=a?a.length:0;for(b=X.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1},X.findKey=function(a,b,c){var d;return b=X.createCallback(b,c,3),Oc(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d},X.findLast=function(a,b,c){var d;return b=X.createCallback(b,c,3),Cb(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d},X.findLastIndex=function(a,b,c){var d=a?a.length:0;for(b=X.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1},X.findLastKey=function(a,b,c){var d;return b=X.createCallback(b,c,3),pb(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d},X.has=function(a,b){return a?nc.call(a,b):!1},X.identity=Sb,X.indexOf=Kb,X.isArguments=w,X.isArray=r,X.isBoolean=function(a){return!0===a||!1===a||a&&"object"==typeof a&&jc.call(a)==L||!1},X.isDate=function(a){return a&&"object"==typeof a&&jc.call(a)==M||!1},X.isElement=function(a){return a&&1===a.nodeType||!1},X.isEmpty=function(a){var b=!0;if(!a)return b;var c=jc.call(a),d=a.length;return c==K||c==S||(Ac.argsClass?c==J:w(a))||c==Q&&"number"==typeof d&&sb(a.splice)?!d:(Oc(a,function(){return b=!1}),b)},X.isEqual=function(a,b,c,d){return fb(a,b,"function"==typeof c&&ab(c,d,2))},X.isFinite=function(a){return sc(a)&&!tc(parseFloat(a))},X.isFunction=sb,X.isNaN=function(a){return ub(a)&&a!=+a},X.isNull=function(a){return null===a},X.isNumber=ub,X.isObject=tb,X.isPlainObject=q,X.isRegExp=function(a){return a&&W[typeof a]&&jc.call(a)==R||!1},X.isString=vb,X.isUndefined=function(a){return"undefined"==typeof a},X.lastIndexOf=function(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?uc(0,d+c):vc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1},X.mixin=Tb,X.noConflict=function(){return c._=ic,this},X.noop=function(){},X.now=function(){return(new Yb).getTime()},X.parseInt=Tc,X.random=function(a,b,c){var d=null==a,e=null==b;return null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1?(c=xc(),vc(a+c*(b-a+parseFloat("1e-"+((c+"").length-1))),b)):hb(a,b)},X.reduce=Fb,X.reduceRight=Gb,X.result=function(a,b){if(a){var c=a[b];return sb(c)?a[b]():c}},X.runInContext=o,X.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:Cc(a).length},X.some=Ib,X.sortedIndex=Mb,X.template=function(a,b,c){var d=X.templateSettings;a=cc(a||""),c=Mc({},c,d);var e,f=Mc({},c.imports,d.imports),d=Cc(f),f=wb(f),h=0,i=c.interpolate||F,j="__p+='",i=bc((c.escape||F).source+"|"+i.source+"|"+(i===D?B:F).source+"|"+(c.evaluate||F).source+"|$","g");a.replace(i,function(b,c,d,f,i,k){return d||(d=f),j+=a.slice(h,k).replace(G,g),c&&(j+="'+__e("+c+")+'"),i&&(e=!0,j+="';"+i+";\n__p+='"),d&&(j+="'+((__t=("+d+"))==null?'':__t)+'"),h=k+b.length,b}),j+="';",i=c=c.variable,i||(c="obj",j="with("+c+"){"+j+"}"),j=(e?j.replace(y,""):j).replace(z,"$1").replace(A,"$1;"),j="function("+c+"){"+(i?"":c+"||("+c+"={});")+"var __t,__p='',__e=_.escape"+(e?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+j+"return __p}";try{var k=Zb(d,"return "+j).apply(p,f)}catch(l){throw l.source=j,l}return b?k(b):(k.source=j,k)},X.unescape=function(a){return null==a?"":cc(a).replace(Ic,ob)},X.uniqueId=function(a){var b=++s;return cc(null==a?"":a)+b},X.all=yb,X.any=Ib,X.detect=Ab,X.findWhere=Ab,X.foldl=Fb,X.foldr=Gb,X.include=xb,X.inject=Fb,Tb(function(){var a={};return Oc(X,function(b,c){X.prototype[c]||(a[c]=b)}),a}(),!1),X.first=Jb,X.last=function(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=X.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:p;return n(a,uc(0,e-d))},X.sample=function(a,b,c){return a&&"number"!=typeof a.length?a=wb(a):Ac.unindexedChars&&vb(a)&&(a=a.split("")),null==b||c?a?a[hb(0,a.length-1)]:p:(a=Hb(a),a.length=vc(uc(0,b),a.length),a)},X.take=Jb,X.head=Jb,Oc(X,function(a,b){var c="sample"!==b;X.prototype[b]||(X.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new Z(f,e):f})}),X.VERSION="2.4.1",X.prototype.chain=function(){return this.__chain__=!0,this},X.prototype.toString=function(){return cc(this.__wrapped__)},X.prototype.value=Vb,X.prototype.valueOf=Vb,Kc(["join","pop","shift"],function(a){var b=ec[a];X.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new Z(c,a):c}}),Kc(["push","reverse","sort","unshift"],function(a){var b=ec[a];X.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Kc(["concat","slice","splice"],function(a){var b=ec[a];X.prototype[a]=function(){return new Z(b.apply(this.__wrapped__,arguments),this.__chain__)}}),Ac.spliceObjects||Kc(["pop","shift","splice"],function(a){var b=ec[a],c="splice"==a;X.prototype[a]=function(){var a=this.__chain__,d=this.__wrapped__,e=b.apply(d,arguments);return 0===d.length&&delete d[0],a||c?new Z(e,a):e}}),X}var p,q=[],r=[],s=0,t={},u=+new Date+"",v=75,w=40,x=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",y=/\b__p\+='';/g,z=/\b(__p\+=)''\+/g,A=/(__e\(.*?\)|\b__t\))\+'';/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,D=/<%=([\s\S]+?)%>/g,E=RegExp("^["+x+"]*0+(?=.$)"),F=/($^)/,G=/['\n\r\t\u2028\u2029\\]/g,H="Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),J="[object Arguments]",K="[object Array]",L="[object Boolean]",M="[object Date]",N="[object Error]",O="[object Function]",P="[object Number]",Q="[object Object]",R="[object RegExp]",S="[object String]",T={};T[O]=!1,T[J]=T[K]=T[L]=T[M]=T[P]=T[Q]=T[R]=T[S]=!0;var U={leading:!1,maxWait:0,trailing:!1},V={a:"",b:null,c:"",d:"",e:"",v:null,g:"",h:null,support:null,i:"",j:!1},W={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},X={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Y=W[typeof window]&&window||this,Z=W[typeof exports]&&exports&&!exports.nodeType&&exports,$=W[typeof module]&&module&&!module.nodeType&&module,_=$&&$.exports===Z&&Z,ab=W[typeof global]&&global;!ab||ab.global!==ab&&ab.window!==ab||(Y=ab);var bb=o();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Y._=bb,define(function(){return bb})):Z&&$?_?($.exports=bb)._=bb:Z._=bb:Y._=bb}.call(this),function(a){function b(a,b,c,d){var e=c.lang();return e[a].call?e[a](c,d):e[a][b]}function c(a,b){return function(c){return h(a.call(this,c),b)}}function d(a){return function(b){var c=a.call(this,b);return c+this.lang().ordinal(c)}}function e(a,b,c){this._d=a,this._isUTC=!!b,this._a=a._a||null,this._lang=c||!1}function f(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,h=a.hours||a.h||0,i=a.minutes||a.m||0,j=a.seconds||a.s||0,k=a.milliseconds||a.ms||0;this._milliseconds=k+1e3*j+6e4*i+36e5*h,this._days=f+7*e,this._months=d+12*c,b.milliseconds=k%1e3,j+=g(k/1e3),b.seconds=j%60,i+=g(j/60),b.minutes=i%60,h+=g(i/60),b.hours=h%24,f+=g(h/24),f+=7*e,b.days=f%30,d+=g(f/30),b.months=d%12,c+=g(d/12),b.years=c,this._lang=!1}function g(a){return 0>a?Math.ceil(a):Math.floor(a)}function h(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function i(a,b,c){var d,e=b._milliseconds,f=b._days,g=b._months;e&&a._d.setTime(+a+e*c),f&&a.date(a.date()+f*c),g&&(d=a.date(),a.date(1).month(a.month()+g*c).date(Math.min(d,a.daysInMonth())))}function j(a){return"[object Array]"===Object.prototype.toString.call(a)}function k(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function l(a,b,c,d){var e,f,g=[];for(e=0;7>e;e++)g[e]=a[e]=null==a[e]?2===e?1:0:a[e];return a[7]=g[7]=b,null!=a[8]&&(g[8]=a[8]),a[3]+=c||0,a[4]+=d||0,f=new Date(0),b?(f.setUTCFullYear(a[0],a[1],a[2]),f.setUTCHours(a[3],a[4],a[5],a[6])):(f.setFullYear(a[0],a[1],a[2]),f.setHours(a[3],a[4],a[5],a[6])),f._a=g,f}function m(a,b){var c,d,e=[];for(!b&&H&&(b=require("./lang/"+a)),c=0;c<I.length;c++)b[I[c]]=b[I[c]]||F.en[I[c]];for(c=0;12>c;c++)d=B([2e3,c]),e[c]=new RegExp("^"+(b.months[c]||b.months(d,""))+"|^"+(b.monthsShort[c]||b.monthsShort(d,"")).replace(".",""),"i");return b.monthsParse=b.monthsParse||e,F[a]=b,b}function n(a){var b="string"==typeof a&&a||a&&a._lang||null;return b?F[b]||m(b):B}function o(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function p(a){var b,c,d=a.match(K);for(b=0,c=d.length;c>b;b++)d[b]=bb[d[b]]?bb[d[b]]:o(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+="function"==typeof d[b].call?d[b].call(e,a):d[b];return f}}function q(a,b){function c(b){return a.lang().longDateFormat[b]||b}for(var d=5;d--&&L.test(b);)b=b.replace(L,c);return $[b]||($[b]=p(b)),$[b](a)}function r(a){switch(a){case"DDDD":return P;case"YYYY":return Q;case"S":case"SS":case"SSS":case"DDD":return O;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return R;case"Z":case"ZZ":return S;case"T":return T;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return N;default:return new RegExp(a.replace("\\",""))}}function s(a,b,c,d){var e,f;switch(a){case"M":case"MM":c[1]=null==b?0:~~b-1;break;case"MMM":case"MMMM":for(e=0;12>e;e++)if(n().monthsParse[e].test(b)){c[1]=e,f=!0;break}f||(c[8]=!1);break;case"D":case"DD":case"DDD":case"DDDD":null!=b&&(c[2]=~~b);break;case"YY":c[0]=~~b+(~~b>70?1900:2e3);break;case"YYYY":c[0]=~~Math.abs(b);break;case"a":case"A":d.isPm="pm"===(b+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":c[3]=~~b;break;case"m":case"mm":c[4]=~~b;break;case"s":case"ss":c[5]=~~b;break;case"S":case"SS":case"SSS":c[6]=~~(1e3*("0."+b));break;case"Z":case"ZZ":d.isUTC=!0,e=(b+"").match(X),e&&e[1]&&(d.tzh=~~e[1]),e&&e[2]&&(d.tzm=~~e[2]),e&&"+"===e[0]&&(d.tzh=-d.tzh,d.tzm=-d.tzm)}null==b&&(c[8]=!1)}function t(a,b){var c,d,e=[0,0,1,0,0,0,0],f={tzh:0,tzm:0},g=b.match(K);for(c=0;c<g.length;c++)d=(r(g[c]).exec(a)||[])[0],d&&(a=a.slice(a.indexOf(d)+d.length)),bb[g[c]]&&s(g[c],d,e,f);return f.isPm&&e[3]<12&&(e[3]+=12),f.isPm===!1&&12===e[3]&&(e[3]=0),l(e,f.isUTC,f.tzh,f.tzm)}function u(a,b){var c,d,f,g,h,i=a.match(M)||[],j=99;for(f=0;f<b.length;f++)g=t(a,b[f]),d=q(new e(g),b[f]).match(M)||[],h=k(i,d),j>h&&(j=h,c=g);return c}function v(a){var b,c="YYYY-MM-DDT";if(U.exec(a)){for(b=0;4>b;b++)if(W[b][1].exec(a)){c+=W[b][0];break}return S.exec(a)?t(a,c+" Z"):t(a,c)}return new Date(a)}function w(a,b,c,d,e){var f=e.relativeTime[a];return"function"==typeof f?f(b||1,!!c,a,d):f.replace(/%d/i,b||1)}function x(a,b,c){var d=E(Math.abs(a)/1e3),e=E(d/60),f=E(e/60),g=E(f/24),h=E(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",E(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,w.apply({},i)}function y(a,b){B.fn[a]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function z(a){B.duration.fn[a]=function(){return this._data[a]}}function A(a,b){B.duration.fn["as"+a]=function(){return+this/b}}for(var B,C,D="1.7.2",E=Math.round,F={},G="en",H="undefined"!=typeof module&&module.exports,I="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),J=/^\/?Date\((\-?\d+)/i,K=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,M=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,N=/\d\d?/,O=/\d{1,3}/,P=/\d{3}/,Q=/\d{1,4}/,R=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,S=/Z|[\+\-]\d\d:?\d\d/i,T=/T/i,U=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,V="YYYY-MM-DDTHH:mm:ssZ",W=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],X=/([\+\-]|\d\d)/gi,Y="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Z={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},$={},_="DDD w M D d".split(" "),ab="M D H h m s w".split(" "),bb={M:function(){return this.month()+1},MMM:function(a){return b("monthsShort",this.month(),this,a)},MMMM:function(a){return b("months",this.month(),this,a)},D:function(){return this.date()},DDD:function(){var a=new Date(this.year(),this.month(),this.date()),b=new Date(this.year(),0,1);return~~((a-b)/864e5+1.5)},d:function(){return this.day()},dd:function(a){return b("weekdaysMin",this.day(),this,a)},ddd:function(a){return b("weekdaysShort",this.day(),this,a)},dddd:function(a){return b("weekdays",this.day(),this,a)},w:function(){var a=new Date(this.year(),this.month(),this.date()-this.day()+5),b=new Date(a.getFullYear(),0,4);return~~((a-b)/864e5/7+1.5)},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return h(~~(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+h(~~(a/60),2)+":"+h(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+h(~~(10*a/6),4)}};_.length;)C=_.pop(),bb[C+"o"]=d(bb[C]);for(;ab.length;)C=ab.pop(),bb[C+C]=c(bb[C],2);for(bb.DDDD=c(bb.DDD,3),B=function(b,c){if(null===b||""===b)return null;var d,f;return B.isMoment(b)?new e(new Date(+b._d),b._isUTC,b._lang):(c?d=j(c)?u(b,c):t(b,c):(f=J.exec(b),d=b===a?new Date:f?new Date(+f[1]):b instanceof Date?b:j(b)?l(b):"string"==typeof b?v(b):new Date(b)),new e(d))},B.utc=function(a,b){return j(a)?new e(l(a,!0),!0):("string"!=typeof a||S.exec(a)||(a+=" +0000",b&&(b+=" Z")),B(a,b).utc())},B.unix=function(a){return B(1e3*a)},B.duration=function(a,b){var c,d=B.isDuration(a),e="number"==typeof a,g=d?a._data:e?{}:a;return e&&(b?g[b]=a:g.milliseconds=a),c=new f(g),d&&(c._lang=a._lang),c},B.humanizeDuration=function(a,b,c){return B.duration(a,b===!0?null:b).humanize(b===!0?!0:c)},B.version=D,B.defaultFormat=V,B.lang=function(a,b){var c;if(!a)return G;if((b||!F[a])&&m(a,b),F[a]){for(c=0;c<I.length;c++)B[I[c]]=F[a][I[c]];B.monthsParse=F[a].monthsParse,G=a}},B.langData=n,B.isMoment=function(a){return a instanceof e},B.isDuration=function(a){return a instanceof f},B.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}}),B.fn=e.prototype={clone:function(){return B(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!k(this._a,(this._a[7]?B.utc(this._a):B(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return q(this,a?a:B.defaultFormat)},add:function(a,b){var c=b?B.duration(+b,a):B.duration(a);return i(this,c,1),this},subtract:function(a,b){var c=b?B.duration(+b,a):B.duration(a);return i(this,c,-1),this},diff:function(a,b,c){var d,e=this._isUTC?B(a).utc():B(a).local(),f=6e4*(this.zone()-e.zone()),g=this._d-e._d-f,h=this.year()-e.year(),i=this.month()-e.month(),j=this.date()-e.date();return d="months"===b?12*h+i+j/30:"years"===b?h+(i+j/30)/12:"seconds"===b?g/1e3:"minutes"===b?g/6e4:"hours"===b?g/36e5:"days"===b?g/864e5:"weeks"===b?g/6048e5:g,c?d:E(d)},from:function(a,b){return B.duration(this.diff(a)).lang(this._lang).humanize(!b)
},fromNow:function(a){return this.from(B(),a)},calendar:function(){var a=this.diff(B().sod(),"days",!0),b=this.lang().calendar,c=b.sameElse,d=-6>a?c:-1>a?b.lastWeek:0>a?b.lastDay:1>a?b.sameDay:2>a?b.nextDay:7>a?b.nextWeek:c;return this.format("function"==typeof d?d.apply(this):d)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<B([this.year()]).zone()||this.zone()<B([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?b:this.add({d:a-b})},startOf:function(a){switch(a.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return B.utc([this.year(),this.month()+1,0]).date()},lang:function(b){return b===a?n(this):(this._lang=b,this)}},C=0;C<Y.length;C++)y(Y[C].toLowerCase(),Y[C]);y("year","FullYear"),B.duration.fn=f.prototype={weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(a){var b=+this,c=this.lang().relativeTime,d=x(b,!a,this.lang()),e=0>=b?c.past:c.future;return a&&(d="function"==typeof e?e(d):e.replace(/%s/i,d)),d},lang:B.fn.lang};for(C in Z)Z.hasOwnProperty(C)&&(A(C,Z[C]),z(C.toLowerCase()));A("Weeks",6048e5),H&&(module.exports=B),"undefined"==typeof ender&&(this.moment=B),"function"==typeof define&&define.amd&&define("moment",[],function(){return B})}.call(this),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.React=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";var c=a(25),d=a(31),e=a(42),f=a(34),g=a(69),h=a(98),i=a(100),j=a(127),k=a(122),l=a(170);d.addons={CSSTransitionGroup:f,LinkedStateMixin:c,PureRenderMixin:e,TransitionGroup:h,batchedUpdates:i.batchedUpdates,classSet:j,cloneWithProps:k,createFragment:g.create,update:l},d.addons.Perf=a(61),d.addons.TestUtils=a(95),b.exports=d},{100:100,122:122,127:127,170:170,25:25,31:31,34:34,42:42,61:61,69:69,95:95,98:98}],2:[function(a,b){"use strict";var c=a(134),d={componentDidMount:function(){this.props.autoFocus&&c(this.getDOMNode())}};b.exports=d},{134:134}],3:[function(a,b){"use strict";function c(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function d(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function e(a){switch(a){case B.topCompositionStart:return C.compositionStart;case B.topCompositionEnd:return C.compositionEnd;case B.topCompositionUpdate:return C.compositionUpdate}}function f(a,b){return a===B.topKeyDown&&b.keyCode===u}function g(a,b){switch(a){case B.topKeyUp:return-1!==t.indexOf(b.keyCode);case B.topKeyDown:return b.keyCode!==u;case B.topKeyPress:case B.topMouseDown:case B.topBlur:return!0;default:return!1}}function h(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function i(a,b,c,d){var i,j;if(v?i=e(a):E?g(a,d)&&(i=C.compositionEnd):f(a,d)&&(i=C.compositionStart),!i)return null;y&&(E||i!==C.compositionStart?i===C.compositionEnd&&E&&(j=E.getData()):E=p.getPooled(b));var k=q.getPooled(i,c,d);if(j)k.data=j;else{var l=h(d);null!==l&&(k.data=l)}return n.accumulateTwoPhaseDispatches(k),k}function j(a,b){switch(a){case B.topCompositionEnd:return h(b);case B.topKeyPress:var c=b.which;return c!==z?null:(D=!0,A);case B.topTextInput:var d=b.data;return d===A&&D?null:d;default:return null}}function k(a,b){if(E){if(a===B.topCompositionEnd||g(a,b)){var c=E.getData();return p.release(E),E=null,c}return null}switch(a){case B.topPaste:return null;case B.topKeyPress:return b.which&&!d(b)?String.fromCharCode(b.which):null;case B.topCompositionEnd:return y?null:b.data;default:return null}}function l(a,b,c,d){var e;if(e=x?j(a,d):k(a,d),!e)return null;var f=r.getPooled(C.beforeInput,c,d);return f.data=e,n.accumulateTwoPhaseDispatches(f),f}var m=a(16),n=a(21),o=a(22),p=a(23),q=a(106),r=a(110),s=a(157),t=[9,13,27,32],u=229,v=o.canUseDOM&&"CompositionEvent"in window,w=null;o.canUseDOM&&"documentMode"in document&&(w=document.documentMode);var x=o.canUseDOM&&"TextEvent"in window&&!w&&!c(),y=o.canUseDOM&&(!v||w&&w>8&&11>=w),z=32,A=String.fromCharCode(z),B=m.topLevelTypes,C={beforeInput:{phasedRegistrationNames:{bubbled:s({onBeforeInput:null}),captured:s({onBeforeInputCapture:null})},dependencies:[B.topCompositionEnd,B.topKeyPress,B.topTextInput,B.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:s({onCompositionEnd:null}),captured:s({onCompositionEndCapture:null})},dependencies:[B.topBlur,B.topCompositionEnd,B.topKeyDown,B.topKeyPress,B.topKeyUp,B.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:s({onCompositionStart:null}),captured:s({onCompositionStartCapture:null})},dependencies:[B.topBlur,B.topCompositionStart,B.topKeyDown,B.topKeyPress,B.topKeyUp,B.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:s({onCompositionUpdate:null}),captured:s({onCompositionUpdateCapture:null})},dependencies:[B.topBlur,B.topCompositionUpdate,B.topKeyDown,B.topKeyPress,B.topKeyUp,B.topMouseDown]}},D=!1,E=null,F={eventTypes:C,extractEvents:function(a,b,c,d){return[i(a,b,c,d),l(a,b,c,d)]}};b.exports=F},{106:106,110:110,157:157,16:16,21:21,22:22,23:23}],4:[function(a,b){var c=a(150),d={addClass:function(a,b){return c(!/\s/.test(b),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',b),b&&(a.classList?a.classList.add(b):d.hasClass(a,b)||(a.className=a.className+" "+b)),a},removeClass:function(a,b){return c(!/\s/.test(b),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',b),b&&(a.classList?a.classList.remove(b):d.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),a},conditionClass:function(a,b,c){return(c?d.addClass:d.removeClass)(a,b)},hasClass:function(a,b){return c(!/\s/.test(b),"CSS.hasClass takes only a single class name."),a.classList?!!b&&a.classList.contains(b):(" "+a.className+" ").indexOf(" "+b+" ")>-1}};b.exports=d},{150:150}],5:[function(a,b){"use strict";function c(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var d={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},e=["Webkit","ms","Moz","O"];Object.keys(d).forEach(function(a){e.forEach(function(b){d[c(b,a)]=d[a]})});var f={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},g={isUnitlessNumber:d,shorthandPropertyExpansions:f};b.exports=g},{}],6:[function(a,b){"use strict";var c=a(5),d=a(22),e=a(121),f=a(128),g=a(148),h=a(159),i=a(171),j=h(function(a){return g(a)}),k="cssFloat";d.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(k="styleFloat");var l=/^(?:webkit|moz|o)[A-Z]/,m=/;\s*$/,n={},o={},p=function(a){n.hasOwnProperty(a)&&n[a]||(n[a]=!0,i(!1,"Unsupported style property %s. Did you mean %s?",a,e(a)))},q=function(a){n.hasOwnProperty(a)&&n[a]||(n[a]=!0,i(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1)))},r=function(a,b){o.hasOwnProperty(b)&&o[b]||(o[b]=!0,i(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',a,b.replace(m,"")))},s=function(a,b){a.indexOf("-")>-1?p(a):l.test(a)?q(a):m.test(b)&&r(a,b)},t={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];s(c,d),null!=d&&(b+=j(c)+":",b+=f(c,d)+";")}return b||null},setValueForStyles:function(a,b){var d=a.style;for(var e in b)if(b.hasOwnProperty(e)){s(e,b[e]);var g=f(e,b[e]);if("float"===e&&(e=k),g)d[e]=g;else{var h=c.shorthandPropertyExpansions[e];if(h)for(var i in h)d[i]="";else d[e]=""}}}};b.exports=t},{121:121,128:128,148:148,159:159,171:171,22:22,5:5}],7:[function(a,b){"use strict";function c(){this._callbacks=null,this._contexts=null}var d=a(30),e=a(29),f=a(150);e(c.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){f(a.length===b.length,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var c=0,d=a.length;d>c;c++)a[c].call(b[c]);a.length=0,b.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),d.addPoolingTo(c),b.exports=c},{150:150,29:29,30:30}],8:[function(a,b){"use strict";function c(a){return"SELECT"===a.nodeName||"INPUT"===a.nodeName&&"file"===a.type}function d(a){var b=w.getPooled(B.change,D,a);t.accumulateTwoPhaseDispatches(b),v.batchedUpdates(e,b)}function e(a){s.enqueueEvents(a),s.processEventQueue()}function f(a,b){C=a,D=b,C.attachEvent("onchange",d)}function g(){C&&(C.detachEvent("onchange",d),C=null,D=null)}function h(a,b,c){return a===A.topChange?c:void 0}function i(a,b,c){a===A.topFocus?(g(),f(b,c)):a===A.topBlur&&g()}function j(a,b){C=a,D=b,E=a.value,F=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(C,"value",I),C.attachEvent("onpropertychange",l)}function k(){C&&(delete C.value,C.detachEvent("onpropertychange",l),C=null,D=null,E=null,F=null)}function l(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==E&&(E=b,d(a))}}function m(a,b,c){return a===A.topInput?c:void 0}function n(a,b,c){a===A.topFocus?(k(),j(b,c)):a===A.topBlur&&k()}function o(a){return a!==A.topSelectionChange&&a!==A.topKeyUp&&a!==A.topKeyDown||!C||C.value===E?void 0:(E=C.value,D)}function p(a){return"INPUT"===a.nodeName&&("checkbox"===a.type||"radio"===a.type)}function q(a,b,c){return a===A.topClick?c:void 0}var r=a(16),s=a(18),t=a(21),u=a(22),v=a(100),w=a(108),x=a(151),y=a(153),z=a(157),A=r.topLevelTypes,B={change:{phasedRegistrationNames:{bubbled:z({onChange:null}),captured:z({onChangeCapture:null})},dependencies:[A.topBlur,A.topChange,A.topClick,A.topFocus,A.topInput,A.topKeyDown,A.topKeyUp,A.topSelectionChange]}},C=null,D=null,E=null,F=null,G=!1;u.canUseDOM&&(G=x("change")&&(!("documentMode"in document)||document.documentMode>8));var H=!1;u.canUseDOM&&(H=x("input")&&(!("documentMode"in document)||document.documentMode>9));var I={get:function(){return F.get.call(this)},set:function(a){E=""+a,F.set.call(this,a)}},J={eventTypes:B,extractEvents:function(a,b,d,e){var f,g;if(c(b)?G?f=h:g=i:y(b)?H?f=m:(f=o,g=n):p(b)&&(f=q),f){var j=f(a,b,d);if(j){var k=w.getPooled(B.change,j,e);return t.accumulateTwoPhaseDispatches(k),k}}g&&g(a,b,d)}};b.exports=J},{100:100,108:108,151:151,153:153,157:157,16:16,18:18,21:21,22:22}],9:[function(a,b){"use strict";var c=0,d={createReactRootIndex:function(){return c++}};b.exports=d},{}],10:[function(a,b){"use strict";function c(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}var d=a(13),e=a(79),f=a(165),g=a(150),h={dangerouslyReplaceNodeWithMarkup:d.dangerouslyReplaceNodeWithMarkup,updateTextContent:f,processUpdates:function(a,b){for(var h,i=null,j=null,k=0;k<a.length;k++)if(h=a[k],h.type===e.MOVE_EXISTING||h.type===e.REMOVE_NODE){var l=h.fromIndex,m=h.parentNode.childNodes[l],n=h.parentID;g(m,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",l,n),i=i||{},i[n]=i[n]||[],i[n][l]=m,j=j||[],j.push(m)}var o=d.dangerouslyRenderMarkup(b);if(j)for(var p=0;p<j.length;p++)j[p].parentNode.removeChild(j[p]);for(var q=0;q<a.length;q++)switch(h=a[q],h.type){case e.INSERT_MARKUP:c(h.parentNode,o[h.markupIndex],h.toIndex);break;case e.MOVE_EXISTING:c(h.parentNode,i[h.parentID][h.fromIndex],h.toIndex);break;case e.TEXT_CONTENT:f(h.parentNode,h.textContent);break;case e.REMOVE_NODE:}}};b.exports=h},{13:13,150:150,165:165,79:79}],11:[function(a,b){"use strict";function c(a,b){return(a&b)===b}var d=a(150),e={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=a.Properties||{},f=a.DOMAttributeNames||{},h=a.DOMPropertyNames||{},i=a.DOMMutationMethods||{};a.isCustomAttribute&&g._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var j in b){d(!g.isStandardName.hasOwnProperty(j),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",j),g.isStandardName[j]=!0;var k=j.toLowerCase();if(g.getPossibleStandardName[k]=j,f.hasOwnProperty(j)){var l=f[j];g.getPossibleStandardName[l]=j,g.getAttributeName[j]=l}else g.getAttributeName[j]=k;g.getPropertyName[j]=h.hasOwnProperty(j)?h[j]:j,g.getMutationMethod[j]=i.hasOwnProperty(j)?i[j]:null;var m=b[j];g.mustUseAttribute[j]=c(m,e.MUST_USE_ATTRIBUTE),g.mustUseProperty[j]=c(m,e.MUST_USE_PROPERTY),g.hasSideEffects[j]=c(m,e.HAS_SIDE_EFFECTS),g.hasBooleanValue[j]=c(m,e.HAS_BOOLEAN_VALUE),g.hasNumericValue[j]=c(m,e.HAS_NUMERIC_VALUE),g.hasPositiveNumericValue[j]=c(m,e.HAS_POSITIVE_NUMERIC_VALUE),g.hasOverloadedBooleanValue[j]=c(m,e.HAS_OVERLOADED_BOOLEAN_VALUE),d(!g.mustUseAttribute[j]||!g.mustUseProperty[j],"DOMProperty: Cannot require using both attribute and property: %s",j),d(g.mustUseProperty[j]||!g.hasSideEffects[j],"DOMProperty: Properties that have side effects must use property: %s",j),d(!!g.hasBooleanValue[j]+!!g.hasNumericValue[j]+!!g.hasOverloadedBooleanValue[j]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",j)}}},f={},g={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<g._isCustomAttributeFunctions.length;b++){var c=g._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=f[a];return d||(f[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:e};b.exports=g},{150:150}],12:[function(a,b){"use strict";function c(a,b){return null==b||d.hasBooleanValue[a]&&!b||d.hasNumericValue[a]&&isNaN(b)||d.hasPositiveNumericValue[a]&&1>b||d.hasOverloadedBooleanValue[a]&&b===!1}var d=a(11),e=a(163),f=a(171),g={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},h={},i=function(a){if(!(g.hasOwnProperty(a)&&g[a]||h.hasOwnProperty(a)&&h[a])){h[a]=!0;var b=a.toLowerCase(),c=d.isCustomAttribute(b)?b:d.getPossibleStandardName.hasOwnProperty(b)?d.getPossibleStandardName[b]:null;f(null==c,"Unknown DOM property %s. Did you mean %s?",a,c)}},j={createMarkupForID:function(a){return d.ID_ATTRIBUTE_NAME+"="+e(a)},createMarkupForProperty:function(a,b){if(d.isStandardName.hasOwnProperty(a)&&d.isStandardName[a]){if(c(a,b))return"";var f=d.getAttributeName[a];return d.hasBooleanValue[a]||d.hasOverloadedBooleanValue[a]&&b===!0?f:f+"="+e(b)}return d.isCustomAttribute(a)?null==b?"":a+"="+e(b):(i(a),null)},setValueForProperty:function(a,b,e){if(d.isStandardName.hasOwnProperty(b)&&d.isStandardName[b]){var f=d.getMutationMethod[b];if(f)f(a,e);else if(c(b,e))this.deleteValueForProperty(a,b);else if(d.mustUseAttribute[b])a.setAttribute(d.getAttributeName[b],""+e);else{var g=d.getPropertyName[b];d.hasSideEffects[b]&&""+a[g]==""+e||(a[g]=e)}}else d.isCustomAttribute(b)?null==e?a.removeAttribute(b):a.setAttribute(b,""+e):i(b)},deleteValueForProperty:function(a,b){if(d.isStandardName.hasOwnProperty(b)&&d.isStandardName[b]){var c=d.getMutationMethod[b];if(c)c(a,void 0);else if(d.mustUseAttribute[b])a.removeAttribute(d.getAttributeName[b]);else{var e=d.getPropertyName[b],f=d.getDefaultValueForProperty(a.nodeName,e);d.hasSideEffects[b]&&""+a[e]===f||(a[e]=f)}}else d.isCustomAttribute(b)?a.removeAttribute(b):i(b)}};b.exports=j},{11:11,163:163,171:171}],13:[function(a,b){"use strict";function c(a){return a.substring(1,a.indexOf(" "))}var d=a(22),e=a(126),f=a(129),g=a(142),h=a(150),i=/^(<[^ \/>]+)/,j="data-danger-index",k={dangerouslyRenderMarkup:function(a){h(d.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering.");for(var b,k={},l=0;l<a.length;l++)h(a[l],"dangerouslyRenderMarkup(...): Missing markup."),b=c(a[l]),b=g(b)?b:"*",k[b]=k[b]||[],k[b][l]=a[l];var m=[],n=0;for(b in k)if(k.hasOwnProperty(b)){var o,p=k[b];for(o in p)if(p.hasOwnProperty(o)){var q=p[o];p[o]=q.replace(i,"$1 "+j+'="'+o+'" ')}for(var r=e(p.join(""),f),s=0;s<r.length;++s){var t=r[s];t.hasAttribute&&t.hasAttribute(j)?(o=+t.getAttribute(j),t.removeAttribute(j),h(!m.hasOwnProperty(o),"Danger: Assigning to an already-occupied result index."),m[o]=t,n+=1):console.error("Danger: Discarding unexpected node:",t)}}return h(n===m.length,"Danger: Did not assign to every index of resultList."),h(m.length===a.length,"Danger: Expected markup to render %s nodes, but rendered %s.",a.length,m.length),m},dangerouslyReplaceNodeWithMarkup:function(a,b){h(d.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."),h(b,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),h("html"!==a.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See React.renderToString().");var c=e(b,f)[0];a.parentNode.replaceChild(c,a)}};b.exports=k},{126:126,129:129,142:142,150:150,22:22}],14:[function(a,b){"use strict";var c=a(157),d=[c({ResponderEventPlugin:null}),c({SimpleEventPlugin:null}),c({TapEventPlugin:null}),c({EnterLeaveEventPlugin:null}),c({ChangeEventPlugin:null}),c({SelectEventPlugin:null}),c({BeforeInputEventPlugin:null}),c({AnalyticsEventPlugin:null}),c({MobileSafariClickEventPlugin:null})];b.exports=d},{157:157}],15:[function(a,b){"use strict";var c=a(16),d=a(21),e=a(112),f=a(77),g=a(157),h=c.topLevelTypes,i=f.getFirstReactDOM,j={mouseEnter:{registrationName:g({onMouseEnter:null}),dependencies:[h.topMouseOut,h.topMouseOver]},mouseLeave:{registrationName:g({onMouseLeave:null}),dependencies:[h.topMouseOut,h.topMouseOver]}},k=[null,null],l={eventTypes:j,extractEvents:function(a,b,c,g){if(a===h.topMouseOver&&(g.relatedTarget||g.fromElement))return null;if(a!==h.topMouseOut&&a!==h.topMouseOver)return null;var l;if(b.window===b)l=b;else{var m=b.ownerDocument;l=m?m.defaultView||m.parentWindow:window}var n,o;if(a===h.topMouseOut?(n=b,o=i(g.relatedTarget||g.toElement)||l):(n=l,o=b),n===o)return null;var p=n?f.getID(n):"",q=o?f.getID(o):"",r=e.getPooled(j.mouseLeave,p,g);r.type="mouseleave",r.target=n,r.relatedTarget=o;var s=e.getPooled(j.mouseEnter,q,g);return s.type="mouseenter",s.target=o,s.relatedTarget=n,d.accumulateEnterLeaveDispatches(r,s,p,q),k[0]=r,k[1]=s,k}};b.exports=l},{112:112,157:157,16:16,21:21,77:77}],16:[function(a,b){"use strict";var c=a(156),d=c({bubbled:null,captured:null}),e=c({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),f={topLevelTypes:e,PropagationPhases:d};b.exports=f},{156:156}],17:[function(a,b){var c=a(129),d={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,b,d){return a.addEventListener?(a.addEventListener(b,d,!0),{remove:function(){a.removeEventListener(b,d,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:c})},registerDefault:function(){}};b.exports=d},{129:129}],18:[function(a,b){"use strict";function c(){var a=l&&l.traverseTwoPhase&&l.traverseEnterLeave;h(a,"InstanceHandle not injected before use!")}var d=a(19),e=a(20),f=a(118),g=a(135),h=a(150),i={},j=null,k=function(a){if(a){var b=e.executeDispatch,c=d.getPluginModuleForEvent(a);c&&c.executeDispatch&&(b=c.executeDispatch),e.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a)}},l=null,m={injection:{injectMount:e.injection.injectMount,injectInstanceHandle:function(a){l=a,c()},getInstanceHandle:function(){return c(),l},injectEventPluginOrder:d.injectEventPluginOrder,injectEventPluginsByName:d.injectEventPluginsByName},eventNameDispatchConfigs:d.eventNameDispatchConfigs,registrationNameModules:d.registrationNameModules,putListener:function(a,b,c){h(!c||"function"==typeof c,"Expected %s listener to be a function, instead got type %s",b,typeof c);var d=i[b]||(i[b]={});d[a]=c},getListener:function(a,b){var c=i[b];return c&&c[a]},deleteListener:function(a,b){var c=i[b];c&&delete c[a]},deleteAllListeners:function(a){for(var b in i)delete i[b][a]},extractEvents:function(a,b,c,e){for(var g,h=d.plugins,i=0,j=h.length;j>i;i++){var k=h[i];if(k){var l=k.extractEvents(a,b,c,e);l&&(g=f(g,l))}}return g},enqueueEvents:function(a){a&&(j=f(j,a))},processEventQueue:function(){var a=j;j=null,g(a,k),h(!j,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){i={}},__getListenerBank:function(){return i}};b.exports=m},{118:118,135:135,150:150,19:19,20:20}],19:[function(a,b){"use strict";function c(){if(g)for(var a in h){var b=h[a],c=g.indexOf(a);if(f(c>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",a),!i.plugins[c]){f(b.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",a),i.plugins[c]=b;var e=b.eventTypes;for(var j in e)f(d(e[j],b,j),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",j,a)}}}function d(a,b,c){f(!i.eventNameDispatchConfigs.hasOwnProperty(c),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",c),i.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var g in d)if(d.hasOwnProperty(g)){var h=d[g];e(h,b,c)}return!0}return a.registrationName?(e(a.registrationName,b,c),!0):!1}function e(a,b,c){f(!i.registrationNameModules[a],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",a),i.registrationNameModules[a]=b,i.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var f=a(150),g=null,h={},i={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){f(!g,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),g=Array.prototype.slice.call(a),c()},injectEventPluginsByName:function(a){var b=!1;for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];h.hasOwnProperty(d)&&h[d]===e||(f(!h[d],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",d),h[d]=e,b=!0)}b&&c()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return i.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=i.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){g=null;for(var a in h)h.hasOwnProperty(a)&&delete h[a];i.plugins.length=0;var b=i.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=i.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};b.exports=i},{150:150}],20:[function(a,b){"use strict";function c(a){return a===q.topMouseUp||a===q.topTouchEnd||a===q.topTouchCancel}function d(a){return a===q.topMouseMove||a===q.topTouchMove}function e(a){return a===q.topMouseDown||a===q.topTouchStart}function f(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(m(a),Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)b(a,c[e],d[e]);else c&&b(a,c,d)}function g(a,b,c){a.currentTarget=p.Mount.getNode(c);var d=b(a,c);return a.currentTarget=null,d}function h(a,b){f(a,b),a._dispatchListeners=null,a._dispatchIDs=null}function i(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(m(a),Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function j(a){var b=i(a);return a._dispatchIDs=null,a._dispatchListeners=null,b}function k(a){m(a);var b=a._dispatchListeners,c=a._dispatchIDs;o(!Array.isArray(b),"executeDirectDispatch(...): Invalid `event`.");var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function l(a){return!!a._dispatchListeners}var m,n=a(16),o=a(150),p={Mount:null,injectMount:function(a){p.Mount=a,o(a&&a.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},q=n.topLevelTypes;m=function(a){var b=a._dispatchListeners,c=a._dispatchIDs,d=Array.isArray(b),e=Array.isArray(c),f=e?c.length:c?1:0,g=d?b.length:b?1:0;o(e===d&&f===g,"EventPluginUtils: Invalid `event`.")};var r={isEndish:c,isMoveish:d,isStartish:e,executeDirectDispatch:k,executeDispatch:g,executeDispatchesInOrder:h,executeDispatchesInOrderStopAtTrue:j,hasDispatches:l,injection:p,useTouchEvents:!1};b.exports=r},{150:150,16:16}],21:[function(a,b){"use strict";function c(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return p(a,d)}function d(a,b,d){if(!a)throw new Error("Dispatching id must not be null");var e=b?o.bubbled:o.captured,f=c(a,d,e);f&&(d._dispatchListeners=m(d._dispatchListeners,f),d._dispatchIDs=m(d._dispatchIDs,a))}function e(a){a&&a.dispatchConfig.phasedRegistrationNames&&l.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,d,a)}function f(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=p(a,d);e&&(c._dispatchListeners=m(c._dispatchListeners,e),c._dispatchIDs=m(c._dispatchIDs,a))}}function g(a){a&&a.dispatchConfig.registrationName&&f(a.dispatchMarker,null,a)}function h(a){n(a,e)}function i(a,b,c,d){l.injection.getInstanceHandle().traverseEnterLeave(c,d,f,a,b)}function j(a){n(a,g)}var k=a(16),l=a(18),m=a(118),n=a(135),o=k.PropagationPhases,p=l.getListener,q={accumulateTwoPhaseDispatches:h,accumulateDirectDispatches:j,accumulateEnterLeaveDispatches:i};
b.exports=q},{118:118,135:135,16:16,18:18}],22:[function(a,b){"use strict";var c=!("undefined"==typeof window||!window.document||!window.document.createElement),d={canUseDOM:c,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:c&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c};b.exports=d},{}],23:[function(a,b){"use strict";function c(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var d=a(30),e=a(29),f=a(145);e(c.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[f()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);var g=d-a;for(b=1;g>=b&&c[d-b]===e[f-b];b++);var h=b>1?1-b:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),d.addPoolingTo(c),b.exports=c},{145:145,29:29,30:30}],24:[function(a,b){"use strict";var c,d=a(11),e=a(22),f=d.injection.MUST_USE_ATTRIBUTE,g=d.injection.MUST_USE_PROPERTY,h=d.injection.HAS_BOOLEAN_VALUE,i=d.injection.HAS_SIDE_EFFECTS,j=d.injection.HAS_NUMERIC_VALUE,k=d.injection.HAS_POSITIVE_NUMERIC_VALUE,l=d.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(e.canUseDOM){var m=document.implementation;c=m&&m.hasFeature&&m.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var n={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:f|h,allowTransparency:f,alt:null,async:h,autoComplete:null,autoPlay:h,cellPadding:null,cellSpacing:null,charSet:f,checked:g|h,classID:f,className:c?f:g,cols:f|k,colSpan:null,content:null,contentEditable:null,contextMenu:f,controls:g|h,coords:null,crossOrigin:null,data:null,dateTime:f,defer:h,dir:null,disabled:f|h,download:l,draggable:null,encType:null,form:f,formAction:f,formEncType:f,formMethod:f,formNoValidate:h,formTarget:f,frameBorder:f,headers:null,height:f,hidden:f|h,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:g,label:null,lang:null,list:f,loop:g|h,low:null,manifest:f,marginHeight:null,marginWidth:null,max:null,maxLength:f,media:f,mediaGroup:null,method:null,min:null,multiple:g|h,muted:g|h,name:null,noValidate:h,open:h,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:g|h,rel:null,required:h,role:f,rows:f|k,rowSpan:null,sandbox:null,scope:null,scoped:h,scrolling:null,seamless:f|h,selected:g|h,shape:null,size:f|k,sizes:f,span:k,spellCheck:null,src:null,srcDoc:g,srcSet:f,start:j,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:g|i,width:f,wmode:f,autoCapitalize:null,autoCorrect:null,itemProp:f,itemScope:f|h,itemType:f,itemID:f,itemRef:f,property:null,unselectable:f},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};b.exports=n},{11:11,22:22}],25:[function(a,b){"use strict";var c=a(75),d=a(94),e={linkState:function(a){return new c(this.state[a],d.createStateKeySetter(this,a))}};b.exports=e},{75:75,94:94}],26:[function(a,b){"use strict";function c(a){i(null==a.props.checkedLink||null==a.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function d(a){c(a),i(null==a.props.value&&null==a.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function e(a){c(a),i(null==a.props.checked&&null==a.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function f(a){this.props.valueLink.requestChange(a.target.value)}function g(a){this.props.checkedLink.requestChange(a.target.checked)}var h=a(86),i=a(150),j={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},k={Mixin:{propTypes:{value:function(a,b){return!a[b]||j[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func}},getValue:function(a){return a.props.valueLink?(d(a),a.props.valueLink.value):a.props.value},getChecked:function(a){return a.props.checkedLink?(e(a),a.props.checkedLink.value):a.props.checked},getOnChange:function(a){return a.props.valueLink?(d(a),f):a.props.checkedLink?(e(a),g):a.props.onChange}};b.exports=k},{150:150,86:86}],27:[function(a,b){"use strict";function c(a){a.remove()}var d=a(33),e=a(118),f=a(135),g=a(150),h={trapBubbledEvent:function(a,b){g(this.isMounted(),"Must be mounted to trap events");var c=this.getDOMNode();g(c,"LocalEventTrapMixin.trapBubbledEvent(...): Requires node to be rendered.");var f=d.trapBubbledEvent(a,b,c);this._localEventListeners=e(this._localEventListeners,f)},componentWillUnmount:function(){this._localEventListeners&&f(this._localEventListeners,c)}};b.exports=h},{118:118,135:135,150:150,33:33}],28:[function(a,b){"use strict";var c=a(16),d=a(129),e=c.topLevelTypes,f={eventTypes:null,extractEvents:function(a,b,c,f){if(a===e.topTouchStart){var g=f.target;g&&!g.onclick&&(g.onclick=d)}}};b.exports=f},{129:129,16:16}],29:[function(a,b){"use strict";function c(a){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var b=Object(a),c=Object.prototype.hasOwnProperty,d=1;d<arguments.length;d++){var e=arguments[d];if(null!=e){var f=Object(e);for(var g in f)c.call(f,g)&&(b[g]=f[g])}}return b}b.exports=c},{}],30:[function(a,b){"use strict";var c=a(150),d=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},e=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},f=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},g=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},h=function(a){var b=this;c(a instanceof b,"Trying to release an instance into a pool of a different type."),a.destructor&&a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},i=10,j=d,k=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||j,c.poolSize||(c.poolSize=i),c.release=h,c},l={addPoolingTo:k,oneArgumentPooler:d,twoArgumentPooler:e,threeArgumentPooler:f,fiveArgumentPooler:g};b.exports=l},{150:150}],31:[function(a,b){"use strict";var c=a(20),d=a(37),e=a(39),f=a(38),g=a(44),h=a(45),i=a(63),j=a(64),k=a(46),l=a(57),m=a(60),n=a(72),o=a(77),p=a(82),q=a(86),r=a(89),s=a(92),t=a(29),u=a(132),v=a(160);m.inject();var w=i.createElement,x=i.createFactory,y=i.cloneElement;w=j.createElement,x=j.createFactory,y=j.cloneElement;var z=p.measure("React","render",o.render),A={Children:{map:d.map,forEach:d.forEach,count:d.count,only:v},Component:e,DOM:k,PropTypes:q,initializeTouchEvents:function(a){c.useTouchEvents=a},createClass:f.createClass,createElement:w,cloneElement:y,createFactory:x,createMixin:function(a){return a},constructAndRenderComponent:o.constructAndRenderComponent,constructAndRenderComponentByID:o.constructAndRenderComponentByID,findDOMNode:u,render:z,renderToString:s.renderToString,renderToStaticMarkup:s.renderToStaticMarkup,unmountComponentAtNode:o.unmountComponentAtNode,isValidElement:i.isValidElement,withContext:g.withContext,__spread:t};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:h,InstanceHandles:n,Mount:o,Reconciler:r,TextComponent:l});var B=a(22);if(B.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");for(var C=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],D=0;D<C.length;D++)if(!C[D]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}A.version="0.13.3",b.exports=A},{132:132,160:160,20:20,22:22,29:29,37:37,38:38,39:39,44:44,45:45,46:46,57:57,60:60,63:63,64:64,72:72,77:77,82:82,86:86,89:89,92:92}],32:[function(a,b){"use strict";var c=a(132),d={getDOMNode:function(){return c(this)}};b.exports=d},{132:132}],33:[function(a,b){"use strict";function c(a){return Object.prototype.hasOwnProperty.call(a,o)||(a[o]=m++,k[a[o]]={}),k[a[o]]}var d=a(16),e=a(18),f=a(19),g=a(67),h=a(117),i=a(29),j=a(151),k={},l=!1,m=0,n={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},o="_reactListenersID"+String(Math.random()).slice(2),p=i({},g,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(p.handleTopLevel),p.ReactEventListener=a}},setEnabled:function(a){p.ReactEventListener&&p.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!p.ReactEventListener||!p.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var e=b,g=c(e),h=f.registrationNameDependencies[a],i=d.topLevelTypes,k=0,l=h.length;l>k;k++){var m=h[k];g.hasOwnProperty(m)&&g[m]||(m===i.topWheel?j("wheel")?p.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",e):j("mousewheel")?p.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",e):p.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",e):m===i.topScroll?j("scroll",!0)?p.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",e):p.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",p.ReactEventListener.WINDOW_HANDLE):m===i.topFocus||m===i.topBlur?(j("focus",!0)?(p.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",e),p.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",e)):j("focusin")&&(p.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",e),p.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",e)),g[i.topBlur]=!0,g[i.topFocus]=!0):n.hasOwnProperty(m)&&p.ReactEventListener.trapBubbledEvent(m,n[m],e),g[m]=!0)}},trapBubbledEvent:function(a,b,c){return p.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return p.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(!l){var a=h.refreshScrollValues;p.ReactEventListener.monitorScrollValue(a),l=!0}},eventNameDispatchConfigs:e.eventNameDispatchConfigs,registrationNameModules:e.registrationNameModules,putListener:e.putListener,getListener:e.getListener,deleteListener:e.deleteListener,deleteAllListeners:e.deleteAllListeners});b.exports=p},{117:117,151:151,16:16,18:18,19:19,29:29,67:67}],34:[function(a,b){"use strict";var c=a(31),d=a(29),e=c.createFactory(a(98)),f=c.createFactory(a(35)),g=c.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:c.PropTypes.string.isRequired,transitionAppear:c.PropTypes.bool,transitionEnter:c.PropTypes.bool,transitionLeave:c.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(a){return f({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},a)},render:function(){return e(d({},this.props,{childFactory:this._wrapChild}))}});b.exports=g},{29:29,31:31,35:35,98:98}],35:[function(a,b){"use strict";var c=a(31),d=a(4),e=a(97),f=a(160),g=a(171),h=17,i=5e3,j=null;j=function(){g(!1,"transition(): tried to perform an animation without an animationend or transitionend event after timeout (%sms). You should either disable this transition in JS or add a CSS animation/transition.",i)};var k=c.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(a,b){var c=this.getDOMNode(),f=this.props.name+"-"+a,g=f+"-active",h=null,k=function(a){a&&a.target!==c||(clearTimeout(h),d.removeClass(c,f),d.removeClass(c,g),e.removeEndEventListener(c,k),b&&b())};e.addEndEventListener(c,k),d.addClass(c,f),this.queueClass(g),h=setTimeout(j,i)},queueClass:function(a){this.classNameQueue.push(a),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,h))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(d.addClass.bind(d,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(a){this.props.appear?this.transition("appear",a):a()},componentWillEnter:function(a){this.props.enter?this.transition("enter",a):a()},componentWillLeave:function(a){this.props.leave?this.transition("leave",a):a()},render:function(){return f(this.props.children)}});b.exports=k},{160:160,171:171,31:31,4:4,97:97}],36:[function(a,b){"use strict";var c=a(89),d=a(133),e=a(149),f=a(167),g={instantiateChildren:function(a){var b=d(a);for(var c in b)if(b.hasOwnProperty(c)){var f=b[c],g=e(f,null);b[c]=g}return b},updateChildren:function(a,b,g,h){var i=d(b);if(!i&&!a)return null;var j;for(j in i)if(i.hasOwnProperty(j)){var k=a&&a[j],l=k&&k._currentElement,m=i[j];if(f(l,m))c.receiveComponent(k,m,g,h),i[j]=k;else{k&&c.unmountComponent(k,j);var n=e(m,null);i[j]=n}}for(j in a)!a.hasOwnProperty(j)||i&&i.hasOwnProperty(j)||c.unmountComponent(a[j]);return i},unmountChildren:function(a){for(var b in a){var d=a[b];c.unmountComponent(d)}}};b.exports=g},{133:133,149:149,167:167,89:89}],37:[function(a,b){"use strict";function c(a,b){this.forEachFunction=a,this.forEachContext=b}function d(a,b,c,d){var e=a;e.forEachFunction.call(e.forEachContext,b,d)}function e(a,b,e){if(null==a)return a;var f=c.getPooled(b,e);m(a,d,f),c.release(f)}function f(a,b,c){this.mapResult=a,this.mapFunction=b,this.mapContext=c}function g(a,b,c,d){var e=a,f=e.mapResult,g=!f.hasOwnProperty(c);if(n(g,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",c),g){var h=e.mapFunction.call(e.mapContext,b,d);f[c]=h}}function h(a,b,c){if(null==a)return a;var d={},e=f.getPooled(d,b,c);return m(a,g,e),f.release(e),l.create(d)}function i(){return null}function j(a){return m(a,i,null)}var k=a(30),l=a(69),m=a(169),n=a(171),o=k.twoArgumentPooler,p=k.threeArgumentPooler;k.addPoolingTo(c,o),k.addPoolingTo(f,p);var q={forEach:e,map:h,count:j};b.exports=q},{169:169,171:171,30:30,69:69}],38:[function(a,b){"use strict";function c(a,b,c){for(var d in b)b.hasOwnProperty(d)&&y("function"==typeof b[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a.displayName||"ReactClass",s[c],d)}function d(a,b){var c=C.hasOwnProperty(b)?C[b]:null;F.hasOwnProperty(b)&&v(c===A.OVERRIDE_BASE,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",b),a.hasOwnProperty(b)&&v(c===A.DEFINE_MANY||c===A.DEFINE_MANY_MERGED,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",b)}function e(a,b){if(b){v("function"!=typeof b,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."),v(!n.isValidElement(b),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var c=a.prototype;b.hasOwnProperty(z)&&D.mixins(a,b.mixins);for(var e in b)if(b.hasOwnProperty(e)&&e!==z){var f=b[e];if(d(c,e),D.hasOwnProperty(e))D[e](a,f);else{var g=C.hasOwnProperty(e),j=c.hasOwnProperty(e),k=f&&f.__reactDontBind,l="function"==typeof f,m=l&&!g&&!j&&!k;if(m)c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[e]=f,c[e]=f;else if(j){var o=C[e];v(g&&(o===A.DEFINE_MANY_MERGED||o===A.DEFINE_MANY),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",o,e),o===A.DEFINE_MANY_MERGED?c[e]=h(c[e],f):o===A.DEFINE_MANY&&(c[e]=i(c[e],f))}else c[e]=f,"function"==typeof f&&b.displayName&&(c[e].displayName=b.displayName+"_"+e)}}}}function f(a,b){if(b)for(var c in b){var d=b[c];if(b.hasOwnProperty(c)){var e=c in D;v(!e,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',c);var f=c in a;v(!f,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",c),a[c]=d}}}function g(a,b){v(a&&b&&"object"==typeof a&&"object"==typeof b,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var c in b)b.hasOwnProperty(c)&&(v(void 0===a[c],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",c),a[c]=b[c]);return a}function h(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};return g(e,c),g(e,d),e}}function i(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function j(a,b){var c=b.bind(a);c.__reactBoundContext=a,c.__reactBoundMethod=b,c.__reactBoundArguments=null;var d=a.constructor.displayName,e=c.bind;return c.bind=function(f){for(var g=[],h=1,i=arguments.length;i>h;h++)g.push(arguments[h]);if(f!==a&&null!==f)y(!1,"bind(): React component methods may only be bound to the component instance. See %s",d);else if(!g.length)return y(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",d),c;var j=e.apply(c,arguments);return j.__reactBoundContext=a,j.__reactBoundMethod=b,j.__reactBoundArguments=g,j},c}function k(a){for(var b in a.__reactAutoBindMap)if(a.__reactAutoBindMap.hasOwnProperty(b)){var c=a.__reactAutoBindMap[b];a[b]=j(a,o.guard(c,a.constructor.displayName+"."+b))}}var l=a(39),m=a(45),n=a(63),o=a(66),p=a(73),q=a(74),r=a(85),s=a(84),t=a(99),u=a(29),v=a(150),w=a(156),x=a(157),y=a(171),z=x({mixins:null}),A=w({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),B=[],C={mixins:A.DEFINE_MANY,statics:A.DEFINE_MANY,propTypes:A.DEFINE_MANY,contextTypes:A.DEFINE_MANY,childContextTypes:A.DEFINE_MANY,getDefaultProps:A.DEFINE_MANY_MERGED,getInitialState:A.DEFINE_MANY_MERGED,getChildContext:A.DEFINE_MANY_MERGED,render:A.DEFINE_ONCE,componentWillMount:A.DEFINE_MANY,componentDidMount:A.DEFINE_MANY,componentWillReceiveProps:A.DEFINE_MANY,shouldComponentUpdate:A.DEFINE_ONCE,componentWillUpdate:A.DEFINE_MANY,componentDidUpdate:A.DEFINE_MANY,componentWillUnmount:A.DEFINE_MANY,updateComponent:A.OVERRIDE_BASE},D={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)e(a,b[c])},childContextTypes:function(a,b){c(a,b,r.childContext),a.childContextTypes=u({},a.childContextTypes,b)},contextTypes:function(a,b){c(a,b,r.context),a.contextTypes=u({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps=a.getDefaultProps?h(a.getDefaultProps,b):b},propTypes:function(a,b){c(a,b,r.prop),a.propTypes=u({},a.propTypes,b)},statics:function(a,b){f(a,b)}},E={enumerable:!1,get:function(){var a=this.displayName||this.name||"Component";return y(!1,"%s.type is deprecated. Use %s directly to access the class.",a,a),Object.defineProperty(this,"type",{value:this}),this}},F={replaceState:function(a,b){t.enqueueReplaceState(this,a),b&&t.enqueueCallback(this,b)},isMounted:function(){var a=m.current;null!==a&&(y(a._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",a.getName()||"A component"),a._warnedAboutRefsInRender=!0);var b=p.get(this);return b&&b!==q.currentlyMountingInstance},setProps:function(a,b){t.enqueueSetProps(this,a),b&&t.enqueueCallback(this,b)},replaceProps:function(a,b){t.enqueueReplaceProps(this,a),b&&t.enqueueCallback(this,b)}},G=function(){};u(G.prototype,l.prototype,F);var H={createClass:function(a){var b=function(a,c){y(this instanceof b,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&k(this),this.props=a,this.context=c,this.state=null;var d=this.getInitialState?this.getInitialState():null;"undefined"==typeof d&&this.getInitialState._isMockFunction&&(d=null),v("object"==typeof d&&!Array.isArray(d),"%s.getInitialState(): must return an object or null",b.displayName||"ReactCompositeComponent"),this.state=d};b.prototype=new G,b.prototype.constructor=b,B.forEach(e.bind(null,b)),e(b,a),b.getDefaultProps&&(b.defaultProps=b.getDefaultProps()),b.getDefaultProps&&(b.getDefaultProps.isReactClassApproved={}),b.prototype.getInitialState&&(b.prototype.getInitialState.isReactClassApproved={}),v(b.prototype.render,"createClass(...): Class specification must implement a `render` method."),y(!b.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",a.displayName||"A component");for(var c in C)b.prototype[c]||(b.prototype[c]=null);b.type=b;try{Object.defineProperty(b,"type",E)}catch(d){}return b},injection:{injectMixin:function(a){B.push(a)}}};b.exports=H},{150:150,156:156,157:157,171:171,29:29,39:39,45:45,63:63,66:66,73:73,74:74,84:84,85:85,99:99}],39:[function(a,b){"use strict";function c(a,b){this.props=a,this.context=b}var d=a(99),e=a(150),f=a(171);c.prototype.setState=function(a,b){e("object"==typeof a||"function"==typeof a||null==a,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),f(null!=a,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),d.enqueueSetState(this,a),b&&d.enqueueCallback(this,b)},c.prototype.forceUpdate=function(a){d.enqueueForceUpdate(this),a&&d.enqueueCallback(this,a)};var g={getDOMNode:["getDOMNode","Use React.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead call React.render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead call React.render again at the top level."]},h=function(a,b){try{Object.defineProperty(c.prototype,a,{get:function(){return void f(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",b[0],b[1])}})}catch(d){}};for(var i in g)g.hasOwnProperty(i)&&h(i,g[i]);b.exports=c},{150:150,171:171,99:99}],40:[function(a,b){"use strict";var c=a(50),d=a(77),e={processChildrenUpdates:c.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:c.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){d.purgeID(a)}};b.exports=e},{50:50,77:77}],41:[function(a,b){"use strict";var c=a(150),d=!1,e={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){c(!d,"ReactCompositeComponent: injectEnvironment() can only be called once."),e.unmountIDFromEnvironment=a.unmountIDFromEnvironment,e.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID,e.processChildrenUpdates=a.processChildrenUpdates,d=!0}}};b.exports=e},{150:150}],42:[function(a,b){"use strict";var c=a(166),d={shouldComponentUpdate:function(a,b){return!c(this.props,a)||!c(this.state,b)}};b.exports=d},{166:166}],43:[function(a,b){"use strict";function c(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" Check the render method of `"+c+"`."}return""}var d=a(41),e=a(44),f=a(45),g=a(63),h=a(64),i=a(73),j=a(74),k=a(80),l=a(82),m=a(85),n=a(84),o=a(89),p=a(100),q=a(29),r=a(130),s=a(150),t=a(167),u=a(171),v=1,w={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(a,b,c){this._context=c,this._mountOrder=v++,this._rootNodeID=a;var d=this._processProps(this._currentElement.props),e=this._processContext(this._currentElement._context),f=k.getComponentClassForElement(this._currentElement),g=new f(d,e);u(null!=g.render,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render` in your component or you may have accidentally tried to render an element whose type is a function that isn't a React component.",f.displayName||f.name||"Component"),g.props=d,g.context=e,g.refs=r,this._instance=g,i.set(g,this),this._warnIfContextsDiffer(this._currentElement._context,c),u(!g.getInitialState||g.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),u(!g.getDefaultProps||g.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),u(!g.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),u(!g.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),u("function"!=typeof g.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component");var h=g.state;void 0===h&&(g.state=h=null),s("object"==typeof h&&!Array.isArray(h),"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var l,m,n=j.currentlyMountingInstance;j.currentlyMountingInstance=this;try{g.componentWillMount&&(g.componentWillMount(),this._pendingStateQueue&&(g.state=this._processPendingState(g.props,g.context))),l=this._getValidatedChildContext(c),m=this._renderValidatedComponent(l)}finally{j.currentlyMountingInstance=n}this._renderedComponent=this._instantiateReactComponent(m,this._currentElement.type);var p=o.mountComponent(this._renderedComponent,a,b,this._mergeChildContext(c,l));return g.componentDidMount&&b.getReactMountReady().enqueue(g.componentDidMount,g),p},unmountComponent:function(){var a=this._instance;if(a.componentWillUnmount){var b=j.currentlyUnmountingInstance;j.currentlyUnmountingInstance=this;try{a.componentWillUnmount()}finally{j.currentlyUnmountingInstance=b}}o.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,i.remove(a)},_setPropsInternal:function(a,b){var c=this._pendingElement||this._currentElement;this._pendingElement=g.cloneAndReplaceProps(c,q({},c.props,a)),p.enqueueUpdate(this,b)},_maskContext:function(a){var b=null;if("string"==typeof this._currentElement.type)return r;var c=this._currentElement.type.contextTypes;if(!c)return r;b={};for(var d in c)b[d]=a[d];return b},_processContext:function(a){var b=this._maskContext(a),c=k.getComponentClassForElement(this._currentElement);return c.contextTypes&&this._checkPropTypes(c.contextTypes,b,m.context),b},_getValidatedChildContext:function(){var a=this._instance,b=a.getChildContext&&a.getChildContext();if(b){s("object"==typeof a.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"),this._checkPropTypes(a.constructor.childContextTypes,b,m.childContext);for(var c in b)s(c in a.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",c);return b}return null},_mergeChildContext:function(a,b){return b?q({},a,b):a},_processProps:function(a){var b=k.getComponentClassForElement(this._currentElement);return b.propTypes&&this._checkPropTypes(b.propTypes,a,m.prop),a},_checkPropTypes:function(a,b,d){var e=this.getName();for(var f in a)if(a.hasOwnProperty(f)){var g;try{s("function"==typeof a[f],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",n[d],f),g=a[f](b,f,e,d)}catch(h){g=h}if(g instanceof Error){var i=c(this);d===m.prop?u(!1,"Failed Composite propType: %s%s",g.message,i):u(!1,"Failed Context Types: %s%s",g.message,i)}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&o.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&(h.checkAndWarnForMutatedProps(this._currentElement),this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context))},_warnIfContextsDiffer:function(a,b){a=this._maskContext(a),b=this._maskContext(b);for(var c=Object.keys(b).sort(),d=this.getName()||"ReactCompositeComponent",e=0;e<c.length;e++){var f=c[e];u(a[f]===b[f],"owner-based and parent-based contexts differ (values: `%s` vs `%s`) for key (%s) while mounting %s (see: http://fb.me/react-context-by-parent)",a[f],b[f],f,d)
}},updateComponent:function(a,b,c,d,e){var f=this._instance,g=f.context,h=f.props;b!==c&&(g=this._processContext(c._context),h=this._processProps(c.props),null!=e&&this._warnIfContextsDiffer(c._context,e),f.componentWillReceiveProps&&f.componentWillReceiveProps(h,g));var i=this._processPendingState(h,g),j=this._pendingForceUpdate||!f.shouldComponentUpdate||f.shouldComponentUpdate(h,i,g);u("undefined"!=typeof j,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),j?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,h,i,g,a,e)):(this._currentElement=c,this._context=e,f.props=h,f.state=i,f.context=g)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(e&&1===d.length)return d[0];for(var f=q({},e?d[0]:c.state),g=e?1:0;g<d.length;g++){var h=d[g];q(f,"function"==typeof h?h.call(c,f,a,b):h)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g=this._instance,h=g.props,i=g.state,j=g.context;g.componentWillUpdate&&g.componentWillUpdate(b,c,d),this._currentElement=a,this._context=f,g.props=b,g.state=c,g.context=d,this._updateRenderedComponent(e,f),g.componentDidUpdate&&e.getReactMountReady().enqueue(g.componentDidUpdate.bind(g,h,i,j),g)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._getValidatedChildContext(),f=this._renderValidatedComponent(e);if(t(d,f))o.receiveComponent(c,f,a,this._mergeChildContext(b,e));else{var g=this._rootNodeID,h=c._rootNodeID;o.unmountComponent(c),this._renderedComponent=this._instantiateReactComponent(f,this._currentElement.type);var i=o.mountComponent(this._renderedComponent,g,a,this._mergeChildContext(b,e));this._replaceNodeWithMarkupByID(h,i)}},_replaceNodeWithMarkupByID:function(a,b){d.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();return"undefined"==typeof b&&a.render._isMockFunction&&(b=null),b},_renderValidatedComponent:function(a){var b,c=e.current;e.current=this._mergeChildContext(this._currentElement._context,a),f.current=this;try{b=this._renderValidatedComponentWithoutOwnerOrContext()}finally{e.current=c,f.current=null}return s(null===b||b===!1||g.isValidElement(b),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),b},attachRef:function(a,b){var c=this.getPublicInstance(),d=c.refs===r?c.refs={}:c.refs;d[a]=b.getPublicInstance()},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};l.measureMethods(w,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var x={Mixin:w};b.exports=x},{100:100,130:130,150:150,167:167,171:171,29:29,41:41,44:44,45:45,63:63,64:64,73:73,74:74,80:80,82:82,84:84,85:85,89:89}],44:[function(a,b){"use strict";var c=a(29),d=a(130),e=a(171),f=!1,g={current:d,withContext:function(a,b){e(f,"withContext is deprecated and will be removed in a future version. Use a wrapper component with getChildContext instead."),f=!0;var d,h=g.current;g.current=c({},h,a);try{d=b()}finally{g.current=h}return d}};b.exports=g},{130:130,171:171,29:29}],45:[function(a,b){"use strict";var c={current:null};b.exports=c},{}],46:[function(a,b){"use strict";function c(a){return d.createFactory(a)}var d=(a(63),a(64)),e=a(158),f=e({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},c);b.exports=f},{158:158,63:63,64:64}],47:[function(a,b){"use strict";var c=a(2),d=a(32),e=a(38),f=a(63),g=a(156),h=f.createFactory("button"),i=g({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),j=e.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[c,d],render:function(){var a={};for(var b in this.props)!this.props.hasOwnProperty(b)||this.props.disabled&&i[b]||(a[b]=this.props[b]);return h(a,this.props.children)}});b.exports=j},{156:156,2:2,32:32,38:38,63:63}],48:[function(a,b){"use strict";function c(a){a&&(null!=a.dangerouslySetInnerHTML&&(q(null==a.children,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),q("object"==typeof a.dangerouslySetInnerHTML&&"__html"in a.dangerouslySetInnerHTML,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),t(null==a.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),t(!a.contentEditable||null==a.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),q(null==a.style||"object"==typeof a.style,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX."))}function d(a,b,c,d){t("onScroll"!==b||r("scroll",!0),"This browser doesn't support the `onScroll` event");var e=l.findReactContainerForID(a);if(e){var f=e.nodeType===z?e.ownerDocument:e;v(b,f)}d.getPutListenerQueue().enqueuePutListener(a,b,c)}function e(a){E.call(D,a)||(q(C.test(a),"Invalid tag: %s",a),D[a]=!0)}function f(a){e(a),this._tag=a,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var g=a(6),h=a(11),i=a(12),j=a(33),k=a(40),l=a(77),m=a(78),n=a(82),o=a(29),p=a(131),q=a(150),r=a(151),s=a(157),t=a(171),u=j.deleteListener,v=j.listenTo,w=j.registrationNameModules,x={string:!0,number:!0},y=s({style:null}),z=1,A=null,B={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},C=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,D={},E={}.hasOwnProperty;f.displayName="ReactDOMComponent",f.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,d){this._rootNodeID=a,c(this._currentElement.props);var e=B[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(b)+this._createContentMarkup(b,d)+e},_createOpenTagMarkupAndPutListeners:function(a){var b=this._currentElement.props,c="<"+this._tag;for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];if(null!=f)if(w.hasOwnProperty(e))d(this._rootNodeID,e,f,a);else{e===y&&(f&&(f=this._previousStyleCopy=o({},b.style)),f=g.createMarkupForStyles(f));var h=i.createMarkupForProperty(e,f);h&&(c+=" "+h)}}if(a.renderToStaticMarkup)return c+">";var j=i.createMarkupForID(this._rootNodeID);return c+" "+j+">"},_createContentMarkup:function(a,b){var c="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(c="\n");var d=this._currentElement.props,e=d.dangerouslySetInnerHTML;if(null!=e){if(null!=e.__html)return c+e.__html}else{var f=x[typeof d.children]?d.children:null,g=null!=f?null:d.children;if(null!=f)return c+p(f);if(null!=g){var h=this.mountChildren(g,a,b);return c+h.join("")}}return c},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,d,e){c(this._currentElement.props),this._updateDOMProperties(b.props,a),this._updateDOMChildren(b.props,a,e)},_updateDOMProperties:function(a,b){var c,e,f,g=this._currentElement.props;for(c in a)if(!g.hasOwnProperty(c)&&a.hasOwnProperty(c))if(c===y){var i=this._previousStyleCopy;for(e in i)i.hasOwnProperty(e)&&(f=f||{},f[e]="");this._previousStyleCopy=null}else w.hasOwnProperty(c)?u(this._rootNodeID,c):(h.isStandardName[c]||h.isCustomAttribute(c))&&A.deletePropertyByID(this._rootNodeID,c);for(c in g){var j=g[c],k=c===y?this._previousStyleCopy:a[c];if(g.hasOwnProperty(c)&&j!==k)if(c===y)if(j?j=this._previousStyleCopy=o({},j):this._previousStyleCopy=null,k){for(e in k)!k.hasOwnProperty(e)||j&&j.hasOwnProperty(e)||(f=f||{},f[e]="");for(e in j)j.hasOwnProperty(e)&&k[e]!==j[e]&&(f=f||{},f[e]=j[e])}else f=j;else w.hasOwnProperty(c)?d(this._rootNodeID,c,j,b):(h.isStandardName[c]||h.isCustomAttribute(c))&&A.updatePropertyByID(this._rootNodeID,c,j)}f&&A.updateStylesByID(this._rootNodeID,f)},_updateDOMChildren:function(a,b,c){var d=this._currentElement.props,e=x[typeof a.children]?a.children:null,f=x[typeof d.children]?d.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=d.dangerouslySetInnerHTML&&d.dangerouslySetInnerHTML.__html,i=null!=e?null:a.children,j=null!=f?null:d.children,k=null!=e||null!=g,l=null!=f||null!=h;null!=i&&null==j?this.updateChildren(null,b,c):k&&!l&&this.updateTextContent(""),null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&A.updateInnerHTMLByID(this._rootNodeID,h):null!=j&&this.updateChildren(j,b,c)},unmountComponent:function(){this.unmountChildren(),j.deleteAllListeners(this._rootNodeID),k.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},n.measureMethods(f,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),o(f.prototype,f.Mixin,m.Mixin),f.injection={injectIDOperations:function(a){f.BackendIDOperations=A=a}},b.exports=f},{11:11,12:12,131:131,150:150,151:151,157:157,171:171,29:29,33:33,40:40,6:6,77:77,78:78,82:82}],49:[function(a,b){"use strict";var c=a(16),d=a(27),e=a(32),f=a(38),g=a(63),h=g.createFactory("form"),i=f.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[e,d],render:function(){return h(this.props)},componentDidMount:function(){this.trapBubbledEvent(c.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(c.topLevelTypes.topSubmit,"submit")}});b.exports=i},{16:16,27:27,32:32,38:38,63:63}],50:[function(a,b){"use strict";var c=a(6),d=a(10),e=a(12),f=a(77),g=a(82),h=a(150),i=a(164),j={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},k={updatePropertyByID:function(a,b,c){var d=f.getNode(a);h(!j.hasOwnProperty(b),"updatePropertyByID(...): %s",j[b]),null!=c?e.setValueForProperty(d,b,c):e.deleteValueForProperty(d,b)},deletePropertyByID:function(a,b,c){var d=f.getNode(a);h(!j.hasOwnProperty(b),"updatePropertyByID(...): %s",j[b]),e.deleteValueForProperty(d,b,c)},updateStylesByID:function(a,b){var d=f.getNode(a);c.setValueForStyles(d,b)},updateInnerHTMLByID:function(a,b){var c=f.getNode(a);i(c,b)},updateTextContentByID:function(a,b){var c=f.getNode(a);d.updateTextContent(c,b)},dangerouslyReplaceNodeWithMarkupByID:function(a,b){var c=f.getNode(a);d.dangerouslyReplaceNodeWithMarkup(c,b)},dangerouslyProcessChildrenUpdates:function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=f.getNode(a[c].parentID);d.processUpdates(a,b)}};g.measureMethods(k,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),b.exports=k},{10:10,12:12,150:150,164:164,6:6,77:77,82:82}],51:[function(a,b){"use strict";var c=a(16),d=a(27),e=a(32),f=a(38),g=a(63),h=g.createFactory("iframe"),i=f.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[e,d],render:function(){return h(this.props)},componentDidMount:function(){this.trapBubbledEvent(c.topLevelTypes.topLoad,"load")}});b.exports=i},{16:16,27:27,32:32,38:38,63:63}],52:[function(a,b){"use strict";var c=a(16),d=a(27),e=a(32),f=a(38),g=a(63),h=g.createFactory("img"),i=f.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[e,d],render:function(){return h(this.props)},componentDidMount:function(){this.trapBubbledEvent(c.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(c.topLevelTypes.topError,"error")}});b.exports=i},{16:16,27:27,32:32,38:38,63:63}],53:[function(a,b){"use strict";function c(){this.isMounted()&&this.forceUpdate()}var d=a(2),e=a(12),f=a(26),g=a(32),h=a(38),i=a(63),j=a(77),k=a(100),l=a(29),m=a(150),n=i.createFactory("input"),o={},p=h.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[d,f.Mixin,g],getInitialState:function(){var a=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=a?a:null}},render:function(){var a=l({},this.props);a.defaultChecked=null,a.defaultValue=null;var b=f.getValue(this);a.value=null!=b?b:this.state.initialValue;var c=f.getChecked(this);return a.checked=null!=c?c:this.state.initialChecked,a.onChange=this._handleChange,n(a,this.props.children)},componentDidMount:function(){var a=j.getID(this.getDOMNode());o[a]=this},componentWillUnmount:function(){var a=this.getDOMNode(),b=j.getID(a);delete o[b]},componentDidUpdate:function(){var a=this.getDOMNode();null!=this.props.checked&&e.setValueForProperty(a,"checked",this.props.checked||!1);var b=f.getValue(this);null!=b&&e.setValueForProperty(a,"value",""+b)},_handleChange:function(a){var b,d=f.getOnChange(this);d&&(b=d.call(this,a)),k.asap(c,this);var e=this.props.name;if("radio"===this.props.type&&null!=e){for(var g=this.getDOMNode(),h=g;h.parentNode;)h=h.parentNode;for(var i=h.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),l=0,n=i.length;n>l;l++){var p=i[l];if(p!==g&&p.form===g.form){var q=j.getID(p);m(q,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var r=o[q];m(r,"ReactDOMInput: Unknown radio button ID %s.",q),k.asap(c,r)}}}return b}});b.exports=p},{100:100,12:12,150:150,2:2,26:26,29:29,32:32,38:38,63:63,77:77}],54:[function(a,b){"use strict";var c=a(32),d=a(38),e=a(63),f=a(171),g=e.createFactory("option"),h=d.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[c],componentWillMount:function(){f(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return g(this.props,this.props.children)}});b.exports=h},{171:171,32:32,38:38,63:63}],55:[function(a,b){"use strict";function c(){if(this._pendingUpdate){this._pendingUpdate=!1;var a=g.getValue(this);null!=a&&this.isMounted()&&e(this,a)}}function d(a,b){if(null==a[b])return null;if(a.multiple){if(!Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function e(a,b){var c,d,e,f=a.getDOMNode().options;if(a.props.multiple){for(c={},d=0,e=b.length;e>d;d++)c[""+b[d]]=!0;for(d=0,e=f.length;e>d;d++){var g=c.hasOwnProperty(f[d].value);f[d].selected!==g&&(f[d].selected=g)}}else{for(c=""+b,d=0,e=f.length;e>d;d++)if(f[d].value===c)return void(f[d].selected=!0);f.length&&(f[0].selected=!0)}}var f=a(2),g=a(26),h=a(32),i=a(38),j=a(63),k=a(100),l=a(29),m=j.createFactory("select"),n=i.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[f,g.Mixin,h],propTypes:{defaultValue:d,value:d},render:function(){var a=l({},this.props);return a.onChange=this._handleChange,a.value=null,m(a,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var a=g.getValue(this);null!=a?e(this,a):null!=this.props.defaultValue&&e(this,this.props.defaultValue)},componentDidUpdate:function(a){var b=g.getValue(this);null!=b?(this._pendingUpdate=!1,e(this,b)):!a.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?e(this,this.props.defaultValue):e(this,this.props.multiple?[]:""))},_handleChange:function(a){var b,d=g.getOnChange(this);return d&&(b=d.call(this,a)),this._pendingUpdate=!0,k.asap(c,this),b}});b.exports=n},{100:100,2:2,26:26,29:29,32:32,38:38,63:63}],56:[function(a,b){"use strict";function c(a,b,c,d){return a===c&&b===d}function d(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function e(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var d=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset,h=b.getRangeAt(0),i=c(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),j=i?0:h.toString().length,k=h.cloneRange();k.selectNodeContents(a),k.setEnd(h.startContainer,h.startOffset);var l=c(k.startContainer,k.startOffset,k.endContainer,k.endOffset),m=l?0:k.toString().length,n=m+j,o=document.createRange();o.setStart(d,e),o.setEnd(f,g);var p=o.collapsed;return{start:p?n:m,end:p?m:n}}function f(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function g(a,b){if(window.getSelection){var c=window.getSelection(),d=a[j()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var g=f;f=e,e=g}var h=i(a,e),k=i(a,f);if(h&&k){var l=document.createRange();l.setStart(h.node,h.offset),c.removeAllRanges(),e>f?(c.addRange(l),c.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),c.addRange(l))}}}var h=a(22),i=a(143),j=a(145),k=h.canUseDOM&&"selection"in document&&!("getSelection"in window),l={getOffsets:k?d:e,setOffsets:k?f:g};b.exports=l},{143:143,145:145,22:22}],57:[function(a,b){"use strict";var c=a(12),d=a(40),e=a(48),f=a(29),g=a(131),h=function(){};f(h.prototype,{construct:function(a){this._currentElement=a,this._stringText=""+a,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(a,b){this._rootNodeID=a;var d=g(this._stringText);return b.renderToStaticMarkup?d:"<span "+c.createMarkupForID(a)+">"+d+"</span>"},receiveComponent:function(a){if(a!==this._currentElement){this._currentElement=a;var b=""+a;b!==this._stringText&&(this._stringText=b,e.BackendIDOperations.updateTextContentByID(this._rootNodeID,b))}},unmountComponent:function(){d.unmountIDFromEnvironment(this._rootNodeID)}}),b.exports=h},{12:12,131:131,29:29,40:40,48:48}],58:[function(a,b){"use strict";function c(){this.isMounted()&&this.forceUpdate()}var d=a(2),e=a(12),f=a(26),g=a(32),h=a(38),i=a(63),j=a(100),k=a(29),l=a(150),m=a(171),n=i.createFactory("textarea"),o=h.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[d,f.Mixin,g],getInitialState:function(){var a=this.props.defaultValue,b=this.props.children;null!=b&&(m(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),l(null==a,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(b)&&(l(b.length<=1,"<textarea> can only have at most one child."),b=b[0]),a=""+b),null==a&&(a="");var c=f.getValue(this);return{initialValue:""+(null!=c?c:a)}},render:function(){var a=k({},this.props);return l(null==a.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),a.defaultValue=null,a.value=null,a.onChange=this._handleChange,n(a,this.state.initialValue)},componentDidUpdate:function(){var a=f.getValue(this);if(null!=a){var b=this.getDOMNode();e.setValueForProperty(b,"value",""+a)}},_handleChange:function(a){var b,d=f.getOnChange(this);return d&&(b=d.call(this,a)),j.asap(c,this),b}});b.exports=o},{100:100,12:12,150:150,171:171,2:2,26:26,29:29,32:32,38:38,63:63}],59:[function(a,b){"use strict";function c(){this.reinitializeTransaction()}var d=a(100),e=a(116),f=a(29),g=a(129),h={initialize:g,close:function(){l.isBatchingUpdates=!1}},i={initialize:g,close:d.flushBatchedUpdates.bind(d)},j=[i,h];f(c.prototype,e.Mixin,{getTransactionWrappers:function(){return j}});var k=new c,l={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e){var f=l.isBatchingUpdates;l.isBatchingUpdates=!0,f?a(b,c,d,e):k.perform(a,null,b,c,d,e)}};b.exports=l},{100:100,116:116,129:129,29:29}],60:[function(a,b){"use strict";function c(a){return n.createClass({tagName:a.toUpperCase(),render:function(){return new B(a,null,null,null,null,this.props)}})}function d(){D.EventEmitter.injectReactEventListener(C),D.EventPluginHub.injectEventPluginOrder(h),D.EventPluginHub.injectInstanceHandle(E),D.EventPluginHub.injectMount(F),D.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:J,EnterLeaveEventPlugin:i,ChangeEventPlugin:f,MobileSafariClickEventPlugin:l,SelectEventPlugin:H,BeforeInputEventPlugin:e}),D.NativeComponent.injectGenericComponentClass(q),D.NativeComponent.injectTextComponentClass(A),D.NativeComponent.injectAutoWrapper(c),D.Class.injectMixin(m),D.NativeComponent.injectComponentClasses({button:r,form:s,iframe:v,img:t,input:w,option:x,select:y,textarea:z,html:L("html"),head:L("head"),body:L("body")}),D.DOMProperty.injectDOMPropertyConfig(k),D.DOMProperty.injectDOMPropertyConfig(K),D.EmptyComponent.injectEmptyComponent("noscript"),D.Updates.injectReconcileTransaction(G),D.Updates.injectBatchingStrategy(p),D.RootIndex.injectCreateReactRootIndex(j.canUseDOM?g.createReactRootIndex:I.createReactRootIndex),D.Component.injectEnvironment(o),D.DOMComponent.injectIDOperations(u);var b=j.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(b)){var d=a(61);d.start()}}var e=a(3),f=a(8),g=a(9),h=a(14),i=a(15),j=a(22),k=a(24),l=a(28),m=a(32),n=a(38),o=a(40),p=a(59),q=a(48),r=a(47),s=a(49),t=a(52),u=a(50),v=a(51),w=a(53),x=a(54),y=a(55),z=a(58),A=a(57),B=a(63),C=a(68),D=a(70),E=a(72),F=a(77),G=a(88),H=a(102),I=a(103),J=a(104),K=a(101),L=a(125);b.exports={inject:d}},{101:101,102:102,103:103,104:104,125:125,14:14,15:15,22:22,24:24,28:28,3:3,32:32,38:38,40:40,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,57:57,58:58,59:59,61:61,63:63,68:68,70:70,72:72,77:77,8:8,88:88,9:9}],61:[function(a,b){"use strict";function c(a){return Math.floor(100*a)/100}function d(a,b,c){a[b]=(a[b]||0)+c}var e=a(11),f=a(62),g=a(77),h=a(82),i=a(162),j={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){j._injected||h.injection.injectMeasure(j.measure),j._allMeasurements.length=0,h.enableMeasure=!0},stop:function(){h.enableMeasure=!1},getLastMeasurements:function(){return j._allMeasurements},printExclusive:function(a){a=a||j._allMeasurements;var b=f.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":c(a.inclusive),"Exclusive mount time (ms)":c(a.exclusive),"Exclusive render time (ms)":c(a.render),"Mount time per instance (ms)":c(a.exclusive/a.count),"Render time per instance (ms)":c(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||j._allMeasurements;var b=f.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":c(a.time),Instances:a.count}})),console.log("Total time:",f.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){var b=f.getInclusiveSummary(a,!0);return b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=a||j._allMeasurements,console.table(j.getMeasurementsSummaryMap(a)),console.log("Total time:",f.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||j._allMeasurements;var b=f.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[e.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",f.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=j._allMeasurements[j._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){for(var e=[],f=0,h=arguments.length;h>f;f++)e.push(arguments[f]);var k,l,m;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return j._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),m=i(),l=c.apply(this,e),j._allMeasurements[j._allMeasurements.length-1].totalTime=i()-m,l;if("_mountImageIntoNode"===b||"ReactDOMIDOperations"===a){if(m=i(),l=c.apply(this,e),k=i()-m,"_mountImageIntoNode"===b){var n=g.getID(e[1]);j._recordWrite(n,b,k,e[0])}else"dangerouslyProcessChildrenUpdates"===b?e[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=e[1][a.markupIndex]),j._recordWrite(a.parentID,a.type,k,b)}):j._recordWrite(e[0],b,k,Array.prototype.slice.call(e,1));return l}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,e);if("string"==typeof this._currentElement.type)return c.apply(this,e);var o="mountComponent"===b?e[0]:this._rootNodeID,p="_renderValidatedComponent"===b,q="mountComponent"===b,r=j._mountStack,s=j._allMeasurements[j._allMeasurements.length-1];if(p?d(s.counts,o,1):q&&r.push(0),m=i(),l=c.apply(this,e),k=i()-m,p)d(s.render,o,k);else if(q){var t=r.pop();r[r.length-1]+=k,d(s.exclusive,o,k-t),d(s.inclusive,o,k)}else d(s.inclusive,o,k);return s.displayNames[o]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},l}}};b.exports=j},{11:11,162:162,62:62,77:77,82:82}],62:[function(a,b){function c(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function d(a){for(var b=[],c=0;c<a.length;c++){var d,e=a[c];for(d in e.writes)e.writes[d].forEach(function(a){b.push({id:d,type:j[a.type]||a.type,args:a.args})})}return b}function e(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=h({},e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,render:0,count:0},e.render[g]&&(c[b].render+=e.render[g]),e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var j=[];for(b in c)c[b].exclusive>=i&&j.push(c[b]);return j.sort(function(a,b){return b.exclusive-a.exclusive}),j}function f(a,b){for(var c,d={},e=0;e<a.length;e++){var f,j=a[e],k=h({},j.exclusive,j.inclusive);b&&(f=g(j));for(var l in k)if(!b||f[l]){var m=j.displayNames[l];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},j.inclusive[l]&&(d[c].time+=j.inclusive[l]),j.counts[l]&&(d[c].count+=j.counts[l])}}var n=[];for(c in d)d[c].time>=i&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function g(a){var b={},c=Object.keys(a.writes),d=h({},a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}!f&&a.counts[e]>0&&(b[e]=!0)}return b}var h=a(29),i=1.2,j={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},k={getExclusiveSummary:e,getInclusiveSummary:f,getDOMSummary:d,getTotalTime:c};b.exports=k},{29:29}],63:[function(a,b){"use strict";function c(a,b){Object.defineProperty(a,b,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[b]:null},set:function(a){h(!1,"Don't set the %s property of the React element. Instead, specify the correct value when initially creating the element.",b),this._store[b]=a}})}function d(a){try{var b={props:!0};for(var d in b)c(a,d);j=!0}catch(e){}}var e=a(44),f=a(45),g=a(29),h=a(171),i={key:!0,ref:!0},j=!1,k=function(a,b,c,d,e,f){this.type=a,this.key=b,this.ref=c,this._owner=d,this._context=e,this._store={props:f,originalProps:g({},f)};try{Object.defineProperty(this._store,"validated",{configurable:!1,enumerable:!1,writable:!0})}catch(h){}return this._store.validated=!1,j?void Object.freeze(this):void(this.props=f)};k.prototype={_isReactElement:!0},d(k.prototype),k.createElement=function(a,b,c){var d,g={},h=null,j=null;if(null!=b){j=void 0===b.ref?null:b.ref,h=void 0===b.key?null:""+b.key;for(d in b)b.hasOwnProperty(d)&&!i.hasOwnProperty(d)&&(g[d]=b[d])}var l=arguments.length-2;if(1===l)g.children=c;else if(l>1){for(var m=Array(l),n=0;l>n;n++)m[n]=arguments[n+2];g.children=m}if(a&&a.defaultProps){var o=a.defaultProps;for(d in o)"undefined"==typeof g[d]&&(g[d]=o[d])}return new k(a,h,j,f.current,e.current,g)},k.createFactory=function(a){var b=k.createElement.bind(null,a);return b.type=a,b},k.cloneAndReplaceProps=function(a,b){var c=new k(a.type,a.key,a.ref,a._owner,a._context,b);return c._store.validated=a._store.validated,c},k.cloneElement=function(a,b,c){var d,e=g({},a.props),h=a.key,j=a.ref,l=a._owner;if(null!=b){void 0!==b.ref&&(j=b.ref,l=f.current),void 0!==b.key&&(h=""+b.key);for(d in b)b.hasOwnProperty(d)&&!i.hasOwnProperty(d)&&(e[d]=b[d])}var m=arguments.length-2;if(1===m)e.children=c;else if(m>1){for(var n=Array(m),o=0;m>o;o++)n[o]=arguments[o+2];e.children=n}return new k(a.type,h,j,l,a._context,e)},k.isValidElement=function(a){var b=!(!a||!a._isReactElement);return b},b.exports=k},{171:171,29:29,44:44,45:45}],64:[function(a,b){"use strict";function c(){if(s.current){var a=s.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function d(a){var b=a&&a.getPublicInstance();if(!b)return void 0;var c=b.constructor;return c?c.displayName||c.name||void 0:void 0}function e(){var a=s.current;return a&&d(a)||void 0}function f(a,b){a._store.validated||null!=a.key||(a._store.validated=!0,h('Each child in an array or iterator should have a unique "key" prop.',a,b))}function g(a,b,c){z.test(a)&&h("Child objects should have non-numeric keys so ordering is preserved.",b,c)}function h(a,b,c){var f=e(),g="string"==typeof c?c:c.displayName||c.name,h=f||g,i=x[a]||(x[a]={});if(!i.hasOwnProperty(h)){i[h]=!0;var j=f?" Check the render method of "+f+".":g?" Check the React.render call using <"+g+">.":"",k="";
if(b&&b._owner&&b._owner!==s.current){var l=d(b._owner);k=" It was passed a child from "+l+"."}w(!1,a+"%s%s See https://fb.me/react-warning-keys for more information.",j,k)}}function i(a,b){if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];o.isValidElement(d)&&f(d,b)}else if(o.isValidElement(a))a._store.validated=!0;else if(a){var e=u(a);if(e){if(e!==a.entries)for(var h,i=e.call(a);!(h=i.next()).done;)o.isValidElement(h.value)&&f(h.value,b)}else if("object"==typeof a){var j=p.extractIfFragment(a);for(var k in j)j.hasOwnProperty(k)&&g(k,j[k],b)}}}function j(a,b,d,e){for(var f in b)if(b.hasOwnProperty(f)){var g;try{v("function"==typeof b[f],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a||"React class",r[e],f),g=b[f](d,f,a,e)}catch(h){g=h}if(g instanceof Error&&!(g.message in y)){y[g.message]=!0;var i=c(this);w(!1,"Failed propType: %s%s",g.message,i)}}}function k(a,b){var c=b.type,d="string"==typeof c?c:c.displayName,e=b._owner?b._owner.getPublicInstance().constructor.displayName:null,f=a+"|"+d+"|"+e;if(!A.hasOwnProperty(f)){A[f]=!0;var g="";d&&(g=" <"+d+" />");var h="";e&&(h=" The element was created by "+e+"."),w(!1,"Don't set .props.%s of the React component%s. Instead, specify the correct value when initially creating the element or use React.cloneElement to make a new element with updated props.%s",a,g,h)}}function l(a,b){return a!==a?b!==b:0===a&&0===b?1/a===1/b:a===b}function m(a){if(a._store){var b=a._store.originalProps,c=a.props;for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(d)&&l(b[d],c[d])||(k(d,a),b[d]=c[d]))}}function n(a){if(null!=a.type){var b=t.getComponentClassForElement(a),c=b.displayName||b.name;b.propTypes&&j(c,b.propTypes,a.props,q.prop),"function"==typeof b.getDefaultProps&&w(b.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var o=a(63),p=a(69),q=a(85),r=a(84),s=a(45),t=a(80),u=a(141),v=a(150),w=a(171),x={},y={},z=/^\d+$/,A={},B={checkAndWarnForMutatedProps:m,createElement:function(a){w(null!=a,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components).");var b=o.createElement.apply(this,arguments);if(null==b)return b;for(var c=2;c<arguments.length;c++)i(arguments[c],a);return n(b),b},createFactory:function(a){var b=B.createElement.bind(null,a);b.type=a;try{Object.defineProperty(b,"type",{enumerable:!1,get:function(){return w(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:a}),a}})}catch(c){}return b},cloneElement:function(){for(var a=o.cloneElement.apply(this,arguments),b=2;b<arguments.length;b++)i(arguments[b],a.type);return n(a),a}};b.exports=B},{141:141,150:150,171:171,45:45,63:63,69:69,80:80,84:84,85:85}],65:[function(a,b){"use strict";function c(a){j[a]=!0}function d(a){delete j[a]}function e(a){return!!j[a]}var f,g=a(63),h=a(73),i=a(150),j={},k={injectEmptyComponent:function(a){f=g.createFactory(a)}},l=function(){};l.prototype.componentDidMount=function(){var a=h.get(this);a&&c(a._rootNodeID)},l.prototype.componentWillUnmount=function(){var a=h.get(this);a&&d(a._rootNodeID)},l.prototype.render=function(){return i(f,"Trying to return null from a render, but no null placeholder component was injected."),f()};var m=g.createElement(l),n={emptyElement:m,injection:k,isNullComponentID:e};b.exports=n},{150:150,63:63,73:73}],66:[function(a,b){"use strict";var c={guard:function(a){return a}};b.exports=c},{}],67:[function(a,b){"use strict";function c(a){d.enqueueEvents(a),d.processEventQueue()}var d=a(18),e={handleTopLevel:function(a,b,e,f){var g=d.extractEvents(a,b,e,f);c(g)}};b.exports=e},{18:18}],68:[function(a,b){"use strict";function c(a){var b=k.getID(a),c=j.getReactRootIDFromNodeID(b),d=k.findReactContainerForID(c),e=k.getFirstReactDOM(d);return e}function d(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function e(a){for(var b=k.getFirstReactDOM(n(a.nativeEvent))||window,d=b;d;)a.ancestors.push(d),d=c(d);for(var e=0,f=a.ancestors.length;f>e;e++){b=a.ancestors[e];var g=k.getID(b)||"";p._handleTopLevel(a.topLevelType,b,g,a.nativeEvent)}}function f(a){var b=o(window);a(b)}var g=a(17),h=a(22),i=a(30),j=a(72),k=a(77),l=a(100),m=a(29),n=a(140),o=a(146);m(d.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),i.addPoolingTo(d,i.twoArgumentPooler);var p={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:h.canUseDOM?window:null,setHandleTopLevel:function(a){p._handleTopLevel=a},setEnabled:function(a){p._enabled=!!a},isEnabled:function(){return p._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?g.listen(d,b,p.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?g.capture(d,b,p.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=f.bind(null,a);g.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(p._enabled){var c=d.getPooled(a,b);try{l.batchedUpdates(e,c)}finally{d.release(c)}}}};b.exports=p},{100:100,140:140,146:146,17:17,22:22,29:29,30:30,72:72,77:77}],69:[function(a,b){"use strict";var c=a(63),d=a(171),e="_reactFragment",f="_reactDidWarn",g=!1;try{var h=function(){return 1};Object.defineProperty({},e,{enumerable:!1,value:!0}),Object.defineProperty({},"key",{enumerable:!0,get:h}),g=!0}catch(i){}var j=function(a,b){Object.defineProperty(a,b,{enumerable:!0,get:function(){return d(this[f],"A ReactFragment is an opaque type. Accessing any of its properties is deprecated. Pass it to one of the React.Children helpers."),this[f]=!0,this[e][b]},set:function(a){d(this[f],"A ReactFragment is an immutable opaque type. Mutating its properties is deprecated."),this[f]=!0,this[e][b]=a}})},k={},l=function(a){var b="";for(var c in a)b+=c+":"+typeof a[c]+",";var d=!!k[b];return k[b]=!0,d},m={create:function(a){if("object"!=typeof a||!a||Array.isArray(a))return d(!1,"React.addons.createFragment only accepts a single object.",a),a;if(c.isValidElement(a))return d(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),a;if(g){var b={};Object.defineProperty(b,e,{enumerable:!1,value:a}),Object.defineProperty(b,f,{writable:!0,enumerable:!1,value:!1});for(var h in a)j(b,h);return Object.preventExtensions(b),b}return a},extract:function(a){return g?a[e]?a[e]:(d(l(a),"Any use of a keyed object should be wrapped in React.addons.createFragment(object) before being passed as a child."),a):a},extractIfFragment:function(a){if(g){if(a[e])return a[e];for(var b in a)if(a.hasOwnProperty(b)&&c.isValidElement(a[b]))return m.extract(a)}return a}};b.exports=m},{171:171,63:63}],70:[function(a,b){"use strict";var c=a(11),d=a(18),e=a(41),f=a(38),g=a(65),h=a(33),i=a(80),j=a(48),k=a(82),l=a(91),m=a(100),n={Component:e.injection,Class:f.injection,DOMComponent:j.injection,DOMProperty:c.injection,EmptyComponent:g.injection,EventPluginHub:d.injection,EventEmitter:h.injection,NativeComponent:i.injection,Perf:k.injection,RootIndex:l.injection,Updates:m.injection};b.exports=n},{100:100,11:11,18:18,33:33,38:38,41:41,48:48,65:65,80:80,82:82,91:91}],71:[function(a,b){"use strict";function c(a){return e(document.documentElement,a)}var d=a(56),e=a(123),f=a(134),g=a(136),h={hasSelectionCapabilities:function(a){return a&&("INPUT"===a.nodeName&&"text"===a.type||"TEXTAREA"===a.nodeName||"true"===a.contentEditable)},getSelectionInformation:function(){var a=g();return{focusedElem:a,selectionRange:h.hasSelectionCapabilities(a)?h.getSelection(a):null}},restoreSelection:function(a){var b=g(),d=a.focusedElem,e=a.selectionRange;b!==d&&c(d)&&(h.hasSelectionCapabilities(d)&&h.setSelection(d,e),f(d))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&"INPUT"===a.nodeName){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=d.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,e=b.end;if("undefined"==typeof e&&(e=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(e,a.value.length);else if(document.selection&&"INPUT"===a.nodeName){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",e-c),f.select()}else d.setOffsets(a,b)}};b.exports=h},{123:123,134:134,136:136,56:56}],72:[function(a,b){"use strict";function c(a){return m+a.toString(36)}function d(a,b){return a.charAt(b)===m||b===a.length}function e(a){return""===a||a.charAt(0)===m&&a.charAt(a.length-1)!==m}function f(a,b){return 0===b.indexOf(a)&&d(b,a.length)}function g(a){return a?a.substr(0,a.lastIndexOf(m)):""}function h(a,b){if(l(e(a)&&e(b),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",a,b),l(f(a,b),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",a,b),a===b)return a;var c,g=a.length+n;for(c=g;c<b.length&&!d(b,c);c++);return b.substr(0,c)}function i(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var f=0,g=0;c>=g;g++)if(d(a,g)&&d(b,g))f=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,f);return l(e(h),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",a,b,h),h}function j(a,b,c,d,e,i){a=a||"",b=b||"",l(a!==b,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",a);var j=f(b,a);l(j||f(a,b),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",a,b);for(var k=0,m=j?g:h,n=a;;n=m(n,b)){var p;if(e&&n===a||i&&n===b||(p=c(n,j,d)),p===!1||n===b)break;l(k++<o,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",a,b)}}var k=a(91),l=a(150),m=".",n=m.length,o=100,p={createReactRootID:function(){return c(k.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===m&&a.length>1){var b=a.indexOf(m,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=i(a,b);f!==a&&j(a,f,c,d,!1,!0),f!==b&&j(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(j("",a,b,c,!0,!1),j(a,"",b,c,!1,!0))},traverseAncestors:function(a,b,c){j("",a,b,c,!0,!1)},_getFirstCommonAncestorID:i,_getNextDescendantID:h,isAncestorIDOf:f,SEPARATOR:m};b.exports=p},{150:150,91:91}],73:[function(a,b){"use strict";var c={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};b.exports=c},{}],74:[function(a,b){"use strict";var c={currentlyMountingInstance:null,currentlyUnmountingInstance:null};b.exports=c},{}],75:[function(a,b){"use strict";function c(a,b){this.value=a,this.requestChange=b}function d(a){var b={value:"undefined"==typeof a?e.PropTypes.any.isRequired:a.isRequired,requestChange:e.PropTypes.func.isRequired};return e.PropTypes.shape(b)}var e=a(31);c.PropTypes={link:d},b.exports=c},{31:31}],76:[function(a,b){"use strict";var c=a(119),d={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=c(a);return a.replace(">"," "+d.CHECKSUM_ATTR_NAME+'="'+b+'">')},canReuseMarkup:function(a,b){var e=b.getAttribute(d.CHECKSUM_ATTR_NAME);e=e&&parseInt(e,10);var f=c(a);return f===e}};b.exports=d},{119:119}],77:[function(a,b){"use strict";function c(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function d(a){var b=E(a);return b&&U.getID(b)}function e(a){var b=f(a);if(b)if(M.hasOwnProperty(b)){var c=M[b];c!==a&&(G(!j(c,b),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",L,b),M[b]=a)}else M[b]=a;return b}function f(a){return a&&a.getAttribute&&a.getAttribute(L)||""}function g(a,b){var c=f(a);c!==b&&delete M[c],a.setAttribute(L,b),M[b]=a}function h(a){return M.hasOwnProperty(a)&&j(M[a],a)||(M[a]=U.findReactNodeByID(a)),M[a]}function i(a){var b=w.get(a)._rootNodeID;return u.isNullComponentID(b)?null:(M.hasOwnProperty(b)&&j(M[b],b)||(M[b]=U.findReactNodeByID(b)),M[b])}function j(a,b){if(a){G(f(a)===b,"ReactMount: Unexpected modification of `%s`",L);var c=U.findReactContainerForID(b);if(c&&D(c,a))return!0}return!1}function k(a){delete M[a]}function l(a){var b=M[a];return b&&j(b,a)?void(T=b):!1}function m(a){T=null,v.traverseAncestors(a,l);var b=T;return T=null,b}function n(a,b,c,d,e){var f=z.mountComponent(a,b,d,C);a._isTopLevel=!0,U._mountImageIntoNode(f,c,e)}function o(a,b,c,d){var e=B.ReactReconcileTransaction.getPooled();e.perform(n,null,a,b,c,e,d),B.ReactReconcileTransaction.release(e)}var p=a(11),q=a(33),r=a(45),s=a(63),t=a(64),u=a(65),v=a(72),w=a(73),x=a(76),y=a(82),z=a(89),A=a(99),B=a(100),C=a(130),D=a(123),E=a(144),F=a(149),G=a(150),H=a(164),I=a(167),J=a(171),K=v.SEPARATOR,L=p.ID_ATTRIBUTE_NAME,M={},N=1,O=9,P={},Q={},R={},S=[],T=null,U={_instancesByReactRootID:P,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,e){return t.checkAndWarnForMutatedProps(b),U.scrollMonitor(c,function(){A.enqueueElementInternal(a,b),e&&A.enqueueCallbackInternal(a,e)}),R[d(c)]=E(c),a},_registerComponent:function(a,b){G(b&&(b.nodeType===N||b.nodeType===O),"_registerComponent(...): Target container is not a DOM element."),q.ensureScrollValueMonitoring();var c=U.registerContainer(b);return P[c]=a,c},_renderNewRootComponent:function(a,b,c){J(null==r.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var d=F(a,null),e=U._registerComponent(d,b);return B.batchedUpdates(o,d,e,b,c),R[e]=E(b),d},render:function(a,b,c){G(s.isValidElement(a),"React.render(): Invalid component element.%s","string"==typeof a?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof a?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=a&&void 0!==a.props?" This may be caused by unintentionally loading two independent copies of React.":"");var e=P[d(b)];if(e){var f=e._currentElement;if(I(f,a))return U._updateRootComponent(e,a,b,c).getPublicInstance();U.unmountComponentAtNode(b)}var g=E(b),h=g&&U.isRenderedByReact(g);if(!h||g.nextSibling)for(var i=g;i;){if(U.isRenderedByReact(i)){J(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}i=i.nextSibling}var j=h&&!e,k=U._renderNewRootComponent(a,b,j).getPublicInstance();return c&&c.call(k),k},constructAndRenderComponent:function(a,b,c){var d=s.createElement(a,b);return U.render(d,c)},constructAndRenderComponentByID:function(a,b,c){var d=document.getElementById(c);return G(d,'Tried to get element with id of "%s" but it is not present on the page.',c),U.constructAndRenderComponent(a,b,d)},registerContainer:function(a){var b=d(a);return b&&(b=v.getReactRootIDFromNodeID(b)),b||(b=v.createReactRootID()),Q[b]=a,b},unmountComponentAtNode:function(a){J(null==r.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),G(a&&(a.nodeType===N||a.nodeType===O),"unmountComponentAtNode(...): Target container is not a DOM element.");var b=d(a),c=P[b];return c?(U.unmountComponentFromNode(c,a),delete P[b],delete Q[b],delete R[b],!0):!1},unmountComponentFromNode:function(a,b){for(z.unmountComponent(a),b.nodeType===O&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)},findReactContainerForID:function(a){var b=v.getReactRootIDFromNodeID(a),c=Q[b],d=R[b];if(d&&d.parentNode!==c){G(f(d)===b,"ReactMount: Root element ID differed from reactRootID.");var e=c.firstChild;e&&b===f(e)?R[b]=e:J(!1,"ReactMount: Root element has been removed from its original container. New container:",d.parentNode)}return c},findReactNodeByID:function(a){var b=U.findReactContainerForID(a);return U.findComponentRoot(b,a)},isRenderedByReact:function(a){if(1!==a.nodeType)return!1;var b=U.getID(a);return b?b.charAt(0)===K:!1},getFirstReactDOM:function(a){for(var b=a;b&&b.parentNode!==b;){if(U.isRenderedByReact(b))return b;b=b.parentNode}return null},findComponentRoot:function(a,b){var c=S,d=0,e=m(b)||a;for(c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=U.getID(g);h?b===h?f=g:v.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,G(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",b,U.getID(a))},_mountImageIntoNode:function(a,b,d){if(G(b&&(b.nodeType===N||b.nodeType===O),"mountComponentIntoNode(...): Target container is not valid."),d){var e=E(b);if(x.canReuseMarkup(a,e))return;var f=e.getAttribute(x.CHECKSUM_ATTR_NAME);e.removeAttribute(x.CHECKSUM_ATTR_NAME);var g=e.outerHTML;e.setAttribute(x.CHECKSUM_ATTR_NAME,f);var h=c(a,g),i=" (client) "+a.substring(h-20,h+20)+"\n (server) "+g.substring(h-20,h+20);G(b.nodeType!==O,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",i),J(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",i)}G(b.nodeType!==O,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See React.renderToString() for server rendering."),H(b,a)},getReactRootID:d,getID:e,setID:g,getNode:h,getNodeFromInstance:i,purgeID:k};y.measureMethods(U,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),b.exports=U},{100:100,11:11,123:123,130:130,144:144,149:149,150:150,164:164,167:167,171:171,33:33,45:45,63:63,64:64,65:65,72:72,73:73,76:76,82:82,89:89,99:99}],78:[function(a,b){"use strict";function c(a,b,c){n.push({parentID:a,parentNode:null,type:j.INSERT_MARKUP,markupIndex:o.push(b)-1,textContent:null,fromIndex:null,toIndex:c})}function d(a,b,c){n.push({parentID:a,parentNode:null,type:j.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:b,toIndex:c})}function e(a,b){n.push({parentID:a,parentNode:null,type:j.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:b,toIndex:null})}function f(a,b){n.push({parentID:a,parentNode:null,type:j.TEXT_CONTENT,markupIndex:null,textContent:b,fromIndex:null,toIndex:null})}function g(){n.length&&(i.processChildrenUpdates(n,o),h())}function h(){n.length=0,o.length=0}var i=a(41),j=a(79),k=a(89),l=a(36),m=0,n=[],o=[],p={Mixin:{mountChildren:function(a,b,c){var d=l.instantiateChildren(a,b,c);this._renderedChildren=d;var e=[],f=0;for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=this._rootNodeID+g,j=k.mountComponent(h,i,b,c);h._mountIndex=f,e.push(j),f++}return e},updateTextContent:function(a){m++;var b=!0;try{var c=this._renderedChildren;l.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setTextContent(a),b=!1}finally{m--,m||(b?h():g())}},updateChildren:function(a,b,c){m++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{m--,m||(d?h():g())}},_updateChildren:function(a,b,c){var d=this._renderedChildren,e=l.updateChildren(d,a,b,c);if(this._renderedChildren=e,e||d){var f,g=0,h=0;for(f in e)if(e.hasOwnProperty(f)){var i=d&&d[f],j=e[f];i===j?(this.moveChild(i,h,g),g=Math.max(i._mountIndex,g),i._mountIndex=h):(i&&(g=Math.max(i._mountIndex,g),this._unmountChildByName(i,f)),this._mountChildByNameAtIndex(j,f,h,b,c)),h++}for(f in d)!d.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||this._unmountChildByName(d[f],f)}},unmountChildren:function(){var a=this._renderedChildren;l.unmountChildren(a),this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&d(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){c(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){e(this._rootNodeID,a._mountIndex)},setTextContent:function(a){f(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d,e){var f=this._rootNodeID+b,g=k.mountComponent(a,f,d,e);a._mountIndex=c,this.createChild(a,g)},_unmountChildByName:function(a){this.removeChild(a),a._mountIndex=null}}};b.exports=p},{36:36,41:41,79:79,89:89}],79:[function(a,b){"use strict";var c=a(156),d=c({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});b.exports=d},{156:156}],80:[function(a,b){"use strict";function c(a){if("function"==typeof a.type)return a.type;var b=a.type,c=k[b];return null==c&&(k[b]=c=i(b)),c}function d(a){return h(j,"There is no registered component for the tag %s",a.type),new j(a.type,a.props)}function e(a){return new l(a)}function f(a){return a instanceof l}var g=a(29),h=a(150),i=null,j=null,k={},l=null,m={injectGenericComponentClass:function(a){j=a},injectTextComponentClass:function(a){l=a},injectComponentClasses:function(a){g(k,a)},injectAutoWrapper:function(a){i=a}},n={getComponentClassForElement:c,createInternalComponent:d,createInstanceForText:e,isTextComponent:f,injection:m};b.exports=n},{150:150,29:29}],81:[function(a,b){"use strict";var c=a(150),d={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,e){c(d.isValidOwner(e),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),e.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,e){c(d.isValidOwner(e),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),e.getPublicInstance().refs[b]===a.getPublicInstance()&&e.detachRef(b)}};b.exports=d},{150:150}],82:[function(a,b){"use strict";function c(a,b,c){return c}var d={enableMeasure:!1,storedMeasure:c,measureMethods:function(a,b,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=d.measure(b,c[e],a[e]))},measure:function(a,b,c){var e=null,f=function(){return d.enableMeasure?(e||(e=d.storedMeasure(a,b,c)),e.apply(this,arguments)):c.apply(this,arguments)};return f.displayName=a+"_"+b,f},injection:{injectMeasure:function(a){d.storedMeasure=a}}};b.exports=d},{}],83:[function(a,b){"use strict";function c(a){return function(b,c,d){b[c]=b.hasOwnProperty(c)?a(b[c],d):d}}function d(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=i[c];d&&i.hasOwnProperty(c)?d(a,c,b[c]):a.hasOwnProperty(c)||(a[c]=b[c])}return a}var e=a(29),f=a(129),g=a(155),h=c(function(a,b){return e({},b,a)}),i={children:f,className:c(g),style:h},j={mergeProps:function(a,b){return d(e({},a),b)}};b.exports=j},{129:129,155:155,29:29}],84:[function(a,b){"use strict";var c={};c={prop:"prop",context:"context",childContext:"child context"},b.exports=c},{}],85:[function(a,b){"use strict";var c=a(156),d=c({prop:null,context:null,childContext:null});b.exports=d},{156:156}],86:[function(a,b){"use strict";function c(a){function b(b,c,d,e,f){if(e=e||u,null==c[d]){var g=s[f];return b?new Error("Required "+g+" `"+d+"` was not specified in "+("`"+e+"`.")):null}return a(c,d,e,f)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function d(a){function b(b,c,d,e){var f=b[c],g=o(f);if(g!==a){var h=s[e],i=p(f);return new Error("Invalid "+h+" `"+c+"` of type `"+i+"` "+("supplied to `"+d+"`, expected `"+a+"`."))}return null}return c(b)}function e(){return c(t.thatReturns(null))}function f(a){function b(b,c,d,e){var f=b[c];if(!Array.isArray(f)){var g=s[e],h=o(f);return new Error("Invalid "+g+" `"+c+"` of type "+("`"+h+"` supplied to `"+d+"`, expected an array."))}for(var i=0;i<f.length;i++){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return c(b)}function g(){function a(a,b,c,d){if(!q.isValidElement(a[b])){var e=s[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactElement."))}return null}return c(a)}function h(a){function b(b,c,d,e){if(!(b[c]instanceof a)){var f=s[e],g=a.name||u;return new Error("Invalid "+f+" `"+c+"` supplied to "+("`"+d+"`, expected instance of `"+g+"`."))}return null}return c(b)}function i(a){function b(b,c,d,e){for(var f=b[c],g=0;g<a.length;g++)if(f===a[g])return null;var h=s[e],i=JSON.stringify(a);return new Error("Invalid "+h+" `"+c+"` of value `"+f+"` "+("supplied to `"+d+"`, expected one of "+i+"."))}return c(b)}function j(a){function b(b,c,d,e){var f=b[c],g=o(f);if("object"!==g){var h=s[e];return new Error("Invalid "+h+" `"+c+"` of type "+("`"+g+"` supplied to `"+d+"`, expected an object."))}for(var i in f)if(f.hasOwnProperty(i)){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return c(b)}function k(a){function b(b,c,d,e){for(var f=0;f<a.length;f++){var g=a[f];if(null==g(b,c,d,e))return null}var h=s[e];return new Error("Invalid "+h+" `"+c+"` supplied to "+("`"+d+"`."))}return c(b)}function l(){function a(a,b,c,d){if(!n(a[b])){var e=s[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return c(a)}function m(a){function b(b,c,d,e){var f=b[c],g=o(f);if("object"!==g){var h=s[e];return new Error("Invalid "+h+" `"+c+"` of type `"+g+"` "+("supplied to `"+d+"`, expected `object`."))}for(var i in a){var j=a[i];if(j){var k=j(f,i,d,e);if(k)return k}}return null}return c(b)}function n(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(n);if(null===a||q.isValidElement(a))return!0;a=r.extractIfFragment(a);for(var b in a)if(!n(a[b]))return!1;return!0;default:return!1}}function o(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}function p(a){var b=o(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}var q=a(63),r=a(69),s=a(84),t=a(129),u="<<anonymous>>",v=g(),w=l(),x={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),any:e(),arrayOf:f,element:v,instanceOf:h,node:w,objectOf:j,oneOf:i,oneOfType:k,shape:m};b.exports=x},{129:129,63:63,69:69,84:84}],87:[function(a,b){"use strict";function c(){this.listenersToPut=[]}var d=a(30),e=a(33),f=a(29);f(c.prototype,{enqueuePutListener:function(a,b,c){this.listenersToPut.push({rootNodeID:a,propKey:b,propValue:c})},putListeners:function(){for(var a=0;a<this.listenersToPut.length;a++){var b=this.listenersToPut[a];e.putListener(b.rootNodeID,b.propKey,b.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),d.addPoolingTo(c),b.exports=c},{29:29,30:30,33:33}],88:[function(a,b){"use strict";function c(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=d.getPooled(null),this.putListenerQueue=h.getPooled()}var d=a(7),e=a(30),f=a(33),g=a(71),h=a(87),i=a(116),j=a(29),k={initialize:g.getSelectionInformation,close:g.restoreSelection},l={initialize:function(){var a=f.isEnabled();return f.setEnabled(!1),a},close:function(a){f.setEnabled(a)}},m={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},n={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},o=[n,k,l,m],p={getTransactionWrappers:function(){return o},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){d.release(this.reactMountReady),this.reactMountReady=null,h.release(this.putListenerQueue),this.putListenerQueue=null}};j(c.prototype,i.Mixin,p),e.addPoolingTo(c),b.exports=c},{116:116,29:29,30:30,33:33,7:7,71:71,87:87}],89:[function(a,b){"use strict";function c(){d.attachRefs(this,this._currentElement)}var d=a(90),e=a(64),f={mountComponent:function(a,b,d,f){var g=a.mountComponent(b,d,f);return e.checkAndWarnForMutatedProps(a._currentElement),d.getReactMountReady().enqueue(c,a),g},unmountComponent:function(a){d.detachRefs(a,a._currentElement),a.unmountComponent()},receiveComponent:function(a,b,f,g){var h=a._currentElement;if(b!==h||null==b._owner){e.checkAndWarnForMutatedProps(b);var i=d.shouldUpdateRefs(h,b);i&&d.detachRefs(a,h),a.receiveComponent(b,f,g),i&&f.getReactMountReady().enqueue(c,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}};b.exports=f},{64:64,90:90}],90:[function(a,b){"use strict";function c(a,b,c){"function"==typeof a?a(b.getPublicInstance()):e.addComponentAsRefTo(b,a,c)}function d(a,b,c){"function"==typeof a?a(null):e.removeComponentAsRefFrom(b,a,c)}var e=a(81),f={};f.attachRefs=function(a,b){var d=b.ref;null!=d&&c(d,a,b._owner)},f.shouldUpdateRefs=function(a,b){return b._owner!==a._owner||b.ref!==a.ref},f.detachRefs=function(a,b){var c=b.ref;null!=c&&d(c,a,b._owner)},b.exports=f},{81:81}],91:[function(a,b){"use strict";var c={injectCreateReactRootIndex:function(a){d.createReactRootIndex=a}},d={createReactRootIndex:null,injection:c};b.exports=d},{}],92:[function(a,b){"use strict";function c(a){k(e.isValidElement(a),"renderToString(): You must pass a valid ReactElement.");var b;try{var c=f.createReactRootID();return b=h.getPooled(!1),b.perform(function(){var d=j(a,null),e=d.mountComponent(c,b,i);return g.addChecksumToMarkup(e)},null)}finally{h.release(b)}}function d(a){k(e.isValidElement(a),"renderToStaticMarkup(): You must pass a valid ReactElement.");var b;try{var c=f.createReactRootID();return b=h.getPooled(!0),b.perform(function(){var d=j(a,null);return d.mountComponent(c,b,i)},null)}finally{h.release(b)}}var e=a(63),f=a(72),g=a(76),h=a(93),i=a(130),j=a(149),k=a(150);b.exports={renderToString:c,renderToStaticMarkup:d}},{130:130,149:149,150:150,63:63,72:72,76:76,93:93}],93:[function(a,b){"use strict";function c(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=e.getPooled(null),this.putListenerQueue=f.getPooled()}var d=a(30),e=a(7),f=a(87),g=a(116),h=a(29),i=a(129),j={initialize:function(){this.reactMountReady.reset()},close:i},k={initialize:function(){this.putListenerQueue.reset()},close:i},l=[k,j],m={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null,f.release(this.putListenerQueue),this.putListenerQueue=null
}};h(c.prototype,g.Mixin,m),d.addPoolingTo(c),b.exports=c},{116:116,129:129,29:29,30:30,7:7,87:87}],94:[function(a,b){"use strict";function c(a,b){var c={};return function(d){c[b]=d,a.setState(c)}}var d={createStateSetter:function(a,b){return function(c,d,e,f,g,h){var i=b.call(a,c,d,e,f,g,h);i&&a.setState(i)}},createStateKeySetter:function(a,b){var d=a.__keySetters||(a.__keySetters={});return d[b]||(d[b]=c(a,b))}};d.Mixin={createStateSetter:function(a){return d.createStateSetter(this,a)},createStateKeySetter:function(a){return d.createStateKeySetter(this,a)}},b.exports=d},{}],95:[function(a,b){"use strict";function c(){}function d(a){return function(b,d){var e;w.isDOMComponent(b)?e=b.getDOMNode():b.tagName&&(e=b);var f=new c;f.target=e;var g=new s(m.eventNameDispatchConfigs[a],q.getID(e),f);t(g,d),i.accumulateTwoPhaseDispatches(g),r.batchedUpdates(function(){h.enqueueEvents(g),h.processEventQueue()})}}function e(){w.Simulate={};var a;for(a in m.eventNameDispatchConfigs)w.Simulate[a]=d(a)}function f(a){return function(b,d){var e=new c(a);t(e,d),w.isDOMComponent(b)?w.simulateNativeEventOnDOMComponent(a,b,e):b.tagName&&w.simulateNativeEventOnNode(a,b,e)}}var g=a(16),h=a(18),i=a(21),j=a(31),k=a(63),l=a(65),m=a(33),n=a(43),o=a(72),p=a(73),q=a(77),r=a(100),s=a(108),t=a(29),u=a(130),v=g.topLevelTypes,w={renderIntoDocument:function(a){var b=document.createElement("div");return j.render(a,b)},isElement:function(a){return k.isValidElement(a)},isElementOfType:function(a,b){return k.isValidElement(a)&&a.type===b},isDOMComponent:function(a){return!!(a&&a.tagName&&a.getDOMNode)},isDOMComponentElement:function(a){return!!(a&&k.isValidElement(a)&&a.tagName)},isCompositeComponent:function(a){return"function"==typeof a.render&&"function"==typeof a.setState},isCompositeComponentWithType:function(a,b){return!(!w.isCompositeComponent(a)||a.constructor!==b)},isCompositeComponentElement:function(a){if(!k.isValidElement(a))return!1;var b=a.type.prototype;return"function"==typeof b.render&&"function"==typeof b.setState},isCompositeComponentElementWithType:function(a,b){return!(!w.isCompositeComponentElement(a)||a.constructor!==b)},getRenderedChildOfCompositeComponent:function(a){if(!w.isCompositeComponent(a))return null;var b=p.get(a);return b._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(a,b){if(!a)return[];var c=b(a)?[a]:[];if(w.isDOMComponent(a)){var d,e=p.get(a),f=e._renderedComponent._renderedChildren;for(d in f)f.hasOwnProperty(d)&&f[d].getPublicInstance&&(c=c.concat(w.findAllInRenderedTree(f[d].getPublicInstance(),b)))}else w.isCompositeComponent(a)&&(c=c.concat(w.findAllInRenderedTree(w.getRenderedChildOfCompositeComponent(a),b)));return c},scryRenderedDOMComponentsWithClass:function(a,b){return w.findAllInRenderedTree(a,function(a){var c=a.props.className;return w.isDOMComponent(a)&&c&&-1!==(" "+c+" ").indexOf(" "+b+" ")})},findRenderedDOMComponentWithClass:function(a,b){var c=w.scryRenderedDOMComponentsWithClass(a,b);if(1!==c.length)throw new Error("Did not find exactly one match (found: "+c.length+") for class:"+b);return c[0]},scryRenderedDOMComponentsWithTag:function(a,b){return w.findAllInRenderedTree(a,function(a){return w.isDOMComponent(a)&&a.tagName===b.toUpperCase()})},findRenderedDOMComponentWithTag:function(a,b){var c=w.scryRenderedDOMComponentsWithTag(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for tag:"+b);return c[0]},scryRenderedComponentsWithType:function(a,b){return w.findAllInRenderedTree(a,function(a){return w.isCompositeComponentWithType(a,b)})},findRenderedComponentWithType:function(a,b){var c=w.scryRenderedComponentsWithType(a,b);if(1!==c.length)throw new Error("Did not find exactly one match for componentType:"+b);return c[0]},mockComponent:function(a,b){return b=b||a.mockTagName||"div",a.prototype.render.mockImplementation(function(){return j.createElement(b,null,this.props.children)}),this},simulateNativeEventOnNode:function(a,b,c){c.target=b,m.ReactEventListener.dispatchEvent(a,c)},simulateNativeEventOnDOMComponent:function(a,b,c){w.simulateNativeEventOnNode(a,b.getDOMNode(),c)},nativeTouchData:function(a,b){return{touches:[{pageX:a,pageY:b}]}},createRenderer:function(){return new x},Simulate:null,SimulateNative:{}},x=function(){this._instance=null};x.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var y=function(a){this._renderedOutput=a,this._currentElement=null===a||a===!1?l.emptyElement:a};y.prototype={mountComponent:function(){},receiveComponent:function(a){this._renderedOutput=a,this._currentElement=null===a||a===!1?l.emptyElement:a},unmountComponent:function(){}};var z=function(){};t(z.prototype,n.Mixin,{_instantiateReactComponent:function(a){return new y(a)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:n.Mixin._renderValidatedComponentWithoutOwnerOrContext}),x.prototype.render=function(a,b){b||(b=u);var c=r.ReactReconcileTransaction.getPooled();this._render(a,c,b),r.ReactReconcileTransaction.release(c)},x.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},x.prototype._render=function(a,b,c){if(this._instance)this._instance.receiveComponent(a,b,c);else{var d=o.createReactRootID(),e=new z(a.type);e.construct(a),e.mountComponent(d,b,c),this._instance=e}};var A=h.injection.injectEventPluginOrder;h.injection.injectEventPluginOrder=function(){A.apply(this,arguments),e()};var B=h.injection.injectEventPluginsByName;h.injection.injectEventPluginsByName=function(){B.apply(this,arguments),e()},e();var C;for(C in v){var D=0===C.indexOf("top")?C.charAt(3).toLowerCase()+C.substr(4):C;w.SimulateNative[D]=f(C)}b.exports=w},{100:100,108:108,130:130,16:16,18:18,21:21,29:29,31:31,33:33,43:43,63:63,65:65,72:72,73:73,77:77}],96:[function(a,b){"use strict";var c=a(37),d=a(69),e={getChildMapping:function(a){return a?d.extract(c.map(a,function(a){return a})):a},mergeChildMappings:function(a,b){function c(c){return b.hasOwnProperty(c)?b[c]:a[c]}a=a||{},b=b||{};var d={},e=[];for(var f in a)b.hasOwnProperty(f)?e.length&&(d[f]=e,e=[]):e.push(f);var g,h={};for(var i in b){if(d.hasOwnProperty(i))for(g=0;g<d[i].length;g++){var j=d[i][g];h[d[i][g]]=c(j)}h[i]=c(i)}for(g=0;g<e.length;g++)h[e[g]]=c(e[g]);return h}};b.exports=e},{37:37,69:69}],97:[function(a,b){"use strict";function c(){var a=document.createElement("div"),b=a.style;"AnimationEvent"in window||delete g.animationend.animation,"TransitionEvent"in window||delete g.transitionend.transition;for(var c in g){var d=g[c];for(var e in d)if(e in b){h.push(d[e]);break}}}function d(a,b,c){a.addEventListener(b,c,!1)}function e(a,b,c){a.removeEventListener(b,c,!1)}var f=a(22),g={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},h=[];f.canUseDOM&&c();var i={addEndEventListener:function(a,b){return 0===h.length?void window.setTimeout(b,0):void h.forEach(function(c){d(a,c,b)})},removeEndEventListener:function(a,b){0!==h.length&&h.forEach(function(c){e(a,c,b)})}};b.exports=i},{22:22}],98:[function(a,b){"use strict";var c=a(31),d=a(96),e=a(29),f=a(122),g=a(129),h=c.createClass({displayName:"ReactTransitionGroup",propTypes:{component:c.PropTypes.any,childFactory:c.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:g.thatReturnsArgument}},getInitialState:function(){return{children:d.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var a=this.state.children;for(var b in a)a[b]&&this.performAppear(b)},componentWillReceiveProps:function(a){var b=d.getChildMapping(a.children),c=this.state.children;this.setState({children:d.mergeChildMappings(c,b)});var e;for(e in b){var f=c&&c.hasOwnProperty(e);!b[e]||f||this.currentlyTransitioningKeys[e]||this.keysToEnter.push(e)}for(e in c){var g=b&&b.hasOwnProperty(e);!c[e]||g||this.currentlyTransitioningKeys[e]||this.keysToLeave.push(e)}},componentDidUpdate:function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var b=this.keysToLeave;this.keysToLeave=[],b.forEach(this.performLeave)},performAppear:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillAppear?b.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},_handleDoneAppearing:function(a){var b=this.refs[a];b.componentDidAppear&&b.componentDidAppear(),delete this.currentlyTransitioningKeys[a];var c=d.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performEnter:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillEnter?b.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},_handleDoneEntering:function(a){var b=this.refs[a];b.componentDidEnter&&b.componentDidEnter(),delete this.currentlyTransitioningKeys[a];var c=d.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performLeave:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillLeave?b.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)},_handleDoneLeaving:function(a){var b=this.refs[a];b.componentDidLeave&&b.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var c=d.getChildMapping(this.props.children);if(c&&c.hasOwnProperty(a))this.performEnter(a);else{var f=e({},this.state.children);delete f[a],this.setState({children:f})}},render:function(){var a=[];for(var b in this.state.children){var d=this.state.children[b];d&&a.push(f(this.props.childFactory(d),{ref:b,key:b}))}return c.createElement(this.props.component,this.props,a)}});b.exports=h},{122:122,129:129,29:29,31:31,96:96}],99:[function(a,b){"use strict";function c(a){a!==e.currentlyMountingInstance&&i.enqueueUpdate(a)}function d(a,b){k(null==f.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",b);var c=h.get(a);return c?c===e.currentlyUnmountingInstance?null:c:(l(!b,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.",b,b),null)}var e=a(74),f=a(45),g=a(63),h=a(73),i=a(100),j=a(29),k=a(150),l=a(171),m={enqueueCallback:function(a,b){k("function"==typeof b,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable.");var f=d(a);return f&&f!==e.currentlyMountingInstance?(f._pendingCallbacks?f._pendingCallbacks.push(b):f._pendingCallbacks=[b],void c(f)):null},enqueueCallbackInternal:function(a,b){k("function"==typeof b,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],c(a)},enqueueForceUpdate:function(a){var b=d(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,c(b))},enqueueReplaceState:function(a,b){var e=d(a,"replaceState");e&&(e._pendingStateQueue=[b],e._pendingReplaceState=!0,c(e))},enqueueSetState:function(a,b){var e=d(a,"setState");if(e){var f=e._pendingStateQueue||(e._pendingStateQueue=[]);f.push(b),c(e)}},enqueueSetProps:function(a,b){var e=d(a,"setProps");if(e){k(e._isTopLevel,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var f=e._pendingElement||e._currentElement,h=j({},f.props,b);e._pendingElement=g.cloneAndReplaceProps(f,h),c(e)}},enqueueReplaceProps:function(a,b){var e=d(a,"replaceProps");if(e){k(e._isTopLevel,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var f=e._pendingElement||e._currentElement;e._pendingElement=g.cloneAndReplaceProps(f,b),c(e)}},enqueueElementInternal:function(a,b){a._pendingElement=b,c(a)}};b.exports=m},{100:100,150:150,171:171,29:29,45:45,63:63,73:73,74:74}],100:[function(a,b){"use strict";function c(){q(B.ReactReconcileTransaction&&v,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function d(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=j.getPooled(),this.reconcileTransaction=B.ReactReconcileTransaction.getPooled()}function e(a,b,d,e,f){c(),v.batchedUpdates(a,b,d,e,f)}function f(a,b){return a._mountOrder-b._mountOrder}function g(a){var b=a.dirtyComponentsLength;q(b===s.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",b,s.length),s.sort(f);for(var c=0;b>c;c++){var d=s[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,n.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var g=0;g<e.length;g++)a.callbackQueue.enqueue(e[g],d.getPublicInstance())}}function h(a){return c(),r(null==l.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),v.isBatchingUpdates?void s.push(a):void v.batchedUpdates(h,a)}function i(a,b){q(v.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),t.enqueue(a,b),u=!0}var j=a(7),k=a(30),l=a(45),m=a(82),n=a(89),o=a(116),p=a(29),q=a(150),r=a(171),s=[],t=j.getPooled(),u=!1,v=null,w={initialize:function(){this.dirtyComponentsLength=s.length},close:function(){this.dirtyComponentsLength!==s.length?(s.splice(0,this.dirtyComponentsLength),z()):s.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},y=[w,x];p(d.prototype,o.Mixin,{getTransactionWrappers:function(){return y},destructor:function(){this.dirtyComponentsLength=null,j.release(this.callbackQueue),this.callbackQueue=null,B.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return o.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),k.addPoolingTo(d);var z=function(){for(;s.length||u;){if(s.length){var a=d.getPooled();a.perform(g,null,a),d.release(a)}if(u){u=!1;var b=t;t=j.getPooled(),b.notifyAll(),j.release(b)}}};z=m.measure("ReactUpdates","flushBatchedUpdates",z);var A={injectReconcileTransaction:function(a){q(a,"ReactUpdates: must provide a reconcile transaction class"),B.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){q(a,"ReactUpdates: must provide a batching strategy"),q("function"==typeof a.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),q("boolean"==typeof a.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),v=a}},B={ReactReconcileTransaction:null,batchedUpdates:e,enqueueUpdate:h,flushBatchedUpdates:z,injection:A,asap:i};b.exports=B},{116:116,150:150,171:171,29:29,30:30,45:45,7:7,82:82,89:89}],101:[function(a,b){"use strict";var c=a(11),d=c.injection.MUST_USE_ATTRIBUTE,e={Properties:{clipPath:d,cx:d,cy:d,d:d,dx:d,dy:d,fill:d,fillOpacity:d,fontFamily:d,fontSize:d,fx:d,fy:d,gradientTransform:d,gradientUnits:d,markerEnd:d,markerMid:d,markerStart:d,offset:d,opacity:d,patternContentUnits:d,patternUnits:d,points:d,preserveAspectRatio:d,r:d,rx:d,ry:d,spreadMethod:d,stopColor:d,stopOpacity:d,stroke:d,strokeDasharray:d,strokeLinecap:d,strokeOpacity:d,strokeWidth:d,textAnchor:d,transform:d,version:d,viewBox:d,x1:d,x2:d,x:d,y1:d,y2:d,y:d},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};b.exports=e},{11:11}],102:[function(a,b){"use strict";function c(a){if("selectionStart"in a&&g.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function d(a){if(r||null==o||o!==i())return null;var b=c(o);if(!q||!l(q,b)){q=b;var d=h.getPooled(n.select,p,a);return d.type="select",d.target=o,f.accumulateTwoPhaseDispatches(d),d}}var e=a(16),f=a(21),g=a(71),h=a(108),i=a(136),j=a(153),k=a(157),l=a(166),m=e.topLevelTypes,n={select:{phasedRegistrationNames:{bubbled:k({onSelect:null}),captured:k({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},o=null,p=null,q=null,r=!1,s={eventTypes:n,extractEvents:function(a,b,c,e){switch(a){case m.topFocus:(j(b)||"true"===b.contentEditable)&&(o=b,p=c,q=null);break;case m.topBlur:o=null,p=null,q=null;break;case m.topMouseDown:r=!0;break;case m.topContextMenu:case m.topMouseUp:return r=!1,d(e);case m.topSelectionChange:case m.topKeyDown:case m.topKeyUp:return d(e)}}};b.exports=s},{108:108,136:136,153:153,157:157,16:16,166:166,21:21,71:71}],103:[function(a,b){"use strict";var c=Math.pow(2,53),d={createReactRootIndex:function(){return Math.ceil(Math.random()*c)}};b.exports=d},{}],104:[function(a,b){"use strict";var c=a(16),d=a(20),e=a(21),f=a(105),g=a(108),h=a(109),i=a(111),j=a(112),k=a(107),l=a(113),m=a(114),n=a(115),o=a(137),p=a(150),q=a(157),r=a(171),s=c.topLevelTypes,t={blur:{phasedRegistrationNames:{bubbled:q({onBlur:!0}),captured:q({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:q({onClick:!0}),captured:q({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:q({onContextMenu:!0}),captured:q({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:q({onCopy:!0}),captured:q({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:q({onCut:!0}),captured:q({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:q({onDoubleClick:!0}),captured:q({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:q({onDrag:!0}),captured:q({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:q({onDragEnd:!0}),captured:q({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:q({onDragEnter:!0}),captured:q({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:q({onDragExit:!0}),captured:q({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:q({onDragLeave:!0}),captured:q({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:q({onDragOver:!0}),captured:q({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:q({onDragStart:!0}),captured:q({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:q({onDrop:!0}),captured:q({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:q({onFocus:!0}),captured:q({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:q({onInput:!0}),captured:q({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:q({onKeyDown:!0}),captured:q({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:q({onKeyPress:!0}),captured:q({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:q({onKeyUp:!0}),captured:q({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:q({onLoad:!0}),captured:q({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:q({onError:!0}),captured:q({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:q({onMouseDown:!0}),captured:q({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:q({onMouseMove:!0}),captured:q({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:q({onMouseOut:!0}),captured:q({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:q({onMouseOver:!0}),captured:q({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:q({onMouseUp:!0}),captured:q({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:q({onPaste:!0}),captured:q({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:q({onReset:!0}),captured:q({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:q({onScroll:!0}),captured:q({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:q({onSubmit:!0}),captured:q({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:q({onTouchCancel:!0}),captured:q({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:q({onTouchEnd:!0}),captured:q({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:q({onTouchMove:!0}),captured:q({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:q({onTouchStart:!0}),captured:q({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:q({onWheel:!0}),captured:q({onWheelCapture:!0})}}},u={topBlur:t.blur,topClick:t.click,topContextMenu:t.contextMenu,topCopy:t.copy,topCut:t.cut,topDoubleClick:t.doubleClick,topDrag:t.drag,topDragEnd:t.dragEnd,topDragEnter:t.dragEnter,topDragExit:t.dragExit,topDragLeave:t.dragLeave,topDragOver:t.dragOver,topDragStart:t.dragStart,topDrop:t.drop,topError:t.error,topFocus:t.focus,topInput:t.input,topKeyDown:t.keyDown,topKeyPress:t.keyPress,topKeyUp:t.keyUp,topLoad:t.load,topMouseDown:t.mouseDown,topMouseMove:t.mouseMove,topMouseOut:t.mouseOut,topMouseOver:t.mouseOver,topMouseUp:t.mouseUp,topPaste:t.paste,topReset:t.reset,topScroll:t.scroll,topSubmit:t.submit,topTouchCancel:t.touchCancel,topTouchEnd:t.touchEnd,topTouchMove:t.touchMove,topTouchStart:t.touchStart,topWheel:t.wheel};for(var v in u)u[v].dependencies=[v];var w={eventTypes:t,executeDispatch:function(a,b,c){var e=d.executeDispatch(a,b,c);r("boolean"!=typeof e,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."),e===!1&&(a.stopPropagation(),a.preventDefault())},extractEvents:function(a,b,c,d){var q=u[a];if(!q)return null;var r;switch(a){case s.topInput:case s.topLoad:case s.topError:case s.topReset:case s.topSubmit:r=g;break;case s.topKeyPress:if(0===o(d))return null;case s.topKeyDown:case s.topKeyUp:r=i;break;case s.topBlur:case s.topFocus:r=h;break;case s.topClick:if(2===d.button)return null;case s.topContextMenu:case s.topDoubleClick:case s.topMouseDown:case s.topMouseMove:case s.topMouseOut:case s.topMouseOver:case s.topMouseUp:r=j;break;case s.topDrag:case s.topDragEnd:case s.topDragEnter:case s.topDragExit:case s.topDragLeave:case s.topDragOver:case s.topDragStart:case s.topDrop:r=k;break;case s.topTouchCancel:case s.topTouchEnd:case s.topTouchMove:case s.topTouchStart:r=l;break;case s.topScroll:r=m;break;case s.topWheel:r=n;break;case s.topCopy:case s.topCut:case s.topPaste:r=f}p(r,"SimpleEventPlugin: Unhandled event type, `%s`.",a);var t=r.getPooled(q,c,d);return e.accumulateTwoPhaseDispatches(t),t}};b.exports=w},{105:105,107:107,108:108,109:109,111:111,112:112,113:113,114:114,115:115,137:137,150:150,157:157,16:16,171:171,20:20,21:21}],105:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(108),e={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};d.augmentClass(c,e),b.exports=c},{108:108}],106:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(108),e={data:null};d.augmentClass(c,e),b.exports=c},{108:108}],107:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(112),e={dataTransfer:null};d.augmentClass(c,e),b.exports=c},{112:112}],108:[function(a,b){"use strict";function c(a,b,c){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c;var d=this.constructor.Interface;for(var e in d)if(d.hasOwnProperty(e)){var g=d[e];this[e]=g?g(c):c[e]}var h=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;this.isDefaultPrevented=h?f.thatReturnsTrue:f.thatReturnsFalse,this.isPropagationStopped=f.thatReturnsFalse}var d=a(30),e=a(29),f=a(129),g=a(140),h={type:null,target:g,currentTarget:f.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};e(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=f.thatReturnsTrue},stopPropagation:function(){var a=this.nativeEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=f.thatReturnsTrue},persist:function(){this.isPersistent=f.thatReturnsTrue},isPersistent:f.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),c.Interface=h,c.augmentClass=function(a,b){var c=this,f=Object.create(c.prototype);e(f,a.prototype),a.prototype=f,a.prototype.constructor=a,a.Interface=e({},c.Interface,b),a.augmentClass=c.augmentClass,d.addPoolingTo(a,d.threeArgumentPooler)},d.addPoolingTo(c,d.threeArgumentPooler),b.exports=c},{129:129,140:140,29:29,30:30}],109:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(114),e={relatedTarget:null};d.augmentClass(c,e),b.exports=c},{114:114}],110:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(108),e={data:null};d.augmentClass(c,e),b.exports=c},{108:108}],111:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(114),e=a(137),f=a(138),g=a(139),h={key:f,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:g,charCode:function(a){return"keypress"===a.type?e(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?e(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};d.augmentClass(c,h),b.exports=c},{114:114,137:137,138:138,139:139}],112:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(114),e=a(117),f=a(139),g={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:f,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+e.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+e.currentScrollTop}};d.augmentClass(c,g),b.exports=c},{114:114,117:117,139:139}],113:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(114),e=a(139),f={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:e};d.augmentClass(c,f),b.exports=c},{114:114,139:139}],114:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(108),e=a(140),f={view:function(a){if(a.view)return a.view;var b=e(a);if(null!=b&&b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};d.augmentClass(c,f),b.exports=c},{108:108,140:140}],115:[function(a,b){"use strict";function c(a,b,c){d.call(this,a,b,c)}var d=a(112),e={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};d.augmentClass(c,e),b.exports=c},{112:112}],116:[function(a,b){"use strict";var c=a(150),d={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,d,e,f,g,h,i){c(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var j,k;try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,d,e,f,g,h,i),j=!1}finally{try{if(j)try{this.closeAll(0)}catch(l){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=e.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===e.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(f){}}}},closeAll:function(a){c(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var b=this.transactionWrappers,d=a;d<b.length;d++){var f,g=b[d],h=this.wrapperInitData[d];try{f=!0,h!==e.OBSERVED_ERROR&&g.close&&g.close.call(this,h),f=!1}finally{if(f)try{this.closeAll(d+1)}catch(i){}}}this.wrapperInitData.length=0}},e={Mixin:d,OBSERVED_ERROR:{}};b.exports=e},{150:150}],117:[function(a,b){"use strict";var c={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){c.currentScrollLeft=a.x,c.currentScrollTop=a.y}};b.exports=c},{}],118:[function(a,b){"use strict";function c(a,b){if(d(null!=b,"accumulateInto(...): Accumulated items must not be null or undefined."),null==a)return b;var c=Array.isArray(a),e=Array.isArray(b);return c&&e?(a.push.apply(a,b),a):c?(a.push(b),a):e?[a].concat(b):[a,b]}var d=a(150);b.exports=c},{150:150}],119:[function(a,b){"use strict";function c(a){for(var b=1,c=0,e=0;e<a.length;e++)b=(b+a.charCodeAt(e))%d,c=(c+b)%d;return b|c<<16}var d=65521;b.exports=c},{}],120:[function(a,b){function c(a){return a.replace(d,function(a,b){return b.toUpperCase()})}var d=/-(.)/g;b.exports=c},{}],121:[function(a,b){"use strict";function c(a){return d(a.replace(e,"ms-"))}var d=a(120),e=/^-ms-/;b.exports=c},{120:120}],122:[function(a,b){"use strict";function c(a,b){g(!a.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var c=e.mergeProps(b,a.props);return!c.hasOwnProperty(h)&&a.props.hasOwnProperty(h)&&(c.children=a.props.children),d.createElement(a.type,c)}var d=a(63),e=a(83),f=a(157),g=a(171),h=f({children:null});b.exports=c},{157:157,171:171,63:63,83:83}],123:[function(a,b){function c(a,b){return a&&b?a===b?!0:d(a)?!1:d(b)?c(a,b.parentNode):a.contains?a.contains(b):a.compareDocumentPosition?!!(16&a.compareDocumentPosition(b)):!1:!1}var d=a(154);b.exports=c},{154:154}],124:[function(a,b){function c(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function d(a){return c(a)?Array.isArray(a)?a.slice():e(a):[a]}var e=a(168);b.exports=d},{168:168}],125:[function(a,b){"use strict";function c(a){var b=e.createFactory(a),c=d.createClass({tagName:a.toUpperCase(),displayName:"ReactFullPageComponent"+a,componentWillUnmount:function(){f(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)
},render:function(){return b(this.props)}});return c}var d=a(38),e=a(63),f=a(150);b.exports=c},{150:150,38:38,63:63}],126:[function(a,b){function c(a){var b=a.match(j);return b&&b[1].toLowerCase()}function d(a,b){var d=i;h(!!i,"createNodesFromMarkup dummy not initialized");var e=c(a),j=e&&g(e);if(j){d.innerHTML=j[1]+a+j[2];for(var k=j[0];k--;)d=d.lastChild}else d.innerHTML=a;var l=d.getElementsByTagName("script");l.length&&(h(b,"createNodesFromMarkup(...): Unexpected <script> element rendered."),f(l).forEach(b));for(var m=f(d.childNodes);d.lastChild;)d.removeChild(d.lastChild);return m}var e=a(22),f=a(124),g=a(142),h=a(150),i=e.canUseDOM?document.createElement("div"):null,j=/^\s*<(\w+)/;b.exports=d},{124:124,142:142,150:150,22:22}],127:[function(a,b){"use strict";function c(a){return d(e,"React.addons.classSet will be deprecated in a future version. See http://fb.me/react-addons-classset"),e=!0,"object"==typeof a?Object.keys(a).filter(function(b){return a[b]}).join(" "):Array.prototype.join.call(arguments," ")}var d=a(171),e=!1;b.exports=c},{171:171}],128:[function(a,b){"use strict";function c(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var d=isNaN(b);return d||0===b||e.hasOwnProperty(a)&&e[a]?""+b:("string"==typeof b&&(b=b.trim()),b+"px")}var d=a(5),e=d.isUnitlessNumber;b.exports=c},{5:5}],129:[function(a,b){function c(a){return function(){return a}}function d(){}d.thatReturns=c,d.thatReturnsFalse=c(!1),d.thatReturnsTrue=c(!0),d.thatReturnsNull=c(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(a){return a},b.exports=d},{}],130:[function(a,b){"use strict";var c={};Object.freeze(c),b.exports=c},{}],131:[function(a,b){"use strict";function c(a){return e[a]}function d(a){return(""+a).replace(f,c)}var e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f=/[&><"']/g;b.exports=d},{}],132:[function(a,b){"use strict";function c(a){var b=d.current;return null!==b&&(i(b._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",b.getName()||"A component"),b._warnedAboutRefsInRender=!0),null==a?null:h(a)?a:e.has(a)?f.getNodeFromInstance(a):(g(null==a.render||"function"!=typeof a.render,"Component (with keys: %s) contains `render` method but is not mounted in the DOM",Object.keys(a)),void g(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(a)))}var d=a(45),e=a(73),f=a(77),g=a(150),h=a(152),i=a(171);b.exports=c},{150:150,152:152,171:171,45:45,73:73,77:77}],133:[function(a,b){"use strict";function c(a,b,c){var d=a,e=!d.hasOwnProperty(c);f(e,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",c),e&&null!=b&&(d[c]=b)}function d(a){if(null==a)return a;var b={};return e(a,c,b),b}var e=a(169),f=a(171);b.exports=d},{169:169,171:171}],134:[function(a,b){"use strict";function c(a){try{a.focus()}catch(b){}}b.exports=c},{}],135:[function(a,b){"use strict";var c=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};b.exports=c},{}],136:[function(a,b){function c(){try{return document.activeElement||document.body}catch(a){return document.body}}b.exports=c},{}],137:[function(a,b){"use strict";function c(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}b.exports=c},{}],138:[function(a,b){"use strict";function c(a){if(a.key){var b=e[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=d(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?f[a.keyCode]||"Unidentified":""}var d=a(137),e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};b.exports=c},{137:137}],139:[function(a,b){"use strict";function c(a){var b=this,c=b.nativeEvent;if(c.getModifierState)return c.getModifierState(a);var d=e[a];return d?!!c[d]:!1}function d(){return c}var e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};b.exports=d},{}],140:[function(a,b){"use strict";function c(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}b.exports=c},{}],141:[function(a,b){"use strict";function c(a){var b=a&&(d&&a[d]||a[e]);return"function"==typeof b?b:void 0}var d="function"==typeof Symbol&&Symbol.iterator,e="@@iterator";b.exports=c},{}],142:[function(a,b){function c(a){return e(!!f,"Markup wrapping node not initialized"),l.hasOwnProperty(a)||(a="*"),g.hasOwnProperty(a)||(f.innerHTML="*"===a?"<link />":"<"+a+"></"+a+">",g[a]=!f.firstChild),g[a]?l[a]:null}var d=a(22),e=a(150),f=d.canUseDOM?document.createElement("div"):null,g={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},h=[1,'<select multiple="true">',"</select>"],i=[1,"<table>","</table>"],j=[3,"<table><tbody><tr>","</tr></tbody></table>"],k=[1,"<svg>","</svg>"],l={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:h,option:h,caption:i,colgroup:i,tbody:i,tfoot:i,thead:i,td:j,th:j,circle:k,clipPath:k,defs:k,ellipse:k,g:k,line:k,linearGradient:k,path:k,polygon:k,polyline:k,radialGradient:k,rect:k,stop:k,text:k};b.exports=c},{150:150,22:22}],143:[function(a,b){"use strict";function c(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function d(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function e(a,b){for(var e=c(a),f=0,g=0;e;){if(3===e.nodeType){if(g=f+e.textContent.length,b>=f&&g>=b)return{node:e,offset:b-f};f=g}e=c(d(e))}}b.exports=e},{}],144:[function(a,b){"use strict";function c(a){return a?a.nodeType===d?a.documentElement:a.firstChild:null}var d=9;b.exports=c},{}],145:[function(a,b){"use strict";function c(){return!e&&d.canUseDOM&&(e="textContent"in document.documentElement?"textContent":"innerText"),e}var d=a(22),e=null;b.exports=c},{22:22}],146:[function(a,b){"use strict";function c(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}b.exports=c},{}],147:[function(a,b){function c(a){return a.replace(d,"-$1").toLowerCase()}var d=/([A-Z])/g;b.exports=c},{}],148:[function(a,b){"use strict";function c(a){return d(a).replace(e,"-ms-")}var d=a(147),e=/^ms-/;b.exports=c},{147:147}],149:[function(a,b){"use strict";function c(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function d(a,b){var d;if((null===a||a===!1)&&(a=f.emptyElement),"object"==typeof a){var e=a;j(e&&("function"==typeof e.type||"string"==typeof e.type),"Only functions or strings can be mounted as React components."),d=b===e.type&&"string"==typeof e.type?g.createInternalComponent(e):c(e.type)?new e.type(e):new k}else"string"==typeof a||"number"==typeof a?d=g.createInstanceForText(a):i(!1,"Encountered invalid React node of type %s",typeof a);return j("function"==typeof d.construct&&"function"==typeof d.mountComponent&&"function"==typeof d.receiveComponent&&"function"==typeof d.unmountComponent,"Only React Components can be mounted."),d.construct(a),d._mountIndex=0,d._mountImage=null,d._isOwnerNecessary=!1,d._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(d),d}var e=a(43),f=a(65),g=a(80),h=a(29),i=a(150),j=a(171),k=function(){};h(k.prototype,e.Mixin,{_instantiateReactComponent:d}),b.exports=d},{150:150,171:171,29:29,43:43,65:65,80:80}],150:[function(a,b){"use strict";var c=function(a,b,c,d,e,f,g,h){if(void 0===b)throw new Error("invariant requires an error message argument");if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error("Invariant Violation: "+b.replace(/%s/g,function(){return j[k++]}))}throw i.framesToPop=1,i}};b.exports=c},{}],151:[function(a,b){"use strict";function c(a,b){if(!e.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,f=c in document;if(!f){var g=document.createElement("div");g.setAttribute(c,"return;"),f="function"==typeof g[c]}return!f&&d&&"wheel"===a&&(f=document.implementation.hasFeature("Events.wheel","3.0")),f}var d,e=a(22);e.canUseDOM&&(d=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),b.exports=c},{22:22}],152:[function(a,b){function c(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}b.exports=c},{}],153:[function(a,b){"use strict";function c(a){return a&&("INPUT"===a.nodeName&&d[a.type]||"TEXTAREA"===a.nodeName)}var d={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};b.exports=c},{}],154:[function(a,b){function c(a){return d(a)&&3==a.nodeType}var d=a(152);b.exports=c},{152:152}],155:[function(a,b){"use strict";function c(a){a||(a="");var b,c=arguments.length;if(c>1)for(var d=1;c>d;d++)b=arguments[d],b&&(a=(a?a+" ":"")+b);return a}b.exports=c},{}],156:[function(a,b){"use strict";var c=a(150),d=function(a){var b,d={};c(a instanceof Object&&!Array.isArray(a),"keyMirror(...): Argument must be an object.");for(b in a)a.hasOwnProperty(b)&&(d[b]=b);return d};b.exports=d},{150:150}],157:[function(a,b){var c=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};b.exports=c},{}],158:[function(a,b){"use strict";function c(a,b,c){if(!a)return null;var e={};for(var f in a)d.call(a,f)&&(e[f]=b.call(c,a[f],f,a));return e}var d=Object.prototype.hasOwnProperty;b.exports=c},{}],159:[function(a,b){"use strict";function c(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}b.exports=c},{}],160:[function(a,b){"use strict";function c(a){return e(d.isValidElement(a),"onlyChild must be passed a children with exactly one child."),a}var d=a(63),e=a(150);b.exports=c},{150:150,63:63}],161:[function(a,b){"use strict";var c,d=a(22);d.canUseDOM&&(c=window.performance||window.msPerformance||window.webkitPerformance),b.exports=c||{}},{22:22}],162:[function(a,b){var c=a(161);c&&c.now||(c=Date);var d=c.now.bind(c);b.exports=d},{161:161}],163:[function(a,b){"use strict";function c(a){return'"'+d(a)+'"'}var d=a(131);b.exports=c},{131:131}],164:[function(a,b){"use strict";var c=a(22),d=/^[ \r\n\t\f]/,e=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,f=function(a,b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(f=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),c.canUseDOM){var g=document.createElement("div");g.innerHTML=" ",""===g.innerHTML&&(f=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),d.test(b)||"<"===b[0]&&e.test(b)){a.innerHTML="﻿"+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b})}b.exports=f},{22:22}],165:[function(a,b){"use strict";var c=a(22),d=a(131),e=a(164),f=function(a,b){a.textContent=b};c.canUseDOM&&("textContent"in document.documentElement||(f=function(a,b){e(a,d(b))})),b.exports=f},{131:131,164:164,22:22}],166:[function(a,b){"use strict";function c(a,b){if(a===b)return!0;var c;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0}b.exports=c},{}],167:[function(a,b){"use strict";function c(a,b){if(null!=a&&null!=b){var c=typeof a,e=typeof b;if("string"===c||"number"===c)return"string"===e||"number"===e;if("object"===e&&a.type===b.type&&a.key===b.key){var f=a._owner===b._owner,g=null,h=null,i=null;return f||(null!=a._owner&&null!=a._owner.getPublicInstance()&&null!=a._owner.getPublicInstance().constructor&&(g=a._owner.getPublicInstance().constructor.displayName),null!=b._owner&&null!=b._owner.getPublicInstance()&&null!=b._owner.getPublicInstance().constructor&&(h=b._owner.getPublicInstance().constructor.displayName),null!=b.type&&null!=b.type.displayName&&(i=b.type.displayName),null!=b.type&&"string"==typeof b.type&&(i=b.type),("string"!=typeof b.type||"input"===b.type||"textarea"===b.type)&&(null!=a._owner&&a._owner._isOwnerNecessary===!1||null!=b._owner&&b._owner._isOwnerNecessary===!1)&&(null!=a._owner&&(a._owner._isOwnerNecessary=!0),null!=b._owner&&(b._owner._isOwnerNecessary=!0),d(!1,"<%s /> is being rendered by both %s and %s using the same key (%s) in the same place. Currently, this means that they don't preserve state. This behavior should be very rare so we're considering deprecating it. Please contact the React team and explain your use case so that we can take that into consideration.",i||"Unknown Component",g||"[Unknown]",h||"[Unknown]",a.key))),f}}return!1}var d=a(171);b.exports=c},{171:171}],168:[function(a,b){function c(a){var b=a.length;if(d(!Array.isArray(a)&&("object"==typeof a||"function"==typeof a),"toArray: Array-like object expected"),d("number"==typeof b,"toArray: Object needs a length property"),d(0===b||b-1 in a,"toArray: Object should have keys for indices"),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var e=Array(b),f=0;b>f;f++)e[f]=a[f];return e}var d=a(150);b.exports=c},{150:150}],169:[function(a,b){"use strict";function c(a){return q[a]}function d(a,b){return a&&null!=a.key?f(a.key):b.toString(36)}function e(a){return(""+a).replace(r,c)}function f(a){return"$"+e(a)}function g(a,b,c,e,h){var k=typeof a;if(("undefined"===k||"boolean"===k)&&(a=null),null===a||"string"===k||"number"===k||i.isValidElement(a))return e(h,a,""===b?o+d(a,0):b,c),1;var q,r,t,u=0;if(Array.isArray(a))for(var v=0;v<a.length;v++)q=a[v],r=(""!==b?b+p:o)+d(q,v),t=c+u,u+=g(q,r,t,e,h);else{var w=l(a);if(w){var x,y=w.call(a);if(w!==a.entries)for(var z=0;!(x=y.next()).done;)q=x.value,r=(""!==b?b+p:o)+d(q,z++),t=c+u,u+=g(q,r,t,e,h);else for(n(s,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),s=!0;!(x=y.next()).done;){var A=x.value;A&&(q=A[1],r=(""!==b?b+p:o)+f(A[0])+p+d(q,0),t=c+u,u+=g(q,r,t,e,h))}}else if("object"===k){m(1!==a.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");var B=j.extract(a);for(var C in B)B.hasOwnProperty(C)&&(q=B[C],r=(""!==b?b+p:o)+f(C)+p+d(q,0),t=c+u,u+=g(q,r,t,e,h))}}return u}function h(a,b,c){return null==a?0:g(a,"",0,b,c)}var i=a(63),j=a(69),k=a(72),l=a(141),m=a(150),n=a(171),o=k.SEPARATOR,p=":",q={"=":"=0",".":"=1",":":"=2"},r=/[=.:]/g,s=!1;b.exports=h},{141:141,150:150,171:171,63:63,69:69,72:72}],170:[function(a,b){"use strict";function c(a){return Array.isArray(a)?a.concat():a&&"object"==typeof a?f(new a.constructor,a):a}function d(a,b,c){h(Array.isArray(a),"update(): expected target of %s to be an array; got %s.",c,a);var d=b[c];h(Array.isArray(d),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",c,d)}function e(a,b){if(h("object"==typeof b,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",p.join(", "),m),i.call(b,m))return h(1===Object.keys(b).length,"Cannot have more than one key in an object with %s",m),b[m];var g=c(a);if(i.call(b,n)){var r=b[n];h(r&&"object"==typeof r,"update(): %s expects a spec of type 'object'; got %s",n,r),h(g&&"object"==typeof g,"update(): %s expects a target of type 'object'; got %s",n,g),f(g,b[n])}i.call(b,j)&&(d(a,b,j),b[j].forEach(function(a){g.push(a)})),i.call(b,k)&&(d(a,b,k),b[k].forEach(function(a){g.unshift(a)})),i.call(b,l)&&(h(Array.isArray(a),"Expected %s target to be an array; got %s",l,a),h(Array.isArray(b[l]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",l,b[l]),b[l].forEach(function(a){h(Array.isArray(a),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",l,b[l]),g.splice.apply(g,a)})),i.call(b,o)&&(h("function"==typeof b[o],"update(): expected spec of %s to be a function; got %s.",o,b[o]),g=b[o](g));for(var s in b)q.hasOwnProperty(s)&&q[s]||(g[s]=e(a[s],b[s]));return g}var f=a(29),g=a(157),h=a(150),i={}.hasOwnProperty,j=g({$push:null}),k=g({$unshift:null}),l=g({$splice:null}),m=g({$set:null}),n=g({$merge:null}),o=g({$apply:null}),p=[j,k,l,m,n,o],q={};p.forEach(function(a){q[a]=!0}),b.exports=e},{150:150,157:157,29:29}],171:[function(a,b){"use strict";var c=a(129),d=c;d=function(a,b){for(var c=[],d=2,e=arguments.length;e>d;d++)c.push(arguments[d]);if(void 0===b)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(b.length<10||/^[s\W]*$/.test(b))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+b);if(0!==b.indexOf("Failed Composite propType: ")&&!a){var f=0,g="Warning: "+b.replace(/%s/g,function(){return c[f++]});console.warn(g);try{throw new Error(g)}catch(h){}}},b.exports=d},{129:129}]},{},[1])(1)}),function(){"use strict";function a(){for(var b="",c=0;c<arguments.length;c++){var d=arguments[c];if(d){var e=typeof d;if("string"===e||"number"===e)b+=" "+d;else if(Array.isArray(d))b+=" "+a.apply(null,d);else if("object"===e)for(var f in d)d.hasOwnProperty(f)&&d[f]&&(b+=" "+f)}}return b.substr(1)}window.classNames=a}(),!function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=function(a,b){for(var c=0,d=b.length;d>c;c++)for(var e in b[c])a.prototype[e]=b[c][e]};b.exports=function(a,b){function d(a,b,c){this.__eventId=c,this.__value=a,this.__path=b||[],this.__wrap()}return d.prototype.set=function(a,c){b.publish("update"+this.__eventId,{value:a,path:this.__path,forceUpdate:c})},d.prototype.getValue=function(){return this.__value},d.prototype.val=d.prototype.getValue,d.prototype.getPath=function(){return this.__path},d.prototype.getKey=function(){return this.__path[this.__path.length-1]},d.prototype.forEach=function(a){if(this.__isObject())for(var b in this.__wrappers)a(b,this.__wrappers[b],this.__wrappers);else this.__isArray()&&this.__wrappers.forEach(a)},d.prototype.remove=function(){b.publish("remove"+this.__eventId,{path:this.__path})},d.prototype.__wrap=function(){var a;if(this.__cleanup(),this.__isObject()){this.__wrappers={};for(var b in this.__value)a=this.__path.slice(),a.push(b),this.__wrappers[b]=new d(this.__value[b],a,this.__eventId),this[b]=this.__wrappers[b]}else if(this.__isArray()){this.__wrappers=[];for(var c=0,e=this.__value.length;e>c;c++)a=this.__path.slice(),a.push(c),this.__wrappers[c]=new d(this.__value[c],a,this.__eventId),this[c]=this.__wrappers[c]}},d.prototype.__cleanup=function(){if(this.__wrappers){if(this.__isObject())for(var a in this.__wrappers)delete this[a];else if(this.__isArray())for(var b=0,c=this.__wrappers.length;c>b;b++)delete this[b];delete this.__wrappers}},d.prototype.__forceUpdate=function(){this.set(this.__value,!0)},d.prototype.__isObject=function(){return this.__value&&this.__value.constructor===Object},d.prototype.__isArray=function(){return this.__value&&this.__value.constructor===Array},c(d,a),d}},{}],2:[function(a,b){var c=a("./pubsub"),d=a("./wrappers/array"),e=a("./wrappers/hash"),f=a("./data_wrapper")([d,e],c),g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i=function(a,b){function c(a,b){this.__value=a,this.__path=[],this.__callbacks=b?[b]:[],this.__callbacksQueued=!1,this.__subscribe(),this.__wrap()}return h(c,a),c.prototype.on=function(a,b){"update"===a&&this.__callbacks.push(b)},c.prototype.off=function(a,b){if("update"===a)if(b){for(var c=0,d=this.__callbacks.length;d>c;c++)if(b===this.__callbacks[c]){this.__callbacks.splice(c,1);break}}else this.__callbacks=[]},c.prototype.update=function(a,b,c){return c||this.__shouldUpdate(a,b)?(this.__setValue(a,b),this.__rewrap(b),this.__callbacksQueued||(this.__callbacksQueued=!0,setTimeout(function(){this.__runCallbacks()}.bind(this),0)),!0):!1},c.prototype.__runCallbacks=function(){this.__callbacksQueued=!1;for(var a=0,b=this.__callbacks.length;b>a;a++)this.__callbacks[a]&&this.__callbacks[a](this)},c.prototype.__subscribe=function(){this.__eventId=b.subscribeToCortex(function(a,b){this.update(b.value,b.path,b.forceUpdate)}.bind(this),function(a,b){this.__remove(b.path)}.bind(this))},c.prototype.__remove=function(a){if(a.length){var b=a.slice(0,a.length-1),c=this.__subValue(b),d=a[a.length-1],e=c[d];return c.constructor===Object?delete c[d]:c.constructor===Array&&c.splice(d,1),this.update(c,b,!0),e}delete this.__wrappers,delete this.__value},c.prototype.__rewrap=function(a){for(var b=a.slice(0,a.length-1),c=this,d=0,e=b.length;e>d;d++)c=c[b[d]];c.__wrap()},c.prototype.__setValue=function(a,b){if(b.length>1){var c=this.__subValue(b.slice(0,b.length-1));c[b[b.length-1]]=a}else 1===b.length?this.__value[b[0]]=a:this.__value=a},c.prototype.__subValue=function(a){for(var b=this.__value,c=0,d=a.length;d>c;c++)b=b[a[c]];return b},c.prototype.__shouldUpdate=function(a,b){for(var c=this.__value,d=0,e=b.length;e>d;d++)c=c[b[d]];return this.__isDifferent(c,a)},c.prototype.__isDifferent=function(a,b){if(a&&a.constructor===Object){if(!b||b.constructor!==Object||this.__isDifferent(Object.keys(a).sort(),Object.keys(b).sort()))return!0;for(var c in a)if(this.__isDifferent(a[c],b[c]))return!0}else{if(!a||a.constructor!==Array)return a!==b;if(!b||b.constructor!==Array||a.length!==b.length)return!0;for(var d=0,e=a.length;e>d;d++)if(this.__isDifferent(a[d],b[d]))return!0}},c}(f,c);"undefined"!=typeof window&&null!==window&&(window.Cortex=i),b.exports=i},{"./data_wrapper":1,"./pubsub":3,"./wrappers/array":4,"./wrappers/hash":5}],3:[function(a,b){var c=function(){function a(){this.uid=-1,this.topics={}}return a.prototype.subscribe=function(a,b){this.topics.hasOwnProperty(a)||(this.topics[a]=[]),this.topics[a].push({callback:b})},a.prototype.publish=function(a,b){if(!this.topics.hasOwnProperty(a))return!1;var c=this.topics[a],d=function(){for(var d=0,e=c.length;e>d;d++)c[d].callback(a,b)};return d(),!0},a.prototype.subscribeToCortex=function(a,b){return this.uid+=1,this.subscribe("update"+this.uid,a),this.subscribe("remove"+this.uid,b),this.uid},a.prototype.unsubscribeFromCortex=function(a){delete this.topics["update"+a],delete this.topics["remove"+a]},a}();b.exports=new c},{}],4:[function(a,b){var c={count:function(){return this.__value.length},map:function(a){return this.__wrappers.map(a)},filter:function(a,b){return this.__wrappers.filter(a,b)},find:function(a){for(var b=0,c=this.__wrappers.length;c>b;b++)if(a(this.__wrappers[b],b,this.__wrappers))return this.__wrappers[b];return null},findIndex:function(a){for(var b=0,c=this.__wrappers.length;c>b;b++)if(a(this.__wrappers[b],b,this.__wrappers))return b;return-1},push:function(a){var b=this.__value.push(a);return this.__forceUpdate(),b},pop:function(){var a=this.__value.pop();return this.__forceUpdate(),a},unshift:function(a){var b=this.__value.unshift(a);return this.__forceUpdate(),b},shift:function(){var a=this.__value.shift();return this.__forceUpdate(),a},insertAt:function(a,b){var c=[a,0].concat(b);Array.prototype.splice.apply(this.__value,c),this.__forceUpdate()},removeAt:function(a,b){(isNaN(b)||0>=b)&&(b=1);var c=this.__value.splice(a,b);return this.__forceUpdate(),c}};b.exports=c},{}],5:[function(a,b){var c={keys:function(){return Object.keys(this.__value)},values:function(){var a,b=[];for(a in this.__value)b.push(this.__value[a]);return b},hasKey:function(a){return null!=this.__value[a]},destroy:function(a){var b=this.__value[a];return delete this.__value[a],this.__forceUpdate(),b},"delete":function(a){return console.warn("Method deprecated! Please use .destroy(key) method"),this.remove(a)},add:function(a,b){return this.__value[a]=b,this.__forceUpdate(),b}};b.exports=c},{}]},{},[2]),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(){var a=!1,b=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d},Class.addSingleton=function(a){a.getInstance=function(b){return a._instance||(a._instance=new a(b))}},this.Iface=function(a){this.methods=a},this.Iface.extractPublicMethodsFrom=function(a){var b=[];for(var c in a.prototype){var d=a.prototype[c];"constructor"!=c&&"init"!=c&&"function"==typeof d&&"_"!=c.charAt(0)&&b.push(c)}return b},Iface._implementations={},Iface.defineImplementation=function(a,b){b in Iface._implementations||(Iface._implementations[b]=[]),Iface._implementations[b].push(a)}}(),Namespace=function(){var a,b,c,d=arguments,e=null;for(a=0;a<d.length;a+=1)for(c=d[a].split("."),e=window,b=0;b<c.length;b+=1)e[c[b]]=e[c[b]]||{},e=e[c[b]];return e},Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},String.prototype.escape=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},$.fn.serializeObject=function(){var a={},b=this.serializeArray();return $.each(b,function(){a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},Object.values=function(a){var b=[];return jQuery.each(Object.keys(a),function(c,d){b.push(a[d])}),b},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Namespace("Imgur"),Namespace("ImgurIface"),Imgur=Class.extend({INVOKED_BY_COOKIE_LIFE:1200,INVOKED_BY_COOKIE:"auth_invoked_by",INVOKED_BY_PARAM:"invokedBy",init:function(a){return this._=$.extend(!0,{hash:null,url:location.pathname,protocol:window.location.protocol,host:window.location.host,isDropDownOpen:!1,cdnUrl:null,signed:!1,socket:null,likeDay:!1,followDay:!1,emitter:new Imgur.Emitter,linkCodes:["imageLink","directishLink","htmlImage","bbcode","linkedBbcode","markdown"],imageSizes:{original:{width:null,suffix:""},retinaThumb:{width:1360,suffix:"r"},hugeThumb:{width:1024,suffix:"h"},giantThumb:{width:680,suffix:"g"},largeThumb:{width:640,suffix:"l"},mediumThumb:{width:320,suffix:"m"},smallThumb:{width:160,suffix:"t"},bigSquare:{width:160,suffix:"b"},smallSquare:{width:90,suffix:"s"}},messages:{error:"There was an error. Please try again.",titledesc:"Title and/or description has been updated",readonly:"Imgur is in read-only mode. Please try again later.",upvoted:'<div class="favorited upvoted_msg"></div>',downvoted:'<div class="favorited downvoted_msg"></div>'},el:{topbar:$("#topbar"),imageLinks:$(".image-link"),youtubeLinks:$(".youtube-link"),allImageLinks:$(".image-link, .imgur-image"),search:{searchContainer:$(".search-container"),searchForm:$(".search-container .search-form"),searchBar:$(".search-container .search"),searchIcon:$(".search-container .search-icon-container")},dropdown:{signin:$("#topbar .signin-link"),register:$("#topbar #register"),upload:$("#topbar .creation-dropdown"),mainMenu:$("#topbar .menu-btn")}},pageDepth:0},a),this._
},setEmitter:function(a){this._.emitter=a},generalInit:function(){var a=this;$(document).ajaxError(function(b,c,d){d.url!==a._.protocol+"//"+a._.host+"/upload"&&d.displayGenericError!==!1&&(500==c.status||503==c.status?humanMsg.displayMsg(a._.messages.error,"error-msg"):501==c.status&&humanMsg.displayMsg(a._.messages.readonly,"error-msg"))}),$.ajaxSetup({cache:!0}),$.browser.msie&&parseInt($.browser.version)<9&&$.ajaxSetup({cache:!1}),this.showBetaBar(),this.initHeaderActions(),this.runPlaceholder();try{$(".title").tipsy({html:!0,gravity:"s",opacity:.95}),$(".title-nw").tipsy({html:!0,gravity:"nw",opacity:.95}),$(".title-n").tipsy({html:!0,gravity:"n",opacity:.95}),$(".title-w").tipsy({html:!0,gravity:"w",opacity:.95}),$(".title-e").tipsy({html:!0,gravity:"e",opacity:.95}),this._.el.imageLinks.colorbox({initialHeight:240,initialWidth:320,maxWidth:"95%",maxHeight:"95%",className:"noHeader",scalePhotos:!0,photo:!0,fixed:!0,scrolling:!1,transition:"elastic",onOpen:function(){$(".tipsy").remove()},onComplete:function(){$(".tipsy").remove()}}),this._.el.youtubeLinks.colorbox({href:Imgur.Util.getYoutubeEmbedLink,transition:"none",width:"600px",height:"400px",iframe:!0,fixed:!0,scrolling:!1}),this._.el.allImageLinks.tipsy({delayIn:200,gravity:$.fn.tipsy.autoNS,title:this.imageLinkTipsy,html:!0,opacity:1,offset:2,live:!0})}catch(b){}$("body").on("click",".imgur-image",function(b){b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||(b.preventDefault(),$(this).colorbox({initialHeight:240,initialWidth:320,maxWidth:"95%",maxHeight:"95%",className:"noHeader",scalePhotos:!0,photo:!0,fixed:!0,scrolling:!1,transition:"elastic",onOpen:function(){$(".tipsy").remove()},onComplete:function(){$(".tipsy").remove();var b=$(this).attr("data-hash"),c=$(this).attr("href");$.getJSON("/ajax/favorited/"+b,_.bind(a.appendFavoriteBar,a,b,c))},onClosed:function(){a.removeFavoriteBar()}}))})},imageLinkTipsy:function(){$(".tipsy").remove();var a=$(this),b=a.attr("href");if($("#hzImg").length)return"";if(a.closest(".comment").find("> .children > .comment > .caption").text().match(/nsfw/gi)||a.parent().text().match(/nsfw/gi))return"<div>nsfw link</div>";var c=new Image;return c.src=b,c.complete?(c=null,'<img style="max-width:100%; max-height: 300px" src="'+b+'">'):(a.addClass("show-tipsy"),a.hover(function(){a.toggleClass("show-tipsy")}),c.onload=function(){$.browser.msie?$(".tipsy .tipsy-inner").html('<img style="max-width:100%; max-height: 300px" src="'+b+'">'):a.tipsy(a.hasClass("show-tipsy")?"show":"hide"),a.unbind("mouseenter mouseleave")},c.onerror=function(){$(".tipsy .tipsy-inner").html("<div>Image could not be loaded</div>"),$(".tipsy").css({left:"-=75px"}),a.unbind("mouseenter mouseleave")},c=null,'<img style="width: 25px;" src="//s.imgur.com/images/loaders/ddddd1_121211/48.gif">')},appendFavoriteBar:function(a,b,c){var d=$(_.templates["galleryimage.favoriteBar"]({value:"http:"+b,favorited:c.data.favorited}));$favoriteImage=d.find(".favorite-image");var e=new Imgur.Favorite({$favButton:$favoriteImage});$favoriteImage.on("click",function(){e.favorite(a,!1,!1,!1)}),d.find(".favorite-image").tipsy({gravity:"e",opacity:1}),d.find("#copy-container").tipsy({gravity:"w",opacity:1}),$("#cboxLoadedContent").after(d),this.bindZeroClipboard()},bindZeroClipboard:function(){var a=new ZeroClipboard.Client;a.glue("copy-clipboard","copy-container"),a.addEventListener("onMouseUp",function(){$copyContainer=$("#copy-container"),$copyContainer.attr("title","copied"),$copyContainer.tipsy("show"),$copyContainer.attr("original-title","copy"),a.setText($copyContainer.siblings("input").val()),flashElement($("#copy"))})},removeFavoriteBar:function(){$("#favorite-bar").remove()},initHeaderActions:function(){var a=this;try{!this._.isSubdomain&&null!=this._.dropdownPulseTime&&localStorage&&void 0==localStorage[this._.dropdownPulseTime]&&this._.el.dropdown.mainMenu.addClass("pulse")}catch(b){}this._.el.dropdown.mainMenu.click(function(b){return a.openDropdownMenu(b,a._.el.dropdown.mainMenu)}),this._.el.dropdown.upload.click(function(b){return a.openDropdownMenu(b,a._.el.dropdown.upload)}),this._.el.dropdown.signin.click(function(b){b.preventDefault(),a.signin("regularSignIn",!0)}),this._.el.dropdown.register.click(function(b){b.preventDefault(),a.signin("regularSignIn")}),(this._.el.dropdown.mainMenu.length||this._.el.dropdown.upload.length||this._.el.dropdown.signin.length||this._.el.dropdown.register.length)&&$(document).on("click keyup",function(b){a.closeDropdownMenu(b)})},_showBetaInvite:function(){Imgur.Environment.beta.inBeta||null!=this._.beta&&this._.beta.showInvite&&(Imgur.Environment.ctaConfig=$.extend(!0,Imgur.Environment.ctaConfig,this._.beta.ctaInvite))},_showBetaWelcome:function(){Imgur.Environment.beta.inBeta&&(Imgur.Environment.ctaConfig=$.extend(!0,Imgur.Environment.ctaConfig,this._.beta.ctaWelcome))},showBetaBar:function(){this._showBetaInvite(),this._showBetaWelcome()},showAnnouncementBar:function(a,b){if(!$("#so").length&&!$("#an-msg").length){if(b){if($.cookie(b))return}else if($.cookie("an-msg-closed"))return;var c=$('<div id="an-msg" class="global-message"></div>'),d=$('<a href="javascript:;" class="close-message title" title="close this message">&times;</a>');d.click(function(){Imgur.Util.closeMessage($(this),b)}),this._.el.topbar.after(c.html(a).prepend(d))}},closeDropdownMenu:function(a){if(1!=a.which&&2!=a.which&&3!=a.which&&27!=a.which)return!1;var b=a?$(a.target):null;b.parents(".tag-group-selector-container").length||b.closest("#tags-underbar").length||b.closest("#colorbox").length||null!=b&&0!=b.parents(".signin-link").length&&!b.is("a")&&!b.is(".dot")||($(".tipsy").remove(),this._.emitter.trigger("closed dropdown menu"),$(".opened").removeClass("opened"),Imgur.Upload.Index&&!Imgur.Upload.Global.getInstance()._.isInView&&Imgur.Upload.Global.getInstance().repositionFlashButton(Imgur.Upload.Index.getInstance()._.el.$computerButton))},openDropdownMenu:function(a,b){return b.hasClass("opened")?void this.closeDropdownMenu(a):($(".opened").removeClass("opened"),b.addClass("opened"),b.hasClass("pulse")&&this.hidePulse(b),Imgur.Upload.Index&&Imgur.Upload.Global.getInstance().hideFlashButton(!0),!1)},hidePulse:function(a){try{localStorage[this._.dropdownPulseTime]=!0}catch(b){}a.removeClass("pulse")},runPlaceholder:function(a){var b="input[type=text][title],input[type=password][title],textarea[title]",c=a||$(b);c.each(function(){$(this).showPlaceholder(),$(this).hasClass("placeholder-onkeydown")?($(this).bind("keydown paste",function(){$(this).hidePlaceholder()}),$(this).bind("focus",function(){$(this).val()==$(this).attr("title")&&$(this).setCursorPosition(0)}),$(this).bind("click",function(){$(this).val()==$(this).attr("title")&&$(this).setCursorPosition(0)})):$(this).bind("focus focusin keydown paste",function(){$(this).hidePlaceholder()}),$(this).bind("blur focusout",function(){$(this).showPlaceholder()}),$("form").submit(function(){$(this).find(b).each(function(a,b){$(b).hidePlaceholder()})})})},hideAds:function(){$(".advertisement embed").css("visibility","hidden")},showAds:function(){$(".advertisement embed").css("visibility","visible")},signin:function(a,b){if(this.setInvokedBy(a),!this._.mobile){var c=this;return this.hideAds(),$.colorbox({href:"http"+(Imgur.Environment.isDev?"":"s")+"://"+c._.host+"/"+(b?"signin":"register")+"/modal",iframe:!0,fastIframe:!1,width:420,height:b?359:554,top:"10%",scrolling:!1,open:!0,fixed:!0,className:"noBorder",close:"",onLoad:function(){$("#cboxClose").hide()},onComplete:function(){$("#cboxClose").show(),$(".noBorder #cboxLoadedContent iframe").css("background-color","transparent"),$.colorbox.resize({height:554})},onClosed:function(a){c.showAds(a),$("#cboxClose").css("display",""),$(".noBorder #cboxLoadedContent iframe").css("background-color","");var d=b?"signinCancelClick":"registerCancelClick";Imgur.Util.jafoLog({event:d,meta:{location:"modal"}})}}),!1}window.location="//"+this._.host+"/signin?redirect="+window.location.pathname,Imgur.Util.initPage()},setInvokedBy:function(a){a="object"==typeof a?JSON.stringify(a):a;var b=new Date;b.setSeconds(b.getSeconds()+this.INVOKED_BY_COOKIE_LIFE),$.cookie(this.INVOKED_BY_COOKIE,a,{expires:b,path:"/",domain:"."+Imgur.Environment.host})},getInvokedBy:function(){var a=$.cookie(this.INVOKED_BY_COOKIE);if("string"!=typeof a)return{};var b;try{b=JSON.parse(a)}catch(c){}var d=b||{},e=b?b.invokedBy:a;return e&&(d.invokedRegisterSigninBy=e),d},vote:function(a,b){a.preventDefault();var c=$(a.currentTarget),d=c.parent().children(".up"),e=c.parent().children(".down"),f=c.attr("data"),g=c.attr("type"),h=null,i=0,j=0,k=this._.hash;if(k&&k.length&&"image"==g&&(f=k),"caption"==g)h=Imgur.Caption.getInstance({hash:k}).getCaptionPropertyById(k,f,"points");else if("image"==g&&Imgur.InsideNav){var l=Imgur.InsideNav.getInstance().getImage(f);l&&(h=l.points,i=l.ups,j=l.downs)}null==h&&(h=parseInt($(".points-"+f).first().text().replace(/,/g,""),10),"image"==g&&(i=parseInt($(".points-"+f+"-ups").first().text().replace(/,/g,""),10),j=parseInt($(".points-"+f+"-downs").first().text().replace(/,/g,""),10)));var m=c.hasClass("down")?"down":"up",n=Imgur.getInstance(),o=d.hasClass("pushed"),p=e.hasClass("pushed"),q=n._.signed,r='[id="'+f+'"], [id="gallery-nav-'+f+'"]',s="image"===g?"gallery":"caption"===g?"comment":g;q?(c.hasClass("pushed")?(m="veto",c.removeClass("pushed"),$(r).removeClass("red green up down"),d[0]==c[0]?(h--,i--):(h++,j--),b&&n.displayVoteMessage("veto")):d[0]==c[0]?($(r).removeClass("red down").addClass("green"),d.addClass("pushed"),e.removeClass("pushed"),p?(h+=2,j--,i++):(h++,i++),b&&n.displayVoteMessage("up")):($(r).removeClass("green up").addClass("red"),e.addClass("pushed"),d.removeClass("pushed"),o?(h-=2,i--,j++):(h--,j++),b&&n.displayVoteMessage("down")),"image"==g&&Imgur.InsideNav&&Imgur.InsideNav.getInstance().updateVoteResponseData(f,d,e),Imgur.Gallery&&Imgur.Gallery.getInstance().getEmitter().trigger("pauseVotes",f),$(".points-"+f).text(this.numberFormat(h)),"image"==g&&($(".points-"+f+"-ups").text(this.numberFormat(i)),$(".points-"+f+"-downs").text(this.numberFormat(j))),$(".points-text-"+f).html(1==Math.abs(h)?"point":"points")):n.signin({invokedRegisterSigninBy:"voteAttempt",type:s});var t=this._.sid;t||(t=Imgur.Environment.msid)||(t=Imgur.Caption.getInstance()._.sid,t||(t=$("#sid").val()));var u=Imgur.InsideNav&&Imgur.InsideNav.getInstance().getHash()?"inside":"outside";$.ajax({url:(this._.baseURL?this._.baseURL:"")+"/action/vote/"+f,type:"POST",data:{vote:m,sid:t,type:g,location:u,gallery:Imgur.Gallery.getInstance().getGalleryMetadata()},displayGenericError:!1,success:function(a){if(a.gallery&&a.gallery.message&&humanMsg.displayMsg(a.gallery.message),Imgur.Environment.signed){var b=Imgur.InsideNav.getInstance().getImage(),c=b&&b.readonly;Imgur.Util.jafoLog({event:"vote"+(c?"ReadOnly":""),meta:_.merge(Imgur.Gallery.getInstance().getGalleryMetadata(),{hash:f,type:s,vote:m,location:u})})}},error:function(){q&&(c.toggleClass("pushed"),$(".points-"+f).text(h+("down"==m?1:-1)))}})},displayVoteMessage:function(a){if("function"==typeof humanMsg.remove){var b=this;humanMsg.removeMsg(function(){b.showVoteMessage(a)})}else this.showVoteMessage(a)},showVoteMessage:function(a){"up"==a?this.showUpvoteMessage():"down"==a&&this.showDownvoteMessage()},showUpvoteMessage:function(){humanMsg.displayMsg(this._.messages.upvoted,"action-msg")},showDownvoteMessage:function(){humanMsg.displayMsg(this._.messages.downvoted,"action-msg")},getSettings:function(){return{host:this._.host,cdnUrl:this._.cdnUrl,signed:this._.signed,auth:this._.auth}},numberFormat:function(a,b){a=(""+a).split(".");for(var c=[],d=a[0],e=d.length;e>0;e-=3,d=d.substring(0,e))c.unshift(d.substr(-3));return c+(a[1]?"."+a[1]:"")+(b?" "+(1!==Math.abs(a)?b+"s":b):"")},setHash:function(a){this._.hash=a},getPageHash:function(){var a=window.location.hash;return a.substring(1)},getLinkCodes:function(){return this._.linkCodes},getImageSizes:function(){return this._.imageSizes},getExtension:function(a){return/[.]/.exec(a)?/[^.]+$/.exec(a):""},getExtension:function(a){return/[.]/.exec(a)?/[^.]+$/.exec(a):""},setPageHash:function(a){"function"==typeof history.replaceState&&history.replaceState(null,a,"#"+a)},setURL:function(a){"/"!=a.substr(0,1)&&(a="/"+a),this._.url=a},parseUri:function(a){for(var b={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},c=b.parser[b.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[b.key[e]]=c[e]||"";return d[b.q.name]={},d[b.key[12]].replace(b.q.parser,function(a,c,e){c&&(d[b.q.name][c]=e)}),d},setHost:function(a){this._.host=a},buildMap:function(a,b){var c={};for(var d in b){var e=b[d],f=e[a];c[f]=e}return c},previewBeta:function(){$.colorbox({href:"/lightboxes/betapreview",iframe:!0,width:"700px",height:"600px",transition:"none",className:"noHeader",fixed:!1,open:!0})},acceptBeta:function(){window.location="//"+this._.host+"/beta/enable"},getSearchUrl:function(a,b,c){var d="",e=a.sort,f="/search/"+e+"/"+a.window+(b?"/page/"+b:"");return c&&(f+=(Imgur.Environment.signed?"/miss":"/hit")+".json"),a.advSearch&&$.each(a.advSearch,_.bind(function(a,b){""!==d&&(d+="&"),d+=a+"="+b},this)),a.searchQuery&&(d="q="+a.searchQuery+"&"+d),ret={url:f,query:d}}}),Class.addSingleton(Imgur),Namespace("Imgur.Emitter"),Imgur.Emitter=Class.extend({init:function(){this.callbacks={}},on:function(a,b,c){return"function"!=typeof c&&imcon.error("Tried to call on() with a non-functional argument",a,b,c),a.constructor===Array?_.each(a,_.bind(function(a){this.on(a,b,c)},this)):(a in this.callbacks||(this.callbacks[a]=[]),void this.callbacks[a].push({f:c,this_arg:b}))},once:function(a,b,c){if("function"!=typeof c&&imcon.error("Tried to call once() with a non-functional argument",a,b,c),a.constructor===Array)return _.each(a,_.bind(function(a){this.once(a,b,c)},this));a in this.callbacks||(this.callbacks[a]=[]);var d=!1,e=_.bind(function(){if(!d){var a=_.toArray(arguments);c.apply(b,a),d=!0}},this);this.callbacks[a].push({this_arg:b,f:e})},off:function(a,b,c){return a.constructor===Array?_.each(a,_.bind(function(a){this.off(a,b,c)},this)):void(a in this.callbacks&&(c?_.remove(this.callbacks[a],function(a){return a.f===c&&a.this_arg==b}):this.callbacks[a]=[]))},trigger:function(a){var b=_.toArray(arguments).slice(1);return a.constructor===Array?_.each(a,_.bind(function(a){this.trigger.apply(this,[a].concat(b))},this)):void(a in this.callbacks&&_.each(this.callbacks[a],function(a){a.f.apply(a.this_arg,b)}))}}),Namespace("Imgur.Util"),Imgur.Util={waitForFinalEvent:function(){var a={};return function(b,c,d){if(null==d)throw"waitForFinalEvent should be called with a uniqueId!";a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}(),newWindow:function(a,b,c){var d=function(){window.open(a,"t","scrollbars=yes,toolbar=0,resizable=1,status=0,width="+b+",height="+c)||(document.location.href=a)};/Firefox/.test(navigator.userAgent)?setTimeout(d,0):d()},getBrowserScrollbarWidth:function(){var a,b,c;return a=document.createElement("div"),b=a.style,b.position="absolute",b.width="100px",b.height="100px",b.overflow="scroll",b.top="-9999px",document.body.appendChild(a),c=a.offsetWidth-a.clientWidth,document.body.removeChild(a),c},numberFormat:function(a){a+="";var b=a.split("."),c=b[0];for(x2=b.length>1?"."+b[1]:"",rgx=/(\d+)(\d{3})/;rgx.test(c);)c=c.replace(rgx,"$1,$2");return c+x2},truncatedNumberFormat:function(a){if(void 0==a)return"n/a";if(0==a)return"0";if(0>a)return"-"+Imgur.Util.truncatedNumberFormat(-a);var b=["","k","m","b","t"],c=Math.log(Math.floor(a))/Math.log(10),d=Math.floor(c/3),e=b[d],f=Math.round(a/Math.pow(10,3*d));return String(f)+e},pluralize:function(a,b){return 1==a?b:b+"s"},obfuscateEmail:function(a){return"string"!=typeof a?"":a.replace(/^(.*)@(.*)$/,function(a,b,c){return Imgur.Util.obfuscateString(b)+"@"+Imgur.Util.obfuscateString(c)})},obfuscateString:function(a){return"string"!=typeof a?"":a.length<=5?a.replace(/./g,"*"):a.replace(/^(.{2})(.*)(.{2})$/,function(a,b,c,d){return b+c.replace(/./g,"*")+d})},byteSize:function(a,b){b||(b=2);var c=1024,d=1024*c,e=1024*d,f=1024*e;return a>=0&&c>a?a+" B":a>=c&&d>a?(a/c).toFixed(b)+" KB":a>=d&&e>a?(a/d).toFixed(b)+" MB":a>=e&&f>a?(a/e).toFixed(b)+" GB":a>=f?(a/f).toFixed(b)+" TB":a+" B"},closeMessage:function(a,b){var c=$(a);b=b?b:c.parent().attr("id")+"-closed",$.cookie(b,"true",{path:"/",expires:7,domain:".imgur.com"}),c.parent().fadeOut()},htmlEntity:function(a){var b=jQuery("<div/>");return a=a.split("\n"),jQuery.each(a,function(c,d){a[c]=b.text(d).html()}),a.join("\n")},linkify:function(a,b,c){var d=Imgur.Environment.host,e=Imgur.Util.escapeRegex(d),f={any:null,hash:new RegExp("https?://(?:[\\w-]+\\.)*"+e+"/(?!gallery)(?!contact)(?!random)(?!rules)([A-z0-9]{5}|[A-z0-9]{7})[sbtmlh]?(\\.(?:jpe?g|gif|png))?(\\?.*)?$","i"),imgur:new RegExp("^https?://([\\w-]+\\.)*"+e+"(\\/.*)?","i"),image:/.*\.(jpe?g|gif|png)$/i,permalink:new RegExp("^https?://([\\w-]+\\.)*"+e+"\\/.+\\/comment\\/[0-9]+","i"),albumImage:new RegExp("^https?://([\\w-]+\\.)*"+e+"\\/a\\/.*#.*","i"),youtubeLink:new RegExp("^https?://((?:www\\.)?(youtube\\.com\\/watch\\?v=[A-z0-9-]+|youtu\\.be\\/[A-z0-9-]+))"),youtubeLinkWithTime:new RegExp("^https?://((?:www\\.)?(youtube\\.com/watch\\?v=[A-z0-9-]+|youtu\\.be/[A-z0-9-]+))(\\?|&|&amp;)t=")};f.any=/(https?:\/\/(((\w|\.)+)(\/)?([^.\"!\s]+((\.(jpe?g|gif|png)))?))+[^.,?\"\'\!\:\s])/gi;var g=a.match(f.any),h="";if(g){for(var i=0;i<g.length;i++){var j=g[i],k=j.length,l=a.indexOf(j),m=j[k-1],n="";switch(m){case")":n="(";break;case"]":n="["}if(n){var o=0,p=0,q=0;for(o=0;k>o;o++)j[o]==n?p++:j[o]==m&&q++;q!=p?j=j.substring(0,k-1):m=""}else m="";var r=j,s=!!j.match(f.hash),t=!!j.match(f.imgur),u=!!j.match(f.image),v=!!j.match(f.permalink),w=!!j.match(f.albumImage),x=!!j.match(f.youtubeLink);isYoutubeLinkWithTime=!!j.match(f.youtubeLinkWithTime);var y=!(u||s||v||w);if(s){u=!0,t=!0;var z=j.match(f.hash);if(z.length>=4){var A=z[2]||".jpg",B=z[1];r=Imgur.Environment.cdnUrl+"/"+B+A}}var C;if(x){var D=isYoutubeLinkWithTime?"-no-embed":"",E=isYoutubeLinkWithTime?' target="_blank"':"";C='<a class="youtube-link'+D+'" href="'+r+'"'+E+">"+j+"</a>"+m}else C=s?'<a class="imgur-image" target="_blank" data-hash="'+z[1]+'" href="'+r+'">'+j+"</a>"+m:"<a "+(t||u?"":'rel="noreferrer nofollow" ')+(u?'class="image-link" ':"")+(y?'target="_blank" ':"")+'href="'+r+'">'+j+"</a>"+m;h+=a.substring(0,l),h+=C,a=a.substring(l+k)}h+=a}else h=a;return b&&(h=h.replace(/(^|[^A-z0-9])(@)(([A-z]|[0-9]){4,})/g,'$1<a href="//'+d+'/user/$3">$2$3</a>')),c&&(h=h.replace(/(#[0-9]+)/g,'<a class="image-id-link" href="$1">$1</a>')),h},basename:function(a){return a.replace(/\?.*$/g,"").replace(/^.*[\/\\]/g,"")},overlay:function(a,b){var c=b.offset(),d=b.outerHeight(),e=b.outerWidth();a.css({position:"absolute",top:c.top,left:c.left,width:e,height:d,"z-index":b.css("z-index")+1e5})},forceHideColorBox:function(a){a?$("#colorbox, #cboxOverlay").hide():$("#colorbox, #cboxOverlay").fadeOut("fast")},fireImgurEvent:function(a){var b=document.createEvent("Events");b.initEvent(a,!0,!0),window.dispatchEvent(b)},TEMPLATE_ESCAPEES:{$$:"\x00","$&":"","$`":"","$'":""},template:function(a,b){var c=Object.keys(b);return jQuery.each(b,function(a,c){b[a]=Imgur.Util._escapeTemplateValue(new String(c))}),jQuery.each(c,function(c,d){var e=new RegExp("{"+Imgur.Util.escapeRegex(d)+"}","g");a=a.replace(e,b[d])}),a=Imgur.Util._unescapeTemplateValue(a)},_escapeTemplateValue:function(a){for(var b in Imgur.Util.TEMPLATE_ESCAPEES)a=a.replace(new RegExp(Imgur.Util.escapeRegex(b),"g"),Imgur.Util.TEMPLATE_ESCAPEES[b]);return a},_unescapeTemplateValue:function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);for(var d in Imgur.Util.TEMPLATE_ESCAPEES)c===Imgur.Util.TEMPLATE_ESCAPEES[d].charCodeAt(0)&&(a=a.substring(0,b)+d+a.substring(b+1),b+=d.length)}return a},escapeRegex:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},editDistance:function(a,b){if("string"!=typeof a||"string"!=typeof b)return 0;if(!a.length)return b.length;if(!b.length)return a.length;var c,d=[];for(c=0;c<=b.length;c++)d[c]=[c];var e;for(e=0;e<=a.length;e++)d[0][e]=e;for(c=1;c<=b.length;c++)for(e=1;e<=a.length;e++)d[c][e]=b.charAt(c-1)==a.charAt(e-1)?d[c-1][e-1]:Math.min(d[c-1][e-1]+1,Math.min(d[c][e-1]+1,d[c-1][e]+1));return d[b.length][a.length]},getYoutubeEmbedLink:function(a){var b=a&&"string"==typeof a?a:this.href,c=b.split("&"),d=c[0].substring(c[0].match(/\?v\=/)?b.indexOf("v=")+2:b.lastIndexOf("/")+1);return"//www.youtube.com/embed/"+d+"?autoplay=1"},truncate:function(a,b,c){return a.length<=b?a:a.substring(0,b)+(c?"...":"")},decorate:function(a,b,c){return Imgur.Util.decorateWithFunction(a,_.map(c,function(a){return{spot:a,cover:b.prototype[a]}}))},decorateDetailed:function(a,b,c){return _.each(c,function(a){a.cover=b.prototype[a.cover]}),Imgur.Util.decorateWithFunction(a,c)},decorateWith:function(a,b,c){return Imgur.Util.decorateWithDetailed(a,b,_.map(c,function(a){return{spot:a,cover:a}}))},decorateWithDetailed:function(a,b,c){var d=Object.getPrototypeOf(b);return _.each(c,function(a){a.cover=_.bind(d[a.cover],b)}),Imgur.Util.decorateWithFunction(a,c)},decorateWithFunction:function(a,b){var c=function(){};c.prototype=Object.create(Object.getPrototypeOf(a)),_.each(b,function(b){var d,e=b.cover,f=b.spot,g=b.args||[];if("pass"===b.type)d=function(){return e.apply(this,g.concat(_.toArray(arguments))),Object.getPrototypeOf(a)[f].apply(a,arguments)};else if("passAfter"===b.type)d=function(){var b=Object.getPrototypeOf(a)[f].apply(a,arguments);return e.apply(this,g.concat(_.toArray(arguments))),b};else{var h=[e,a].concat(g);d=_.partial.apply(_,h)}c.prototype[f]=d});var d=Object.create(c.prototype);return _.each(_.keys(a),function(b){d[b]=a[b]}),d},getGoogleTracker:function(){return"function"!=typeof __ga&&(!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","__ga"),__ga("create","UA-6671908-2","auto")),__ga},googleTrackPageview:function(){function a(a,b){var c,d,e,f,g,h="comScore=",i=document,j=i.cookie,k="",l="indexOf",m="substring",n="length",o=2048,p="&ns_",q="&",r=window,s=r.encodeURIComponent||escape;if(j[l](h)+1)for(f=0,e=j.split(";"),g=e[n];g>f;f++)d=e[f][l](h),d+1&&(k=q+unescape(e[f][m](d+h[n])));a+=p+"_t="+ +new Date+p+"c="+(i.characterSet||i.defaultCharset||"")+"&c8="+s(i.title)+k+"&c7="+s(i.URL)+"&c9="+s(i.referrer),a[n]>o&&a[l](q)>0&&(c=a[m](0,o-8).lastIndexOf(q),a=(a[m](0,c)+p+"cut="+s(a[m](c+1)))[m](0,o)),i.images?(d=new Image,r.ns_p||(ns_p=d),"function"==typeof b&&(d.onload=d.onerror=b),d.src=a):i.write("<","p","><",'img src="',a,'" height="1" width="1" alt="*"',"><","/p",">")}this.getGoogleTracker(),__ga("send","pageview"),$('<img src="//pixel.quantserve.com/pixel/p-f8oruOqDFlMeI.gif" border="0" height="1" width="1" alt="Quantcast"/>');var b=b||[];b.push({c1:"2",c2:"3005693",c3:"8",c4:"http%3A%2F%2Fimgur.com%2F"}),b.push({c1:"8",c2:"3005693",c3:"8",c4:"http%3A%2F%2Fimgur.com%2F"}),"undefined"==typeof b&&(b=[]),function(){var c,d="length",e=self,f=e.encodeURIComponent?encodeURIComponent:escape,g=".scorecardresearch.com",h="//app"+g+"/s2e/invite",i=Math,j="script",k="width",l=/c2=(\d*)&/,m=function(b){if(b){var c,e,h,i,j=[],k=0,l="";for(var m in b)e=typeof b[m],("string"==e||"number"==e)&&(j[j[d]]=m+"="+f(b[m]),"c2"==m?l=b[m]:"c1"==m&&(k=1));if(j[d]<=0||""==l)return;if(i=b.options||{},i.d=i.d||document,"string"==typeof i.url_append){h=i.url_append.replace(/&amp;/,"&").split("&");for(var n,m=0,p=h[d];p>m;m++)n=h[m].split("="),2==n[d]&&(j[j[d]]=n[0]+"="+f(n[1]))}c=["http","s"==i.d.URL.charAt(4)?"s://sb":"://b",g,"/b?",k?"":"c1=2&",j.join("&").replace(/&$/,"")],a(c.join(""),function(){o(this,i)})}},n=function(a){a=a||b;for(var c=0,e=a[d];e>c;c++)m(a[c]);a=b=[]},o=function(a,b){if(!(a.src.indexOf("c1=2")<0)&&b.d.createElement&&(b.force_script_extension||2==a[k]&&a.height>i.round(100*i.random()))){var c=b.d.createElement(j),d=b.d.getElementsByTagName(j)[0],e=[b.script_extension_url||h,"?","c2=",a.src.match(l)[1]].join("");d&&(c.src=e,c.async=!0,d.parentNode.insertBefore(c,d))}};n(),(c=e.COMSCORE)?(c.purge=n,c.beacon=m):COMSCORE={purge:n,beacon:m}}()},getQueryParams:function(a){var b={};if(a.length>1)for(var c,d=0,e=a.substr(1).split("&");d<e.length;d++)c=e[d].split("="),b[decodeURIComponent(c[0])]=c.length>1?decodeURIComponent(c[1]):"";return b},createQueryUrl:function(a,b){var c,d=a.split("?"),e=d[1]?this.getQueryParams("?"+d[1]):{},f=d[0];return _.isArray(b)?(c=$.param(e),c.length&&(c+="&"),c+=b.join("&")):c=$.param(_.merge(e,b)),c&&(f+="?"+c),f},isSubdomain:function(a){return location.host!=a},registerInterestingEvents:function(a,b,c){if(c.type.prototype.getInterestingEvents().length)for(var d=c.type.prototype.getInterestingEvents(),e=0,f=d[e];e<d.length;e++,f=d[e])a.on(f,null,b)},triggerView:function(a,b){var c,d=!!b.discard,e=a[a.length-1];if(b.image||!b.album?c="image":(b.album||!b.image)&&(c="album"),7===a.length||5===a.length||a.length%2==0&&("h"==e||"l"==e)){var f;f=d?window.location.href.replace(/#.*/,"").replace(/\?.*/,""):document.referrer;var g="//p."+Imgur.Environment.host+"/"+c+"view.gif?a="+a+"&r="+encodeURIComponent(f),h=document.createElement("img");h.src=g}},dive:function(a,b){var c=(""+b).replace(/^\./,"").split("."),d=c.length>0?c.shift():null;return d&&a&&"undefined"!=typeof a[d]?0===c.length?a[d]:Imgur.Util.dive(a[d],c.join(".")):void 0},PERFORMANCE_CHECKPOINT_USER_AGENT:"Ticktock performance monitor <ops@imgur.com>",triggerPerformanceCheckpoint:function(a){if(window.navigator.userAgent===Imgur.Util.PERFORMANCE_CHECKPOINT_USER_AGENT){var b=document.createElement("img");b.src="//s."+Imgur.Environment.host+"/images/blank.gif?ticktock="+a}},checkInIframe:function(){try{return window.self!==window.top}catch(a){return!0}},isRetinaDisplay:function(){if(window.matchMedia){var a=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return a&&a.matches||window.devicePixelRatio>1}return!1},referrerIsImgur:function(){if(!document.referrer)return!1;var a=document.createElement("a");return a.href=document.referrer,a.host==Imgur.Environment.host}},Namespace("Imgur.Storage"),Imgur.Storage=Class.extend({get:function(){},exists:function(){},save:function(){}}),Namespace("Imgur.Storage.Cookie"),Imgur.Storage.Cookie=Imgur.Storage.extend({init:function(a,b){this._={cookieName:a,cookieLife:b?b/86400:604800}},exists:function(){return null!==$.cookie(this._.cookieName)},save:function(a){$.cookie(this._.cookieName,Imgur.Util.Base64.encode(JSON.stringify(a)),{expires:this._.cookieLife,path:"/"})},get:function(a){try{return JSON.parse(Imgur.Util.Base64.decode($.cookie(this._.cookieName)))}catch(b){return null!=a?a:null}}}),Namespace("Imgur.Storage.LocalStorage"),Imgur.Storage.LocalStorage=Imgur.Storage.extend({supported:function(){try{if(!window.localStorage)return!1;var a="__canary__",b="1";if(localStorage.setItem(a,b),localStorage.getItem(a)===b)return localStorage.removeItem(a),!0}catch(c){return!1}},exists:function(a){return localStorage&&("undefined"==typeof a||"string"==typeof localStorage.getItem(a))},save:function(a,b,c){if(!this.supported())return imcon.warn("Could not save",a,"to local storage because local storage not supported"),!1;if(this.purgeExpired(),"undefined"==typeof b||null===b)localStorage.removeItem(a);else{if("object"!=typeof b&&(b={_value:b}),c&&(b._expires=new Date(c),b._expires<new Date))return!1;localStorage.setItem(a,JSON.stringify(b))}return!0},get:function(a,b){var c,d=new Date;if(!this.supported())return imcon.warn("Could not get ",a,"from local storage because local storage not supported"),b;try{c=JSON.parse(localStorage.getItem(a))}catch(e){return b}return c&&"undefined"!=typeof c._expires&&d>new Date(c._expires)?void 0:c&&"undefined"!=typeof c._value?c._value:c?c:void 0},purgeExpired:function(){for(var a,b,c=new Date,d=0;d<localStorage.length;d++){a=localStorage.key(d);try{b=JSON.parse(localStorage.getItem(a))}catch(e){continue}"object"==typeof b&&null!==b&&b._expires&&c>new Date(b._expires)&&localStorage.removeItem(a)}}}),Namespace("Imgur.Util.Experiments"),Imgur.Util.Experiments={_:{initialSession:!1,activeExperiments:[],sessionNumber:null,config:null},isActive:function(a){return-1!==this._.activeExperiments.indexOf(a)||-1!==this._.activeExperiments.indexOf("exp"+a)},startExperiments:function(a){this._.config=a,this.incrementSessionNumber();var b;for(expID in a)if(a[expID].active===!0){b=this.getUserBucket(expID);var c=b.included;if(b&&b.included===!0){var d=this[expID];"function"==typeof d&&(c=d.call(this,b.variation))}c!==!1&&(this._.activeExperiments.push(expID),Imgur.Util.registerExperiment(expID,b.variation),Imgur.Util.jafoLog({event:"internalExperimentLoaded",meta:{expID:expID,variation:b.variation}}))}},incrementSessionNumber:function(){var a=new Imgur.Storage.LocalStorage;this._.sessionNumber=a.get("4053-sessionNumber")||0;var b=document.createElement("a");b.href=document.referrer,b.host.match(/imgur(-dev)?.com/g)&&(this._.sessionNumber++,a.save("4053-sessionNumber",this._.sessionNumber,"2015-12-30T00:00:00+00:00"))},getUserBucket:function(a){var b,c=new Imgur.Storage.LocalStorage;return c.supported()?(b=c.get("bucketParams-"+a),b||(b=this._setUserBucket(a)),"undefined"!=typeof b?b:void 0):void 0},manuallyTestUserBucket:function(a,b,c){c=c!==!1;var d=this._.config[a];if(!d)return imcon.warn("Could not find experiment",a),!1;var e={included:!1,variation:"control"};b?"control"===b||_.find(d.variations,function(a){return a.name===b})?(e.included=!0,e.variation=b,imcon.log("Overriding user bucket for experiment",a,"to use variation",b)):(imcon.warn("Could not find variation",b,"for experiment",a),c=!1):imcon.log("Removing you from experiment",a);var f=new Imgur.Storage.LocalStorage;f.save("bucketParams-"+a,e,d.expirationDate),imcon.log("Experiment",a,"bucket saved:",e),c&&location.reload()},_setUserBucket:function(a){var b=this._.config[a];if(!b)return!1;testRandValue=Math.random(),bucket={included:!1,variation:"control"};var c=testRandValue<=b.inclusionProbability;if(c===!0){bucket.included=!0,variationRandValue=Math.random();for(var d=0;d<b.variations.length;d++){if(variationRandValue<=b.variations[d].inclusionProbability){bucket.variation=b.variations[d].name;break}variationRandValue-=b.variations[d].inclusionProbability}}var e=new Imgur.Storage.LocalStorage;return e.save("bucketParams-"+a,bucket,b.expirationDate),bucket},exp1868:function(a){$("#main-nav .menu-btn").click(function(){var a=$(this).hasClass("opened");Imgur.Util.jafoLog({event:"header",meta:{link:"hamburger",action:a?"open":"close"}})}),"hamburger-topics"===a&&$("body").addClass("test-1868")},exp4053:function(){return this._.initialSession?(Imgur.Util.registerExperimentData("4053",{sessionNumber:this._.sessionNumber}),!0):!1},exp3025:function(a){var b=(new Date,new Date("2015-12-17T00:00:00"));if("control"!==a){var c={path:"/",expires:b,host:Imgur.Environment.host};$.cookie("viral_flavor",a,c),$.cookie("viral_basis","0",c),$.cookie("_nc","1",c)}},exp4595:function(a){var b=this._.config.exp4595;if(Imgur.Environment.auth&&Imgur.Environment.auth.created){var c=new Date(Imgur.Environment.auth.created);
return c<b.startDate||c>b.bucketUntilDate?!1:!0}var d=document.querySelector(".newsletter-subscribed");if(!d)return!1;var e=new Date;return e<b.bucketFromDate||e>b.bucketUntilDate?(d.style.display="block",!1):("implicit"!==a&&(d.style.display="block"),!0)}},Namespace("Imgur.GoogleAnalytics.EventPusher"),Imgur.GoogleAnalytics.EventPusher=Class.extend({init:function(a){this._={accountId:a}},trackWithDetails:function(a,b,c,d,e,f){return},trackInteraction:function(a,b){return this.trackWithDetails(a,b,void 0,void 0,!1)},track:function(a,b){return this.trackWithDetails(a,b)}}),Namespace("Imgur.Util.RoundTimestamps"),Imgur.Util.RoundTimestamps={roundTimestampToBeginningOfDay:function(a){return a-a%864e5},roundTimestampToEndOfDay:function(a){return a-a%864e5+86399999},roundTimestampToBeginningOfHour:function(a){return a-a%36e5},roundTimestampToEndOfHour:function(a){return a-a%36e5+3599999}},Imgur.ReactInfiniteScroll={getDefaultProps:function(){return{infiniteScrollStartingPage:0}},getInitialState:function(){return{infiniteScrollLoading:!1,infiniteScrollLastPage:this.props.infiniteScrollStartingPage-1,infiniteScrollEnabled:!0}},componentDidMount:function(){this.infiniteScrollNeedToLoadFirstPage()&&this._load(this.props.infiniteScrollStartingPage);var a;a=$(this.refs["infinite-scroll-container"]?this.refs["infinite-scroll-container"].getDOMNode():window),a.on("scroll scrollend",_.throttle(this._checkScroll,200))},componentDidUpdate:function(a,b){b.infiniteScrollLoading!=this.state.infiniteScrollLoading&&(this.state.infiniteScrollLoading?$(this.getDOMNode().parentNode).removeClass("infinite-scroll-loaded"):$(this.getDOMNode().parentNode).addClass("infinite-scroll-loaded"))},_checkScroll:function(){if(this.state.infiniteScrollEnabled&&!this.state.infiniteScrollLoading){var a=this.refs["infinite-scroll"];a&&$(a.getDOMNode()).is(":in-viewport")&&this._load(this.state.infiniteScrollLastPage+1)}},_load:function(a){this.setState({infiniteScrollLoading:!0,infiniteScrollLastPage:Math.max(a,this.state.infiniteScrollLastPage)}),this.infiniteScrollLoad(a,_.bind(function(b,c){void 0!==b&&this._store(a,b),c&&this.setState({infiniteScrollEnabled:!1}),this.setState({infiniteScrollLoading:!1},_.bind(function(){c||this._checkScroll()},this))},this))},_store:function(a,b){var c={};c["infinite-scroll-"+a]=b,this.setState(c)},infiniteScrollCountPages:function(){for(var a=0;;a++)if(!this.state["infinite-scroll-"+a])return a},infiniteScrollHavePage:function(a){return"infinite-scroll-"+a in this.state},infiniteScrollGetPage:function(a){return this.state["infinite-scroll-"+a]},infiniteScrollStart:function(){this.setState({infiniteScrollEnabled:!0})}},Namespace("Imgur.Factory"),Imgur.Factory.Widget=Class.extend({init:function(a){this._={},this._.env=a,this._.config={},this._.incus=null},mergeConfig:function(a,b){a in this._.config||(this._.config[a]={}),this._.config[a]=_.merge(this._.config[a],b||{})},_getConfig:function(a,b,c){if(-1==b.indexOf("."))return a[b];var d=b.indexOf("."),e=b.substr(0,d),f=b.substr(d+1);return this._getConfig(a[e]||{},f)||c},getConfig:function(a,b){var c;if(-1!=a.indexOf(".")){var d=a.indexOf("."),e=a.substr(0,d),f=a.substr(d+1);c=this._.config[e]||{},a=f}else c=this._.config||{};return this._getConfig(c,a,b)},_getPostAuthorized:function(){var a=this._.env.msid;return function(b,c,d,e){return d=d||_.noop,e=e||_.noop,c=_.merge(c,{msid:a,sid:a,modhash:a}),$.post(b,c,d).fail(e)}},produceInsideGalleryFactory:function(){var a=_.merge(this._.env,this.getConfig("gallery"));return a.cdnURL=a.cdnUrl,new Imgur.Factory.InsideGallery(this,a,this.getConfig("groups"),_.bind(this._getPostAuthorized,this))},produceOutsideGalleryFactory:function(){var a=_.merge(this._.env,this.getConfig("gallery"));return a.cdnURL=a.cdnUrl,new Imgur.Factory.OutsideGallery(this._.env,a,this.getConfig("groups"),_.bind(this._getPostAuthorized,this))},produceLocationCommand:function(a){var b=new Imgur.Element.CommandLocation;a.on("command.location",b,b.handleCommand),a.on("command.refresh",b,b.handleRefreshCommand)},produceAnalytics:function(){var a,b,c,d,e=this.getConfig("global.analyticsAccountId"),f=new Imgur.GoogleAnalytics.EventPusher(e);return a=_.memoize(function(){var a=new Imgur.AnalyticsChart.TrafficSources;return chartMemoDeco=Imgur.Util.decorateWithDetailed(a,f,[{spot:"onFail",cover:"track",args:["Analytics","fail-chart"],type:"pass"}]),chartMemoDeco.initChart(),chartMemoDeco}),b=_.memoize(function(){var a=new Imgur.TrafficSourcesReferrers,b=Imgur.Util.decorateWithDetailed(a,f,[{spot:"onFail",cover:"track",args:["Analytics","fail-referrer"],type:"pass"}]);return b.generalInit(),b}),c=new Imgur.Analytics.RateLimited(this._.env,this._.config.analytics.isAdmin,a,b),d=Imgur.Util.decorateWithDetailed(c,f,[{spot:"load",cover:"track",args:["Analytics","next"],type:"pass"}]),f.track("Analytics","init"),d},produceAccountBioEditor:function(){var a=$("#account-bio.access"),b=$("#account-bio-edit"),c=new Imgur.User.Bio(a,b);a.click(_.bind(c.editAccountBio,c)),b.blur(_.bind(c.saveAccountBio,c))},produceSearch:function(){var a=this.getConfig("search");if(0!=$("#global-search-container").length&&a){var b=this.getConfig("gallery"),c=a.type,d=new Imgur.Emitter,e=this._getAjaxGet(),f="//"+this._.env.host+"/search/suggest",g=new Imgur.Search.Store.Suggestions(d,a.q),h=new Imgur.Search.SuggestModel(e,g,f),i=Imgur.Search.TopBarView.getDefaultProps().SUGGESTION_TYPES,j=[i.TAG,i.MEME,i.USER,i.SEARCH,i.ECHO],k=new Imgur.Search.SuggestionFactory(this._.env.host),l=new Imgur.Search.Results(d,g,j,k);Imgur.Dev.DebugVar("searchresults",l);var m="advanced"===c?new Imgur.Search.Structured($("#search_advanced")):null,n=new Imgur.Search.Controller.Advanced(m),o="advanced"===c?b.sort:"relevance",p="advanced"===c?b.window:"all",q={sort:o,window:p,suggestionStore:g,searchResults:l,searchSuggestModel:h,host:this._.env.host,defaultSuggestOpened:"advanced"===c&&m.getIsHidden(),structured:m};Imgur.Dev.DebugVar("storesugg",g);var r=function(){var a=React.render(React.createElement(Imgur.Search.TopBarView,q),$("#global-search-container").get(0));n.setTopBarComponent(a)};r(),d.on("new suggestions",null,r),d.on("new global search query",null,r),d.on("new active suggestion",null,r);var s=new Imgur.Search.HotkeyController($("#global-search-container"));if($(document).on("keyup",_.bind(s.handleKeyUp,s)),"advanced"===c){var t=$("#search_adv_toggle");m.get$AllOf().on("keyup",_.bind(n.handleKeyUpStructured,n)),t.on("click",_.bind(n.handleToggleAdvancedClick,n));var u=g.getQuery(),v=m.getFlatQuery();u?m.setFlatQuery(u):g.setQuery(v)}Imgur.Util.triggerPerformanceCheckpoint("search")}},initIdleMonitor:function(){var a=function(a,b){Imgur.Util.jafoLog({event:"resumedBrowsing",meta:{inactive:b-a}})},b=new Incus.Presence(300);b.on("return",a)},_getAjaxGet:function(){return function(a,b,c,d){return d=d||_.noop,c=c||_.noop,$.get(a,b,c).fail(d)}},produceLinkify:function(a){var b=new Imgur.Linkifier;return b.addGrabber(new Imgur.Linkify.ImgurGrabber(Imgur.Environment.host,Imgur.Environment.cdnUrl)),b.addGrabber(new Imgur.Linkify.PlainGrabber),b.addGrabber(new Imgur.Linkify.UsernameGrabber),b.addGrabber(new Imgur.Linkify.OpGrabber(a)),b.addViewer("youtube",new Imgur.Linkify.YoutubeViewer),b.addViewer("html5video",new Imgur.Linkify.Html5VideoViewer),b.addViewer("gifv",new Imgur.Linkify.ImgurGifvViewer(new Imgur.Linkify.Html5VideoViewer)),b.addViewer("imgur",new Imgur.Linkify.ImgurViewer),b.addViewer("image",new Imgur.Linkify.ImageViewer),b},produceCtaBanner:function(a){var b,c,d=this.getConfig("global"),e=document.referrer,f=window.location.pathname;if(d.ctaConfig){try{if(c=this.ctaOnPromoted(),!c&&$(".cta-content.pp-banner:visible").length>0&&React.unmountComponentAtNode(document.getElementById("cta-container-placeholder")),this.leaderboardBeatsCta())return;if(c?b=this.getFirstActiveCtaProps(d,"promoted",f):d.ctaConfig.betainvite?b=this.getFirstActiveCtaProps(d,"betainvite",f):e.match(/^https?:\/\/([^\/]+\.)?twitch\.tv(\/|$)/i)||e.match(/^https?:\/\/([^\/]+\.)?reddit\.com\/r\/(gaming|games|dota2|globaloffensive|pcmasterrace|wow|ffxiv|smashbros|pathofexile|minecraft|dayz|leagueoflegends|starcraft|callofduty|battlefield)/i)?b=this.getFirstActiveCtaProps(d,"gaming",f):e.match(/^https?:\/\/([^\/]+\.)?facebook\.com(\/|$)/i)||d.likeDay?b=this.getFirstActiveCtaProps(d,"facebook",f):e.match(/^https?:\/\/([^\/]+\.)?(twitter\.com|t\.co)(\/|$)/i)||d.followDay?b=this.getFirstActiveCtaProps(d,"twitter",f):e.match(/^https?:\/\/([^\/]+\.)?pinterest\.com(\/|$)/i)?b=this.getFirstActiveCtaProps(d,"pinterest",f):d.ctaConfig.global&&(b=this.getFirstActiveCtaProps(d,"global",f)),b=d.ctaConfig.converted?this.getFirstActiveCtaProps(d,"converted",f):b,this.isSkipCta(b,f)&&(b=this.getFirstActiveCtaProps(d,d.signed?"user":"anonymous",f)),this.hideCta(d,b)||this.isFrontPageOnly(b,f))return void React.unmountComponentAtNode(document.getElementById("cta-container-placeholder"))}catch(g){return}!d.signed&&a&&"/"==b.url&&(b.url=a);var h;switch(b.type){case"button":h=React.createElement(Imgur.Banner.Cta,b);break;case"nobutton":h=React.createElement(Imgur.Banner.CtaNoButton,b);break;case"custom":h=React.createElement(Imgur.Banner[b.jsReactClassName],b)}h&&(React.render(h,document.getElementById("cta-container-placeholder")),this.logCtaRender(b.trackingName))}},logCtaRender:_.once(function(a){Imgur.Util.jafoLog({event:"bannerAppear",meta:{banner:a,bannerType:"headerCTA",platform:"web"}}),"mobileApps"===a&&Imgur.Util.jafoLog({event:"appBannerAppear",meta:{banner:a,bannerType:"bannerCTA",platform:"web"}})}),produceCtaLightbox:function(a){var b,c=this.getConfig("global"),d=(document.referrer,window.location.pathname);if(c.ctaConfig&&window.localStorage){try{if(c.ctaConfig["global-lightbox"]&&(b=this.getFirstActiveCtaProps(c,"global-lightbox",d)),this.isSkipCta(b,d)||this.hideCta(c,b)||this.isFrontPageOnly(b,d))return void React.unmountComponentAtNode(document.getElementById("cta-lightbox-placeholder"))}catch(e){return}!c.signed&&a&&"/"==b.url&&(b.url=a);var f;switch(b.type){case"custom":f=React.createElement(Imgur.Lightbox[b.jsReactClassName],b)}if(f){var g=document.getElementById("cta-lightbox-placeholder");g.style.display="block",React.render(f,g),this.logCtaLightboxRender(b.trackingName)}}},logCtaLightboxRender:_.once(function(a){Imgur.Util.jafoLog({event:"bannerAppear",meta:{banner:a,bannerType:"lightbox",platform:"web"}}),"mobileApps"===a&&Imgur.Util.jafoLog({event:"appBannerAppear",meta:{banner:a,bannerType:"lightbox",platform:"web"}})}),getFirstActiveCtaProps:function(a,b,c){for(var d=a.ctaConfig[b],e=0;e<d.length;e++){var f=d[e];if(!this.isSkipCta(f,c))return f}return null},isSkipCta:function(a,b){return!a||!a.active||this.hasSeenCta(a)||this.showOnHashOnly(a)||this.isFrontPageOnly(a,b)},leaderboardBeatsCta:function(){var a=this.getConfig("gallery");return"object"==typeof Imgur.Environment.auth&&Imgur.Environment.auth.id?!1:"object"!=typeof a?!1:"object"!=typeof a.image?!1:this.ctaOnPromoted()?!1:!0},isFrontPageOnly:function(a,b){return a.frontPageOnly&&"/"!=b&&0!=b.indexOf("/new/")&&0!=b.indexOf("/hot/")},showOnHashOnly:function(a){return a.pageHash&&(!Imgur.InsideNav||Imgur.InsideNav&&Imgur.InsideNav.getInstance().getHash()!=a.pageHash)},ctaOnPromoted:function(){try{return Imgur.InsideNav&&Imgur.InsideNav.getInstance().getImage().isAd}catch(a){return Imgur.Environment.image&&Imgur.Environment.image.isAd}},hideCta:function(a,b){return a.isSubdomain||!b.active||this.hasSeenCta(b)},hasSeenCta:function(a){return a.localStorageName&&localStorage&&void 0!=localStorage.getItem(a.localStorageName)},startExperiments:function(){Imgur.Util.Experiments.startExperiments(Imgur.Environment.experiments)},produceJafo:function(){var a=this.getConfig("analytics"),b=new Imgur.Jafo(Imgur.Environment.auth.id,a.logPixel);b.bindDataAttr(),Imgur.Util.jafoLog=_.bind(b.logAction,b),Imgur.Util.registerExperiment=_.bind(b.registerExperiment,b),Imgur.Util.registerExperimentData=_.bind(b.registerExperimentData,b),Imgur.Dev.DebugVar("jafo",b)},produceGifgen:function(a,b,c){var d=React.createClass({displayName:"div",render:function(){return React.DOM.div()}}),e=React.createElement(ReactRouter.Route,{handler:Imgur.Gifgen,path:"/vidgif",src:c},React.createElement(ReactRouter.Route,{name:"video-specific",handler:Imgur.Gifgen.Video,path:"/vidgif/video/between/:start/:duration"}),React.createElement(ReactRouter.Route,{name:"video-general",handler:Imgur.Gifgen.Video,path:"/vidgif/video",params:{start:void 0,stop:void 0}}),React.createElement(ReactRouter.Route,{name:"upload",handler:Imgur.Gifgen.Upload,path:"/vidgif/ticket/:ticket"}),React.createElement(ReactRouter.DefaultRoute,{name:"query",handler:d}));ReactRouter.run(e,ReactRouter.HistoryLocation,function(b,c){React.render(React.createElement(b,c),a.get(0))})},_incusInstance:function(){if(Imgur.Environment.auth&&"undefined"!=typeof Imgur.Environment.auth.incus_id){if(!this._.incus){var a=Imgur.Environment.auth.incus_id;this._.incus=new Incus.Client(window.location.protocol+"//rt."+Imgur.Environment.host,a,window.location.pathname)}return this._.incus}},initNotifications:function(a,b){var c=this._incusInstance();if(c){this._initHBaseNotifications(a,b,c);var d=new Incus.Presence;new Incus.Presence.IncusNotifier(d,c)}},bindIncusGallery:function(a){var b=this._incusInstance(),c=this.getConfig("gallery");if(b&&c&&c.baseURL){var d=c.baseURL;a.on("select",null,function(a){b.setPage(d+"/"+a.hash)})}var e=new Imgur.PointsUpdater.Image("image",a);b.on("imagePoints",_.bind(e.handleUpdate,e));var f=new Imgur.PointsUpdater.Comment("comment",a);b.on("commentPoints",_.bind(f.handleUpdate,f)),a.on("select",f,f.kill),a.on("select",f,e.kill)},bindIncusMessages:function(a){this._.messageDropdown.setState({oldMessages:a})},_initHBaseNotifications:function(a,b,c){var d=$("#topbar .notification-events"),e=$("#topbar .notification-conversations");d.removeClass("nodisplay"),e.removeClass("nodisplay");var f={socket:c,reputation:new Imgur.Reputation(b)},g={unreadCount:Number(Imgur.Environment.auth.notifications_messages),socket:c};React.render(React.createElement(Imgur.Notification.EventDropdown,f),d.get(0)),this._.messageDropdown=React.render(React.createElement(Imgur.Notification.MessageDropdown,g),e.get(0));var h=Imgur.Util.getQueryParams(window.location.search);if(!_.isUndefined(h.nid)){$.ajax({url:"/account/notifications/mark",method:"POST",data:_.merge({},h,{mark_type:"read","notifications[0][foreign_id]":h.nid,"notifications[0][foreign_type]":h.ntype,"notifications[0][snapshot]":h.nsnap,msid:Imgur.Environment.msid})});var i=[h.ntype,h.nid].join(":");if(Imgur.Util.jafoLog({event:"notificationRead",meta:{notifNum:h.nnum,notificationId:i,notificationTrigger:h.ntype}}),window.history&&window.history.replaceState){var j="";j="lr"in h?window.location.href.replace(window.location.search,"?lr="+parseInt(h.lr)):window.location.href.replace(window.location.search,""),window.history.replaceState(null,document.title,j)}}},produceFavorite:function(a){var b=new Imgur.Favorite(a);return b._init(),this._.favKeyBound||($(document).keydown(_.bind(b.handleKey,b)),this._.favKeyBound=!0),b}}),Namespace("Imgur"),Imgur.Loader=Class.extend({init:function(a,b){this._={counter:0,el:{$loader:a,$container:b||a}}},get$Loader:function(){return this._.el.$loader},isHidden:function(){return"none"==this._.el.$loader.css("display")},show:function(){this._.counter++,this._.el.$loader.css("display","inherit"),this._.el.$container.removeClass("nodisplay")},hide:function(){this._.counter--,0==this._.counter&&(this._.el.$loader.css("display","none"),this._.el.$container.hasClass("nodisplay")||this._.el.$container.addClass("nodisplay"))}});var SWFUpload,swfobject;void 0==SWFUpload&&(SWFUpload=function(a){this.initSWFUpload(a)}),SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings={},this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(a),this.loadSupport(),this.swfuploadPreload()&&this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.5.0 2010-01-15 Beta 2",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290,RESIZE:-300},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.UPLOAD_TYPE={NORMAL:-1,RESIZED:-2},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120,JAVASCRIPT:-130,NONE:-130},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.RESIZE_ENCODING={JPEG:-1,PNG:-2},SWFUpload.completeURL=function(a){try{var b="",c=-1;return"string"!=typeof a||a.match(/^https?:\/\//i)||a.match(/^\//)||""===a?a:(c=window.location.pathname.lastIndexOf("/"),b=0>=c?"/":window.location.pathname.substr(0,c)+"/",b+a)}catch(d){return a}},SWFUpload.onload=function(){},SWFUpload.prototype.initSettings=function(a){this.ensureDefault=function(b,c){var d=a[b];this.settings[b]=void 0!=d?d:c},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("file_preload",!1),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("flash9_url","swfupload_fp9.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_preload_handler",null),this.ensureDefault("swfupload_load_failed_handler",null),this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_resize_start_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("mouse_click_handler",null),this.ensureDefault("mouse_out_handler",null),this.ensureDefault("mouse_over_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime(),this.settings.flash9_url=this.settings.flash9_url+(this.settings.flash9_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadSupport=function(){this.support={loading:swfobject.hasFlashPlayerVersion("9.0.28"),imageResize:swfobject.hasFlashPlayerVersion("10.0.0")}},SWFUpload.prototype.loadFlash=function(){var a,b,c,d,e;if(!this.support.loading)return void this.queueEvent("swfupload_load_failed_handler",["Flash Player doesn't support SWFUpload"]);if(null!==document.getElementById(this.movieName))return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Element ID already in use"]);if(a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==a)return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["button place holder not found"]);c="block"!==(a.currentStyle&&a.currentStyle.display||window.getComputedStyle&&document.defaultView.getComputedStyle(a,null).getPropertyValue("display"))?"span":"div",b=document.createElement(c),d=this.getFlashHTML();try{b.innerHTML=d}catch(f){return this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Exception loading Flash HTML into placeholder"])}return e=b.getElementsByTagName("object"),!e||e.length>1||0===e.length?(this.support.loading=!1,void this.queueEvent("swfupload_load_failed_handler",["Unable to find movie after adding to DOM"])):(1===e.length&&(this.movieElement=e[0]),a.parentNode.replaceChild(b.firstChild,a),void(void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())))},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.support.imageResize?this.settings.flash_url:this.settings.flash9_url,'" />','<param name="quality" value="high" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var a,b;return b=this.buildParamString(),a=this.settings.http_success.join(","),["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(a),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(b),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;filePreload=",encodeURIComponent(this.settings.file_preload),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var a,b,c=[];if(b=this.settings.post_params,"object"==typeof b)for(a in b)b.hasOwnProperty(a)&&c.push(encodeURIComponent(a.toString())+"="+encodeURIComponent(b[a].toString()));return c.join("&amp;")},SWFUpload.prototype.destroy=function(){var a;try{if(this.cancelUpload(null,!1),a=this.cleanUp())try{a.parentNode.removeChild(a)}catch(b){}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(c){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","	","upload_url:               ",this.settings.upload_url,"\n","	","flash_url:                ",this.settings.flash_url,"\n","	","flash9_url:                ",this.settings.flash9_url,"\n","	","use_query_string:         ",this.settings.use_query_string.toString(),"\n","	","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","	","http_success:             ",this.settings.http_success.join(", "),"\n","	","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","	","file_post_name:           ",this.settings.file_post_name,"\n","	","post_params:              ",this.settings.post_params.toString(),"\n","	","file_types:               ",this.settings.file_types,"\n","	","file_types_description:   ",this.settings.file_types_description,"\n","	","file_size_limit:          ",this.settings.file_size_limit,"\n","	","file_upload_limit:        ",this.settings.file_upload_limit,"\n","	","file_queue_limit:         ",this.settings.file_queue_limit,"\n","	","file_preload:             ",this.settings.file_preload,"\n","	","debug:                    ",this.settings.debug.toString(),"\n","	","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","	","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","	","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","	","button_image_url:         ",this.settings.button_image_url.toString(),"\n","	","button_width:             ",this.settings.button_width.toString(),"\n","	","button_height:            ",this.settings.button_height.toString(),"\n","	","button_text:              ",this.settings.button_text.toString(),"\n","	","button_text_style:        ",this.settings.button_text_style.toString(),"\n","	","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","	","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","	","button_action:            ",this.settings.button_action.toString(),"\n","	","button_cursor:            ",this.settings.button_cursor.toString(),"\n","	","button_disabled:          ",this.settings.button_disabled.toString(),"\n","	","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","	","swfupload_preload_handler assigned:  ",("function"==typeof this.settings.swfupload_preload_handler).toString(),"\n","	","swfupload_load_failed_handler assigned:  ",("function"==typeof this.settings.swfupload_load_failed_handler).toString(),"\n","	","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","	","mouse_click_handler assigned:       ",("function"==typeof this.settings.mouse_click_handler).toString(),"\n","	","mouse_over_handler assigned:        ",("function"==typeof this.settings.mouse_over_handler).toString(),"\n","	","mouse_out_handler assigned:         ",("function"==typeof this.settings.mouse_out_handler).toString(),"\n","	","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","	","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","	","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","	","upload_resize_start_handler assigned:      ",("function"==typeof this.settings.upload_resize_start_handler).toString(),"\n","	","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","	","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","	","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","	","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","	","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","	","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n","Support:\n","	","Load:                     ",this.support.loading?"Yes":"No","\n","	","Image Resize:             ",this.support.imageResize?"Yes":"No","\n"].join(""))},SWFUpload.prototype.addSetting=function(a,b,c){return this.settings[a]=void 0==b?c:b},SWFUpload.prototype.getSetting=function(a){return void 0!=this.settings[a]?this.settings[a]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){var movieElement,returnValue,returnString;argumentArray=argumentArray||[],movieElement=this.getMovieElement();try{void 0!=movieElement?(returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)):this.debug("Can't call flash because the movie wasn't found.")}catch(ex){this.debug("Exception calling flash function '"+functionName+"': "+ex.message)}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])},SWFUpload.prototype.startResizedUpload=function(a,b,c,d,e,f){this.callFlash("StartUpload",[a,{width:b,height:c,encoding:d,quality:e,allowEnlarging:f}])},SWFUpload.prototype.cancelUpload=function(a,b){b!==!1&&(b=!0),this.callFlash("CancelUpload",[a,b])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.requeueUpload=function(a){return this.callFlash("RequeueUpload",[a])},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])},SWFUpload.prototype.getFile=function(a){return"number"==typeof a?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])},SWFUpload.prototype.getBase64Data=function(a){return this.callFlash("GetBase64Data",[a])},SWFUpload.prototype.getQueueFile=function(a){return"number"==typeof a?this.callFlash("GetFileByQueueIndex",[a]):this.callFlash("GetFile",[a])},SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash("AddFileParam",[a,b,c])},SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])
},SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString(),this.callFlash("SetUploadURL",[a])},SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a,this.callFlash("SetPostParams",[a])},SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a,this.settings.file_types_description=b,this.callFlash("SetFileTypes",[a,b])},SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a,this.callFlash("SetFileSizeLimit",[a])},SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a,this.callFlash("SetFileUploadLimit",[a])},SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a,this.callFlash("SetFileQueueLimit",[a])},SWFUpload.prototype.setFilePreload=function(a){this.settings.file_preload=a,this.callFlash("SetFilePreload",[a])},SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a,this.callFlash("SetFilePostName",[a])},SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a,this.callFlash("SetUseQueryString",[a])},SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a,this.callFlash("SetRequeueOnError",[a])},SWFUpload.prototype.setHTTPSuccess=function(a){"string"==typeof a&&(a=a.replace(" ","").split(",")),this.settings.http_success=a,this.callFlash("SetHTTPSuccess",[a])},SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a,this.callFlash("SetAssumeSuccessTimeout",[a])},SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a,this.callFlash("SetDebugEnabled",[a])},SWFUpload.prototype.setButtonImageURL=function(a){void 0==a&&(a=""),this.settings.button_image_url=a,this.callFlash("SetButtonImageURL",[a])},SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a,this.settings.button_height=b;var c=this.getMovieElement();void 0!=c&&(c.style.width=a+"px",c.style.height=b+"px"),this.callFlash("SetButtonDimensions",[a,b])},SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a,this.callFlash("SetButtonText",[a])},SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b,this.settings.button_text_left_padding=a,this.callFlash("SetButtonTextPadding",[a,b])},SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a,this.callFlash("SetButtonTextStyle",[a])},SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a,this.callFlash("SetButtonDisabled",[a])},SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a,this.callFlash("SetButtonAction",[a])},SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a,this.callFlash("SetButtonCursor",[a])},SWFUpload.prototype.queueEvent=function(a,b){var c=this;if(void 0==b?b=[]:b instanceof Array||(b=[b]),"function"==typeof this.settings[a])this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(null!==this.settings[a])throw"Event handler "+a+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;"function"==typeof a&&a.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(a){var b,c,d,e=/[$]([0-9a-f]{4})/i,f={};if(void 0!=a){for(c in a.post)if(a.post.hasOwnProperty(c)){for(b=c;null!==(d=e.exec(b));)b=b.replace(d[0],String.fromCharCode(parseInt("0x"+d[1],16)));f[b]=a.post[c]}a.post=f}return a},SWFUpload.prototype.swfuploadPreload=function(){var a;if("function"==typeof this.settings.swfupload_preload_handler)a=this.settings.swfupload_preload_handler.call(this);else if(void 0!=this.settings.swfupload_preload_handler)throw"upload_start_handler must be a function";return void 0===a&&(a=!0),!!a},SWFUpload.prototype.flashReady=function(){var a=this.cleanUp();return a?void this.queueEvent("swfupload_loaded_handler"):void this.debug("Flash called back ready but the flash movie can't be found.")},SWFUpload.prototype.cleanUp=function(){var a,b=this.getMovieElement();try{if(b&&"unknown"==typeof b.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(a in b)try{"function"==typeof b[a]&&(b[a]=null)}catch(c){}}}catch(d){}return window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}},b},SWFUpload.prototype.mouseClick=function(){this.queueEvent("mouse_click_handler")},SWFUpload.prototype.mouseOver=function(){this.queueEvent("mouse_over_handler")},SWFUpload.prototype.mouseOut=function(){this.queueEvent("mouse_out_handler")},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("file_queued_handler",a)},SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("file_queue_error_handler",[a,b,c])},SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent("file_dialog_complete_handler",[a,b,c])},SWFUpload.prototype.uploadResizeStart=function(a,b){a=this.unescapeFilePostParams(a),this.queueEvent("upload_resize_start_handler",[a,b.width,b.height,b.encoding,b.quality])},SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("return_upload_start_handler",a)},SWFUpload.prototype.returnUploadStart=function(a){var b;if("function"==typeof this.settings.upload_start_handler)a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===b&&(b=!0),b=!!b,this.callFlash("ReturnUploadStart",[b])},SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_progress_handler",[a,b,c])},SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_error_handler",[a,b,c])},SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_success_handler",[a,b,c])},SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("upload_complete_handler",a)},SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)},SWFUpload.prototype.debugMessage=function(a){var b,c,d;if(this.settings.debug)if(c=[],"object"==typeof a&&"string"==typeof a.name&&"string"==typeof a.message){for(d in a)a.hasOwnProperty(d)&&c.push(d+": "+a[d]);b=c.join("\n")||"",c=b.split("\n"),b="EXCEPTION: "+c.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(a)},SWFUpload.Console={},SWFUpload.Console.writeLine=function(a){console.log(a)},swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}(),swfobject.addDomLoadEvent(function(){"function"==typeof SWFUpload.onload&&SWFUpload.onload.call(window)}),Namespace("Imgur.Upload"),Imgur.Upload=Class.extend({init:function(a){var b=Imgur.getInstance();this._=$.extend(!0,{response:void 0,sid:$.cookie("IMGURSESSION"),isFlash:$.cookie("use_flash")?isNaN(parseInt($.cookie("use_flash")))?1:parseInt($.cookie("use_flash")):1,forceAnonymous:!1,swfu:void 0,started:!1,autoStart:!1,createAlbum:!1,albumId:"",redirectIfNoFlash:!1,canDrop:this.detectDragAndDropFileSupport(),preprocess:b._.signed&&b._.auth&&b._.auth.high_quality?0:1,urlRegex:/^[A-z0-9]+?:\/\/.+/i,galleryUrlRegex:null,uploadCount:0,captchaURL:"//"+b._.host+"/upload/checkcaptcha",checkedCaptcha:!1,captchaPassed:!1,captchaFormHTML:'<div class="captcha"><form id="captchaForm"><div id="uploadCaptcha"></div></form></div>',emitter:new Imgur.Emitter,cookieUploadFinished:"upload_finished",el:{$FFPasteBox:$("#FF-paste-box"),$uploadForm:$("#uploadform"),$dropOverlay:$("#drop-overlay"),$urlOverlay:"#upload-web",uploadCancel:".progressCancel",$uploadTable:$("#file-list"),uploadQueue:"upload-queue",$mainProgressbar:$("#progressbar"),$errorBox:$("#errors"),$startUploadPanel:$("#start-upload"),$startUploadButton:$("#start-button"),$progressTitle:$("#progress-title"),fileProgressWrapper:".progressWrapper",fileProgressStatus:".progressBarStatus",$mainProgressWrapper:$("#progress-wrapper"),$albumCheckbox:$("#album-checkbox"),$albumOptions:$("#album-options"),$albumClickArea:$("#album .textbox"),$albumTitle:$("#album-title"),$albumLayoutsLabel:$("#album-layouts label"),$loadingOverlay:$("#loading-overlay"),$tipsyImages:$("#view-images img"),$urlTextarea:$("#upload-web textarea"),$urlButton:$("#url"),$urlDoneButton:$("#url-done"),$urlStartButton:$("#url-start"),$uploadLoader:$("#upload-loader"),$fileWrapper:$("#file-wrapper"),$defaultAlbumLayout:$("#blog-layout-upload"),$pasteUploadInstructions:$("#paste-upload-instructions"),$pasteUploadContainer:$("#paste-upload"),catifyCheck:"#catify-check",editUrl:"#edit_url",$dragInstructions:$("#drag"),$flashContainer:$("#flash-container")},timers:{processingTimer:void 0,downloadingTimer:void 0,dragoverTimer:void 0},fileVars:{maxFileCount:150,maxFileSize:209715200,fileCount:0,completedBytes:0,totalBytes:0,uniqueID:0,urlCount:0,urls:[],base64s:[],files:[]},messages:{maxFilesError:"This is the maximum amount of images you can upload at once.",maxSizeError:"The maximum file size is 200MB! Your image is too big.",exampleImage:"http://www.example.com/image.jpg",defaultAlbumTitle:"Optional Album Title",urlAlreadyExistsError:"You already uploaded that file.",uploadTooLargeError:"Upload failed; your images may be too large. Please try removing some from the queue.",urlInvalidError:"Invalid URL."},colorboxSettings_Error:{transition:"none",inline:!0,scrolling:!1,href:"#image-formats"},tipsySettings_UploadTable:{gravity:"s",html:!0,opacity:.95}},a),this._.isFlash=0;this._.redirectIfNoFlash;this._.isFlash&&this._.el.$flashContainer.show();var b=Imgur.getInstance();this._.galleryUrlRegex=new RegExp("^(("+b._.protocol+"//|//)"+b._.host+"|"+b._.cdnUrl+"|/(?!/)).*")},ERROR_CODES:{CaptchaRequired:1008},checkCaptcha:function(a,b,c,d){return b=b||1,this._.checkedCaptcha?void a(this._.captchaPassed):void $.ajax({type:"GET",url:this._.captchaURL,data:{total_uploads:b,create_album:this._.createAlbum>>0,album_title:d?d:""},beforeSend:function(a){a.setRequestHeader("X-Imgur",1)},xhrFields:{withCredentials:!0},success:function(b){this._.checkedCaptcha=!0,this._.captchaPassed=b&&b.data&&1!=b.data.overLimits,a&&a(this._.captchaPassed,b)}.bind(this),error:function(e){return c?void(a&&a(!0,e)):Imgur.Upload.prototype.checkCaptcha.call(this,a,b,!0,d)}.bind(this)})},showCaptchaForm:function(){$.colorbox({html:this._.captchaFormHTML,top:"15%",width:"480px",transition:"none",overlayClose:!1,escKey:!1,onCleanup:function(){this._.showCaptcha=!1,this._.captchaPassed||($(window).unbind("beforeunload"),window.location=window.location)}.bind(this)})},showCaptchaDoneWrite:function(){$.colorbox.resize()},showCaptchaDone:function(a,b,c){if(this._.captchaPassed=b,b)$.colorbox.close(),a&&a();else{$("#captchaForm").find(".red").remove();var d="incorrect text";try{d=c.data.error}catch(e){}$('<div class="red">'+Imgur.Util.htmlEntity(d)+"</div>").insertAfter("#uploadCaptcha"),$.colorbox.resize()}},showCaptcha:function(a){this._.captchaPassed=!1,this._.checkedCaptcha=!1,this.createCaptcha.call(this,this.showCaptchaForm.bind(this),this.showCaptchaDoneWrite.bind(this),this.showCaptchaDone.bind(this,a))},showCaptchaGetScript:function(a){$.getScript("//www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Imgur.Upload.prototype.createCaptcha.apply(this,a)}.bind(this))},createCaptcha:function(a,b,c){"undefined"==typeof Recaptcha?this.showCaptchaGetScript(arguments):(a(),Recaptcha.create(Imgur.Environment.recaptcha_key,"uploadCaptcha",{theme:"clean",callback:function(){b(),$("#captchaForm").submit(function(){return $.post(this._.captchaURL,{recaptcha_challenge_field:Recaptcha.get_challenge(),recaptcha_response_field:Recaptcha.get_response(),total_uploads:this._.totalFileCount||1,create_album:this._.createAlbum>>0,album_title:this._.el.$albumTitle.val()},function(a){null!=a.data&&0==a.data.overLimits?c(!0,a):(Recaptcha.reload(),c(!1,a))}),!1}.bind(this))}.bind(this)}))},getSessionID:function(a){var b=this;return $.getJSON("/upload/start_session",function(c){c.sid&&(b._.sid=c.sid,b._.isFlash&&b._.swfu.setPostParams({sid:b._.sid}),a&&b.startUpload())}),!1},detectDragAndDropFileSupport:function(){return"draggable"in document.createElement("span")&&"undefined"!=typeof FileReader},bytesizeBase64String:function(a){return Math.ceil(.75*a)},removeDataURIHeader:function(a){return-1!=a.indexOf("data:image/png;base64,")?a.slice(22):a},addDataURIHeader:function(a){return"data:image/png;base64,"+a},getAlbumLayout:function(){return $('input[name="layout"]:checked',"#uploadform").val()},trimArray:function(a){for(var b=0,c=[];b<a.length;b++)a[b]&&c.push(a[b]);return c},hasHTTP:function(a){return/(ftp|http|https):\/\//.test(a)},basename:function(a){return a.replace(/\?.*$/g,"").replace(/^.*[\/\\]/g,"")},getExtension:function(a){return/[.]/.exec(a)?/[^.]+$/.exec(a):""},getDocHeight:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},isXHRUploadCapable:function(){return!("undefined"==typeof XMLHttpRequest||"undefined"==typeof File||"undefined"==typeof FormData||"undefined"==typeof FileReader)},useFlash:function(){return this._.isFlash&&this._.swfu&&"function"==typeof this._.swfu.getFile&&"function"==typeof this._.swfu.getStats&&this._.swfu.getStats()},newProgressbar:function(a,b,c){var d=this;a.id=b;var e=(this.useFlash()&&this._.swfu.getStats().files_queued>0?this._.swfu:this,new FileProgress(a,this._.el.uploadQueue));return e.setStatus(c),e.toggleCancel(!0,d),e},showError:function(a){this._.el.$errorBox.html(a).show(),$(".image-formats").colorbox(this._.colorboxSettings_Error)},clearErrors:function(){this._.el.$errorBox.hide().html("")},findURLId:function(a){for(var b=0;b<this._.fileVars.urls.length;b++)if(this._.fileVars.urls[b].id==a)return this._.fileVars.urls[b]},findFileName:function(a){for(var b in this._.fileVars.files)if(this._.fileVars.files[b]&&this._.fileVars.files[b].id===a)return this._.fileVars.files[b].name},fileAppend:function(){return this._.fileVars.fileCount++,this._.fileVars.uniqueID++,this.clearErrors(),$(".tipsy").remove(),this._.fileVars.fileCount>=this._.fileVars.maxFileCount&&this.showError(this._.messages.maxFilesError),1!=this._.fileVars.fileCount||(this._.el.$startUploadPanel.slideDown(),this._.sid)?void this._.el.$uploadTable.find(".title").tipsy(this._.tipsySettings_UploadTable):this.getSessionID(!1)},fileRemove:function(){this._.fileVars.fileCount--,$(".tipsy").remove(),this._.fileVars.fileCount<this._.fileVars.maxFileCount&&this.clearErrors(),0==this._.fileVars.fileCount&&this._.el.$startUploadPanel.slideUp()},removeBase64:function(a){for(var b=0;b<this._.fileVars.base64s.length;b++)if(this._.fileVars.base64s[b].id==a)return this._.fileVars.base64s.splice(b,1),!0;return!1},queue:function(a,b){return this._.fileVars.fileCount>=this._.fileVars.maxFileCount?!1:b>=this._.fileVars.maxFileSize?(this.showError(this._.messages.maxSizeError),!1):(this._.fileVars.totalBytes+=b,!0)},queueFile:function(a,b){var c=this.queue(a.name,a.size);if(c){this.addToImageList(a.name,b,!1);var d=this.newProgressbar(a,b,"Pending...");"SWFUpload_0_0"==b&&(d.setStatus("Processing..."),d.toggleCancel(!1)),this._.el.$loadingOverlay.height(this.getDocHeight())}return c},checkBase64Exists:function(a){for(var b=0;b<this._.fileVars.base64s.length;b++)if(this._.fileVars.base64s[b].base64==a)return!0;return!1},findAndDeleteURL:function(a){for(var b=0;b<this._.fileVars.urls.length;b++)if(this._.fileVars.urls[b].url==a)return this._.fileVars.urls.splice(b,1),!0;return!1},queueBase64:function(a,b){var c=this.queue("clipboard"+this._.fileVars.uniqueID+".png",a.file.size),d=this.removeDataURIHeader(a.dataURL),e=this.checkBase64Exists(d);if(e&&this.showError(this._.messages.urlAlreadyExistsError),c&=!e){var f={id:this._.fileVars.uniqueID,name:"Clipboard Image",base64:d,size:a.file.size};this._.fileVars.base64s.push(f);{this.newProgressbar(f,f.id,"Pending...")}b?b(f.name,f.id,!1,f):this.addToImageListWithThumb(this._.fileVars.uniqueID,a.dataURL)}return c},queueUrls:function(a){var b=this;jQuery.each(jQuery.makeArray(a),function(a,c){b.queueUrl(c)})},queueUrl:function(a){var b=this.queue(this.basename(a),0),c=this.urlExists(a);if(c&&this.showError(this._.messages.urlAlreadyExistsError),b&&!c){this._.fileVars.urls.push({id:this._.fileVars.uniqueID,url:a});var d={name:this.basename(a),id:"url_"+this._.fileVars.uniqueID};this.addToImageList(a,this._.fileVars.uniqueID,!0);{this.newProgressbar(d,d.id,"Pending...")}}var e=b&&!c;return e&&this._.autoStart&&this.beginUpload(),e},urlExists:function(a){for(var b=0,c=this._.fileVars.urls;b<c.length;b++)if(c[b].url==a)return!0;return!1},addURLs:function(){var a=this._.el.$urlTextarea.val().replace(/(<([^>]+)>)/gi,"").split("\n");if(1!=a.length||a[0]!=this._.messages.exampleImage){for(var b=0;b<a.length;++b)this._.fileVars.fileCount<=this._.fileVars.maxFileCount&&a[b].length&&!this.urlExists(a[b])&&this.queueUrl(a[b]);this._.el.$urlTextarea.val(""),this._.el.$urlTextarea.showPlaceholder()}},addBase64:function(a){this._.fileVars.fileCount<=this._.fileVars.maxFileCount&&a.dataURL&&a.dataURL.length&&this.queueBase64(a)},cancelUpload:function(a){var b={id:a},c=this.newProgressbar(b,a,"Upload Canceled");c.setError(),c.toggleCancel(!1),this.useFlash()&&this._.swfu.cancelUpload(a)},beginUpload:function(){return this.showProcessOverlay(),this._.sid?(this._.started=!0,this.useFlash()&&this._.swfu.getStats().files_queued>0?/jpe?g/i.exec(this.getExtension(this._.swfu.getFile(null).name))&&this._.swfu.getFile(null).size>262144&&this._.preprocess?this._.swfu.startResizedUpload(this._.swfu.getFile(null).ID,-1,-1,SWFUpload.RESIZE_ENCODING.JPEG,100,!1):this._.swfu.startUpload():this._.fileVars.base64s.length?this.startBase64Upload():this._.fileVars.fileCount>this._.fileVars.urls.length?this.startNextHTMLUpload():this.startDownloads(),!1):this.getSessionID(!0)},continueAfterFlash:function(){if(this._.fileVars.fileCount>this._.fileVars.urls.length+this._.fileVars.base64s.length)this.startNextHTMLUpload();else if(this._.fileVars.urls.length)this.startDownloads();else if(this._.fileVars.base64s.length)this.startBase64Upload();else{{this._.lastGoodResponse||this._.response}this._.poller.setFinishedAllCb(_.bind(this.redirectAfterUploadFinish,this)),this._.poller.start()}},startUpload:function(){return this._.fileVars.fileCount?(this.clearErrors(),(this._.fileVars.urls.length==this._.fileVars.fileCount||this._.fileVars.base64s.length==this._.fileVars.fileCount)&&(this._.isFlash=!1),this.showProcessOverlay(),this.beginUpload(),!1):void 0},startBase64Upload:function(){var a,b,c=this;this._.fileVars.base64s.length>0&&(a=this._.fileVars.base64s.shift(),b=this.removeDataURIHeader(a.base64)),this._.el.$progressTitle.html("Uploading clipboard images..."),this._.el.$mainProgressbar.progressBar({width:457,speed:a.size>1<<20?1800:60}),this._.el.$mainProgressbar.progressBar(99);var d=$.extend(this.getPostParams(),{base64s:[b]});$.ajax({type:"POST",url:this._.uploadURL,dataType:"json",data:d,success:function(a){c._.el.$mainProgressbar.progressBar(99),c._.response=a,c.continueAfterFlash()},error:function(){c.showError(c._.messages.uploadTooLargeError),c.hideProcessOverlay&&c.hideProcessOverlay()}}),this._.fileVars.fileCount--},startNextHTMLUpload:function(){this._.el.$progressTitle.html("Uploading..."),0==$("#postSID").length&&this._.el.$uploadTable.append('<input type="hidden" name="sid" value="'+this._.sid+'" id="postSID"/>'),0==$("#postAlbumId").length&&this._.albumId&&this._.el.$uploadTable.append('<input type="hidden" name="new_album_id" value="'+this._.albumId+'" id="postAlbumId"/>');for(var a in this._.fileVars.files)if(this._.fileVars.files[a])return void this._.fileVars.files[a].start()},startDownloads:function(){this._.el.$mainProgressbar.progressBar(100),this._.fileVars.urls.length>0&&this._.fileVars.fileCount>0?(this._.el.$progressTitle.html("Downloading..."),this.startDownload()):this.continueAfterFlash()},startDownload:function(){if(this._.fileVars.urls.length<=0)return this.continueAfterFlash();var a=this._.fileVars.urls.shift(),b={name:this.basename(a.url),id:"url_"+a.id},c=this.newProgressbar(b,b.id,"Downloading...");c.toggleCancel(!1);var d={url:a.url,create_album:this._.createAlbum?1:0,album_title:this._.el.$albumTitle.val(),layout:this.getAlbumLayout(),edit_url:void 0!==$(this._.el.editUrl+a.id+":checked").val()?1:0,catify:void 0!==$(this._.el.catifyCheck+":checked").val()?1:0,forceAnonymous:this._.forceAnonymous};this._.sid&&(d=$.extend(d,{sid:this._.sid}));var e=this;$.post(this._.uploadURL,d,function(a){e._.response=a,e._.numUploaded++,c.setComplete(),c.setStatus("Download Complete"),e._.fileVars.fileCount--,e.startDownload()})},getURLFromInnerHTML:function(a){var b=this,c=null,d=$(a).filter("img");return d.length||(d=$(a).find("img")),d.each(function(a,d){var e=$(d);return e.attr("src").match(b._.urlRegex)?(c=e.attr("src"),!1):void 0}),c},captureUrlFromDragAndDrop:function(a){var b,c,d,e=this,f=a.originalEvent.dataTransfer;return f?(b=jQuery.makeArray(f.types),c=b.indexOf("text/html"),-1!==c&&(b.pop(c),b=["text/html"].concat(b)),d=null,jQuery.each(b,function(a,b){var c;try{c=f.getData(b)}catch(g){return!1}return"text/html"==b&&(c=e.getURLFromInnerHTML(c),c=c?c:""),-1!==c.indexOf("#")&&(c=c.substr(0,c.indexOf("#"))),"text/html"!=b&&"text/uri-list"!=b&&"text/plain"!=b||!e.isValidURL(c)?void 0:(d=c,!1)}),d):null},isValidURL:function(a){return this._.urlRegex.test(a)&&!this._.galleryUrlRegex.test(a)},checkGlobalIsInView:function(){return Imgur.Upload.Global&&Imgur.Upload.Global.getInstance().isInView()},initDocumentPasteUrls:function(){"pasteUrlHandler"in this&&$(document).on("paste",this.pasteUrlHandler.bind(this))},initPasteUpload:function(a){var b;return $.browser.webkit||$.browser.mozilla?(this._.el.$pasteUploadContainer.parent().show(),this._.el.$pasteUploadContainer.show(),$.browser.webkit?(this.initDocumentPasteUrls(),this._.emitter.on("colorbox.open",this,function(){this._.el.$FFPasteBox.focus()}),this._.emitter.on("paste.image",this,function(){this._.el.$FFPasteBox.html(""),this._.el.$FFPasteBox.focus()}),this.initPasteUploadWebKit()):(this._.el.$FFPasteBox.focus(),this.initPasteUploadMozilla()),this.displayPasteUploadInstructions(),b=!0):b=!1,a&&a(),b
},_pasteUrlHandler:function(a){var b=this,c=jQuery.makeArray(a.clipboardData.types),d=null;if(jQuery.each(c,function(c,e){var f=a.originalEvent.clipboardData.getData(e);switch(e){case"text/html":var g=null;if($(f).find("a").each(function(a,c){var d=$(c);return d.attr("href").match(b._.urlRegex)?(g=d.attr("href"),!1):void 0}),$(f).filter("img").each(function(a,c){var d=$(c);return d.attr("src").match(b._.urlRegex)?(g=d.attr("src"),!1):void 0}),g)return d=g,!1;break;case"text/plain":if(f.match(b._.urlRegex))return d=f,!1}}),d)this._.emitter.trigger("paste","url"),this._.emitter.trigger("paste.url",d),this.queueUrl(d);else{var e=-1!==c.indexOf("Files");jQuery.each(c,function(a,b){return 0===b.indexOf("image/")?(e=!0,!1):void 0}),e||b.showError(b._.messages.urlInvalidError)}a.preventDefault(),a.stopImmediatePropagation()},displayPasteUploadInstructions:function(){var a="or ",b=this.detectUserOS(navigator.userAgent.toLowerCase());a+=b.osx?'<span class="green">&#8984; + V</span>':'<span class="green">Ctrl + V</span>',a+=" to paste from your clipboard",this._.el.$pasteUploadInstructions.html(a)},detectUserOS:function(a){return{linux:/linux/.test(a),windows:/windows/.test(a),osx:/mac os x/.test(a)}},waitForPasteData:function(a){a.childNodes&&a.childNodes.length>0?this.processPaste(a):setTimeout(this.waitForPasteData.bind(this,a),20)},processPaste:function(a){var b=a.innerHTML,c={image:-1!=b.indexOf("<img")&&-1!=b.indexOf("src="),base64:-1!=b.indexOf("base64,"),png:-1!=b.indexOf("iVBORw0K")};if(c.image&&c.base64&&c.png){var d=b.split('<img src="');d=d[1].split('" alt="">');var b={dataURL:d[0],file:{size:this.bytesizeBase64String(d[0].length)}};this.addBase64(b),this.signalIntent("pasteImage")}else{this.signalIntent("url");var e=$(a).find("img"),f=null;if(e.length>0&&e.attr("src").length>0?f=e.attr("src"):b.length>0&&(f=b),null!==f&&f.match(this._.urlRegex))this.queueUrl(f);else if(null!==f)try{var g=$(f).filter("a");g.length&&g.attr("href").match(this._.urlRegex)?this.queueUrl(g.attr("href")):this.showError(this._.messages.urlInvalidError)}catch(h){this.showError(this._.messages.urlInvalidError)}}a.innerHTML=""},redirectAfterUploadFinish:function(a){null==a&&(a=this._.lastGoodResponse?this._.lastGoodResponse.data:!1);var b="//"+Imgur.Environment.host;if(!a||!a.hashes||!a.hashes.join||0===a.hashes.length)return void(window.location=b+"/?error");var c=a.hashes;$.cookie(this._.cookieUploadFinished,!0,{path:"/",expires:3600}),window.location=a.edit?b+"/edit"+(a.album?"?album_id="+a.album:""):a.gallery_submit?a.album?b+"/share/a/"+a.album:b+"/share/i/"+a.hash:a.gallery&&a.gallery.success===!0?b+(Imgur.Environment.sponsoredTag?"/t/"+Imgur.Environment.tag.tag+"/":"/gallery/")+(a.album?a.album:a.hash)+(Imgur.Environment.sponsoredTag?"/time":"/new"):a.album?b+"/a/"+a.album:b+"/"+c.join(",")}}),Namespace("Imgur.Upload"),Imgur.Upload.ConversionPoller=Class.extend({POLLING_INTERVAL:2e4,init:function(a){this._=$.extend(!0,{tickets:[],finishedAllCb:_.noop,running:!1},a)},isEmpty:function(){return 0===this._.tickets.length},setFinishedAllCallback:function(a){this._.finishedAllCb=a},push:function(a){this._.tickets.push(a)},start:function(){this._.running||(this._.running=!0,this._tick())},stop:function(){this._.running=!1},_tick:function(){if(this._.running){if(0===this._.tickets.length)return void this._done();for(var a=[],b=0;b<this._.tickets.length;b++)a.push("tickets[]="+this._.tickets[b]);var c="//"+Imgur.Environment.host+"/upload/poll?"+a.join("&");$.ajax({url:c,type:"get",xhrFields:{withCredentials:!0},success:_.bind(function(a){if(0!==this._.tickets.length&&a.data.done){for(var b=0,c=this._.tickets[b];b>=0&&b<this._.tickets.length;b++,c=this._.tickets[b])a.data.done&&a.data.done.hasOwnProperty(c)&&(a.data.done[c]?(this._ticketSucceeded(c,a.data.done[c]),this._.tickets.splice(b,1),b--):(this._ticketFailed(c),this._.tickets.splice(b,1),b--));setTimeout(_.bind(this._tick,this),1e3)}},this)})}},_ticketFailed:function(){},_ticketSucceeded:function(){},_done:function(){this.stop(),this._.finishedAllCb()}}),Namespace("Imgur.Upload"),Imgur.Upload.ConversionPoller.Global=Imgur.Upload.ConversionPoller.extend({init:function(){this._={response:null,hashes:[]},this._super(this._)},setLastGoodResponse:function(a){this._.response=a},_ticketSucceeded:function(a,b){this._.hashes.push(b)},_done:function(){this.stop();for(var a=0;a<this._.hashes.length;a++)this._.response.hashes.push(this._.hashes[a]);1!==this._.response.hashes.length||this._.response.hash||(this._.response.hash=this._.response.hashes[0]),this._.finishedAllCb(this._.response)}}),Namespace("Imgur.Upload"),Imgur.Upload.ConversionPoller.Account=Imgur.Upload.ConversionPoller.extend({init:function(){this._={successCbs:[],failCbs:[]},this._super(this._)},push:function(a,b,c){this._.successCbs[a]=b,this._.failCbs[a]=c,this._super(a)},_ticketFailed:function(a){this._.failCbs.hasOwnProperty(a)&&"function"==typeof this._.failCbs[a]&&this._.failCbs[a]()},_ticketSucceeded:function(a,b){this._.successCbs.hasOwnProperty(a)&&"function"==typeof this._.successCbs[a]&&this._.successCbs[a](b)}}),Namespace("Imgur"),Imgur.Nanoscroll=React.createClass({displayName:"Nanoscroll",propTypes:{options:React.PropTypes.object},getDefaultProps:function(){return{options:{}}},componentDidMount:function(){$(this.refs["nano-container"].getDOMNode()).nanoScroller(this.props.options)},componentDidUpdate:function(){$(this.refs["nano-container"].getDOMNode()).nanoScroller(this.props.options)},render:function(){return React.DOM.div({ref:"nano-container",className:"nano"},React.DOM.div({className:"content"},this.props.children))}}),Namespace("Imgur"),Imgur.BodyModal={componentDidMount:function(){$("body").on("click",this.handleBodyClick)},componentWillUnmount:function(){$("body").off("click",this.handleBodyClick)},getInitialState:function(){return{bodyModalVisible:!1}},handleBodyClick:function(a){0===$(a.target).closest(this.getDOMNode()).length&&this.setState({bodyModalVisible:!1})},handleBodyModalClick:function(){this.setState({bodyModalVisible:!this.state.bodyModalVisible})}},Namespace("Imgur.Elements"),Imgur.Elements.FlashyText=React.createClass({propTypes:{value:React.PropTypes.string.isRequired},getInitialState:function(){return{flashNumber:0}},componentWillReceiveProps:function(a){this.props.value!==a.value&&this.setState({flashNumber:this.state.flashNumber+1})},render:function(){return React.createElement(React.addons.CSSTransitionGroup,{transitionName:"flash",transitionLeave:!1},React.DOM.span({key:this.state.flashNumber},this.props.value))}}),Imgur.Reputation=Class.extend({init:function(a){this.levels=a},getLevelName:function(a){for(var b=0;b<this.levels.length;b++)if(a<this.levels[b].reputation)return this.levels[b].name;return this.levels[this.levels.length-1].name}}),Imgur.PointsUpdater=Class.extend({init:function(a,b){this.type=a,this.emitter=b,this.aggregators={}},getForeignId:function(){throw"abstract"},getPointsValue:function(){throw"abstract"},handleUpdate:function(a){var b=this.getForeignId(a),c=this.getPointsValue(a);b in this.aggregators||(this.aggregators[b]=new Imgur.PointsUpdater.Aggregator(this.emitter));var d=_.merge({},a,{points:c,type:this.type});this.aggregators[b].handleUpdate(d)},kill:function(){_.each(this.aggregators,function(a){a.kill()}),this.aggregators={}}}),Imgur.PointsUpdater.Aggregator=Class.extend({init:function(a){this.emitter=a,this.pointsUpdate=null,this.timerRef=window.setInterval(_.bind(this.flush,this),3e3)},handleUpdate:function(a){this.pointsUpdate=a},flush:function(){this.pointsUpdate&&this.emitter.trigger("pointUpdate",this.pointsUpdate),this.pointsUpdate=null},kill:function(){window.clearInterval(this.timerRef)}}),Imgur.PointsUpdater.Comment=Imgur.PointsUpdater.extend({getForeignId:function(a){return Number(a.comment)},getPointsValue:function(a){return Number(a.points)}}),Imgur.PointsUpdater.Image=Imgur.PointsUpdater.extend({getForeignId:function(a){return a.hash},getPointsValue:function(a){return a.ups-a.downs}}),Namespace("Imgur.Notification"),Imgur.Notification=Imgur.extend({init:function(a){return this._=$.extend(!0,{openingDropDown:!1,baseUrl:"/account/notifications",loaderSrc:"//s.imgur.com/images/loaders/ddddd1_181817/48.gif",cacheArray:{},originalTitle:document.title,unreadCounts:{},titleTimeout:null,focusType:"focus"},a),this.setFocusHandler(),this._},setTitle:function(a){this._.originalTitle=a,this._updateTitleToReflectCount()},setUnreadCount:function(a,b){this._.unreadCounts[a]=b,this._updateTitleToReflectCount()},_updateTitleToReflectCount:function(){var a=0;for(var b in this._.unreadCounts)a+=this._.unreadCounts[b];document.title=a>0?"("+a+") "+this._.originalTitle:this._.originalTitle},viewed:function(a,b){var c={id:a,type:b};this.updateSubCounter(a,b);$.ajax({type:"POST",url:this._.baseUrl+"/viewed/",data:c})},showNotificationsDropdown:function(){var a=this,b=$("<div/>",{id:"notification-dropdown"}).html('<img src="http://s.imgur.com/images/loaders/181817_ededed/24.gif" alt="">'),c=$("<div/>",{"class":"notification-dropdown-wrapper"}).html(b);$(".notification-container").append(c),c.mouseleave(a.hideNotificationsDropdown);var d=function(c,d){b.html('<a href="//'+Imgur.getInstance()._.host+"/user/"+a._.auth.url+'/replies">replies ('+c+")</a>"),b.append('<div class="hairline"></div>'),b.append('<a href="//'+Imgur.getInstance()._.host+'/account/messages">messages ('+d+")</a>")};"undefined"!=typeof this._.cacheArray.dropdown?d(this._.cacheArray.dropdown.replies,this._.cacheArray.dropdown.messages):$.ajax({type:"GET",url:"//"+Imgur.getInstance()._.host+"/account/notifications.json",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(b){d(b.data.trending_captions.length,b.data.messages.length),a._.cacheArray.dropdown={replies:b.data.trending_captions.length,messages:b.data.messages.length}}})},initNotificationsDropdown:function(){var a=this;$(".notification-container").mouseenter(function(){a._.openingDropDown=!0,setTimeout(function(){a._.openingDropDown&&a.showNotificationsDropdown()},600)}).mouseleave(function(){a._.openingDropDown=!1})},hideNotificationsDropdown:function(){$(".notification-dropdown-wrapper").fadeOut("fast",function(){this.remove()})},updateSubCounter:function(a,b){var c=$("#unread-"+b),d=parseInt(c.html())-a.length;d>0?c.html("("+d+")"):c.remove()},updateTotalCounter:function(a,b){var c=$("#topbar").find(".notification-area");if(b){var d=0;c.length&&parseInt(c.html())?d=parseInt(c.html()):c.length||(this.insertNotificationArea(),c=$("#topbar").find(".notification-area")),d+=a}else var d=parseInt(c.html())-a;1>d?$(".notification-container").remove():c.html(d)},insertNotificationArea:function(){$(".user-nav .account").before('<li class="notification-container red">                 <a href="//'+Imgur.getInstance()._.host+'/account/notifications" class="notification-area new-notification ">0</a>             </li>'),this.initNotificationsDropdown()},setFocusHandler:function(a){"focus"==this._.focusType&&"function"==typeof a&&(a(),a=null);var b=this;$(window).unbind("blur"),$(window).unbind("focus"),$(window).on("blur focus",function(c){b._.focusType!=c.type&&"focus"==c.type&&"function"==typeof a&&(a(),a=null),b._.focusType=c.type})},initRealtime:function(a){var b=this;a.on("newMessage",function(a){b.handleMessageNotification(a)}),a.on("newReply",function(a){b.handleReplyNotification(a)}),a.on("readNotification",function(a){"undefined"!=typeof a.count&&b.updateTotalCounter(a.count)})},handleMessageNotification:function(a){var b='<span class="bold margin-bottom">New message from '+Imgur.Util.truncate(a.from,15,!0)+"</span><br>"+Imgur.Util.htmlEntity(Imgur.Util.truncate(a.body,40,!0)),c="//"+Imgur.getInstance()._.host+"/account/messages";this.showGrowl(b,c,""),this.updateTotalCounter(1,!0)},handleReplyNotification:function(a){var b='<span class="bold margin-bottom">You have a new reply!</span>',c="//"+Imgur.getInstance()._.host+"/user/"+this._.auth.url+"/replies",d="//i.imgur.com/"+a.hash+"b.jpg";this.showGrowl(b,c,d),this.updateTotalCounter(1,!0)},showGrowl:function(a,b,c){noty({text:a,link:b,image:c})}}),Class.addSingleton(Imgur.Notification),Namespace("Imgur.Notification"),Imgur.Notification.UIMessage=Class.extend({init:function(a,b,c,d,e){this._={reputation:a,levels:b,reachedMode:d,host:e}},knowHowToRender:function(a){return-1!==["post","account","comment","trophy"].indexOf(a)},getLinkHref:function(a,b,c,d,e){var f;switch(a){case"post":f="//"+this._.host+"/gallery/"+b.post.hash;break;case"account":f="//"+this._.host+"/user/"+Imgur.Environment.auth.url;break;case"comment":f="//"+this._.host+"/gallery/"+b.post.hash+"/comment/"+c+"/1";break;case"trophy":f="//"+this._.host+(b.trophy.data_link?b.trophy.data_link:"/user/"+Imgur.Environment.auth.url)}var g=$(".unseen-count").text(),h="";return h+="&nsnap="+d,h+="&ntype="+a,h+="&nid="+c,h+="&nnum="+(g?g:0),h=h.substr(1),f+"?"+h+"&lr="+(null===e?0:e)},getIcon:function(a,b){var c;switch(a){case"post":case"comment":var d=b.post,e=Number(d.is_album)?d.album_cover:d.hash;c=Imgur.Environment.cdnUrl+"/"+e+"s.jpg";break;case"trophy":c=b.trophy.image_url;break;default:c=null}return c},getThumb:function(a,b){var c,d=this.getIcon(a,b);return"comment"==a?c=React.DOM.div({className:"thumb"},React.DOM.img({src:d}),React.DOM.span({className:"icon-comment-bubble"})):"account"==a?c=React.DOM.div({className:"thumb"},React.DOM.span({className:"icon-stars-notoriety"})):null!==d&&(c=React.DOM.div({className:"thumb"},React.DOM.img({src:d}))),c},getCardTitle:function(a,b){switch(a){case"post":return b.post.title;case"comment":return b.comment.caption;case"trophy":return"New trophy!";case"account":return"New notoriety level!"}},getCommentReplyTimeLastRead:function(a){return"commentReply"in a?a.commentReply.milestone_read_time:0},getMilestoneLine:function(a,b){var c="",d={event:!0,unseen:!a.seen};switch(a.event_type){case"userNotoriety":d["event-notoriety"]=!0,c="Congratulations! You've earned enough reputation points to move up one notoriety level. You are now "+this._.reputation.getLevelName(a.event_count)+".";break;case"postComment":d["event-comment"]=!0,c=[React.createElement(Imgur.Elements.FlashyText,{key:a.event_count,value:String(a.event_count)})," "+Imgur.Util.pluralize(a.event_count,"comment")];break;case"postUpvote":d["event-upvote"]=!0,c=1===a.event_count?"Your post received an upvote!":[React.createElement(Imgur.Elements.FlashyText,{key:a.milestone_level,value:String(a.event_count)})," "+Imgur.Util.pluralize(a.event_count,"point")];break;case"postView":d["event-view"]=!0,c=[React.createElement(Imgur.Elements.FlashyText,{key:a.milestone_level,value:String(a.event_count)})," "+Imgur.Util.pluralize(a.event_count,"view")];break;case"postViral":d["event-viral"]=!0,c="Nice! Your post made it to Most Viral!";break;case"postEmbed":d["event-embed"]=!0,c=1===a.event_count?"You're famous! "+a.event_data.embed.publisher+" thought your post was so great that they embedded it outside of Imgur.":["You're famous! ",React.createElement(Imgur.Elements.FlashyText,{key:a.milestone_level,value:String(a.event_count)})," sites embedded your post. "];break;case"commentMention":d["event-mention"]=!0,c=1===a.event_count?[React.DOM.span({className:"mention"},a.event_data.commentator.url)," mentioned you in a comment."]:[React.createElement(Imgur.Elements.FlashyText,{key:a.milestone_level,value:String(a.event_count)})," users mentioned you in a comment."];break;case"commentUpvote":d["event-upvote"]=!0,c=1===a.event_count?"Your comment received its first upvote!":[React.createElement(Imgur.Elements.FlashyText,{key:a.milestone_level,value:String(a.event_count)})," "+Imgur.Util.pluralize(a.event_count,"point")];break;case"commentTop7":d["event-top7"]=!0,c="Your comment scored in the top 7 of the day. Nice job! ";break;case"commentReply":d["event-reply"]=!0;var e=1==a.event_count?"reply":"replies";c=[React.createElement(Imgur.Elements.FlashyText,{key:a.milestone_level,value:String(a.event_count)})," "+e];break;case"userTrophy":d["event-trophy"]=!0,c=b.trophy.description}return React.DOM.p({key:a.evt_type,className:classNames(d)},c)}}),Namespace("Imgur.NotificationBase"),Imgur.NotificationBase=Class.extend({init:function(a){return this._=$.extend({viewing:{},type:"base",cdnUrl:"//i.imgur.com",baseUrl:"/account/notifications",noNotifications:".no-notifications",notifications:{},notificationInstances:{},handlingHistoryState:!1,previous:{type:""},el:{noType:".no-type",noNotifications:".no-notifications",viewNotification:".message-type",loaderId:"#notification-loader",selectedButtonClass:"selected"},lookupTypes:{trending_captions:"Replies",messages:"Message"}},a),this._},viewed:function(a,b){a instanceof Object?a.length&&Imgur.Notification.getInstance().viewed(a,b):a&&Imgur.Notification.getInstance().viewed([a],b)},showDisabledNotification:function(a){a=a.charAt(0).toUpperCase()+a.slice(1),$(this._.el.noType).text(a),$(this._.el.noNotifications+" .disabled").show(),$(this._.el.noNotifications+" .empty").hide(),$(this._.el.noNotifications).show(),this.hideLoader()},showNoNotification:function(a){$(this._.el.noType).text(a),$(this._.el.noNotifications+" .disabled").hide(),$(this._.el.noNotifications+" .empty").show(),$(this._.el.noNotifications).show(),$(".gallery-images img").tipsy({gravity:"n",opacity:.95,offset:-8,html:!0})},hideNoNotifications:function(){$(this._.el.noNotifications).hide()},showLoader:function(){this.hideNoNotifications(),$(this._.el.loaderId).show()},hideLoader:function(){$(this._.el.loaderId).hide()},clearLoad:function(){Imgur.InfiniteScroll.getInstance().stopInfiniteScroll(),this.hideLoader(),$(this._.target).empty()},getNewNotifications:function(a,b){if("messages"===a&&this._.messagesDisabled){var c=this._.notificationInstances[a];return c.addWindowState(),this.showDisabledNotification(a)}$.ajax({url:this._.baseUrl+".json",data:{type:a},success:function(a){null!=a&&a.success&&"function"==typeof b&&(this._.notifications=a.data,b())}.bind(this)})}}),Class.addSingleton(Imgur.NotificationBase),Namespace("Imgur.Notification"),Imgur.Notification.EventDropdown=React.createClass({displayName:"Notification.EventDropdown",propTypes:{socket:React.PropTypes.object.isRequired,reputation:React.PropTypes.object.isRequired},mixins:[Imgur.ReactInfiniteScroll,Imgur.BodyModal],getInitialState:function(){return{notifications:{},pending_event_snapshots:{}}},_update_pagination_token:function(){if(this.infiniteScrollCountPages()>0)try{"localStorage"in window&&null!==window.localStorage&&localStorage.setItem("notifications_last_token",this.infiniteScrollGetPage(0).response_latest_as_of)}catch(a){}},_markEventsAsSeen:function(){var a=[];if(_.each(this.state.notifications,function(b){("unseen"==b.state||"received"==b.state)&&a.push({foreign_type:b.foreign_type,foreign_id:b.foreign_id,snapshot:b.snapshot})}),a.length>0){$.ajax({method:"POST",url:"/account/notifications/mark",data:{mark_type:"seen",notifications:a,msid:Imgur.Environment.msid}});var b={};_.each(a,_.bind(function(a){var c=[a.foreign_type,a.foreign_id].join(":"),d=_.merge({},this.state.notifications[c]);d.state="seen-pending-close",b[c]=d,Imgur.Util.jafoLog({event:"notificationSeen",meta:{bbType:"bubble",cardId:c}})},this)),this.setState({notifications:_.merge({},this.state.notifications,b)})}},componentDidUpdate:function(a,b){if(this.state.bodyModalVisible)this._update_pagination_token(),b.bodyModalVisible||(0===this.infiniteScrollCountPages()&&this._load(0),this._markEventsAsSeen());else if(b.bodyModalVisible){var c={};_.each(this.state.notifications,function(a,b){c[b]=_.merge({},a),"seen-pending-close"==a.state&&(c[b].state="seen")}),_.each(this.state.pending_event_snapshots,function(a){var b=c[a.notificationKey];_.each(b.events,function(b){b.event_type==a.eventType&&(b.seen=b.event_snapshot<=a.snapshot)})}),this.setState({notifications:c,pending_event_snapshots:{}})}this._publishUnreadCount()},_publishUnreadCount:function(){for(var a=0,b=_.values(this.state.notifications),c=0;c<b.length;c++){var d=b[c];("received"==d.state||"unseen"==d.state)&&(a+=1)}Imgur.Notification.getInstance().setUnreadCount("notifications",a)},_mergeData:function(a){{var b=new Imgur.Notification.UIMessage(this.props.reputation,null,null,!0,Imgur.Environment.host),c=_.merge({},this.state.notifications);this.state.bodyModalVisible}_.each(a,function(a){if(b.knowHowToRender(a.foreign_type)){var d=[a.foreign_type,a.foreign_id].join(":");if(_.isUndefined(c[d]))c[d]=a;else{var e,f=c[d],g={};a.snapshot>=f.snapshot?e=_.merge({},a):(console.log("discarding stale notification data ",a," because new snapshot ",a.snapshot," < ",f.snapshot),e=_.merge({},f)),_.each(f.events,function(a){g[a.event_type]=a}),_.each(a.events,function(a){var b=a.event_type;if(_.isUndefined(g[b]))g[b]=a;else{var c=g[b];a.event_snapshot>=c.event_snapshot?g[b]=a:(console.log("discarding stale event ",a," because new event snapshot ",a.event_snapshot," < ",c.event_snapshot),g[b]=c)}}),e.events=g,c[d]=e}}}),this.setState({notifications:c})},_displayGrowls:function(a){var b=_.indexBy(a,function(a){return[a.foreign_type,a.foreign_id].join(":")});_.each(b,_.bind(function(a,b){_.each(a.events,_.bind(function(c){if("message-msg"!=c.event_type){var d,e=new Imgur.Notification.UIMessage(this.props.reputation,null,a.events,!1,Imgur.Environment.host),f=e.getLinkHref(c.notification_foreign_type,a.foreign_data,c.notification_foreign_id,a.snapshot,a.last_read_snapshot);if("commentReply"==c.event_type){var g=a.foreign_data.post,h=Number(g.is_album)?g.album_cover:g.hash;d=Imgur.Environment.cdnUrl+"/"+h+"s.jpg"}else d=e.getIcon(c.notification_foreign_type,a.foreign_data);var i={text:Imgur.Util.htmlEntity(c.title_long),link:f};null!==d&&(i.image=d),noty(i),Imgur.Util.jafoLog({event:"notificationBBAppear",meta:{bbType:"bubble",cardId:[String(Imgur.Environment.auth.id),b,c.event_type].join(":"),notificationId:[String(Imgur.Environment.auth.id),b,c.event_type].join(":")}})}},this))},this))},infiniteScrollNeedToLoadFirstPage:function(){if(!Imgur.Environment.auth.notifications_last_token)return!1;try{if("localStorage"in window&&null!==window.localStorage&&Imgur.Environment.auth.notifications_last_token===localStorage.getItem("notifications_last_token"))return!1}catch(a){}return!0},infiniteScrollLoad:function(a,b){var c=this.infiniteScrollCountPages(),d="";c>0&&(d="/"+this.infiniteScrollGetPage(c-1).next_page),$.ajax({url:"/account/notifications/list"+d+".json",displayGenericError:!1,success:_.bind(function(a){a?a.data.notifications&&a.data.notifications.length?(this._mergeData(a.data.notifications),this.state.bodyModalVisible&&this._markEventsAsSeen(),b({first_token:a.data.first_token,next_page:a.data.next_page,response_latest_as_of:a.data.response_latest_as_of},!1)):b({},!0):b(null,!0)},this)})},componentDidMount:function(){this.props.socket.on("newNotification",this.handleRealTimeNewNotifications),this.props.socket.on("markNotification",this.handleRealTimeMarkNotification),this._publishUnreadCount()},handleRealTimeNewNotifications:function(a){this._mergeData(a.notifications),this.state.bodyModalVisible&&this._markEventsAsSeen(),this._displayGrowls(a.notifications)},handleRealTimeMarkNotification:function(a){var b=[a.foreign_type,a.foreign_id].join(":"),c=this.state.notifications[b],d=a.snapshot;if(!_.isUndefined(c)){var e={},f={};"seen"==a.mark_type?(c.last_seen_snapshot=d,"unseen"===c.state&&this.state.bodyModalVisible?c.state="seen-pending-close":"unseen"!==c.state||this.state.bodyModalVisible||(c.state="seen")):"read"==a.mark_type&&(c.last_read_snapshot=d,c.state="read"),e[b]=c,this.state.bodyModalVisible?_.each(c.events,function(a){var c=[b,a.event_type].join(":");f[c]={snapshot:d,notificationKey:b,eventType:a.event_type}}):_.each(c.events,function(a){a.seen=a.event_snapshot<=d}),this.setState({notifications:_.merge({},this.state.notifications,e),pending_event_snapshots:_.merge({},this.state.pending_event_snapshots,f)})}},render:function(){var a=_.merge({},this.state.notifications),b=_.filter(_.values(a),function(a){return"unseen"==a.state||"seen-pending-close"==a.state}),c=_.filter(_.values(a),function(a){return"unseen"!=a.state&&"seen-pending-close"!=a.state});b=_.sortBy(b,"snapshot"),c=_.sortBy(c,"snapshot"),b.reverse(),c.reverse();var d=b.concat(c),e=[],f=0,g=0;_.each(d,_.bind(function(a,b){var c=_.merge({},a,{reputation:this.props.reputation}),h=null;b===d.length-1&&(h="infinite-scroll"),e.push(React.createElement(React.addons.CSSTransitionGroup,{ref:h,key:[a.foreign_type,a.foreign_id].join(":"),transitionName:"card"},React.createElement(Imgur.NotificationCard,c))),"received"==a.state?(f+=1,g+=1):"unseen"==a.state?(f+=1,g+=1):"seen-pending-close"==a.state&&(g+=1)},this)),0===this.infiniteScrollCountPages()&&e.push(React.createElement(Imgur.NotificationCard.Empty));var h=React.DOM.div({className:"notifications-dropdown"},React.DOM.div({className:"notifications-header"},React.DOM.div({className:"left"},React.DOM.h3(null,"Notifications"),g>0?React.DOM.span({className:"unseen-count"},g):""),React.DOM.div({className:"clear"})),React.DOM.div({className:"notifications-content"},React.createElement(Imgur.Nanoscroll,{options:{preventPageScrolling:!0},ref:"infinite-scroll-container",height:300},e))),i=classNames({events:!0,unseen:f>0,active:this.state.bodyModalVisible});return React.DOM.div({},React.DOM.button({onClick:this.handleBodyModalClick,className:i},React.DOM.span({className:"unseen-count"},Math.min(99,f))),this.state.bodyModalVisible?h:"")}}),Namespace("Imgur.Notification"),Imgur.Notification.MessageDropdown=React.createClass({displayName:"Notification.MessageDropdown",propTypes:{unreadCount:React.PropTypes.number,socket:React.PropTypes.object.isRequired},getInitialState:function(){return{delta:0,oldMessages:null}},componentDidMount:function(){this.props.socket.on("newMessage",this.handleNewMessage),this.props.socket.on("readNotification",this.handleReadNotification),Imgur.Notification.getInstance().setUnreadCount("messages",this.props.unreadCount+this.state.delta)},componentDidUpdate:function(){Imgur.Notification.getInstance().setUnreadCount("messages",this.props.unreadCount+this.state.delta)},handleNewMessage:function(a){this.setState({delta:this.state.delta+1});var b='<span class="bold margin-bottom">';b+="New message from ",b+=Imgur.Util.truncate(a.from,15,!0),b+="</span><br>",b+=Imgur.Util.htmlEntity(Imgur.Util.truncate(a.body,40,!0)),noty({text:b,link:"//"+Imgur.Environment.host+"/account/messages",image:""}),this.state.oldMessages&&this.state.oldMessages.handleRealtimeMessage(a)},handleReadNotification:function(a){this.setState({delta:this.state.delta-a.count})},render:function(){var a=classNames({conversations:!0,unread:this.props.unreadCount+this.state.delta>0}),b=classNames({"unread-count":!0,unread:this.props.unreadCount+this.state.delta>0});return React.DOM.div(null,React.DOM.a({href:"//"+Imgur.Environment.host+"/account/messages",className:b},React.DOM.span({className:b},Math.min(99,this.props.unreadCount+this.state.delta))),React.DOM.button({className:a},""))}}),Namespace("Imgur.NotificationCard"),Imgur.NotificationCard=React.createClass({displayName:"NotificationCard",propTypes:{foreign_type:React.PropTypes.string.isRequired,foreign_data:React.PropTypes.object.isRequired,events:React.PropTypes.array.isRequired,state:React.PropTypes.string.isRequired,snapshot:React.PropTypes.number.isRequired,last_read_snapshot:React.PropTypes.number,reputation:React.PropTypes.object.isRequired},render:function(){var a=[],b=new Imgur.Notification.UIMessage(this.props.reputation,null,this.props.events,!0,Imgur.Environment.host);for(var c in this.props.events){var d=b.getMilestoneLine(this.props.events[c],this.props.foreign_data);a.push(d)}var e={"notification-card":!0,unread:"read"!==this.props.state,unseen:"unseen"===this.props.state||"received"===this.props.state||"seen-pending-close"===this.props.state};e["notification-card-"+this.props.foreign_type]=!0;var f,g=b.getThumb(this.props.foreign_type,this.props.foreign_data);"comment"==this.props.foreign_type&&(f=b.getCommentReplyTimeLastRead(this.props.events));var h=b.getLinkHref(this.props.foreign_type,this.props.foreign_data,this.props.foreign_id,this.props.snapshot,this.props.last_read_snapshot),i=b.getCardTitle(this.props.foreign_type,this.props.foreign_data);return React.DOM.div({className:classNames(e)},g,React.DOM.div({className:"events"},React.DOM.h4(null,i),a),React.DOM.a({href:h}))}}),Namespace("Imgur.NotificationCard"),Imgur.NotificationCard.Empty=React.createClass({render:function(){var a=classNames({"notification-card":!0,"notification-card-empty":!0});return React.DOM.div({className:a},"You have no new notifications.")}}),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a){var b={init:function(b){return this.options=a.extend({},a.noty.defaults,b),this.options.layout=this.options.custom?a.noty.layouts.inline:a.noty.layouts[this.options.layout],delete b.layout,this.options=a.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this.options=a.extend({},this.options,b),this._build(),this},_build:function(){var b=a('<div class="noty_bar"></div>').attr("id",this.options.id);if(b.append(this.options.template).find(".noty_text").html(this.options.text),""!==this.options.image?b.find(".noty_image").html('<img style="width: 60px;" src="'+this.options.image+'" />'):b.find(".noty_image").remove(),this.$bar=null!==this.options.layout.parent.object?a(this.options.layout.parent.object).css(this.options.layout.parent.css).append(b):b,this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var c=a("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(c):this.$bar.append(c);var d=this;a.each(this.options.buttons,function(b,c){var e=a("<button/>").addClass(c.addClass?c.addClass:"gray").html(c.text).appendTo(d.$bar.find(".noty_buttons")).bind("click",function(){a.isFunction(c.onClick)&&c.onClick.call(e,d)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),a.noty.store[this.options.id]=this},show:function(){var b=this;return a(b.options.layout.container.selector).append(b.$bar),"function"===a.type(b.options.layout.css)?this.options.layout.css.apply(b.$bar):b.$bar.css(this.options.layout.css||{}),b.$bar.addClass(b.options.layout.addClass),b.options.layout.container.style.apply(a(b.options.layout.container.selector)),a.inArray("click",b.options.closeWith)>-1&&b.$bar.css("cursor","pointer").one("click",function(a){b.stopPropagation(a),b.options.callback.onCloseClick&&b.options.callback.onCloseClick.apply(b),b.close()}),a.inArray("hover",b.options.closeWith)>-1&&b.$bar.one("mouseenter",function(){b.close()}),a.inArray("button",b.options.closeWith)>-1&&b.$closeButton.one("click",function(a){b.stopPropagation(a),b.close()}),-1==a.inArray("button",b.options.closeWith)&&b.$closeButton.remove(),b.options.callback.onShow&&b.options.callback.onShow.apply(b),b.$bar.animate(b.options.animation.open,b.options.animation.speed,b.options.animation.easing,function(){b.options.callback.afterShow&&b.options.callback.afterShow.apply(b),b.shown=!0}),b.$bar.click(function(){""!=b.options.link&&(window.location=b.options.link)}),b.options.timeout&&b.$bar.delay(b.options.timeout).promise().done(function(){b.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var b=this;if(!this.shown){var c=[];return a.each(a.noty.queue,function(a,d){d.options.id!=b.options.id&&c.push(d)}),void(a.noty.queue=c)}b.$bar.addClass("i-am-closing-now"),b.options.callback.onClose&&b.options.callback.onClose.apply(b),b.$bar.clearQueue().stop().fadeOut("slow",function(){b.options.callback.afterClose&&b.options.callback.afterClose.apply(b)}).promise().done(function(){b.options.modal&&(a.notyRenderer.setModalCount(-1),0==a.notyRenderer.getModalCount()&&a(".noty_modal").fadeOut("fast",function(){a(this).remove()
})),a.notyRenderer.setLayoutCountFor(b,-1),0==a.notyRenderer.getLayoutCountFor(b)&&a(b.options.layout.container.selector).remove(),"undefined"!=typeof b.$bar&&null!==b.$bar&&(b.$bar.remove(),b.$bar=null,b.closed=!0),delete a.noty.store[b.options.id],b.options.dismissQueue||(a.noty.ontap=!0,a.notyRenderer.render()),b.options.maxVisible>0&&b.options.dismissQueue&&a.notyRenderer.render()})}},setText:function(a){return this.closed||(this.options.text=a,this.$bar.find(".noty_text").html(a)),this},setType:function(a){return this.closed||(this.options.type=a),this},setTimeout:function(a){if(!this.closed){var b=this;this.options.timeout=a,b.$bar.delay(b.options.timeout).promise().done(function(){b.close()})}return this},stopPropagation:function(a){a=a||window.event,"undefined"!=typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},closed:!1,shown:!1};a.notyRenderer={},a.notyRenderer.init=function(c){var d=Object.create(b).init(c);return d.options.force?a.noty.queue.unshift(d):a.noty.queue.push(d),a.notyRenderer.render(),"object"==a.noty.returns?d:d.options.id},a.notyRenderer.render=function(){var b=a.noty.queue[0];"object"===a.type(b)?b.options.dismissQueue?b.options.maxVisible>0?a(b.options.layout.container.selector+" li").length<b.options.maxVisible&&a.notyRenderer.show(a.noty.queue.shift()):a.notyRenderer.show(a.noty.queue.shift()):a.noty.ontap&&(a.notyRenderer.show(a.noty.queue.shift()),a.noty.ontap=!1):a.noty.ontap=!0},a.notyRenderer.show=function(b){b.options.modal&&(a.notyRenderer.createModalFor(b),a.notyRenderer.setModalCount(1)),0==a(b.options.layout.container.selector).length?b.options.custom?b.options.custom.append(a(b.options.layout.container.object).addClass("i-am-new")):a("body").append(a(b.options.layout.container.object).addClass("i-am-new")):a(b.options.layout.container.selector).removeClass("i-am-new"),a.notyRenderer.setLayoutCountFor(b,1),b.show()},a.notyRenderer.getLayoutCountFor=function(b){return a(b.options.layout.container.selector).data("noty_layout_count")||0},a.notyRenderer.setLayoutCountFor=function(b,c){return a(b.options.layout.container.selector).data("noty_layout_count",a.notyRenderer.getLayoutCountFor(b)+c)},a.notyRenderer.getModalCount=function(){return a(".noty_modal").data("noty_modal_count")||0},a.notyRenderer.setModalCount=function(b){return a(".noty_modal").data("noty_modal_count",a.notyRenderer.getModalCount()+b)},a.fn.noty=function(b){return b.custom=a(this),a.notyRenderer.init(b)},a.noty={},a.noty.queue=[],a.noty.ontap=!0,a.noty.layouts={},a.noty.returns="object",a.noty.store={},a.noty.get=function(b){return a.noty.store.hasOwnProperty(b)?a.noty.store[b]:!1},a.noty.close=function(b){return a.noty.get(b)?a.noty.get(b).close():!1},a.noty.setText=function(b,c){return a.noty.get(b)?a.noty.get(b).setText(c):!1},a.noty.setType=function(b,c){return a.noty.get(b)?a.noty.get(b).setType(c):!1},a.noty.clearQueue=function(){a.noty.queue=[]},a.noty.closeAll=function(){a.noty.clearQueue(),a.each(a.noty.store,function(a,b){b.close()})};var c=window.alert;a.noty.consumeAlert=function(b){window.alert=function(c){b?b.text=c:b={text:c},a.notyRenderer.init(b)}},a.noty.stopConsumeAlert=function(){window.alert=c},a.noty.defaults={layout:"bottomRight",theme:"defaultTheme",type:"information",text:"",link:"",image:"",dismissQueue:!0,template:'<div class="noty_message"><div class="noty_image"></div><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:8e3,force:!1,modal:!1,maxVisible:5,closeWith:["button"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){}},buttons:!1},a(window).resize(function(){a.each(a.noty.layouts,function(b,c){c.container.style.apply(a(c.container.selector))})})}(jQuery),window.noty=function(a){var b=0,c={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onCloseClick:"callback.onCloseClick",onClosed:"callback.afterClose"};return jQuery.each(a,function(d,e){if(c[d]){b++;var f=c[d].split(".");a[f[0]]||(a[f[0]]={}),a[f[0]][f[1]]=e?e:function(){},delete a[d]}}),a.closeWith||(a.closeWith=jQuery.noty.defaults.closeWith),a.hasOwnProperty("closeButton")&&(b++,a.closeButton&&a.closeWith.push("button"),delete a.closeButton),a.hasOwnProperty("closeOnSelfClick")&&(b++,a.closeOnSelfClick&&a.closeWith.push("click"),delete a.closeOnSelfClick),a.hasOwnProperty("closeOnSelfOver")&&(b++,a.closeOnSelfOver&&a.closeWith.push("hover"),delete a.closeOnSelfOver),a.hasOwnProperty("custom")&&(b++,"null"!=a.custom.container&&(a.custom=a.custom.container)),a.hasOwnProperty("cssPrefix")&&(b++,delete a.cssPrefix),"noty_theme_default"==a.theme&&(b++,a.theme="defaultTheme"),a.hasOwnProperty("dismissQueue")||(a.dismissQueue=jQuery.noty.defaults.dismissQueue),a.hasOwnProperty("maxVisible")||(a.maxVisible=jQuery.noty.defaults.maxVisible),a.buttons&&jQuery.each(a.buttons,function(a,c){c.click&&(b++,c.onClick=c.click,delete c.click),c.type&&(b++,c.addClass=c.type,delete c.type)}),b&&"undefined"!=typeof console&&console.warn&&console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options."),jQuery.notyRenderer.init(a)},function(a){a.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){window.innerWidth<600&&a(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"250px"},addClass:""}}(jQuery),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={}.hasOwnProperty,u=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},v=[].slice;null==this.Tether&&(this.Tether={modules:[]}),l=function(a){var b,c,d,e,f;if(c=getComputedStyle(a).position,"fixed"===c)return a;for(d=void 0,b=a;b=b.parentNode;){try{e=getComputedStyle(b)}catch(g){}if(null==e)return b;if(/(auto|scroll)/.test(e.overflow+e.overflowY+e.overflowX)&&("absolute"!==c||"relative"===(f=e.position)||"absolute"===f||"fixed"===f))return b}return document.body},q=function(){var a;return a=0,function(){return a++}}(),s={},j=function(a){var b,d,f,g,h;if(f=a._tetherZeroElement,null==f&&(f=a.createElement("div"),f.setAttribute("data-tether-id",q()),e(f.style,{top:0,left:0,position:"absolute"}),a.body.appendChild(f),a._tetherZeroElement=f),b=f.getAttribute("data-tether-id"),null==s[b]){s[b]={},h=f.getBoundingClientRect();for(d in h)g=h[d],s[b][d]=g;c(function(){return s[b]=void 0})}return s[b]},n=null,g=function(a){var b,c,d,e,f,g,h;a===document?(c=document,a=document.documentElement):c=a.ownerDocument,d=c.documentElement,b={},h=a.getBoundingClientRect();for(e in h)g=h[e],b[e]=g;return f=j(c),b.top-=f.top,b.left-=f.left,null==b.width&&(b.width=document.body.scrollWidth-b.left-b.right),null==b.height&&(b.height=document.body.scrollHeight-b.top-b.bottom),b.top=b.top-d.clientTop,b.left=b.left-d.clientLeft,b.right=c.body.clientWidth-b.width-b.left,b.bottom=c.body.clientHeight-b.height-b.top,b},i=function(a){return a.offsetParent||document.documentElement},k=function(){var a,b,c,d,f;return a=document.createElement("div"),a.style.width="100%",a.style.height="200px",b=document.createElement("div"),e(b.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),b.appendChild(a),document.body.appendChild(b),d=a.offsetWidth,b.style.overflow="scroll",f=a.offsetWidth,d===f&&(f=b.clientWidth),document.body.removeChild(b),c=d-f,{width:c,height:c}},e=function(a){var b,c,d,e,f,g,h;for(null==a&&(a={}),b=[],Array.prototype.push.apply(b,arguments),h=b.slice(1),f=0,g=h.length;g>f;f++)if(d=h[f])for(c in d)t.call(d,c)&&(e=d[c],a[c]=e);return a},o=function(a,b){var c,d,e,f,g,i;if(null!=a.classList){for(g=b.split(" "),i=[],e=0,f=g.length;f>e;e++)d=g[e],d.trim()&&i.push(a.classList.remove(d));return i}return c=h(a).replace(new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi")," "),p(a,c)},b=function(a,b){var c,d,e,f,g;if(null!=a.classList){for(f=b.split(" "),g=[],d=0,e=f.length;e>d;d++)c=f[d],c.trim()&&g.push(a.classList.add(c));return g}return o(a,b),c=h(a)+(" "+b),p(a,c)},m=function(a,b){return null!=a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(h(a))},h=function(a){return a.className instanceof SVGAnimatedString?a.className.baseVal:a.className},p=function(a,b){return a.setAttribute("class",b)},r=function(a,c,d){var e,f,g,h,i,j;for(f=0,h=d.length;h>f;f++)e=d[f],u.call(c,e)<0&&m(a,e)&&o(a,e);for(j=[],g=0,i=c.length;i>g;g++)e=c[g],j.push(m(a,e)?void 0:b(a,e));return j},d=[],c=function(a){return d.push(a)},f=function(){var a,b;for(b=[];a=d.pop();)b.push(a());return b},a=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?v.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),this.Tether.Utils={getScrollParent:l,getBounds:g,getOffsetParent:i,extend:e,addClass:b,removeClass:o,hasClass:m,updateClasses:r,defer:c,flush:f,uniqueId:q,Evented:a,getScrollBarSize:k}}.call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=[].slice,E=function(a,b){return function(){return a.apply(b,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");d=this.Tether,C=d.Utils,p=C.getScrollParent,q=C.getSize,n=C.getOuterSize,l=C.getBounds,m=C.getOffsetParent,j=C.extend,e=C.addClass,w=C.removeClass,z=C.updateClasses,i=C.defer,k=C.flush,o=C.getScrollBarSize,A=function(a,b,c){return null==c&&(c=1),a+c>=b&&b>=a-c},y=function(){var a,b,c,d,e;for(a=document.createElement("div"),e=["transform","webkitTransform","OTransform","MozTransform","msTransform"],c=0,d=e.length;d>c;c++)if(b=e[c],void 0!==a.style[b])return b}(),x=[],v=function(){var a,b,c;for(b=0,c=x.length;c>b;b++)a=x[b],a.position(!1);return k()},r=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},function(){var a,b,c,d,e,f,g,h,i;for(b=null,c=null,d=null,e=function(){if(null!=c&&c>16)return c=Math.min(c-16,250),void(d=setTimeout(e,250));if(!(null!=b&&r()-b<10))return null!=d&&(clearTimeout(d),d=null),b=r(),v(),c=r()-b},h=["resize","scroll","touchmove"],i=[],f=0,g=h.length;g>f;f++)a=h[f],i.push(window.addEventListener(a,e));return i}(),a={center:"center",left:"right",right:"left"},b={middle:"middle",top:"bottom",bottom:"top"},c={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},h=function(c,d){var e,f;return e=c.left,f=c.top,"auto"===e&&(e=a[d.left]),"auto"===f&&(f=b[d.top]),{left:e,top:f}},g=function(a){var b,d;return{left:null!=(b=c[a.left])?b:a.left,top:null!=(d=c[a.top])?d:a.top}},f=function(){var a,b,c,d,e,f,g;for(b=1<=arguments.length?D.call(arguments,0):[],c={top:0,left:0},e=0,f=b.length;f>e;e++)g=b[e],d=g.top,a=g.left,"string"==typeof d&&(d=parseFloat(d,10)),"string"==typeof a&&(a=parseFloat(a,10)),c.top+=d,c.left+=a;return c},s=function(a,b){return"string"==typeof a.left&&-1!==a.left.indexOf("%")&&(a.left=parseFloat(a.left,10)/100*b.width),"string"==typeof a.top&&-1!==a.top.indexOf("%")&&(a.top=parseFloat(a.top,10)/100*b.height),a},t=u=function(a){var b,c,d;return d=a.split(" "),c=d[0],b=d[1],{top:c,left:b}},B=function(){function a(a){this.position=E(this.position,this);var b,c,e,f,g;for(x.push(this),this.history=[],this.setOptions(a,!1),f=d.modules,c=0,e=f.length;e>c;c++)b=f[c],null!=(g=b.initialize)&&g.call(this);this.position()}return a.modules=[],a.prototype.getClass=function(a){var b,c;return(null!=(b=this.options.classes)?b[a]:void 0)?this.options.classes[a]:(null!=(c=this.options.classes)?c[a]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+a:a:""},a.prototype.setOptions=function(a,b){var c,d,f,g,h,i;for(this.options=a,null==b&&(b=!0),c={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=j(c,this.options),h=this.options,this.element=h.element,this.target=h.target,this.targetModifier=h.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),i=["element","target"],f=0,g=i.length;g>f;f++){if(d=i[f],null==this[d])throw new Error("Tether Error: Both element and target must be defined");null!=this[d].jquery?this[d]=this[d][0]:"string"==typeof this[d]&&(this[d]=document.querySelector(this[d]))}if(e(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&e(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=t(this.options.targetAttachment),this.attachment=t(this.options.attachment),this.offset=u(this.options.offset),this.targetOffset=u(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:p(this.target),this.options.enabled!==!1?this.enable(b):void 0},a.prototype.getTargetBounds=function(){var a,b,c,d,e,f,g,h,i;if(null==this.targetModifier)return l(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(a=l(this.target),e={height:a.height,width:a.width,top:a.top,left:a.left},e.height=Math.min(e.height,a.height-(pageYOffset-a.top)),e.height=Math.min(e.height,a.height-(a.top+a.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,a.width-(pageXOffset-a.left)),e.width=Math.min(e.width,a.width-(a.left+a.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e);case"scroll-handle":return i=this.target,i===document.body?(i=document.documentElement,a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):a=l(i),h=getComputedStyle(i),c=i.scrollWidth>i.clientWidth||"scroll"===[h.overflow,h.overflowX]||this.target!==document.body,f=0,c&&(f=15),d=a.height-parseFloat(h.borderTopWidth)-parseFloat(h.borderBottomWidth)-f,e={width:15,height:.975*d*(d/i.scrollHeight),left:a.left+a.width-parseFloat(h.borderLeftWidth)-15},b=0,408>d&&this.target===document.body&&(b=-11e-5*Math.pow(d,2)-.00727*d+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24)),g=this.target.scrollTop/(i.scrollHeight-d),e.top=g*(d-e.height-b)+a.top+parseFloat(h.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}},a.prototype.clearCache=function(){return this._cache={}},a.prototype.cache=function(a,b){return null==this._cache&&(this._cache={}),null==this._cache[a]&&(this._cache[a]=b.call(this)),this._cache[a]},a.prototype.enable=function(a){return null==a&&(a=!0),this.options.addTargetClasses!==!1&&e(this.target,this.getClass("enabled")),e(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),a?this.position():void 0},a.prototype.disable=function(){return w(this.target,this.getClass("enabled")),w(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},a.prototype.destroy=function(){var a,b,c,d,e;for(this.disable(),e=[],a=c=0,d=x.length;d>c;a=++c){if(b=x[a],b===this){x.splice(a,1);break}e.push(void 0)}return e},a.prototype.updateAttachClasses=function(a,b){var c,d,e,f,g,h,j,k,l,m=this;for(null==a&&(a=this.attachment),null==b&&(b=this.targetAttachment),f=["left","top","bottom","right","middle","center"],(null!=(l=this._addAttachClasses)?l.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),c=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],a.top&&c.push(""+this.getClass("element-attached")+"-"+a.top),a.left&&c.push(""+this.getClass("element-attached")+"-"+a.left),b.top&&c.push(""+this.getClass("target-attached")+"-"+b.top),b.left&&c.push(""+this.getClass("target-attached")+"-"+b.left),d=[],g=0,j=f.length;j>g;g++)e=f[g],d.push(""+this.getClass("element-attached")+"-"+e);for(h=0,k=f.length;k>h;h++)e=f[h],d.push(""+this.getClass("target-attached")+"-"+e);return i(function(){return null!=m._addAttachClasses?(z(m.element,m._addAttachClasses,d),m.options.addTargetClasses!==!1&&z(m.target,m._addAttachClasses,d),m._addAttachClasses=void 0):void 0})},a.prototype.position=function(a){var b,c,e,i,j,n,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T=this;if(null==a&&(a=!0),this.enabled){for(this.clearCache(),D=h(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,D),b=this.cache("element-bounds",function(){return l(T.element)}),I=b.width,e=b.height,0===I&&0===e&&null!=this.lastSize?(N=this.lastSize,I=N.width,e=N.height):this.lastSize={width:I,height:e},G=F=this.cache("target-bounds",function(){return T.getTargetBounds()}),r=s(g(this.attachment),{width:I,height:e}),E=s(g(D),G),j=s(this.offset,{width:I,height:e}),n=s(this.targetOffset,G),r=f(r,j),E=f(E,n),i=F.left+E.left-r.left,H=F.top+E.top-r.top,O=d.modules,J=0,L=O.length;L>J;J++){if(p=O[J],y=p.position.call(this,{left:i,top:H,targetAttachment:D,targetPos:F,attachment:this.attachment,elementPos:b,offset:r,targetOffset:E,manualOffset:j,manualTargetOffset:n,scrollbarSize:B}),y===!1)return!1;null!=y&&"object"==typeof y&&(H=y.top,i=y.left)}if(q={page:{top:H,left:i},viewport:{top:H-pageYOffset,bottom:pageYOffset-H-e+innerHeight,left:i-pageXOffset,right:pageXOffset-i-I+innerWidth}},document.body.scrollWidth>window.innerWidth&&(B=this.cache("scrollbar-size",o),q.viewport.bottom-=B.height),document.body.scrollHeight>window.innerHeight&&(B=this.cache("scrollbar-size",o),q.viewport.right-=B.width),(""!==(P=document.body.style.position)&&"static"!==P||""!==(Q=document.body.parentElement.style.position)&&"static"!==Q)&&(q.page.bottom=document.body.scrollHeight-H-e,q.page.right=document.body.scrollWidth-i-I),(null!=(R=this.options.optimizations)?R.moveElement:void 0)!==!1&&null==this.targetModifier){for(u=this.cache("target-offsetparent",function(){return m(T.target)}),x=this.cache("target-offsetparent-bounds",function(){return l(u)}),w=getComputedStyle(u),c=getComputedStyle(this.element),v=x,t={},S=["Top","Left","Bottom","Right"],K=0,M=S.length;M>K;K++)C=S[K],t[C.toLowerCase()]=parseFloat(w["border"+C+"Width"]);x.right=document.body.scrollWidth-x.left-v.width+t.right,x.bottom=document.body.scrollHeight-x.top-v.height+t.bottom,q.page.top>=x.top+t.top&&q.page.bottom>=x.bottom&&q.page.left>=x.left+t.left&&q.page.right>=x.right&&(A=u.scrollTop,z=u.scrollLeft,q.offset={top:q.page.top-x.top+A-t.top,left:q.page.left-x.left+z-t.left})}return this.move(q),this.history.unshift(q),this.history.length>3&&this.history.pop(),a&&k(),!0}},a.prototype.move=function(a){var b,c,d,e,f,g,h,k,l,n,o,p,q,r,s,t,u,v=this;if(null!=this.element.parentNode){k={};for(n in a){k[n]={};for(e in a[n]){for(d=!1,t=this.history,r=0,s=t.length;s>r;r++)if(h=t[r],!A(null!=(u=h[n])?u[e]:void 0,a[n][e])){d=!0;break}d||(k[n][e]=!0)}}b={top:"",left:"",right:"",bottom:""},l=function(a,c){var d,e,f;return(null!=(f=v.options.optimizations)?f.gpu:void 0)===!1?(a.top?b.top=""+c.top+"px":b.bottom=""+c.bottom+"px",a.left?b.left=""+c.left+"px":b.right=""+c.right+"px"):(a.top?(b.top=0,e=c.top):(b.bottom=0,e=-c.bottom),a.left?(b.left=0,d=c.left):(b.right=0,d=-c.right),b[y]="translateX("+Math.round(d)+"px) translateY("+Math.round(e)+"px)","msTransform"!==y?b[y]+=" translateZ(0)":void 0)},f=!1,(k.page.top||k.page.bottom)&&(k.page.left||k.page.right)?(b.position="absolute",l(k.page,a.page)):(k.viewport.top||k.viewport.bottom)&&(k.viewport.left||k.viewport.right)?(b.position="fixed",l(k.viewport,a.viewport)):null!=k.offset&&k.offset.top&&k.offset.left?(b.position="absolute",g=this.cache("target-offsetparent",function(){return m(v.target)}),m(this.element)!==g&&i(function(){return v.element.parentNode.removeChild(v.element),g.appendChild(v.element)}),l(k.offset,a.offset),f=!0):(b.position="absolute",l({top:!0,left:!0},a.page)),f||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),q={},p=!1;for(e in b)o=b[e],c=this.element.style[e],""===c||""===o||"top"!==e&&"left"!==e&&"bottom"!==e&&"right"!==e||(c=parseFloat(c),o=parseFloat(o)),c!==o&&(p=!0,q[e]=b[e]);return p?i(function(){return j(v.element.style,q)}):void 0}},a}(),d.position=v,this.Tether=j(B,d)}.call(this),Namespace("Imgur.Elements"),function(a,b,c,d,e){{var f,g,h;d.DOM.div,d.DOM.span}h={left:"middle left",right:"middle right",top:"bottom center",bottom:"top center",center:"middle center"},g={bottom:"tooltip-top",top:"tooltip-bottom",left:"tooltip-left",right:"tooltip-right"},f=d.createClass({displayName:"tooltip-wrapper",propTypes:{position:d.PropTypes.oneOf(["top","right","bottom","left","center"]),target:d.PropTypes.object.isRequired,tetherConstraints:d.PropTypes.array,className:d.PropTypes.string},getDefaultProps:function(){return{position:"bottom",className:"tooltip",tetherConstraints:[{to:"scrollParent",attachment:"together",pin:!0}]}},componentWillUnmount:function(){this._tether&&this._tether.destroy()},getInitialState:function(){return{active:!1}},_tetherOptions:function(){return{element:this.getDOMNode().parentElement,target:this.props.target,attachment:h[this.props.position],optimizations:{moveElement:!1},constraints:this.props.tetherConstraints}},render:function(){return d.DOM.div({className:[this.props.className||"tooltip tooltip-top active",g[this.props.position],this.state.active?"active":""].join(" ")},d.DOM.div({className:"tooltip-close",onClick:c.bind(this.hide,this,"tooltip-close-button")}),d.DOM.div({className:"tooltip-content"},this.props.children))},componentDidUpdate:function(a,b){this._tether&&this._tether.position(),this.state.active!==b.active&&this.onToggle(this.state.active,b.active)},componentDidMount:function(){this._tether?this._tether.setOptions(this._tetherOptions()):this._tether=new e(this._tetherOptions())},componentWillUnmount:function(){this._tether=null},toggle:function(a,b){this.setState({active:a,trigger:b})},show:function(a){this.toggle(!0,a)},hide:function(a){this.toggle(!1,a)},onToggle:function(a){Imgur.Util.jafoLog({event:"tooltipToggled",meta:{name:this.props.name,toggled:a,trigger:this.state.trigger||null}}),a&&"function"==typeof this.props.onShow?this.props.onShow():a||"function"!=typeof this.props.onHide||this.props.onHide()}}),a.TetheredTooltip=f}(Imgur.Elements,$,_,React,Tether),function(a){var b=function(a,b,c){this._={storage:new Imgur.Storage.LocalStorage,name:a,storageKey:"freq-"+(c.storageKey||a),reactClass:b,props:c,children:[].slice.call(arguments,3),rendered:null,element:null,container:null}};b.prototype.name=function(){return this._.name},b.prototype.render=function(){return this._.rendered||(this._.rendered=this.shouldShow().then(function(){this._.container=document.createElement("div"),document.body.appendChild(this._.container),this._.element=this.createElement()}.bind(this))),this._.rendered},b.prototype.createElement=function(){var a,b;return this._.props.name=this._.name,this._.props.onShow=_.bind(function(){this.recordShow()},this),a=this._.reactClass.apply(this._.reactClass,[this._.props].concat(this._.children)),b=React.render(a,this._.container)},b.prototype.showing=function(){return this._.element&&this._.element.state.active},b.prototype.toggle=function(a,b){this.render().done(_.bind(function(){"undefined"==typeof a&&(a=!0),a=!!a,this._.element.setState({active:a,trigger:b})},this))},b.prototype.show=function(a){this.toggle(!0,a)},b.prototype.hide=function(a){this.toggle(!1,a)},b.prototype.shouldShow=function(){var a=$.Deferred();return this._.storage.get(this._.storageKey,!0)?a.reject():a.resolve(),a},b.prototype.recordShow=function(){this._.storage.save(this._.storageKey,+new Date)},a.FrequencyCappedWrapper=b}(Imgur.Elements),Namespace("Imgur.Upload.Global"),Imgur.Upload.Global=Imgur.Upload.extend({init:function(a){this._=$.extend(!0,{uploadURL:"/upload",numUploaded:0,redirectIfNoFlash:!1,sid:$.cookie("IMGURSESSION"),location:null,response:null,lastGoodResponse:null,swfu:null,started:!1,dragDropOnlyWhenInView:!0,isInView:!1,totalFileCount:0,maxBytesBeforeResize:1048576,queueItemFadeOutTime:50,gallerySubmit:!1,createAlbum:!1,gallerySubmitNoAlbum:!0,verificationSent:!1,isFlash:!0,flashLoaded:!1,current_upload:0,total_uploads:0,showCaptcha:0,numFailedUploads:0,errorState:this.ERROR_STATE.SUCCESS,flashThumbsQueue:[],retries:{},retriesMax:6,retryDelayBetween:2e3,errorTimeoutID:null,errorTimeoutTime:15e3,redirectAfterUploadDelay:800,flashQueueCompleteFunc:void 0,uploadFinishedCallback:null,poller:new Imgur.Upload.ConversionPoller.Global,el:{$dragDropActionBox:$("#upload-global-dragdrop"),$clipboardActionBox:$("#upload-global-clipboard"),$body:$("body"),$content:$("#content"),$hiddenDropZone:$("#hiddenDropZone"),$FFPasteBox:$("#upload-global-FF-paste-box"),$fileWrapper:$("#upload-global-file-wrapper"),$uploadLoader:$("#upload-global-upload-loader"),$title:$("#upload-global-title"),$topBarUploadButton:$("#topbar .upload-button"),$topBarUploadDropdownButton:$("#topbar .creation-dropdown-upload"),$topBarUploadButtonText:$("#topbar .upload-button .upload-btn-text"),$topBarMiniProgress:$("#upload-global-top-bar-mini-progress"),flashButtonId:"upload-global-flash-browse",uploadQueueId:"upload-global-upload-queue",$uploadQueue:$("#upload-global-upload-queue"),$uploadForm:$("#upload-global-form"),$uploadGlobal:$("#upload-global"),$uploadGlobalComputerButton:$("#upload-global-file"),$uploadGlobalContainer:$("#upload-global-container"),$uploadTable:$("#upload-global-file-list"),$errorBox:$("#upload-global-errors"),$startUploadPanel:$("#upload-global-start-upload"),$startUploadButton:$("#upload-global-start-button"),fileProgressWrapper:".progressWrapper",$mainProgressWrapper:$("#upload-global-progress-wrapper"),$mainProgressbar:$("#upload-global-progressbar .progressBar"),$albumCheckbox:$("#upload-global-album-checkbox"),$albumOptions:$("#upload-global-album-options"),$albumClickArea:$("#upload-global-album .textbox"),$albumTitle:$("#upload-global-album-title"),$galleryCheckbox:$("#upload-global-gallery-checkbox"),$galleryOptions:$("#upload-global-image-options"),$uploadGlobalLoggedIn:$("#upload-global-logged-in"),$urlBox:$("#upload-global-url"),$urlInput:$("#upload-global-link-input"),$defaultAlbumLayout:$("#blog"),$pasteUploadInstructions:$("#upload-global-clipboard .clipboardIcons"),$pasteUploadContainer:$("#upload-global-paste-upload"),catifyCheck:"#upload-global-catify-check",editUrl:"#upload-global-edit_url",$dragInstructions:$("#upload-global-drag"),$flashContainer:$("#upload-global-flash-container"),$uploadTopBarNotification:$("#main-nav .upload-queue-length"),$fileListHeaderNum:$("#upload-global-file-list-header .upload-queue-length"),dropOverlayId:"upload-global-drop-overlay",$uploadInstructions:$("#upload-global-instructions"),$uploadActions:$("#upload-global-buttons"),$imageFormats:$("#upload-global-image-formats"),$hiddenGallerySubmit:$("[name=gallery_submit]"),$hiddenCreateAlbum:$("[name=create_album]"),$formCurrentUpload:$("#upload-global [name=current_upload]"),$formTotalUploads:$("#upload-global [name=total_uploads]"),$formGalleryType:$("#upload-global [name=gallery_type]"),$formLocation:$("#upload-global [name=location]"),$galleryCheckboxOverlay:$("#upload-global-gallery-checkbox-overlay"),$queueDescription:$("#upload-global-queue-description"),$albumCheckboxTipsy:$("#upload-global-album-tipsy"),$convertingProgress:$("#upload-global-converting")},messages:{galleryRateLimited:function(a){var b=a>60?Math.round(a/60)+Imgur.Util.pluralize(Math.round(a/60)," minute"):a+Imgur.Util.pluralize(a," second");return"Submitting to the gallery too quickly. Please wait "+b+"."},retrying:function(a,b){return"An error occurred. Retrying upload ("+a+"/"+b+") ..."},urlAlreadyExistsError:"You are already uploading that file.",leavePage:"You are uploading images. If you leave this page then the uploads will stop. Are you sure you want to leave?",uploadingMainMsg:"Uploading images...",uploadComplete:'<span class="green">Upload complete.</span>',uploadFailed:'<span class="red">Upload failed</span>',uploading:"Uploading...",submitGallerySignIn:"You must be signed in to share on Imgur",submitGalleryCannot:"You are %s and cannot share with the Imgur community.",submitToGallery:"You're about to share publicly on Imgur. <br/>You will be able to customize your post on the next page.",captchaRequired:"That's a lot of images! Are you sure you're human?"}},a),this._super(this._)},ERROR_STATE:{FAILURE:{color:"red",message:"Upload failed."},WARNING:{color:"yellow",message:"Upload complete, with errors."},SUCCESS:{color:"green",message:"Upload complete."},POLLING:{color:"infinite-blue",message:"Converting."}},generalInit:function(){Imgur.getInstance();this._.uploadURL=window.location.protocol+"//"+Imgur.getInstance()._.host+this._.uploadURL,this.insertOverlays(),this.initHTMLUploader(),this._.canDrop&&(this._.el.$dragInstructions.parent().show(),this._.el.$dragInstructions.show()),this.onReady()},getUnixTime:function(){return(new Date).getTime()/1e3},_getLocation:function(){var a,b=Imgur.Environment.account_url&&Imgur.Environment.auth.url&&Imgur.Environment.account_url.toLowerCase()==Imgur.Environment.auth.url.toLowerCase();return a=Imgur.InsideNav&&Imgur.InsideNav.getInstance().getHash()?"inside":Imgur.Environment.isSubdomain&&b?"subdomain-me":Imgur.Environment.isSubdomain?"subdomain":Imgur.Environment.account_url&&b?"user-me":Imgur.Environment.account_url?"user":Imgur.MemeGen?"meme":"outside"},flashTryFailGraceful:function(){this._.isFlash&&(this._.flashLoaded||(-1!==Imgur.getInstance()._.host.indexOf(window.location.host)?this.initFlashUploader():(this._.isFlash=0,this._.el.$flashContainer.hide()),this._.flashLoaded=!0))},insertOverlays:function(){$("body").append('<div id="'+this._.el.dropOverlayId+'"><div><h1>upload</h1></div><a class="close-overlay" href="javascript:void(0)">&times; close</a></div>'),this._.el.$dropOverlay=$("#"+this._.el.dropOverlayId),this._.el.$dropOverlay.on("click",".close-overlay",_.bind(this.setOverlayState,this,!1))},setOverlayState:function(a,b){if(1==arguments.length&&(b=!0),a){var c=b?"fadeIn":"show";this._.el.$dropOverlay[c]()}else{var c=b?"fadeOut":"hide";this._.el.$dropOverlay[c]()}},startUploadHandler:function(a){return a&&a.preventDefault(),Imgur.Upload.Global.getInstance().startUpload(),!1},onReady:function(){var a=Imgur.Upload.Global.getInstance();if(a._.el.$galleryCheckbox.click(function(b){a.toggleGalleryOptions(b)}),a._.el.$albumTitle.change(a.albumTitleChange),a._.el.$albumTitle.keyup(a.albumTitleChange),a._.el.$albumTitle.blur(),a._.el.$urlBox.click(function(){a._.el.$urlInput.focus()}),a._.el.$urlInput[0].onpaste=function(b){b.stopPropagation(),a.signalIntent("url"),setTimeout(a.addURL,0)},$(document).keyup(a.fireShortcutKey),a._.el.$uploadForm.submit(a.startUploadHandler),a._.el.$startUploadButton.click(a.startUploadHandler),a._.isFlash&&a._.el.$flashContainer.hover(function(){a._.el.$fileWrapper.addClass("hover")
},function(){a._.el.$fileWrapper.removeClass("hover")}),a.detectDragAndDropFileSupport()||a._.el.$dragDropActionBox.hide(),Imgur.Environment.auth&&Imgur.Environment.auth.is_banned_or_suspended){var b=a._.messages.submitGallerySignIn;Imgur.Environment.auth.is_banned_or_suspended&&(b=a._.messages.submitGalleryCannot.replace("%s",Imgur.Environment.auth.ban_adjective)),a._.el.$galleryCheckbox.attr("disabled","disabled"),a._.el.$galleryCheckboxOverlay.css({display:"block",position:"absolute",top:"0px",left:"0px",width:"121px",height:"50px"}).attr("title",b).addClass("title").tipsy({gravity:"nw",opacity:.95})}a._.el.$topBarUploadButton.unbind("click"),a._.el.$topBarUploadButton.click(a.showColorBox.bind(a)),a._.el.$topBarUploadDropdownButton.click(a.showColorBox.bind(a)),a._.el.$topBarUploadButton.removeClass("disabled"),Imgur.Util.triggerPerformanceCheckpoint("upload")},bindPasteUpload:function(){return this.initPasteUpload()?!0:(this._.el.$clipboardActionBox.hide(),!1)},fireShortcutKey:function(a){var b=$("textarea:focus, input:focus");if($.browser.msie){if(192!=a.which&&13!=a.which)return}else if((192!=a.which||b.length)&&13!=a.which)return;var c=Imgur.Upload.Global.getInstance(),d=$(a.target||a.srcElement);(d.is(c._.el.$body)||!d.is("input")&&!d.is("textarea"))&&(c._.isInView||13==a.which?c._.isInView&&(13!=a.which||c._.started?(0===c._.showCaptcha&&13==a.which||192==a.which)&&c.hideColorBox():c.startUploadHandler()):(c.signalIntent("shortcut"),c.showColorBox(a)))},doOtherUploadsExist:function(){return!!Imgur.Upload.Account},isInView:function(){return!(this._.dragDropOnlyWhenInView&&!this._.isInView)},getUploadSettings:function(){return this._.createAlbum=this._.el.$albumCheckbox.hasClass("checked"),this._.gallerySubmit=this._.el.$galleryCheckbox.hasClass("checked"),this._.el.$hiddenCreateAlbum.val(this._.createAlbum>>0),this._.el.$hiddenGallerySubmit.val(this._.gallerySubmit>>0),{createAlbum:this._.createAlbum,gallerySubmit:this._.gallerySubmit,tagName:this.getTagName(),promotedTitle:this.getSponsoredTitle()}},getTagName:function(){return Imgur.Gallery&&Imgur.Environment.tag&&Imgur.Environment.sponsoredTag?Imgur.Environment.tag.tag:""},getSponsoredTitle:function(){return Imgur.Gallery&&Imgur.Environment.tag&&Imgur.Environment.sponsoredTag?Imgur.Environment.sponsoredTag.title:""},getPostParams:function(){var a=Imgur.Upload.Global.getInstance();return{forceAnonymous:a._.forceAnonymous,current_upload:a._.current_upload,total_uploads:a._.total_uploads,gallery_submit:a.getUploadSettings().gallerySubmit,gallery_type:a.getUploadSettings().tagName,sid:a._.sid,location:a._getLocation(),new_album_id:a._.albumId,catify:void 0!==$("#catify-check:checked").val()?1:0}},showAndStartUpload:function(){this.toggleGalleryOptions({noToggle:!0}),this.beginUpload()},unbindUnload:function(){$(window).unbind("beforeunload",this.userLeavingPageWithQueuedUploads)},bindUnload:function(){this.unbindUnload(),$(window).bind("beforeunload",this.userLeavingPageWithQueuedUploads)},userLeavingPageWithQueuedUploads:function(){return Imgur.Upload.Global.getInstance()._.messages.leavePage},albumTitleBlur:function(){var a=Imgur.Upload.Global.getInstance(),b=$(this).val();b==a._.messages.defaultAlbumTitle?$(this).css("color","#666"):$(this).val($.trim(b))},albumTitleChange:function(){var a=$(this).val();a.length&&$(this).css("color","#fff")},disableGalleryOptions:function(){var a=Imgur.Upload.Global.getInstance();a._.el.$galleryCheckbox.removeClass("checked").attr("disabled","disabled"),a._.gallerySubmit=!1,a._.el.$galleryOptions.hide(0,function(){a.resizeColorBox()}),a._.el.$galleryOptions.hide(),a._.fileVars.fileCount>1&&a._.el.$albumCheckbox.removeAttr("disabled"),a._.gallerySubmitNoAlbum&&(a._.el.$albumCheckbox.removeClass("checked"),a._.createAlbum=!1),a.updateQueueDescription()},toggleGalleryOptions:function(a){var b=a?!a.noToggle:!0,c=Imgur.Upload.Global.getInstance();c._.started||(b&&(c._.el.$galleryCheckbox.toggleClass("checked"),c._.el.$galleryOptions.toggle(0,function(){c.resizeColorBox()})),c._.gallerySubmit=c._.el.$galleryCheckbox.hasClass("checked"),c._.fileVars.fileCount>1?(c._.el.$albumCheckbox.removeAttr("disabled").addClass("checked"),c._.createAlbum=!0,c._.el.$albumOptions.show(0,function(){c.resizeColorBox()}),c._.el.$albumTitle.focus()):(c._.el.$albumCheckbox.attr("disabled","disabled").removeClass("checked"),c._.createAlbum=!1,c._.el.$albumOptions.hide(0,function(){c.resizeColorBox()})),c.updateQueueDescription())},addToImageList:function(a,b,c,d){var e=Imgur.Upload.Global.getInstance();if(e.isInView()){var f=c?"edit_url":"edit";c&&!e.hasHTTP(a)&&(a="http://"+a);var g=$("<tr/>").attr("uploadid",b),h=$("<td/>"),i=$('<a href="javascript:void(0);">&times;</a>').attr("class","MultiFile-remove title").attr("title","Remove "+Imgur.Util.htmlEntity(e.basename(a))),j=$('<td><p class="upload-image-title">'+Imgur.Util.htmlEntity(e.basename(a))+"</p></td>"),k=$('<td><input id="'+f+b+'" type="checkbox" name="'+f+'[]" /></td>');k.children().val(a),g.append(k).append(j).append(h.append(i));var l=null;l=d&&d.base64?e.removeFromImageListBase64.bind(e,g,b):c?e.removeFromImageListUrl.bind(e,g,b,a):d&&d.flash?e.removeFromImageListFlash.bind(e,g,b):e.removeFromImageListFile.bind(e,g,b),i.click(l),e._.el.$uploadTable.prepend(g),e.fileAppend()}},removeFromImageListBase64:function(a,b){this.fileRemove(),a.remove(),$("#"+b).remove(),this.removeBase64(b)},removeFromImageListUrl:function(a,b,c){this.fileRemove(),a.remove();var d=this.findURLId(b).id;"undefined"!=typeof d.id&&$("#url_"+d.id).remove(),this.findAndDeleteURL(c)},removeFromImageListFile:function(a,b){this.fileRemove(),a.remove();var c=this.findFileName(b);$("#"+b).remove(),this._.fileVars.totalBytes-=this._.fileVars.files[c].size,this._.fileVars.files[c]=null},removeFromImageListFlash:function(a,b){null!=this._.swfu.getFile(b)&&(this.fileRemove(),a.remove(),$("#"+b).remove(),this._.fileVars.totalBytes-=this._.swfu.getFile(b).size,this._.swfu.cancelUpload(b))},isLocal:function(a){var b=new RegExp("(https?:)?//(i|img)."+Imgur.Util.escapeRegex(Imgur.Environment.host)+"/([A-z0-9]{5}|[A-z0-9]{7})b","i");return b.test(a)},HTMLUploaderHandlers:{onDocumentDragOver:function(a){a.stopPropagation(),a.preventDefault();var b=Imgur.Upload.Global.getInstance(),c=jQuery.makeArray(a.originalEvent.dataTransfer.types);b.isInView()&&(b._.isInView||!Imgur.Upload.Index||c.length)&&(b._.el.$dropOverlay.fadeIn(100),clearTimeout(b._.timers.dragoverTimer),b._.timers.dragoverTimer=setTimeout(_.bind(b.setOverlayState,b),200))},onDrop:function(a){a.stopPropagation(),a.preventDefault();var b=Imgur.Upload.Global.getInstance(),c=a.originalEvent.dataTransfer,d=(jQuery.makeArray(c.types),b.captureUrlFromDragAndDrop(a)),e=c.files.length+(d?1:0),f=b.isLocal(d);b.isInView()&&(b._.isInView||!Imgur.Upload.Index||e)&&(Imgur.Upload.Index&&e&&!f&&(b.signalIntent("drag"),b.showColorBox()),b._.el.$dropOverlay.fadeOut(100),d&&!f&&b.queueUrl(d))},onProgress:function(a,b,c){var d=Imgur.Upload.Global.getInstance(),e=Math.min(100,parseInt(a.loaded/a.total*100,10)),f=Math.min(100,Math.ceil((d._.fileVars.completedBytes+a.loaded)/d._.fileVars.totalBytes*100));d._.fileVars.files[b[c].name]&&d.updateItemProgress({id:d._.fileVars.files[b[c].name].id,message:d._.messages.uploading,percent:e}),d.updateMainProgress({percent:f})},beforeSend:function(a,b,c,d,e,f){var g=Imgur.Upload.Global.getInstance();return g.isInView()?(void 0==b[c].name&&void 0!=b[c].fileName&&(b[c].name=b[c].fileName),void 0!=g._.fileVars.files[b[c].name]?void e.removeNode(e.uploadRow):(b[c].id=g._.fileVars.uniqueID,g._.fileVars.files[b[c].name]=b[c],g.queueFile(b[c],g._.fileVars.files[b[c].name].id),$("#"+g._.fileVars.files[b[c].name].id).click(function(a){e.cancelUpload(a,b,c,d,e)}),void(g._.fileVars.files[b[c].name].start=f))):(a.stopPropagation(),!1)},onComplete:function(a,b,c,d){var e=Imgur.Upload.Global.getInstance(),f="HTML_"+b[c].id,g=b[c].name,h=null,i=null,j=null;try{d[0]&&d[0]instanceof HTMLIFrameElement&&(d.responseText=d[0].contentDocument.body.innerHTML),e._.response=$.parseJSON(d.responseText),e._.response&&e._.response.constructor!=String||(e._.response=e.createErrorResponse("Bad data from server"))}catch(k){e._.response=e.createErrorResponse(d.statusText?d.statusText:"An unknown error occurred")}var l=!(!e._.response||!e._.response.data||e._.response.data.error);if(l)e._.lastGoodResponse=e._.response,e._.poller.setLastGoodResponse(e._.response.data),e._.response.data.poll&&e._.poller.push(e._.response.data.ticket);else if(i=!(e._.response.data.error.code!==e.ERROR_CODES.CaptchaRequired))j=e._.messages.captchaRequired,e._.retries[f]=0,e.showCaptcha(e.nextUpload.bind(e));else if(h=!!e.incRetriesAndReturnOver(f))try{j=e._.response.data.error.message}catch(k){j=e._.messages.uploadFailed}else j=e._.messages.retrying(e._.retries[f],e._.retriesMax);if(e._.fileVars.files[g]&&e.updateItemProgress({id:e._.fileVars.files[g].id,done:l||h,error:!l&&!i&&h,message:j,percent:"0"}),l||h){if(e._.fileVars.completedBytes+=Math.max(b[c].size,a.total),e._.fileVars.fileCount--,e.isXHRUploadCapable()){var m=Math.min(100,Math.ceil(e._.fileVars.completedBytes/e._.fileVars.totalBytes*100));e.updateMainProgress({percent:m})}e._.fileVars.files[g]=null,l||e.incNumFailedUploads()}e.timerNextUpload()},onError:function(a,b,c){{var d=Imgur.Upload.Global.getInstance();"HTML_"+b[c].id,b[c].name}d._.response=d.createErrorResponse(a.message)}},setForceAnonymous:function(a){this._.forceAnonymous=a,$("#global-upload-forceAnonymous").remove(),this._.el.$uploadForm.append($('<input id="global-upload-forceAnonymous" type="hidden" name="forceAnonymous" value="'+this._.forceAnonymous+'" />'))},initHTMLUploader:function(){this._.el.$uploadLoader.hide(),this._.el.$uploadForm.fileUploadUI({dropZone:this.doOtherUploadsExist()?this._.el.$dropOverlay:$(document),url:this._.uploadURL,uploadTable:this._.el.$uploadTable,cancelSelector:this._.el.$uploadCancel,onDocumentDragOver:this.HTMLUploaderHandlers.onDocumentDragOver,onDrop:this.HTMLUploaderHandlers.onDrop,onProgress:this.HTMLUploaderHandlers.onProgress,beforeSend:this.HTMLUploaderHandlers.beforeSend,onComplete:this.HTMLUploaderHandlers.onComplete,onError:this.HTMLUploaderHandlers.onError,onAbort:this.HTMLUploaderHandlers.onError})},repositionContents:function(){var a=$("#cboxContent");if(a.length){var b=a.offset();Imgur.Upload.Global.getInstance()._.el.$uploadGlobal.css({position:"absolute",top:b.top,left:b.left})}},bindScrollColorBoxContents:function(){var a=function(){Imgur.Util.waitForFinalEvent(function(){var a=Imgur.Upload.Global.getInstance();a.repositionContents()},400,""+Math.ceil(1e6*Math.random()))};$(document).scroll(a),$(window).resize(a)},unbindScrollColorBoxContents:function(){var a=Imgur.Upload.Global.getInstance();$(document).unbind("scroll",a.repositionContents),$(window).unbind("resize",a.repositionContents)},resizeColorBox:function(){var a=Imgur.Upload.Global.getInstance();$.colorbox.resize({innerHeight:a._.el.$uploadGlobal.height()}),a.repositionContents()},hideColorBox:function(){var a=Imgur.Upload.Global.getInstance();$(".tipsy").remove(),a._.el.$albumCheckboxTipsy.hide(),a.unbindScrollColorBoxContents(),a._.el.$uploadGlobal.fadeOut(),a._.isInView=!1,$.colorbox.close(),$(window).colorbox.close(),a._.el.$body.css({overflow:"auto"}),a._.el.$FFPasteBox.removeAttr("contenteditable"),a.hideFlashButton(),Imgur.Util.jafoLog({event:"uploadCancel"})},hideFlashButton:function(){var a=Imgur.Upload.Global.getInstance();a._.isFlash&&(a._.el.$flashContainer.css({top:-9e3}),a._.el.$flashContainer.css({"z-index":5}))},repositionFlashButton:function(a){if(a&&a.length){var b=Imgur.Upload.Global.getInstance();if(b._.isFlash){var c=a.offset(),d=a.outerHeight(),e=a.outerWidth();if(b._.el.$flashContainer.css({top:c.top,left:c.left,width:e,height:d,"z-index":10001,display:"block"}),b._.el.$flashContainer.find("object").length){var f=b._.el.$flashContainer.find("object")[0];f.width=e,f.height=d}}}},signalIntent:function(a){Imgur.Util.jafoLog({event:"uploadIntent",meta:{method:a}})},showColorBox:function(a,b){a&&a.preventDefault(),$(".tipsy").remove();var c=Imgur.Upload.Global.getInstance();$.colorbox({html:'<div style="width:480px;">&nbsp;</div>',top:"5%",title:"<h3>Upload images</h3>",transition:"none",preloading:!1,scrolling:!1,trapFocus:!1,onComplete:function(){c.flashTryFailGraceful(),c.resizeColorBox(),c.repositionContents(),c.bindScrollColorBoxContents(),c._.el.$uploadGlobal.show(),c._.isInView=!0,c._.el.$FFPasteBox.attr("contenteditable",!0),c._.el.$FFPasteBox.focus(),c.repositionFlashButton(c._.el.$fileWrapper),b&&b(),c._.emitter.trigger(["colorbox.open","colorbox"]),Imgur.Environment.signed&&Imgur.Environment.sponsoredTag&&(c.disableGalleryOptions(),c.toggleGalleryOptions())},onCleanup:c.hideColorBox})},addURL:function(){var a=Imgur.Upload.Global.getInstance(),b=a._.el.$urlInput.val().replace(/(<([^>]+)>)/gi,"").split("\n");a.clearErrors();for(var c=0;c<b.length;++c)a._.fileVars.fileCount<=a._.fileVars.maxFileCount&&b[c].length&&a.queueUrl($.trim(b[c]));a._.el.$urlInput.val(a._.el.$urlInput.attr("title")),a._.el.$urlInput.showPlaceholder()},startDownload:function(){var a,b=this;if(!this._.fileVars.urls.length)return this.nextUpload();a=this._.fileVars.urls.shift();var c={name:this.basename(a.url),id:"url_"+a.id};this.updateItemProgress({id:c.id,animate:{message:"Uploading...",percent:"95",time:1e3}});var d=this.getPostParams();d=$.extend(d,{url:a.url,edit_url:void 0!==$("#edit_url"+a.id+":checked").val()?1:0}),$.ajax({type:"POST",url:b._.uploadURL,data:d,error:function(d,e){try{if(d&&d.responseText){var f=$.parseJSON(d.responseText);return void b.handleUrlError(c.id,a,f)}}catch(g){}b.handleUrlError(c.id,a,null,e)},success:function(d){if(d&&d.constructor==String)try{d=$.parseJSON(d)}catch(e){d=null}b._.response=d,d&&d.data&&!d.data.error?(b._.lastGoodResponse=d,b._.poller.setLastGoodResponse(d.data),b._.numUploaded++,b._.fileVars.fileCount--,b.updateItemProgress({id:c.id,done:!0}),b.updateMainProgress({progress:b._.current_upload/b._.total_uploads}),d.data.poll&&b._.poller.push(d.data.ticket),b.timerNextUpload(!0)):b.handleUrlError(c.id,a,d)}})},handleUrlError:function(a,b,c){var d=Imgur.Upload.Global.getInstance(),e=!(!c||c.constructor!=Object||!c.data),f=!(!e||!c.data.error||c.data.error.code!==d.ERROR_CODES.CaptchaRequired),g=d._.messages.uploadFailed,h=a,i=!f&&!!d.incRetriesAndReturnOver(h);f?(g=d._.messages.captchaRequired,d._.retries[h]=0,i=!1,d.showCaptcha(d.nextUpload.bind(d))):i?e&&c.data.error&&c.data.error.message?g+=": "+c.data.error.message:g='<span class="red">Upload failed: Bad data from server.</span>':g=d._.messages.retrying(d._.retries[h],d._.retriesMax),i?(d._.fileVars.fileCount--,d._.numUploaded++,d.incNumFailedUploads()):d._.fileVars.urls.unshift(b),d.updateItemProgress({id:a,message:g,done:!(f||!i),error:!(f||!i),percent:"0"}),d.updateMainProgress({progress:(d._.current_upload+1)/d._.total_uploads}),f||d.timerNextUpload()},repositionAlbumTipsy:function(){Imgur.Util.overlay(this._.el.$albumCheckboxTipsy,this._.el.$albumCheckbox)},showError:function(a){var b=this,c=function(){b.clearErrors()};this._.el.$errorBox.text(""),this._.el.$errorBox.html(a).fadeIn("fast"),this.resizeColorBox(),this.repositionAlbumTipsy(),clearTimeout(this._.errorTimeoutID),this._.errorTimeoutID=setTimeout(c,this._.errorTimeoutTime)},clearErrors:function(){var a=this;this.setErrorState(this.ERROR_STATE.SUCCESS),this._.el.$errorBox.fadeOut("fast",function(){a.resizeColorBox(),a.repositionAlbumTipsy()})},createErrorResponse:function(a){return{success:!1,data:{error:{message:this._.messages.uploadFailed+": "+a}}}},addFlashThumb:function(a){var b=this._.swfu.getBase64Data(a),c="data:image/jpg;base64,"+b,d=$('<img class="uploadTableThumb">').attr("src",c),e=this._.el.$uploadTable.find('tr[uploadid="'+a+'"] .thumbCell').add(this._.el.$uploadQueue.find(".progressWrapper#"+a+" .progressContainer .thumb"));e.each(function(){$(this).find("span.placeholder").remove(),$(this).append(d.clone())}),_.defer(this.loadFlashThumb.bind(this))},addFlashThumbsToQueue:function(){var a=this._.flashThumbsQueue;this._.el.$uploadTable.find("tbody tr[uploadid]").each(function(){var b=$(this),c=b.find(".thumbCell");-1==a.indexOf(this.getAttribute("uploadid"))&&c.find("span.placeholder").length&&a.push(this.getAttribute("uploadid"))})},loadFlashThumb:function(){this._.flashThumbsQueue.length?this.addFlashThumb(this._.flashThumbsQueue.shift()):this.resizeColorBox()},flashHandlers:{isFlashNine:function(){var a=Imgur.Upload.Global.getInstance(),b=a._.swfu&&a._.swfu.movieElement;return b&&b.getAttribute?a._.swfu.movieElement.getAttribute("data")==a._.swfu.settings.flash9_url:!1},fileDialogComplete:function(a){var b=Imgur.Upload.Global.getInstance();!b.flashHandlers.isFlashNine()&&a>0&&_.defer(_.bind(function(){this.addFlashThumbsToQueue(),this.loadFlashThumb()},b))},errorCodeToText:function(a){for(var b in SWFUpload.UPLOAD_ERROR)if(SWFUpload.UPLOAD_ERROR[b]==a)return b;return"UNKNOWN ERROR!"},preLoad:function(){if(this.support.loading)this.support.imageResize||(a._.preprocess=0);else{var a=Imgur.Upload.Global.getInstance();a._.isFlash=0,a.flashTryFailGraceful()}return!0},loaded:function(){if(this.support.loading){var a=Imgur.Upload.Global.getInstance();a._.el.$fileWrapper.css("z-index",4)}else{var a=Imgur.Upload.Global.getInstance();a._.isFlash=0,a.flashTryFailGraceful()}},loadFailed:function(){var a=Imgur.Upload.Global.getInstance();a._.isFlash=0,a.flashTryFailGraceful()},fileAttempt:function(){Imgur.Upload.Global.getInstance().signalIntent("browse")},fileQueued:function(a){var b=Imgur.Upload.Global.getInstance();Imgur.Upload.Index&&_.defer(b.showColorBox.bind(b));for(var c=0;Ffile=b._.swfu.getFile(c);c++)if(Ffile.id!=a.id&&Ffile.name==a.name&&Ffile.size==a.size&&(Ffile.filestatus===SWFUpload.FILE_STATUS.QUEUED||Ffile.filestatus===SWFUpload.FILE_STATUS.IN_PROGRESS||Ffile.filestatus===SWFUpload.FILE_STATUS.COMPLETE))return b._.swfu.cancelUpload(a.id),!1;return b._.fileVars.fileCount>=b._.fileVars.maxFileCount?(b._.swfu.cancelUpload(a.id),!1):(window.setTimeout(b.queueFile.bind(b,a,a.id)),!0)},fileQueueError:function(a,b,c){var d=Imgur.Upload.Global.getInstance();switch(b){case-110:d.showError(d._.messages.maxSizeError);break;default:d.showError(c)}},uploadStart:function(a){var b=Imgur.Upload.Global.getInstance(),c=$.extend(b.getPostParams(),{edit:void 0!==$("#edit"+a.id+":checked").val()?1:0});b._.swfu.setPostParams(c)},uploadResizeStart:function(a){var b=Imgur.Upload.Global.getInstance(),c=Math.ceil(6e3*(a.size/b._.maxBytesBeforeResize));b.updateItemProgress({id:a.id,message:b._.messages.uploading,animate:{percent:"95",time:c}}),b.updateMainProgress({percent:Math.ceil(100*(b._.fileVars.completedBytes+a.size)/b._.fileVars.totalBytes),time:c>>1})},uploadSuccess:function(a,b){var c=Imgur.Upload.Global.getInstance();try{c._.response=$.parseJSON(b),c._.response&&c._.response.constructor!=String||(c._.response=c.createErrorResponse("Bad data from server"))}catch(d){c._.response=c.createErrorResponse("Bad data from server")}var e=c._.response&&c._.response.data&&!c._.response.data.error;e&&(c._.lastGoodResponse=c._.response,c._.poller.setLastGoodResponse(c._.response.data))},uploadError:function(a,b,c){var d=Imgur.Upload.Global.getInstance();d._.started&&(429==Number(c)?(d._.response=d.createErrorResponse(),d._.response.data.error.code=d.ERROR_CODES.CaptchaRequired):d._.response=d.createErrorResponse(d.flashHandlers.errorCodeToText(b)))},uploadComplete:function(a){var b=Imgur.Upload.Global.getInstance(),c=!(!b._.response||!b._.response.data||b._.response.data.error),d=!!(b._.response&&b._.response.data&&b._.response.data.error&&b._.response.data.error.code===b.ERROR_CODES.CaptchaRequired),e=null,f=null;c?b._.response.data.poll&&b._.poller.push(b._.response.data.ticket):d?(e=b._.messages.captchaRequired,b.showCaptcha(b.nextUpload.bind(b))):(f=!!b.incRetriesAndReturnOver(a.id))?(b._.swfu.cancelUpload(a.id,!1),b.incNumFailedUploads()):e=b._.messages.retrying(b._.retries[a.id],b._.retriesMax),(c||f)&&(b._.fileVars.completedBytes+=a.size,b._.fileVars.fileCount--);var g=Math.ceil(b._.fileVars.completedBytes/b._.fileVars.totalBytes*100);b.updateMainProgress({percent:g}),b.updateItemProgress({id:a.id,done:!d&&f,error:!c&&!d&&f,message:e,percent:"0"}),b.timerNextUpload(c)},onProgress:function(a,b,c){var d=Imgur.Upload.Global.getInstance();if(0!=this.getStats().files_queued){var e="function"==typeof this.getFile&&null!=this.getFile(null)&&/jpe?g/i.exec(d.getExtension(this.getFile(null).name))&&this.getFile(null).size>d._.maxBytesBeforeResize&&d._.preprocess,f=e?99:Math.ceil(b/c*100),g=d._.messages.uploading;d.updateItemProgress({id:a.id,message:g,percent:f});var h=Math.ceil((d._.fileVars.completedBytes+(e?a.size:b))/d._.fileVars.totalBytes*100);d.updateMainProgress({percent:h})}}},initFlashUploader:function(){this._.swfu=new SWFUpload({flash_url:(this._.isDev?"":"//s.imgur.com")+"/include/flash/swfupload.swf?1444872660",flash9_url:(this._.isDev?"":"//s.imgur.com")+"/include/flash/swfupload_fp9.swf?1350335028",upload_url:this._.uploadURL,file_size_limit:"200 MB",file_preload:!0,file_types:"*.jpg;*.jpeg;*.png;*.gif;*.apng;*.tiff;*.tif;*.bmp;*.pdf;*.xcf;*.JPG;*.PNG;",file_types_description:"Supported Images",file_queue_limit:0,custom_settings:{progressTarget:this._.el.uploadQueueId},debug:!1,prevent_swf_caching:!1,button_image_url:"//s.imgur.com/images/blank.gif",button_width:"241",button_height:"114",button_placeholder_id:this._.el.flashButtonId,button_text:"",button_cursor:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,swfupload_preload_handler:this.flashHandlers.preLoad,swfupload_loaded_handler:this.flashHandlers.loaded,file_queued_handler:this.flashHandlers.fileQueued,file_queue_error_handler:this.flashHandlers.fileQueueError,file_dialog_complete_handler:this.flashHandlers.fileDialogComplete,file_dialog_start_handler:this.flashHandlers.fileAttempt,upload_success_handler:this.flashHandlers.uploadSuccess,upload_progress_handler:this.flashHandlers.onProgress,upload_start_handler:this.flashHandlers.uploadStart,upload_complete_handler:this.flashHandlers.uploadComplete,upload_error_handler:this.flashHandlers.uploadError,swfupload_load_failed_handler:this.flashHandlers.loadFailed,upload_resize_start_handler:this.flashHandlers.uploadResizeStart,requeue_on_error:!0})},updateUploadingMessage:function(){var a=Imgur.Upload.Global.getInstance();a._.current_upload=a._.totalFileCount-a._.fileVars.fileCount+1,a._.total_uploads=a._.totalFileCount,a._.el.$formCurrentUpload.val(a._.current_upload),a._.el.$formTotalUploads.val(a._.total_uploads),a._.el.$formGalleryType.val(a.getTagName()),a._.el.$formLocation.val(a._getLocation()),a._.el.$title.html(a._.messages.uploadingMainMsg+" "+a._.current_upload+"/"+a._.total_uploads)},hideQueueItem:function(a){var b=Imgur.Upload.Global.getInstance();a="string"==typeof a?"#"+a:$(a),b._.el.$uploadQueue.find(a).hide()},hideOtherQueueItems:function(a){if(a&&0!=a.length){var b=Imgur.Upload.Global.getInstance();b._.el.$uploadQueue.find(b._.el.fileProgressWrapper).hide(),"string"==typeof a?b._.el.$uploadQueue.find("#"+a).show():b._.el.$uploadQueue.find($(a)).show()}},updateMainProgress:function(a){var b=Imgur.Upload.Global.getInstance();a.done?(b._.el.$mainProgressbar.stop(!0),b._.el.$topBarMiniProgress.stop(!0),b._.el.$mainProgressbar.width("100%"),b._.el.$topBarMiniProgress.width("100%")):a.isADelta?b._.el.$mainProgressbar.animate({width:"+=0.5%"},a.time?a.time:"fast"):a.percent<100&&(b._.el.$mainProgressbar.animate({width:a.percent+"%"},a.time?a.time:"fast"),b._.el.$topBarMiniProgress.animate({width:a.percent+"%"},a.time?a.time:"fast")),b.checkNumberQueued()},updateItemProgress:function(a){var b=Imgur.Upload.Global.getInstance(),c=b._.el.$uploadQueue.find("#"+a.id),d=c.find(".progressBarStatus"),e=c.find(".progressBarInProgress"),f=c.find(".progressName");b.hideOtherQueueItems(c),a.done?(e.css({width:"100%"}),d.html(a.message?a.message:a.error?b._.messages.uploadFailed:b._.messages.uploadComplete),a.error&&(f.addClass("error"),e.addClass("error"),d.addClass("error"))):(a.animate?e.animate({width:a.animate.percent+"%"},a.animate.time?a.animate.time:"fast"):e.css({width:a.percent+"%"}),a.message?d.html(a.message):a.error&&d.html(b._.messages.uploadFailed))},addThumbToProgressBar:function(a,b){var c=Imgur.Upload.Global.getInstance(),d=document.createElement("span");d.setAttribute("class","thumb");var e=document.createElement("span");if(""===b)e.setAttribute("class","placeholder");else if(b===!1)d.setAttribute("title","This image is too large to show a thumbnail"),e.setAttribute("class","nothumb"),e.appendChild(document.createTextNode("thumbnail unavailable"));else{var f=document.createElement("img");f.setAttribute("src",b),e.appendChild(f)}d.appendChild(e),c._.el.$uploadQueue.find(".progressWrapper#"+a+" .progressContainer").prepend(d);var g=c._.el.$uploadTable.find("tr[uploadid="+a+"]");g.length||(g=c._.el.$uploadTable.find("tr[uploadid="+a.split("_")[1]+"]"));var h=document.createElement("td");if(h.setAttribute("class","thumbCell"),b===!1)h.setAttribute("class","thumbCell nothumb"),h.setAttribute("title","Image is too large to show a thumbnail!"),h.appendChild(document.createTextNode("preview unavailable"));else{var i=e.cloneNode(!0);""!==b&&i.childNodes[0].setAttribute("class","uploadTableThumb"),h.appendChild(i)}var j=$(h);j.find("img").on("load",_.bind(function(){this.resizeColorBox()},this)),g.find("td:first-child").after(j)},newProgressbar:function(a,b,c){var d=this;a.id=b;var e=new FileProgress(a,this._.el.uploadQueueId);e.toggleCancel(!1),e.setStatus(c);var f=this._.el.$uploadQueue.find("#"+b);if(!f.length){var g=e.fileProgressWrapper;g.appendChild(e.fileProgressElement),this._.el.$uploadQueue.append(g)}if(a.base64&&a.size<d._.maxBytesBeforeResize)this.addThumbToProgressBar(b,"data:image/png;base64,"+a.base64);else if(!d.flashHandlers.isFlashNine()&&a.flash&&a.size<d._.maxBytesBeforeResize)this.addThumbToProgressBar(b,"");else if(isNaN(a.id)&&-1!==a.id.indexOf("url_")){var h=this.findURLId(parseInt(a.id.split("url_")[1]));this.addThumbToProgressBar(b,h.url)}else if(a.html5&&a.size<d._.maxBytesBeforeResize){var i=new FileReader;i.onload=function(){var a=b,c=d;return function(b){c.addThumbToProgressBar(a,b.target.result)}}(a),i.readAsDataURL(a)}else this.addThumbToProgressBar(b,!1);return e},addProgressBarBG:function(){var a=Imgur.Upload.Global.getInstance();a._.el.$uploadQueue.find(".progressWrapper").each(function(a,b){$(b).find(".progressBarInProgress").remove(),$(b).find(".progressContainer").append('<div class="progressBarBG"><div class="progressBarInProgress"></div></div>')})},incRetriesAndReturnOver:function(a){return a in this._.retries?this._.retries[a]++:this._.retries[a]=1,0===a.indexOf("SWF")&&this.flashHandlers.isFlashNine()||this._.retries[a]>this._.retriesMax},incNumFailedUploads:function(){var a=++this._.numFailedUploads;this.setErrorState(a>=this._.totalFileCount?this.ERROR_STATE.FAILURE:this.ERROR_STATE.WARNING)},setErrorState:function(a){var b=(this.ERROR_STATE,Object.keys(this.ERROR_STATE)),c=[],d=this;if(jQuery.each(b,function(){c.push(d.ERROR_STATE[this])}),-1===c.indexOf(a))return!1;if(this._.started){var e=this._.el.$mainProgressbar,f=this._.el.$uploadGlobalLoggedIn.find("strong");e.attr("class","progressBar "+a.color),f.attr("class",a.color),this._.errorState=a}},showProcessOverlay:function(){this.clearErrors(),this._.totalFileCount=this._.fileVars.fileCount,this.addProgressBarBG(),this._.el.$startUploadPanel.hide(),this._.el.$errorBox.hide(),this._.el.$uploadInstructions.hide(),this._.el.$queueDescription.hide(),$("#upload-global-long-button").hide(),this.hideFlashButton(),this._.el.$uploadActions.css({position:"absolute",top:"-9000px"}),this._.el.$topBarUploadButtonText.text("uploading..."),this._.el.$mainProgressWrapper.show(),this.resizeColorBox()},completeBytes:function(a){var b=Imgur.Upload.Global.getInstance();return b._.fileVars.completedBytes+=a,Math.ceil(b._.fileVars.completedBytes/b._.fileVars.totalBytes*100)},queueFile:function(a,b){if(!this._.started){var c=this.queue(a.name,a.size);return c&&(isNaN(a.id)&&-1!=a.id.indexOf("SWFUpload_")?(a.flash=!0,this.addToImageList(a.name,b,!1,a)):window.File&&a instanceof File?(a.html5=!0,this.addToImageList(a.name,b,!1,a)):this.addToImageList(a.name,b,!1),this.newProgressbar(a,b,"Pending...")),this._.autoStart&&this.beginUpload(),c}},updateQueueDescription:function(){if(!this._.started){var a=this._.fileVars.fileCount;if(a>0){if(this.getUploadSettings().gallerySubmit&&!this.getUploadSettings().promotedTitle)var b=this._.messages.submitToGallery;else{var b="You're uploading ";b+=this.getUploadSettings().createAlbum?"an album with "+a+" images":a+(a>1?" images":" image"),b+=this.getUploadSettings().gallerySubmit?" into the"+(this.getUploadSettings().promotedTitle?' <span class="green">'+this.getUploadSettings().promotedTitle+"</span>":"")+" gallery.":"."}this._.el.$queueDescription.html(b).show()}else this._.el.$queueDescription.hide();this.resizeColorBox()}},checkNumberQueued:function(){var a=this._.fileVars.fileCount,b=!1;return a>0?(this._.el.$uploadTopBarNotification.show(),this._.el.$uploadTopBarNotification.text(a),this._.el.$fileListHeaderNum.text("("+a+")"),this._.el.$fileListHeaderNum.clearQueue(),this._.started||1!=a?this._.el.$albumCheckboxTipsy.hide():(this._.el.$startUploadPanel.show(),this._.el.$albumCheckboxTipsy.show(),b=!0),this._.started&&this.bindUnload(),this.toggleGalleryOptions({noToggle:!0}),b&&this.repositionAlbumTipsy()):(this._.el.$uploadTopBarNotification.hide(),this._.el.$fileListHeaderNum.text(""),this._.el.$startUploadPanel.hide(),this.unbindUnload()),this.updateQueueDescription(),this.resizeColorBox(),a},fileAppend:function(){return this._.fileVars.fileCount++,this._.fileVars.uniqueID++,this._.fileVars.fileCount>=this._.fileVars.maxFileCount&&this.showError(this._.messages.maxFilesError),1!=this._.fileVars.fileCount||(this._.el.$startUploadPanel.show(),this._.sid)?(this._.el.$uploadTopBarNotification.text(this._.fileVars.fileCount),this._.el.$uploadTable.find(".title").tipsy(this._.tipsySettings_UploadTable),this.checkNumberQueued(),_.defer(_.bind(this.resizeColorBox,this)),this.clearErrors(),$(".tipsy").remove(),!0):this.getSessionID(!1)},fileRemove:function(){this._.fileVars.fileCount--,$(".tipsy").remove(),this._.fileVars.fileCount<this._.fileVars.maxFileCount&&this.clearErrors(),0==this._.fileVars.fileCount&&this._.el.$startUploadPanel.hide(),this.checkNumberQueued(),_.defer(_.bind(this.resizeColorBox,this))},startBase64Upload:function(){var a=this;if(!(this._.fileVars.base64s.length>0))return this.nextUpload();var b=this._.fileVars.base64s.shift(),c=this.removeDataURIHeader(b.base64);this.updateItemProgress({id:b.id,message:"Uploading...",animate:{percent:"99",time:b.size>1<<17?2800:400}}),this.updateMainProgress({percent:"+="+Math.floor(b.size/a._.fileVars.totalBytes*100),time:b.size>1<<19?"slow":"fast"});var d=$.extend(this.getPostParams(),{base64s:[c],edit:void 0!==$("#edit"+b.id+":checked").val()?1:0});$.ajax({type:"POST",url:this._.uploadURL,dataType:"json",data:d,success:function(c){if(c&&c.constructor==String)try{c=$.parseJSON(c)}catch(d){c=null}if(a._.response=c,c&&c.data&&!c.data.error){a._.fileVars.fileCount--,a._.lastGoodResponse=c,a._.poller.setLastGoodResponse(a._.response.data),a.updateItemProgress({id:b.id,done:!0});var e=a.completeBytes(b.size);a.updateMainProgress({percent:e}),c.data.poll&&a._.poller.push(c.data.ticket),a.timerNextUpload(!0)}else a.handleBase64Error(b,c)},error:function(c){try{if(c&&c.responseText){var d=$.parseJSON(c.responseText);return void a.handleBase64Error(b,d)}}catch(e){}a.handleBase64Error(b)}})},handleBase64Error:function(a,b){var c=Imgur.Upload.Global.getInstance(),d=c._.messages.uploadFailed,e=c._.fileVars.completedBytes,f=!!(b&&b.constructor==Object&&b.data&&b.data.error),g=!(!f||b.data.error.code!==c.ERROR_CODES.CaptchaRequired),h=Math.ceil(e/c._.fileVars.totalBytes*100),i="base64_"+a.id,j=!g&&!!c.incRetriesAndReturnOver(i);
g?(d=c._.messages.captchaRequired,j=!1,c._.retries[i]=0,c.showCaptcha(c.nextUpload.bind(c))):d=j?f&&b.data.error.message?'<span class="red">Upload failed: '+b.data.error.message+"</span>":'<span class="red">Upload failed: Bad data from server</span>':c._.messages.retrying(c._.retries[i],c._.retriesMax),j?(h=Math.ceil((e+a.size)/c._.fileVars.totalBytes*100),b&&b.data&&b.data.error&&b.data.error.message&&(d+=": "+b.data.error.message),c._.fileVars.fileCount--,c.incNumFailedUploads()):c._.fileVars.base64s.unshift(a),c.updateItemProgress({id:a.id,message:d,error:!(g||!j),done:!(g||!j),percent:0}),c.updateMainProgress({percent:h}),g||c.timerNextUpload()},queueBase64:function(a,b){var c=this.queue("clipboard"+this._.fileVars.uniqueID+".png",a.file.size),d=this.removeDataURIHeader(a.dataURL),e=this.checkBase64Exists(d);if(e&&this.showError(this._.messages.urlAlreadyExistsError),c&=!e){var f={id:this._.fileVars.uniqueID,name:"Clipboard Image",base64:d,size:a.file.size};this._.fileVars.base64s.push(f),b&&b(f.name,f.id,!1,f);{this.newProgressbar(f,f.id,"Pending...")}}return c},addBase64:function(a){this.isInView()&&this._.fileVars.fileCount<=this._.fileVars.maxFileCount&&a.dataURL&&a.dataURL.length&&this.queueBase64(a,this.addToImageList)},pasteUrlHandler:function(a){if(!$(a.target).is("input")){var b=jQuery.makeArray(a.clipboardData.types);this.isInView()&&b.length&&(Imgur.Upload.Index&&(this.signalIntent("url"),this.showColorBox()),a.stopImmediatePropagation(),this._pasteUrlHandler(a))}},initPasteUploadMozilla:function(){$(document).on("paste",_.bind(function(a){$(a.target).is("input")||this.isInView()&&(Imgur.Upload.Index&&this.showColorBox(),this._.el.$FFPasteBox.focus(),this.waitForPasteData(this._.el.$FFPasteBox[0]))},this))},displayPasteUploadInstructions:function(){var a=this.detectUserOS(navigator.userAgent.toLowerCase()),b=(a.osx?"&#8984;":"Ctrl")+" + V";this._.el.$pasteUploadInstructions.html(b),this._.el.$pasteUploadInstructions.css({left:a.osx?"33%":"27%"})},initPasteUploadWebKit:function(){$("html").pasteImageReader({callback:_.bind(this.pasteImageWebkit,this),preventPropagation:!0})},pasteImageWebkit:function(a){this._.emitter.trigger("paste","image"),this._.emitter.trigger("paste.image",a),this.isInView()&&(this.addBase64(a),this.signalIntent("pasteImage"),this.showColorBox())},beginUpload:function(){var a=Imgur.Upload.Global.getInstance();a._.started||(a._.started=!0,a.showProcessOverlay()),a.checkCaptcha(function(b,c){b?(c.data&&c.data.new_album_id&&(a._.albumId=c.data.new_album_id,a._.isFlash&&a._.swfu.addPostParam("new_album_id",a._.albumId)),a.nextUpload()):a.showCaptcha(a.nextUpload.bind(a))},a._.totalFileCount,!1,a._.el.$albumTitle.val())},showCaptchaForm:function(){this._.el.$mainProgressWrapper.append(this._.captchaFormHTML)},showCaptchaDoneWrite:function(){this.resizeColorBox()},showCaptchaDone:function(a,b,c){if(b)$("#captchaForm").parent().remove(),this._.showCaptcha=0,this._.albumId=c.data.new_album_id,this._.isFlash&&this._.swfu.addPostParam("new_album_id",this._.albumId),a();else{$("#captchaForm").find(".red").remove();var d="incorrect text";try{d=c.data.error}catch(e){}$('<div class="red">'+Imgur.Util.htmlEntity(d)+"</div>").insertAfter("#uploadCaptcha")}this.showColorBox()},showCaptcha:function(a){this._.showCaptcha=1,Imgur.Upload.prototype.showCaptcha.call(this,a)},startUpload:function(){this.beginUpload()},nextUpload:function(){var a=Imgur.Upload.Global.getInstance();return a._.sid?(a.updateUploadingMessage(),void(a._.fileVars.fileCount>0?a.useFlash()&&a._.swfu.getStats().files_queued>0?/jpe?g/i.exec(a.getExtension(a._.swfu.getFile(null).name))&&a._.swfu.getFile(null).size>a._.maxBytesBeforeResize&&a._.preprocess?a._.swfu.startResizedUpload(a._.swfu.getFile(null).ID,-1,-1,SWFUpload.RESIZE_ENCODING.JPEG,100,!1):a._.swfu.startUpload():a._.fileVars.base64s.length?a.startBase64Upload():a._.fileVars.fileCount>a._.fileVars.urls.length?a.startNextHTMLUpload():a.startDownload():a._.uploadFinishedCallback?(a._.uploadFinishedCallback(a._.response),a.uploadFinishedCleanup(),setTimeout(a.uploadReshow,1e3)):a.redirectAfterUpload())):a.getSessionID(!0)},timerNextUpload:function(a){if(!this._.showCaptcha){var b=a?1:this._.retryDelayBetween;window.setTimeout(this.nextUpload.bind(this),b)}},uploadReshow:function(){var a=Imgur.Upload.Global.getInstance();a._.el.$startUploadPanel.show(),a._.el.$uploadQueue.show(),a._.el.$mainProgressWrapper.hide(),a._.el.$uploadActions.css({position:"relative",top:0}),$(".MultiFile-remove").click(),a._.totalFileCount=0,a._.started=!1,a._.numFailedUploads=0,a._.current_upload=0,a._.total_uploads=0,a._.numUploaded=0,a._.response=null,a._.autoStart=!1,a._.uploadFinishedCallback=null,a._.fileVars.fileCount=0,a._.fileVars.completedBytes=0,a._.fileVars.totalBytes=0,a._.fileVars.uniqueID=0,a._.fileVars.urlCount=0,a._.fileVars.urls=[],a._.fileVars.base64s=[],a._.fileVars.files=[],a._.el.$mainProgressbar.width(0),$(".progressWrapper").remove()},uploadFinishedCleanup:function(){var a=Imgur.Upload.Global.getInstance();a.unbindUnload();var b='<span class="'+a._.errorState.color+'">'+a._.errorState.message+"</span>";a._.el.$title.html(b),a._.el.$uploadGlobal.css({width:a._.el.$uploadGlobal.width()}),a.updateMainProgress({done:!0}),a._.el.$topBarUploadButtonText.text("upload images"),a._.el.$topBarMiniProgress.width(0)},redirectAfterUpload:function(){var a=(this._.lastGoodResponse||this._.response,!this._.poller.isEmpty());this._.el.$uploadQueue.hide(),this.resizeColorBox(),a?(this.setErrorState(this.ERROR_STATE.POLLING),this._.el.$convertingProgress.show(),this._.el.$uploadQueue.hide(),this.resizeColorBox(),this._.poller.setFinishedAllCallback(_.bind(this.redirectAfterUploadFinish,this)),this._.poller.start()):(this.setErrorState(this.ERROR_STATE.SUCCESS),this.uploadFinishedCleanup(),setTimeout(this.redirectAfterUploadFinish.bind(this),this._.redirectAfterUploadDelay))}}),Class.addSingleton(Imgur.Upload.Global),this._=this._||{},this._.templates=this._.templates||{},this._.templates["stats.referrerRow"]=function(obj){obj||(obj={});{var __t,__p="";_.escape,Array.prototype.join}with(obj)__p+="<thead>\n    ",__p+=count>0?'\n        <tr>\n            <td class="analytics-referrer-id">&nbsp;</td>\n            <td class="analytics-referrer-domain">Domain</td>\n            <td class="analytics-referrer-firstseen sortable'+(null==(__t="first_viewed"===sort?" sort":"")?"":__t)+(null==(__t=isDescending===!0?" desc":" asc")?"":__t)+'" data-sort="first_viewed">First viewed</td>\n            <td class="analytics-referrer-views sortable'+(null==(__t="views"===sort?" sort":"")?"":__t)+(null==(__t=isDescending===!0?" desc":" asc")?"":__t)+'" data-sort="views">Views</td>\n        </tr>\n    ':'\n        <tr class="no-referrer-data">\n            <td>&nbsp;</td>\n            <td class="analytics-referrer-domain center">No referrer data yet.</td>\n            <td>&nbsp;</td>\n        </tr>\n    ',__p+="\n</thead>\n\n",count>0&&(__p+="\n    <tbody>\n        ",rows.length?_.each(rows,function(a,b){__p+='\n            <tr>\n                <td class="analytics-referrer-id">'+(null==(__t=b+1)?"":__t)+'. </td>\n                <td class="analytics-referrer-domain">\n                    <a href="javascript:;">'+(null==(__t=a.domain)?"":__t)+'</a>\n                </td>\n                <td class="analytics-referrer-firstseen '+(null==(__t="first_viewed"===sort?" sort":"")?"":__t)+'">',a.first_viewed&&(__p+=null==(__t=moment.utc(a.first_viewed).format(moment(a.first_viewed).format("YYYY")==a.current_year?"MMM D &#183; h:mm a":"MMM D, YYYY &#183; h:mm a"))?"":__t),__p+='</td>\n                <td class="analytics-referrer-views stat '+(null==(__t="views"===sort?" sort":"")?"":__t)+'">'+(null==(__t=Imgur.Util.numberFormat(a.views))?"":__t)+"</td>\n            </tr>\n        "}):__p+='\n            <tr class="no-data">\n                <td class="analytics-referrer-id">&nbsp;</td>\n                <td class="analytics-referrer-domain">No referrer data yet. Please check again later.</td>\n                <td class="analytics-referrer-views stat">&nbsp;</td>\n            </tr>\n        ',__p+="\n    </tbody>\n"),__p+="\n";return __p},this._.templates["stats.referrerUrlRow"]=function(obj){obj||(obj={});{var __t,__p="",__e=_.escape;Array.prototype.join}with(obj)__p+='<thead>\n    <tr>\n        <td class="analytics-referrer-id">&nbsp;<a href="javascript:;" class="backToReferrers">&lsaquo; back</a></td>\n        ',__p+="direct"==domain?'\n            <td class="analytics-referrer-name">referral path : direct</td>\n            <td class="analytics-referrer-views"></td>\n        ':'\n            <td class="analytics-referrer-name">referral path : <a href="http://'+(null==(__t=domain)?"":__t)+'" target="_blank" rel="nofollow">'+(null==(__t=domain)?"":__t)+'</a></td>\n            <td class="analytics-referrer-views sortable'+(null==(__t="views"===sort?" sort":"")?"":__t)+(null==(__t=isDescending===!0?" desc":" asc")?"":__t)+'" data-sort="views" data-domain="'+(null==(__t=domain)?"":__t)+'">Views</td>\n        ',__p+="\n    </tr>\n</thead>\n<tbody>\n    ",0==count?(__p+='\n        <tr>\n            <td class="analytics-referrer-id">&nbsp;</td>\n            ',__p+="direct"==domain?'\n                <td class="analytics-referrer-name">"Direct" traffic counts views that have no referrer. Typically, this is when the image URL is typed directly into the address bar or is accessed outside of a web browser, such as from within a mobile app.</td>\n            ':'\n                <td class="analytics-referrer-name">No URLs found for this referrer.</td>\n            ',__p+='\n            <td class="analytics-referrer-views">&nbsp;</td>\n        </tr>\n    '):_.each(rows,function(a,b){__p+='\n        <tr>\n            <td class="analytics-referrer-id">'+(null==(__t=b+1)?"":__t)+'. </td>\n            <td class="analytics-referrer-name">'+__e(a.url)+' <a class="referrer-permalink" target="_blank" rel="nofollow" href="http://'+(null==(__t=domain)?"":__t)+__e(a.url)+'" ></a></td>\n            <td class="analytics-referrer-views stat'+(null==(__t="views"===sort?" sort":"")?"":__t)+'">'+(null==(__t=Imgur.Util.numberFormat(a.views))?"":__t)+"</td>\n        </tr> \n    "}),__p+="\n</tbody>\n";return __p},Namespace("Imgur.Dev"),Imgur.Dev.DebugVars={},Imgur.Dev.DebugVar=function(){},Namespace("Imgur.Promise"),Imgur.PromiseXHR=Imgur.Emitter.extend({init:function(a){this.aborted=!1,this.doneSoFar=0,this.comparer=_.isEqual,this.tasks=[],this.jqXHRs=[],this._doAjax=a||_.bind(jQuery.ajax,jQuery),this._super()},pushAjax:function(a,b){if(this.aborted)return this;b=_.merge({success:_.noop,fail:_.noop},b);var c=_.merge(a,{success:_.bind(function(a,c,d){this.aborted||(null!=a&&"object"==typeof a&&200===a.status?(b.success(a.data),this.success()):(b.fail(d,c),this.abort(c,d)))},this),error:_.bind(function(a,c){this.aborted||(b.fail(a,c),this.abort(c,a))},this)});return this.tasks.push(c),this},start:function(){return this.aborted?this:(_.each(this.tasks,_.bind(function(a){this.jqXHRs.push(this._doAjax(a))},this)),0===this.tasks.length?this.trigger("success"):(this.trigger("beginajax"),this.trigger("progress",0)),this)},success:function(){if(this.aborted)return this;var a=++this.doneSoFar,b=this.tasks.length;return a=Math.min(b,a),b>0&&this.trigger("progress",a/b),this.doneSoFar===b&&this.trigger("success"),this},then:function(a){return this.aborted?this:(a=_.merge({success:_.noop,fail:_.noop,progress:_.noop,beginajax:_.noop},a),this.on("success",null,a.success),this.on("fail",null,a.fail),this.on("progress",null,a.progress),this.on("beginajax",null,a.beginajax),this)},abort:function(a){a=a||"aborted",this.aborted=!0,_.each(this.jqXHRs,function(a){a.abort()});var b=[a].concat(_.toArray(arguments).slice(1));return this.trigger.apply(this,["fail"].concat(b)),this.jqXHRs=[],this.trigger("progress",1),this.off(["success","fail","progress","beginajax"]),this}}),Namespace("Imgur.Analytics"),Imgur.Analytics=Class.extend({init:function(a,b,c,d){return this._={models:{},chartProvider:c,referrersProvider:d,doingCumulative:null,defaultSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",signed:a.signed,auth:a.auth,isPro:a.auth.isPro,isAdmin:b,cdnUrl:a.cdnUrl,days330:28512e6,el:{$referrerWrapper:$("#analytics-referrers"),$progressBar:$("#analytics-progress"),$container:$("#info-analytics"),$thumb:$("#stats-overview-thumb img"),$views:$("#stats-overview-views .value"),$bandwidthDiv:$("#stats-overview-band"),$bandwidth:$("#stats-overview-band .value"),$comments:$("#stats-overview-comments .value"),$favs:$("#stats-overview-favs .value"),$points:$(".stats-overview .points-total .value"),$upvotes:$(".stats-overview .ups-total .value"),$downvotes:$(".stats-overview .downs-total .value"),$pieChart:$(".pie"),$piePartOne:$(".pie .part-one"),$piePartThree:$(".pie .part-three"),$uploadedTime:$("#stat-upload-time"),$infoBar:$(".stats-overview-info-bar"),$galleryTitle:$(".stats-overview-info-bar .gallery-title")}},this.setupListeners(),this._},_getChart:function(){return this._.chartProvider()},_getReferrers:function(){return this._.referrersProvider()},setupListeners:function(){var a=this;$(document).keydown(function(b){83==b.keyCode&&($(b.target).is("input")||$(b.target).is("textarea")||(a._.el.$container.is(":visible")?$.colorbox.close():$(".stats-link, .album-stats-link").trigger("click")))}),this._.el.$container.on("click","#cumulative",_.bind(function(){var a=this._.el.$container.find("#cumulative"),b=a.attr("data-model-cache-key"),c=this._.doingCumulative;this._.doingCumulative=!0,null===c?this.zoomOutAndDoCumulative(b):this.rebuildCurrentViewCumulative(b)},this)),this._.el.$container.on("click","#dailyhourly",_.bind(function(){var a=this._.el.$container.find("#cumulative"),b=a.attr("data-model-cache-key");this._.doingCumulative=!1;var c=this._rebuildModel(this._.models[b],Imgur.TrafficSourcesModel);this.replotViews(c,_.bind(function(){var a=this._getChart().getCurrentWindow(),b=this._getChart().plotTop().options.granularity;b="hourly"===b?"plotHourlyViews":"plotDailyViews",this._getChart()[b](a.start,a.end,{swap:!0,clear:!1,fetchAll:!1})},this))},this))},zoomOutAndDoCumulative:function(a){var b=this._rebuildModel(this._.models[a],Imgur.TrafficSourcesModel.Cumulative);this.replotViews(b,_.bind(function(){this._getChart().plotDailyViews(b.getUploadTime(),(new Date).getTime(),{swap:!1,clear:!0,fetchAll:!0})},this))},rebuildCurrentViewCumulative:function(a){var b=this._rebuildModel(this._.models[a],Imgur.TrafficSourcesModel.Cumulative);this.replotViews(b,_.bind(function(){var a=this._getChart().getCurrentWindow(),b=this._getChart().plotTop().options.granularity;b="hourly"===b?"plotHourlyViews":"plotDailyViews",this._getChart()[b](a.start,a.end,{swap:!0,clear:!1,fetchAll:!1})},this))},popAndLoad:function(a){this.popup(a)},popup:function(a){a.isAd||$.colorbox({href:this._.el.$container,title:a.is_album?"<h1>Album analytics</h1>":"<h1>Image analytics</h1>",className:"analyticsOnly",open:!0,top:"5%",inline:!0,transition:"none",preloading:!1,scrolling:!1,onComplete:_.bind(function(){this.load(a)},this),onCleanup:function(){$(".tipsy").remove()}})},show:function(){this._.el.$container.show()},hide:function(){this._.el.$container.hide()},_isOwner:function(a){return this._.isAdmin||this._.signed&&(a.deletehash||a.account_id==this._.auth.id)},load:function(a){this._getChart().initTooltip(),_.each(_.values(this._.models),function(a){a.abort()}),null==a.hash&&null!=a.id&&(a.hash=a.id);var b=this._isOwner(a),c=this._getCachedAnalyticsModel(a),d=this._getProgressCallback(!b);this._itemIsGallery(a)?(this._getFavs(c),this._setInfoOverview(a)):a.in_gallery?c.fetchGalleryData(_.bind(function(b){_.merge(a,b),this._displayComments(a.comments),this._displayFavs(a.favorites),this._setInfoOverview(a,!0)},this)):this._setInfoOverview(a),c.getIsAlbum()&&this._.el.$bandwidthDiv.hide(),this._displayInfoBar(c,a),this._setChartTypeItem(a),this._plotViews(c,d),b&&this._displayReferrers(c,d);var e=this.getModelCacheKey(a);e in this._.models||(this._.models={}),this._.models[e]=c},updateViews:function(a,b){this._displayViews(a),this._displayBandwidth(b)},updateComments:function(a){this._displayComments(a)},updateFavs:function(a){this._displayFavs(a)},updatePoints:function(a,b){this._displayGalleryInfo({virality:!0,ups:a,downs:b})},clear:function(){this._.el.$views.text("-"),this._.el.$bandwidth.text("-"),this._.el.$bandwidthDiv.show(),this._.el.$comments.text("-"),this._.el.$favs.text("-"),this._.el.$thumb.attr("src",this._.defaultSrc),this._.el.$points.text(0),this._.el.$upvotes.text(0),this._.el.$downvotes.text(0),this._.el.$uploadedTime.text("-"),this._.el.$galleryTitle.text(""),this._.doingCumulative=null,this._.el.$container.find("#dailyhourly").attr("checked","checked"),this._getReferrers()&&this._getReferrers().clear(),this._getChart()&&this._getChart().clear(),this._.el.$progressBar.css("width",0)},replotViews:function(a,b){var c=this._getProgressCallback(!0);this._getChart().setProgressCallback(c),this._getChart().setModel(a),this._getChart().rebuildStack(a),b()},getModelCacheKey:function(a){return a.hash+(a.is_album?"#":"")},_displayInfoBar:function(a,b){var c=moment(a.getUploadTime()).utc();this._.el.$uploadedTime.text((new Date).valueOf()-c.valueOf()>this._.days330?c.format("MMM. Do, YYYY"):c.format("MMM. Do")),this._.el.$uploadedTime.attr("title",c.format("dddd MMMM DD, YYYY HH:mm")+" GMT"),null!=b.title&&this._.el.$galleryTitle.text(b.title),this._.el.$infoBar.show()},_getFavs:function(a){a.fetchFavoriteData(_.bind(this.updateFavs,this))},_rebuildModel:function(a,b){if(a.constructor===b)return a;var a=new Imgur.TrafficSourcesModel({hash:a.getHash(),isAlbum:a.getIsAlbum(),uploadTime:a.getUploadTime()},a.getData());return b===Imgur.TrafficSourcesModel.Cumulative&&(a=new b(a)),a},_getCachedAnalyticsModel:function(a){var b=this.getModelCacheKey(a),c=this._.doingCumulative?Imgur.TrafficSourcesModel.Cumulative:Imgur.TrafficSourcesModel;if(b in this._.models){if(this._.models.constructor===c)return this._.models[b];var d=this._makeAnalyticsModel(a,this._.models[b].getData());return this._.doingCumulative&&(d=new c(d)),d}return this._makeAnalyticsModel(a,null)},_makeAnalyticsModel:function(a,b){var c;a.datetime?c=a.datetime.split(" "):a.timestamp&&(c=a.timestamp.split(" "));var d=new Imgur.TrafficSourcesModel({hash:a.hash,isAlbum:a.is_album?!0:!1,uploadTime:new Date(c[0]+"T"+c[1]+"Z").getTime(),isOwner:this._isOwner(a)},b);return d},_setInfoOverview:function(a,b){null!=a.album_cover&&(a.cover=a.album_cover);var c=null==a.cover?a.hash:a.cover,d=this._.cdnUrl+"/"+c+"b.jpg";this._.el.$thumb.attr("src",d),a.views&&(this._displayViews(a.views),a.size&&!a.bandwidth&&(a.bandwidth=a.views*a.size)),a.bandwidth&&this._displayBandwidth(a.bandwidth),this._displayGalleryInfo(a,b)},_displayViews:function(a){this._.el.$views.text(Imgur.Util.numberFormat(a))},_displayBandwidth:function(a){0==parseInt(a)&&(a="-");var b=isNaN(a)?a:Imgur.Util.byteSize(parseInt(a));this._.el.$bandwidth.text(b)},_displayComments:function(a){this._.el.$comments.text(Imgur.Util.numberFormat(a))},_displayFavs:function(a){this._.el.$favs.text(Imgur.Util.numberFormat(a))},_displayReferrers:function(a,b){this._getReferrers().getModel()!==a&&(this._getReferrers().clear(),this._getReferrers().setModel(a),this._getReferrers().setProgressCallback(b),this._getReferrers().displayReferrerOverview(this._.isPro||this._.isAdmin))},_plotViews:function(a,b){if(this._getChart().getModel()!==a){this._getChart().clear(),this._getChart().setModel(a),this._getChart().setProgressCallback(b);var c=(new Date).getTime()-a.getUploadTime()<2592e5?"plotHourlyViews":"plotDailyViews";this._getChart()[c]()}},_displayGalleryInfo:function(a,b){if(b||this._itemIsGallery(a)){var c=a.ups,d=a.downs;this._setDonutChartRotation(c,d),this._.el.$upvotes.text(Imgur.Util.numberFormat(c)),this._.el.$downvotes.text(Imgur.Util.numberFormat(d)),this._.el.$points.text(Imgur.Util.numberFormat(c-d)),this._.el.$container.hasClass("gallery-image")||this._.el.$container.addClass("gallery-image")}else this._.el.$container.removeClass("gallery-image")},_setDonutChartRotation:function(a,b){var c,d,e,f=b/a,g=b/(a+b);f>=1?(action="removeClass",c=this._.el.$piePartThree,d=this._.el.$piePartOne,e=0==a&&0==b?0:360*g-180):(action="addClass",c=this._.el.$piePartOne,d=this._.el.$piePartThree,e=0==a&&0==b?0:Math.abs(360*g)),this._.el.$pieChart[action]("half"),c.css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-o-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),d.css({"-webkit-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"})},_itemIsGallery:function(a){return null!=a.virality},_getProgressCallback:function(a){var b=this,c=0,d=0,e=0;return function(f){f.views?d=f.views:f.referrers&&(e=f.referrers),a?actualProgress=d:(c=d+e,actualProgress=c/2),100>actualProgress&&b._.el.$progressBar.show(),b._.el.$progressBar.css({width:actualProgress+"%"}),actualProgress>=100&&setTimeout(function(){b._.el.$progressBar.hide()},500)}},_setChartTypeItem:function(a){this._.el.$container.find("#dailyhourly,#cumulative").attr("data-model-cache-key",this.getModelCacheKey(a))}}),Namespace("Imgur"),Imgur.Linkifier=Class.extend({init:function(){this._={viewerOrder:[],viewers:{},grabbers:[]}},addGrabber:function(a){this._.grabbers.push(a)},addViewer:function(a,b){this._.viewers[a]=b,-1===this._.viewerOrder.indexOf(a)&&this._.viewerOrder.push(a)},prependViewer:function(a,b){this._.viewers[a]=b,-1===this._.viewerOrder.indexOf(a)&&this._.viewerOrder.unshift(a)},prependGrabber:function(a){this._.grabbers.unshift(a)},grab:function(a){for(var b=[],c=0,d=this._.grabbers[c];c<this._.grabbers.length;c++,d=this._.grabbers[c]){var e=d.scan(a);if(e!==!1)for(var f=0;f<e.length;f++){var g=a.substr(e[f].begin,e[f].end-e[f].begin+1);b.push({scan:e[f],grabbed:g,replaced:d.grab(g),priority:c})}}b.sort(function(a,b){return a.scan.begin<b.scan.begin?-1:a.scan.begin>b.scan.begin?1:a.scan.end>b.scan.end?-1:a.scan.end<b.scan.end?1:a.priority<b.priority?-1:a.priority>b.priority?1:0});for(var h={},c=0;c<b.length;c++){var e=b[c].scan;if(b.length>c+1)for(var f=1;f<b.length-c;f++){var i=b[c+f].scan,j=!1;j=j||i.begin>=e.begin&&i.begin<=e.end,j=j||i.end>=e.begin&&i.end<=e.end,j&&(h[c+f]=!0)}}var k=_.map(Object.keys(h),Number);k.sort(function(a,b){return b>a?-1:a>b?1:0});for(var c=0;c<k.length;c++)b.splice(k[c]-c,1);var l={},m=[];if(b.length){var n=a.substr(0,b[0].scan.begin);n.length&&m.push(React.DOM.span({key:"prefix"+n},n));for(var c=0;c<b.length;c++){var e=b[c].scan,o=b[c].replaced;if(c>0){var p=b[c-1].scan,q=a.substr(p.end+1,e.begin-1-p.end);q.length&&m.push(React.DOM.span({key:"before"+c},q))}var r={href:o.href.replace(/^https:/,""),target:"_blank",key:"link"+c};o.rel&&(r.rel=o.rel),m.push(React.DOM.a(r,o.text))}var s=a.substr(b[b.length-1].scan.end+1);s.length&&m.push(React.DOM.span({key:"suffix"+s},s)),l.className="linkified"}else m.push(React.DOM.span({key:a},a));return React.DOM.p(l,m)},attach:function(a){$(a).on("click","a",_.partial(this._handleLinkClicked,this)),$(a).on("mouseover","a",_.partial(this._handleLinkHovered,this,!0)),$(a).on("mouseout","a",_.partial(this._handleLinkHovered,this,!1))},attachDelegate:function(a){$(a).on("click","p.linkified a",_.partial(this._handleLinkClicked,this)),$(a).on("mouseover","p.linkified a",_.partial(this._handleLinkHovered,this,!0)),$(a).on("mouseout","p.linkified a",_.partial(this._handleLinkHovered,this,!1))},_handleLinkClicked:function(a,b){for(var c=$(this).attr("href"),d=0,e=a._.viewerOrder[d];d<a._.viewerOrder.length;d++,e=a._.viewerOrder[d]){var f=a._.viewers[e];if(f.canView(b,c))return void f.dispatch(b,c,$(this))}},_handleLinkHovered:function(a,b,c){for(var d=$(this).attr("href"),e=0,f=a._.viewerOrder[e];e<a._.viewerOrder.length;e++,f=a._.viewerOrder[e]){var g=a._.viewers[f];if(g.canHover(d,$(this)))return void(b?g.hoverover(c,d,$(this)):g.hoverout(c,d,$(this)))}}}),Namespace("Imgur.Linkify"),Imgur.Linkify.UsernameGrabber=Class.extend({REGEX:/(?:^|[^A-z0-9])@([A-z0-9]{4,})/g,scan:function(a){for(var b=null,c=[];null!==(b=this.REGEX.exec(a));){var d=b.index,e=b.index+b[1].length;"@"!==b[0][0]&&(d++,e++),c.push({begin:d,end:e})}return c},grab:function(a){var b=a.substr(1);return{href:"/user/"+b,text:a}}}),Namespace("Imgur.Linkify"),Imgur.Linkify.OpGrabber=Class.extend({init:function(a){this._={currentOp:null},a.on("beforeComments",this,this.handleImageChange),a.on("select",this,this.handleImageChange)},REGEX:/(?:^|[^A-z0-9])@([A-z0-9]{4,}|op(?=([^A-z0-9]|$)))/gi,scan:function(a){var b=null,c=[];if(!this._.currentOp)return c;for(;null!==(b=this.REGEX.exec(a));){var d=b.index,e=b.index+b[1].length;"@"!==b[0][0]&&(d++,e++),c.push({begin:d,end:e})}return c},handleImageChange:function(a){this._.currentOp=a&&a.account_url?a.account_url:null},grab:function(a){return{href:"/user/"+this._.currentOp,text:a}}}),Namespace("Imgur.Linkify"),Imgur.Linkify.PlainGrabber=Class.extend({scan:function(a){for(var b=/(https?:\/\/(((\w|\.)+)(\/)?([^.\"!\s]+((\.(jpe?g|gif|png)))?))+[^.,?&\/\"\'\!\:\s])/gi,c=null,d=[];null!==(c=b.exec(a));)d.push({begin:c.index,end:c.index+c[0].length-1});return d},grab:function(a){var b={};return b.href=b.text=a,0>a.indexOf(Imgur.Environment.host)&&(b.rel="noreferrer nofollow"),b}}),Namespace("Imgur.Linkify"),Imgur.Linkify.AlbumImageGrabber=Class.extend({scan:function(a){for(var b=/(#[0-9]+)/g,c=null,d=[];null!==(c=b.exec(a));)d.push({begin:c.index,end:c.index+c[0].length-1});return d},grab:function(a){a.substr(1);return{href:a,text:a}}}),Namespace("Imgur.Linkify"),Imgur.Linkify.ImgurGrabber=Class.extend({init:function(a,b){this._={REGEX:new RegExp("(?:https?:)?//(?:www.|img.|i.)?"+Imgur.Util.escapeRegex(a)+"/(?!gallery)(?!contact)(?!random)(?!rules)([A-z0-9]{5,7})(.(?:gif|png|jpe?g))?","g"),REGEX_SINGLE:new RegExp("(?:https?:)?//(?:www.|img.|i.)?"+Imgur.Util.escapeRegex(a)+"/(?!gallery)(?!contact)(?!random)(?!rules)([A-z0-9]{5,7})(.(?:gif|png|jpe?g))?"),cdnUrl:b}},scan:function(a){for(var b=null,c=[];null!==(b=this._.REGEX.exec(a));)c.push({begin:b.index,end:b.index+b[0].length-1});return c},grab:function(a){var b=this._.REGEX_SINGLE.exec(a),c=b[1],d=b[2]?b[2]:".jpg";return{href:this._.cdnUrl+"/"+c+d,text:a}}}),Namespace("Imgur.Linkify"),Imgur.Linkify.YoutubeViewer=Class.extend({REGEX:new RegExp("^(?:https?:)?//(?:www\\.)?(?:youtube\\.com\\/watch\\?v=([A-z0-9-]+)|youtu\\.be\\/([A-z0-9-]+))"),canView:function(a,b){return!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey&&b.match(this.REGEX)},canHover:function(){return!1},dispatch:function(a,b,c){a.preventDefault();var d=this.REGEX.exec(b),e=d[1]||d[2];c.colorbox({href:"//www.youtube.com/embed/"+e+"?autoplay=1",transition:"none",className:"noHeader",fixed:!0,width:"600px",height:"400px",iframe:!0,scrolling:!1})}}),Namespace("Imgur.Linkify"),Imgur.Linkify.Html5VideoViewer=Class.extend({REGEX:new RegExp("^(?:https?:)?//.*.(mp4|webm)$"),init:function(){this._={heightCache:{}}},canView:function(a,b){return!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey&&b.match(this.REGEX)},canHover:function(a){return a.match(this.REGEX)},hoverover:function(a,b,c){var d,e=this.REGEX.exec(b),f=e[1];if(this._.heightCache.hasOwnProperty(b)){if(d=String(this._.heightCache[b])+"px",c.data("tipsy")){var g=c.data("tipsy").$tip;g.remove(),c.data("tipsy",null)}}else d="0px";var h='<video style="max-width: 250px; height: '+d+'; max-height: 250px;" loop autoplay muted><source type="video/'+Imgur.Util.htmlEntity(f)+'" src="'+Imgur.Util.htmlEntity(b)+'" /></video>';c.tipsy({gravity:$.fn.tipsy.autoNS,title:function(){return h},html:!0,opacity:1,offset:2,trigger:"manual"}),c.tipsy("show");var i=c.data("tipsy").$tip.find("video");this._.heightCache.hasOwnProperty(b)||i.one("timeupdate",_.bind(function(a){i.css("height","auto"),a.target.clientHeight>0&&(this._.heightCache[b]=a.target.clientHeight),this.hoverover(a,b,c)},this))},hoverout:function(){$(".tipsy").remove()},dispatch:function(a,b,c){a.preventDefault();var d=this.REGEX.exec(b),e=d[1],f=$('<video loop id="videocbox"><source type="video/'+Imgur.Util.htmlEntity(e)+'" src="'+Imgur.Util.htmlEntity(b)+'" /></video>');f[0].onloadedmetadata=function(){var a=f[0].videoWidth,b=f[0].videoHeight;c.colorbox.resize({innerWidth:a,innerHeight:b}),f[0].play()},c.colorbox({html:f,className:"noHeader",scrolling:!1,fixed:!0})}}),Namespace("Imgur.Linkify"),Imgur.Linkify.ImageViewer=Class.extend({REGEX:new RegExp("^(?:https?:)?//.*.(jpe?g|gif|png)(?:[?#].*)?$"),init:function(){this._={currentTipsy:null}},canView:function(a,b){return!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey&&b.match(this.REGEX)},canHover:function(a){return a.match(this.REGEX)},hoverout:function(){null!==this._.currentTipsy&&(this._.currentTipsy.abort(),this._.currentTipsy=null),$(".tipsy").remove()},hoverover:function(a,b,c){this._.currentTipsy=new Imgur.Linkify.Tipsy(c,b),this._.currentTipsy.load()},dispatch:function(a,b,c){a.preventDefault(),c.colorbox({initialHeight:240,initialWidth:320,maxWidth:"95%",maxHeight:"95%",className:"noHeader",scalePhotos:!0,photo:!0,fixed:!0,transition:"elastic",scrolling:!1,onOpen:function(){$(".tipsy").remove()},onComplete:function(){$(".tipsy").remove()}})}}),Namespace("Imgur.Linkify"),Imgur.Linkify.ImgurViewer=Class.extend({init:function(){this._={currentTipsy:null,REGEX:new RegExp(Imgur.Util.escapeRegex(Imgur.Environment.cdnUrl)+"/(?!gallery)(?!random)([A-z0-9]{5,7})(?!.gifv)","g")}},canView:function(a,b){return!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey&&b.match(this._.REGEX)},canHover:function(){return!1},hoverout:function(){},hoverover:function(){},dispatch:function(a,b,c){var d=this._.REGEX.exec(b)[1];c.colorbox({initialHeight:240,initialWidth:320,maxWidth:"95%",maxHeight:"95%",className:"noHeader",scalePhotos:!0,photo:!0,fixed:!0,transition:"elastic",scrolling:!1,onOpen:function(){$(".tipsy").remove()},onComplete:function(){$(".tipsy,#favorite-bar").remove(),$.getJSON("/ajax/favorited/"+d,_.bind(Imgur.getInstance().appendFavoriteBar,Imgur.getInstance(),d,b))},onClosed:function(){$(".tipsy,#favorite-bar").remove()}})}}),Namespace("Imgur.Linkify"),Imgur.Linkify.ImgurGifvViewer=Class.extend({init:function(a){this._={REGEX:new RegExp(Imgur.Util.escapeRegex(Imgur.Environment.cdnUrl)+"/(?!gallery)(?!random)([A-z0-9]{5,7}).gifv"),html5viewer:a}},canView:function(a,b){return!a.ctrlKey&&!a.metaKey&&!a.altKey&&!a.shiftKey&&b.match(this._.REGEX)},canHover:function(a){return a.match(this._.REGEX)},hoverout:function(a,b,c){this._.html5viewer.hoverout(a,b.replace(/\.gifv$/,".mp4"),c)},hoverover:function(a,b,c){this._.html5viewer.hoverover(a,b.replace(/\.gifv$/,".mp4"),c)},dispatch:function(a,b,c){this._.html5viewer.dispatch(a,b.replace(/\.gifv$/,".mp4"),c)}}),Namespace("Imgur.Linkify"),Imgur.Linkify.Tipsy=Class.extend({init:function(a,b){this._={state:void 0,img:null,$el:a,href:b,overrideHtml:null}},STATE:{LOADING:1,LOADED:2,ERROR:3,ABORTED:4,OVERRIDDEN:5},abort:function(){this._.state=this.STATE.ABORTED,this._.img&&(this._.img.onload=function(){},this._.img.onerror=function(){}),this._.$el.tipsy("hide")},override:function(a){this._.overrideHtml=a,this._.state=this.STATE.OVERRIDDEN,this.render()},render:function(){if(this._.state!=this.STATE.ABORTED){var a="";switch(this._.state){case this.STATE.LOADED:a='<img style="max-width:100%; max-height: 300px" src="'+this._.href+'">';break;case this.STATE.LOADING:a='<img style="width: 25px;" src="//s.imgur.com/images/loaders/ddddd1_121211/48.gif">';break;case this.STATE.ERROR:a="<div>Image could not be loaded</div>";break;case this.STATE.OVERRIDDEN:a=this._.overrideHtml}void 0!==this._.$el.data("tipsy")&&(this._.$el.data("tipsy").$tip.remove(),this._.$el.removeData("tipsy")),this._.$el.tipsy({delayIn:200,gravity:$.fn.tipsy.autoNS,title:function(){return a},html:!0,opacity:1,offset:2,trigger:"manual"}),this._.$el.tipsy("show")}},load:function(){this._.img=new Image,this._.img.src=this._.href,this._.img.complete?this._.state=this.STATE.LOADED:(this._.state=this.STATE.LOADING,this._.img.onerror=_.bind(function(){this._.state!==this.STATE.ABORTED&&(this._.state=this.STATE.ERROR,this.render())
},this),this._.img.onload=_.bind(function(){this._.state!==this.STATE.ABORTED&&(this._.state=this.STATE.LOADED,this.render())},this)),this.render(),this._.img=null}}),Namespace("Imgur.Linkify"),Imgur.Linkify.AlbumImageViewer=Class.extend({init:function(a){this._={hash:a,pendingRef:null}},handleUpdatedImage:function(a){this._.abortedHash=this._.hash,this._.hash=a.hash},canView:function(){return!1},canHover:function(a){return!!a.match(/#\d+/)},hoverover:function(a,b,c){if(b.match(/#\d+/)){var d=b.replace("#",""),e=this._.hash,f=$.ajax({url:"/gallery/action/image/"+e,type:"GET",data:{order:d},success:_.bind(function(a){this._.abortedHash!==e&&a.data&&a.data.url&&a.data.hash&&(c.attr("href",a.data.url),c.trigger("mouseover"))},this)});this._.pendingRef=f,this._.abortedHash=null}},hoverout:function(){this._.pendingRef&&this._.pendingRef.abort(),this._.abortedHash=this._.hash},dispatch:function(a,b,c){a.preventDefault(),c.colorbox({initialHeight:240,initialWidth:320,maxWidth:"95%",maxHeight:"95%",className:"noHeader",scalePhotos:!0,photo:!0,fixed:!0,transition:"elastic",scrolling:!1,onOpen:function(){$(".tipsy").remove()},onComplete:function(){$(".tipsy").remove()}})}}),Namespace("Imgur.Linkify"),Imgur.Linkify.NSFWViewer=Class.extend({init:function(a){this._={captions:a}},canView:function(){return!1},canHover:function(a,b){if(b.closest(".comment").length){var c=Number(b.closest(".caption").attr("data-id"));if(this._.captions.isCaptionOrItsSubtreeNSFW(c))return!0}return!1},hoverout:function(){$(".tipsy").remove()},hoverover:function(a,b,c){c.tipsy({gravity:$.fn.tipsy.autoNS,title:function(){return"<div>nsfw link</div>"},html:!0,opacity:1,offset:2,trigger:"manual"}),c.tipsy("show")}}),Namespace("Imgur.Analytics"),Imgur.Analytics.RateLimited=Imgur.Analytics.extend({load:_.debounce(Imgur.Analytics.prototype.load,400)}),Namespace("Imgur.AnalyticsChart"),Imgur.AnalyticsChart=Class.extend({init:function(a){return this._=$.extend(!0,{plot:null,plotStack:[],zoomCallback:null,showPointsMax:48,months:["January","February","March","April","May","June","July","August","September","October","November","December"],color:{line:"#afd8f8",background:"#121211",grid:"#444442",selection:"#AFD8F8",selectionInactive:"#444442"},el:{graph:null}},a),this._},setHoverCallback:function(a){this._.el.graph.on("plothover",function(b,c,d){a(b,c,d)})},setClickCallback:function(a){this._.el.graph.on("plotclick",function(b,c,d){d&&a(d.datapoint[0])})},setZoomCallback:function(a){this._.zoomCallback=a,this._.el.graph.on("plotselected",function(b,c){a(b,c)})},plotTop:function(){var a=this._.plotStack;return a[a.length-1]},plotPush:function(a,b){var c={data:a,options:b};return this._.plotStack.push(c),this.plotDraw()},plotSwapTop:function(a,b){var c={data:a,options:b};return this._.plotStack.length&&this._.plotStack.pop(),this._.plotStack.push(c),this.plotDraw()},plotPop:function(){return this._.plotStack.length>1?(this._.plotStack.pop(),this.plotDraw()):void 0},plotFirst:function(){var a=this._.plotStack;if(a.length>1){for(;a.length>1;)a.pop();return this.plotDraw()}},plotBlank:function(){if(this._.plotStack.length>0){var a=this.plotTop().options;this.plotClear(),this.plotPush([],a)}},plotClear:function(){for(var a=this._.plotStack;a.length>0;)a.pop();this._.plot&&this._.plot.shutdown()},plotDraw:function(){this._.plot&&this._.plot.shutdown();var a=this.plotTop(),b={label:a.options.legend.label||"Views",data:a.data};return this._.plot=$(this._.el.graph).plot([b],a.options).data("plot"),this._.plot},plotLength:function(){return this._.plotStack.length},render:function(a,b){var c=this,d=$.extend(!0,{series:{color:c._.color.line,lines:{show:!0,fill:!0,lineWidth:2,fillColor:{colors:[{opacity:.1},{opacity:.1}]}},points:{show:a.length>c._.showPointsMax?!1:!0},shadowSize:4},grid:{hoverable:!0,clickable:!0,backgroundColor:c._.color.background,borderWidth:0,color:c._.color.grid},legend:{show:!0,position:"ne",label:"Views"},yaxis:{min:0,max:1,tickDecimals:0,tickFormatter:function(a){return Imgur.Util.numberFormat(a)},font:{size:12,lineHeight:13,family:"Arial,sans-serif",color:"#999999"}},xaxis:{min:0,max:1,tickColor:c._.color.background,mode:"time",ticks:5,tickDecimals:0,minTickSize:[1,"day"],color:"green",timeformat:"%b %d",font:{size:12,lineHeight:13,weight:"bold",family:"Arial,sans-serif",color:"#ffffff"}},selection:{mode:"x",color:c._.color.selectionInactive},swapStack:!1},b),e=d.swapStack?"plotSwapTop":"plotPush";this[e](a,d)},getHeightAxisScaled:function(a,b,c){var d=[];return _.each(a,function(a){var e=a[0],f=a[1];e>=b&&c>=e&&d.push(f)}),{numPoints:d.length,y_max:1.2*Math.max.apply(Math.max,d)}},rebuildStack:function(a){var b=this;_.each(this._.plotStack,function(c,d){var e={start:c.options.xaxis.min,end:c.options.xaxis.max,granularity:c.options.granularity};e.onSuccess=function(a){if(b._.plotStack[d]===c){var e=b.getHeightAxisScaled(a,c.options.xaxis.min,c.options.xaxis.max);b._.plotStack[d].data=a,b._.plotStack[d].options.yaxis.max=e.y_max}},a.fetchViewData(e)})}}),Namespace("Imgur.AnalyticsChart.TrafficSources"),Imgur.AnalyticsChart.TrafficSources=Imgur.AnalyticsChart.extend({init:function(a){return this._=$.extend(!0,{dataModel:null,retryCb:null,progressCallback:null,defaults:{dailyPlotRange:12096e5,hourlyPlotRange:1728e5},cutoffs:{dailyViews:13794624e5,hourlyViews:13905216e5},dates:{start:null,end:null},el:{tooltipId:"analytics-chart-tooltip",tooltip:null,graph:$("#analytics-chart-placeholder"),zoomButton:$("#analytics-chart-zoomout"),popButton:$("#analytics-chart-pop"),statusBar:$("#analytics-chart-status"),errorBar:$(".analytics-chart-wrapper .error-bar"),calendar:$("#analytics-chart-datepicker"),applyBtn:"#applyBtn",cancelBtn:".cancel-btn",tabButton:$("label[for='dailyhourly']"),dailyhourly:$("#dailyhourly")},msg:{hourlyViewsCutoff:"No hourly data available before Jan 24, 2014. Please, reselect dates.",recentlyUploaded:"This image was recently uploaded and no data is available yet.",noData:"No data is available."}},a),this._super(this._),this._},getCurrentWindow:function(){return{start:this.plotTop().options.xaxis.min,end:this.plotTop().options.xaxis.max}},initChart:function(){this.initTooltip(),this.initCallbacks(),this.initChartButtons(),this.initCalendar()},initTooltip:function(){0===$("#"+this._.el.tooltipId).length?(this._.el.tooltip=$('<div id="'+this._.el.tooltipId+'" class="tipsy tipsy-s tipsy-analytics"><div class="tipsy-inner">0 views</div></div>'),this._.el.tooltip.appendTo("body")):this._.el.tooltip=$("#"+this._.el.tooltipId)},initCallbacks:function(){var a=this;this.setHoverCallback(function(b,c,d){a.toggleTooltip(b,c,d)}),this.setClickCallback(function(b){var c=a.plotTop().options;if("hour"!==c.xaxis.minTickSize[1]){var d=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(b),e=Imgur.Util.RoundTimestamps.roundTimestampToEndOfDay(b);a.plotHourlyViews(d,e,{clear:!1})}}),this.setZoomCallback(function(b,c){a.zoomIntoRange(b,c),a.setCursorState(!1)})},initChartButtons:function(){var a=this;this._.el.zoomButton.click(function(){var b,c,d;if(a.plotLength()>1){a.plotFirst();var e=a.plotTop().options;b=e.granularity,c=e.xaxis.min,d=e.xaxis.max,a.showhideZoomButton({start:c,end:d})}else{var f=a.clipWindow({start:a._.dataModel.getUploadTime(),end:(new Date).getTime()});b=a._.dataModel.getGranularity(f),c=f.start,d=f.end,"hourly"==b?a.plotHourlyViews(c,d):a.plotDailyViews(c,d)}a.setCalendarDate(c,d),a.setTabName(b)}),this._.el.popButton.click(function(){a.plotPop();var b=a.plotTop().options;a.setCalendarDate(b.xaxis.min,b.xaxis.max)}),this._.el.calendar.click(function(){a._.el.calendar.hasClass("shown")||$(a._.el.calendar).DatePickerSetDate([moment.utc(a._.dates.start).format("YYYY-MM-DD"),moment.utc(a._.dates.end).format("YYYY-MM-DD")]),a._.el.calendar.toggleClass("shown")}),this._.el.errorBar.on("click",".refresh",function(){"function"==typeof a._.retryCb&&(a._.retryCb(),a._.retryCb=null)})},initCalendar:function(){var a=this,b=new Date,c=b.getUTCFullYear()+"-"+(b.getUTCMonth()+1)+"-"+b.getUTCDate();a._.el.calendar.DatePicker({format:"Y-m-d",calendars:2,mode:"range",starts:1,flat:!0,date:["2013-05-30","2013-07-30"],current:c,view:"days",onRender:function(b){var c=0,d=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()),e=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay((new Date).getTime()),f=a._.cutoffs.dailyViews;return a._.dataModel&&(c=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(a._.dataModel.getUploadTime())),{disabled:f>d||c>d||d>e}}}),a._.el.calendar.find(".datepicker").append('<div class="apply-buttons"><button type="button" id="applyBtn" class="button-medium">apply</button> <a href="javascript:;" class="cancel-btn">cancel</a></div>'),$(this._.el.applyBtn).on("click",_.bind(this.applyUpdatedDateToChart,this)),$(this._.el.cancelBtn).on("click",function(){a._.el.calendar.removeClass("shown")})},applyUpdatedDateToChart:function(){var a=this._.el.calendar.DatePickerGetDate(!0),b=moment.utc(a[0],"YYYY-MM-DD").valueOf(),c=moment.utc(a[1],"YYYY-MM-DD").valueOf(),d=(c-b)/864e5+1;(b!==this._.dates.start.getTime()||c!==this._.dates.end.getTime())&&(4>=d?this.plotHourlyViews(b,Imgur.Util.RoundTimestamps.roundTimestampToEndOfDay(c)):this.plotDailyViews(b,c)),this._.el.calendar.removeClass("shown")},setCalendarDate:function(a,b){a=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(a),b=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(b),this._.dates.start=new Date(a),this._.dates.end=new Date(b),this._.el.calendar.find(".date-range").text(a===b?moment.utc(a).format("MMM D, YYYY"):moment.utc(a).format("MMM D, YYYY")+" - "+moment.utc(b).format("MMM D, YYYY"))},setModel:function(a){this._.dataModel=a},getModel:function(){return this._.dataModel},getTooltip:function(){return this._.el.tooltip},setCursorState:function(a){this._.el.graph.css("cursor",a?"pointer":"")},toggleTooltip:function(a,b,c){null==this._.el.tooltip&&this.initTooltip();var d=this._.el.tooltip;if(c){var e=c.datapoint[0],f=c.datapoint[1],g=this.plotTop().options,h="MMMM D, YYYY";"hour"===g.xaxis.minTickSize[1]&&(h="ha "+h);var i=moment.utc(e).format(h);$(d).children(".tipsy-inner").html(Imgur.Util.numberFormat(f)+" views<p>"+i+"</p>"),$(d).css({top:c.pageY-65,left:c.pageX-50}).fadeIn(200)}else d.hide();this.setCursorState(c&&"hour"!==g.xaxis.minTickSize[1])},plotDailyViews:function(a,b,c){c=_.merge({clear:!0,swap:!1,fetchAll:!1},c);var d=(new Date).getTime(),e=d-this._.defaults.dailyPlotRange;if(a||b){if(!(b>a))return;e=a,d=b}if(e=this._adjustDailyFetchStartTime(e),d=this._adjustFetchEndTime(d),!(e>d)){e=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(e),d=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(d);var f=this,g={start:e,end:d,fetchAll:!!c.fetchAll,granularity:"daily",clearStack:!!c.clear,swapStack:!!c.swapStack};g.onSuccess=function(a){f.onSuccess(a,g)},g.onError=function(d){f._.retryCb=_.bind(f.plotDailyViews,f,a,b,{clear:!!c.clear}),f.onFail(d,g)},g.onProgress=function(a){f.onProgress(a,g)},this._.dataModel.fetchViewData(g)}},plotHourlyViews:function(a,b,c){c=_.merge({clear:!0,swap:!1,fetchAll:!1},c);var d=(new Date).getTime()-36e5,e=d-this._.defaults.hourlyPlotRange;if(a||b){if(!(b>=a))return;e=a,d=b}if(e=this._adjustHourlyFetchStartTime(e),d=this._adjustFetchEndTime(d),e>d)return void(this._.dataModel.isNew()?this.updateStatusError(this._.msg.recentlyUploaded):this.updateStatusWarn(this._.msg.hourlyViewsCutoff));e=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfHour(e),d=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfHour(d);var f=this,g={start:e,end:d,granularity:"hourly",clearStack:!!c.clear,swapStack:!!c.swap};g.onSuccess=function(a){f.onSuccess(a,g)},g.onError=function(d){f._.retryCb=_.bind(f.plotHourlyViews,f,a,b,{clear:!!c.clear}),f.onFail(d,g)},g.onProgress=function(a){f.onProgress(a,g)},this._.dataModel.fetchViewData(g)},zoomIntoRange:function(a,b){var c=this,d=this.plotTop().options;if(this._.plot.clearSelection(),"day"===d.xaxis.minTickSize[1]){var e=Imgur.Util.RoundTimestamps.roundTimestampToEndOfDay(b.xaxis.from-1e3)+1,f=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(b.xaxis.to+1e3);if(f>=e){var g=Math.round((f-e)/864e5)+1;if(4>=g)return void c.plotHourlyViews(e,Imgur.Util.RoundTimestamps.roundTimestampToEndOfDay(f),{clear:!1});c.plotDailyViews(e,f,{clear:!1})}}else{var e=Imgur.Util.RoundTimestamps.roundTimestampToEndOfHour(b.xaxis.from-1e3)+1,f=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfHour(b.xaxis.to+1e3);if(f>=e){var h=Math.round((f-e)/36e5)+1;h>=6&&c.plotHourlyViews(e,f,{clear:!1})}}},onSuccess:function(a,b){var c=b.start,d=b.end,e=0,f=this,g="hourly"===b.granularity?"hour":"day",h="hourly"===b.granularity?36e5:864e5,i=(d-c)/h,j="x",k=this._.dataModel.isNew(),l=this.getHeightAxisScaled(a,c,d),m=l.numPoints,n=!(k&&1===m);if(e=l.y_max,"hourly"===b.granularity&&24>=i&&(j=null),i>0&&.9>m/i&&this.updateStatusError(this._.msg.noData),1===m&&c===d){var o=h/2;c-=o,d+=o}var p={series:{lines:{show:n},points:{show:i>f._.showPointsMax?!1:!0}},xaxis:{min:c,max:d,minTickSize:[1,g],ticks:6,tickFormatter:function(a){return moment.utc(new Date(a)).format("hourly"===b.granularity?"ha":"MMM D")}},yaxis:{min:0,max:e},selection:{mode:j},legend:{label:"Views ("+b.granularity+")"},swapStack:!!b.swapStack,granularity:b.granularity};b.clearStack&&this.plotClear(),this.setProgress(100),this.updateStatus("Times displayed are UTC. Your local timezone is UTC"+(0-(new Date).getTimezoneOffset()/60)+"."),this.setCalendarDate(c,d),this.setTabName(b.granularity),this.render(a,p),this.showhideZoomButton({start:c,end:d})},onFail:function(a){this.setProgress(100);var b="Sorry, there seems to be a problem retrieving view data.";a.status>=500&&(b+=' <div class="refresh"></div>'),Imgur.Util.googleTrackEvent("Analytics","fail-chart"),this.updateStatusError(b)},onProgress:function(a){this.updateStatus(1>a?"Loading views - "+Math.round(100*a)+"%":"Done loading"),this.setProgress(Math.round(100*a))},updateStatus:function(a){this._.el.statusBar.removeClass("warning-text").text(a),this._.el.errorBar.hide()},updateStatusWarn:function(a){this._.el.statusBar.addClass("warning-text").text(a),this._.el.errorBar.hide()},updateStatusError:function(a){this._.el.statusBar.text(""),this._.el.errorBar.html(a).show()},setProgress:function(a){this._.progressCallback({views:a})},setTabName:function(a){this._.el.tabButton.text(a.charAt(0).toUpperCase()+a.slice(1))},setProgressCallback:function(a){this._.progressCallback=a},_adjustDailyFetchStartTime:function(a){return Math.max(this._.dataModel.getUploadTime(),this._.cutoffs.dailyViews,a)},_adjustHourlyFetchStartTime:function(a){return Math.max(this._.dataModel.getUploadTime(),this._.cutoffs.hourlyViews,a)},_adjustFetchEndTime:function(a){var b=(new Date).getTime();return a>b?b:a},clear:function(){this.plotBlank(),this.setModel(null),this.updateStatus(""),this._.el.calendar.removeClass("shown")},windowIsClipped:function(a){var b=this.clipWindow(a).granularity;return a.start>this._.cutoffs[b+"Views"]&&a.start>this._.dataModel.getUploadTime()},clipWindow:function(a){var b=this._.dataModel.getGranularity(a),c=Math.max(a.start,this._.dataModel.getUploadTime(),this._.cutoffs[b+"Views"]);return b=this._.dataModel.getGranularity(a),{start:c,end:a.end,granularity:b}},showhideZoomButton:function(a){var b=this.windowIsClipped(a)||this._.plotStack.length>1?"show":"hide";this._.el.zoomButton[b]()}}),Namespace("Imgur.TrafficSourcesModel"),Imgur.TrafficSourcesModel=Class.extend({init:function(a,b){this._=$.extend(!0,{hash:null,isAlbum:!1,uploadTime:null,galleryTime:null,hotTime:null,url:"/analytics/ts/",fillInZeros:!0,isNew:null,isOwner:!1,currentStart:null,currentStop:null,promise:new Imgur.PromiseXHR,config:{dailyBlockSize:2592e6,hourlyBlockSize:3456e5},data:b||{views:{lifetime:0,daily:{data:{}},hourly:{data:{}}},referrers:{totalPerDomain:{},totalPerUrl:{}},gallery:{},favorites:null}},a),this._.url=this._.url+this._.hash},getUrl:function(a){var b=this._.isOwner?"/miss.json":"/hit.json",c="modhash="+$("#sid").val(),d=this._.isAlbum?"album=1":"";switch(a.type){case"views":return this._.url+"/"+a.granularity+"_views"+b+"?bid="+a.id+"&"+d;case"domain":return this._.url+"/total_viewsperdomain"+b+"?"+c+"&"+d;case"url":return this._.url+"/total_viewsperurl/"+a.domain+b+"?"+c+"&"+d}},getUploadTime:function(){return this._.uploadTime},getGallerySubmitTime:function(){return this._.galleryTime},getHotTime:function(){return this._.hotTime},getIsAlbum:function(){return this._.isAlbum},getHash:function(){return this._.hash},getData:function(){return this._.data},fetchGalleryData:function(a){if(this._.data.gallery.ups&&"function"==typeof a)return a(this._.data.gallery);var b=this._.isAlbum?1:0;$.getJSON("/ajax/galleryData/"+this._.hash,{is_album:b},_.bind(function(b){b&&b.success&&(_.merge(this._.data.gallery,b.data),"function"==typeof a&&a(b.data))},this))},fetchFavoriteData:function(a){if(null!==this._.data.favorites&&"function"==typeof a)return a(this._.data.favorites);var b=this._.isAlbum?1:0;$.getJSON("/gallery/"+this._.hash+"/getfavs",{is_album:b},_.bind(function(b){b&&b.success&&(this._.data.favorites=b.data,"function"==typeof a&&a(b.data))},this))},fetchReferrerData:function(a){var b=this.getUrl({type:"domain"}),c=this._.data.referrers.totalPerDomain;return a.domain&&(b=this.getUrl({type:"url",domain:a.domain}),a.domain in this._.data.referrers.totalPerUrl||(this._.data.referrers.totalPerUrl[a.domain]={}),c=this._.data.referrers.totalPerUrl[a.domain]),c.data?void a.onSuccess(c.data,a):(a.onProgress(.1,a),void $.ajax({url:b,type:"GET",dataType:"json",success:function(b){return a.onProgress(1,a),200===b.status?(c.data=b.data.payload,void a.onSuccess(c.data,a)):void a.onError(b,a)},error:function(b){a.onProgress(1,a),a.onError(b,a)}}))},_processViewDataBlock:function(a){if(!1 in a)return[];for(var b=[],c=this._viewDateToTimestamp(a.start_date),d=this._viewDateToTimestamp(a.end_date),e="hourly"===a.granularity?36e5:864e5,f=c;d>=f;f+=e){var g=this._timestampToViewDate(f,a.granularity);a.payload[g]?b.push([f,a.payload[g]]):this._.fillInZeros&&b.push([f,0])}return b},fetchViewData:function(a){var b=a.fetchAll?this.getUploadTime():a.start,c=a.fetchAll?(new Date).getTime():a.end,d=this._getViewDataFetchBlocks(b,c,a.granularity),e="hourly"===a.granularity?this._.data.views.hourly:this._.data.views.daily;a=_.merge({onSuccess:_.noop,onError:_.noop,onProgress:_.noop},a),this._.promise=new Imgur.PromiseXHR,_.each(d,_.bind(function(b){if(!(b in e.data)){var c=this.getUrl({type:"views",granularity:a.granularity,id:b});this._.promise.pushAjax({url:c,type:"GET",dataType:"json"},{success:function(a){e.data[b]=a},fail:function(b,c){"aborted"!==c&&a.onError(jQuery.parseJSON(b.responseText))}})}},this)),this._.promise.then({beginajax:function(){a.onProgress(.1)},success:_.bind(function(){var b={};_.each(d,_.bind(function(a){b[a]=this._processViewDataBlock(e.data[a])},this)),b=this._processViewData(b),a.onSuccess(b)},this),progress:function(b){a.onProgress(.9*b+.1)}}),this._.promise.start()},_processViewData:function(a){var b=_.keys(a).sort(),c=[];return _.each(b,function(b){c=c.concat(a[b])}),c},_getViewDataFetchBlocks:function(a,b,c){for(var d=[],e=this._timestampToBlockId(a,c),f=this._timestampToBlockId(b,c),g=e;f>=g;g++)d.push(g);return d},_timestampToBlockId:function(a,b){var c="hourly"===b?this._.config.hourlyBlockSize:this._.config.dailyBlockSize;return Math.floor(a/c)},_blockIdToTimeRange:function(a,b){var c=a*this._.config.dailyBlockSize,d=c+this._.config.dailyBlockSize-864e5;return"hourly"===b&&(c=a*this._.config.hourlyBlockSize,d=c+this._.config.hourlyBlockSize-36e5),[c,d]},isNew:function(){return moment().valueOf()-this.getUploadTime()<=864e5},_roundTimestampToBeginningOfDay:function(a){return a-a%864e5},_roundTimestampToBeginningOfHour:function(a){return a-a%36e5},_viewDateToTimestamp:function(a){return 8===a.length?moment.utc(a,"YYMMDDHH").valueOf():moment.utc(a,"YYMMDD").valueOf()},_timestampToViewDate:function(a,b){return moment.utc(a).format("hourly"===b?"YYMMDDHH":"YYMMDD")},abort:function(){this._.promise.abort()},getGranularity:function(a){var b=(a.end-a.start)/864e5;return 4>=b?"hourly":"daily"}}),ImgurIface.TrafficSourcesModel=new Iface(Iface.extractPublicMethodsFrom(Imgur.TrafficSourcesModel)),Iface.defineImplementation("ImgurIface.TrafficSourcesModel","Imgur.TrafficSourcesModel"),Namespace("Imgur.TrafficSourcesModel.Cumulative"),Imgur.TrafficSourcesModel.Cumulative=Class.extend({init:function(a){this._={},this._.model=a},getUploadTime:function(){return this._.model.getUploadTime.apply(this._.model,arguments)},getHash:function(){return this._.model.getHash.apply(this._.model,arguments)},getIsAlbum:function(){return this._.model.getIsAlbum.apply(this._.model,arguments)},getData:function(){return this._.model.getData.apply(this._.model,arguments)},isNew:function(){return this._.model.isNew.apply(this._.model,arguments)},fetchViewData:function(a){"daily"===a.granularity?this._fetchViewDataDaily(a):this._fetchViewDataHourly(a)},getUrl:function(){return this._.model.getUrl.apply(this._.model,arguments)},getGallerySubmitTime:function(){return this._.model.getGallerySubmitTime.apply(this._.model,arguments)},getHotTime:function(){return this._.model.getHotTime.apply(this._.model,arguments)},fetchGalleryData:function(){return this._.model.fetchGalleryData.apply(this._.model,arguments)},fetchFavoriteData:function(){return this._.model.fetchFavoriteData.apply(this._.model,arguments)},fetchReferrerData:function(){return this._.model.fetchReferrerData.apply(this._.model,arguments)},abort:function(){return this._.model.abort.apply(this._.model,arguments)},getGranularity:function(){return this._.model.getGranularity.apply(this._.model,arguments)},_fetchViewDataDaily:function(a){var b={fetchAll:!0,granularity:"daily",onProgress:a.onProgress,onError:a.onError};b.onSuccess=_.bind(this._processViewsDaily,this,a),this._.model.fetchViewData(b)},_processViewsDaily:function(a,b){var c=0;_.each(b,function(a){var b=a[1];c+=b,a[1]=c}),a.onSuccess(b)},_fetchViewDataHourly:function(a){var b={start:this._.model.getUploadTime(),granularity:"daily",fetchAll:!1,end:a.end?a.end:(new Date).getTime()};b.onFail=a.onFail||_.noop,b.onSuccess=_.bind(this._processViewsMixedDailyData,this,a),this._.model.fetchViewData(b)},_processViewsMixedDailyData:function(a,b){var c=0;_.each(b,function(a){var b=(a[0],a[1]);c+=b,a[1]=c});var d={start:a.start,end:a.end,granularity:a.granularity,fetchAll:!1};d.onFail=a.onFail||_.noop,d.onProgress=a.onProgress||_.noop,d.onSuccess=_.bind(this._processViewsMixedFinally,this,a,b),this._.model.fetchViewData(d)},_processViewsMixedFinally:function(a,b,c){if(0===b.length||0===c.length)return void a.onError("empty response");var d=0,e=Imgur.Util.RoundTimestamps.roundTimestampToBeginningOfDay(a.start);_.each(b,function(a,b){var c=a[0];return c>=e?(d=b-1,!1):void 0}),d=Math.min(b.length-1,Math.max(0,d));var f=b[d],g=f[0]+864e5,h=f[1];_.each(c,function(a){var b=a[0];b>=g&&(h+=a[1],a[1]=h)}),a.onSuccess(c)}}),Iface.defineImplementation("ImgurIface.TrafficSourcesModel","Imgur.TrafficSourcesModel.Cumulative"),Namespace("Imgur.TrafficSourcesReferrers"),Imgur.TrafficSourcesReferrers=Class.extend({init:function(a,b){return b=$.extend(!0,{protocol:window.location.protocol.substring(0,window.location.protocol.length-1)},Imgur.Environment),this._=$.extend(!0,{host:b.host,protocol:b.protocol,sort:"views",isDescending:!0,dataModel:null,retryCb:null,referrersPerPage:10,progressCallback:null,el:{$mainContainer:$("#analytics-referrers"),$bodyTableContainer:$("#analytics-referrers-table"),$bodyTable:$("#analytics-referrers-table table"),$share:$(".share-with-friend"),$errorBar:$("#analytics-referrers-wrapper .error-bar")},templates:{referrerRow:_.templates["stats.referrerRow"],referrerUrlRow:_.templates["stats.referrerUrlRow"]},classNames:{"a.upgrade-container":"pro link","td.analytics-referrer-domain a":"referrer drill down","a.referrer-permalink":"referrer permalink"}},a),this._},setModel:function(a){this._.dataModel=a},getModel:function(){return this._.dataModel},generalInit:function(){this.initClickHandlers()},appendLoader:function(a){var b=$('<div class="small-loader" />').show();a.append(b)},removeLoaders:function(){this._.el.$mainContainer.find(".small-loader").remove()},initClickHandlers:function(){this.bindRetryButton(),this._.el.$bodyTable.on("click",".analytics-referrer-id a",_.bind(this.displayReferrerOverview,this,!0)),this._.el.$bodyTable.on("click",".sortable",_.bind(this.sortByHandler,this))},bindReferrerDomainClick:function(){var a=this,b=".analytics-referrer-domain a";this._.el.$bodyTable.off("click",b),this._.el.$bodyTable.on("click",b,function(){a._.el.$bodyTable.off("click",b),a.appendLoader($(this).parent().siblings(".analytics-referrer-id")),a.displayUrlsOverview($(this).text())})},bindRetryButton:function(){this._.el.$errorBar.on("click",".refresh",_.bind(function(){"function"==typeof this._.retryCb&&(this._.el.$errorBar.hide(),this._.retryCb(),this._.retryCb=null)},this))},displayReferrerOverview:function(){var a={onSuccess:_.bind(this.populateOverviewTable,this),onError:_.bind(function(a,b){this._.retryCb=_.bind(this.displayReferrerOverview,this),this.onFail(a,b)},this),onProgress:_.bind(this.onProgress,this)};return this._isTooSoon()?void this._displayNoReferrers():(this._.dataModel.fetchReferrerData(a),void this.bindReferrerDomainClick())},_displayNoReferrers:function(){this.clear(),this.displayReferrers({}),this.showShareContainer(),this.onProgress(1)},_isTooSoon:function(){var a=new Date(this._.dataModel._.uploadTime).getTime(),b=(new Date).getTime();return 36e5>b-a},displayUrlsOverview:function(a){var b={domain:a,onSuccess:_.bind(this.populateUrlOverviewTable,this),onError:_.bind(this.onFail,this),onError:_.bind(function(b,c){this._.retryCb=_.bind(this.displayUrlsOverview,this,a),this.onFail(b,c)},this),onProgress:_.bind(this.onProgress,this)};return"direct"===a?void this.populateUrlOverviewTable({},b):void this._.dataModel.fetchReferrerData(b)},filterPage:function(a){return a.slice(0,100)},displayReferrers:function(a){this.showContainer(),this._.el.$bodyTable.html(this._.templates.referrerRow({rows:a,count:a.length,host:this._.host,protocol:this._.protocol,sort:this._.sort,isDescending:this._.isDescending})),0===a.length?this.showShareContainer():(this.hideShareContainer(),this._.el.$bodyTableContainer.nanoScroller({preventPageScrolling:!0,scroll:"top"}))},displayReferrerUrls:function(a,b){this.showContainer(),this._.el.$bodyTable.html(this._.templates.referrerUrlRow({domain:b,rows:a,count:a.length,host:this._.host,protocol:this._.protocol,sort:"views",isDescending:this._.isDescending})),this._.el.$bodyTableContainer.nanoScroller({preventPageScrolling:!0,scroll:"top"})},populateOverviewTable:function(a){var b=["unknown"];this.clear(),_.each(b,function(b){b in a&&delete a[b]});var c=moment().format("YYYY"),d=_.keys(a),a=_.map(d,function(b){var d=-1===a[b].first_seen?null:a[b].first_seen;return{domain:b,views:a[b].views,first_viewed:d,current_year:c}}),e=this.sortData(a);this.displayReferrers(e),this.setProgress(100)},populateUrlOverviewTable:function(a,b){this.clear();var c=_.keys(a),a=_.map(c,function(b){return{url:b,views:a[b]}}),d=this.sortData(a);this.displayReferrerUrls(d,b.domain),this.setProgress(100)},updateStatusError:function(a){this._.el.$errorBar.html(a),this._.el.$errorBar.show()},setProgress:function(a){this._.progressCallback({referrers:a})},setProgressCallback:function(a){this._.progressCallback=a},onProgress:function(a){this.setProgress(Math.round(100*a))},onFail:function(a){this.removeLoaders(),this.setProgress(100),this.bindReferrerDomainClick();var b=a.data.error,c="Sorry, there seems to be a problem retrieving the referrer data.";b.code>=500&&(c+='<div class="refresh"></div>'),this.updateStatusError(c)},sortByHandler:function(a){var b=$(a.target).data("sort"),c=$(a.target).data("domain"),d=b===this._.sort?!this._.isDescending:!0;this._.sort=b,this._.isDescending=d,c?this.displayUrlsOverview(c):this.displayReferrerOverview()},sortData:function(a){var b=this.filterPage(a),c=[],d=[];"first_viewed"===this._.sort&&(_(b).forEach(function(a){a.first_viewed?c.push(a):d.push(a)}),b=c);var e=_.sortBy(b,this._.sort),f="first_viewed"===this._.sort?!this._.isDescending:this._.isDescending;return e=f?e.reverse():e,d.length>0?_.union(e,d):e},clear:function(){this.removeLoaders(),this._.el.$bodyTable.empty(),this._.el.$share.addClass("nodisplay")},hideShareContainer:function(){this._.el.$share.addClass("nodisplay")},showShareContainer:function(){this._.el.$mainContainer.show(),this._.el.$share.removeClass("nodisplay")},showContainer:function(){this._.el.$mainContainer.show()}}),Namespace("Imgur.Element"),Imgur.Element.CommandLocation=Class.extend({handleCommand:function(a){setTimeout(function(){window.location=a},50)},handleRefreshCommand:function(){setTimeout(function(){window.location=window.location.href},50)}}),Namespace("Imgur.Search.Store"),Imgur.Search.Store.Suggestions=Class.extend({init:function(a,b){this._={emitter:a,cacheRetention:10,lastQueries:b?[b]:[],suggestions:{}}},getQuery:function(){return 0==this._.lastQueries.length?"":this._.lastQueries[0]},haveQueryData:function(a){return this._.suggestions.hasOwnProperty(a)},setQuery:function(a){for(this._.lastQueries.unshift(a);this._.lastQueries.length>Math.abs(this._.cacheRetention);){var b=this._.lastQueries.pop();-1===this._.lastQueries.indexOf(b)&&delete this._.suggestions[b]}this._.emitter.trigger("new global search query")},addSuggestion:function(a,b,c,d){this._.suggestions.hasOwnProperty(a)||(this._.suggestions[a]={}),this._.suggestions[a].hasOwnProperty(b)||(this._.suggestions[a][b]={}),this._.suggestions[a][b][c]=d,this._.emitter.trigger("new suggestions"),this._.emitter.trigger("new "+b+" suggestions")},getSuggestions:function(a,b){return this._.suggestions.hasOwnProperty(a)?_.values(this._.suggestions[a][b]):[]}}),Namespace("Imgur.Search"),Imgur.Search.Structured=Class.extend({init:function(a){this._={el:{$container:a,$form:a.find("form"),$toggleIcon:$("#search_adv_toggle").parent(),$q_all:a.find('form input[name="q_all"]')}}},get$AllOf:function(){return this._.el.$q_all},get$Form:function(){return this._.el.$form},setFlatQuery:function(a){this._.el.$q_all.val(a)},getFlatQuery:function(){return this._.el.$q_all.val()},hide:function(){this._.el.$container.hasClass("nodisplay")||(this._.el.$toggleIcon.removeClass("active"),this._.el.$container.addClass("nodisplay"))},show:function(){this._.el.$toggleIcon.addClass("active"),this._.el.$container.removeClass("nodisplay"),this._.el.$q_all.focus()},getIsHidden:function(){return this._.el.$container.hasClass("nodisplay")},empty:function(){this._.el.$q_all.val("")}}),Namespace("Imgur.AppStore"),Imgur.AppStore.Buttons=React.createClass({displayName:"AppStore-Buttons",getDefaultProps:function(){return{className:"app-buttons",campaign:"AppStore_Button",onClick:function(){},jafo:{}}},render:function(){var a={display:"inline-block",overflow:"hidden",background:"url(//linkmaker.itunes.apple.com/images/badges/en-us/badge_appstore-lrg.png) no-repeat",width:"165px",height:"40px"},b={height:"40px"};return React.createElement("div",{className:this.props.className},React.createElement("a",{onClick:this._handleClickIos,href:"https://geo.itunes.apple.com/app/apple-store/id639881495?pt=2036292&ct="+this.props.campaign+"&mt=8&at=1001l5T8",target:"itunes_store",style:a}),React.createElement("a",{onClick:this._handleClickAndroid,href:"https://play.google.com/store/apps/details?id=com.imgur.mobile"},React.createElement("img",{style:b,alt:"Get it on Google Play",src:"https://developer.android.com/images/brand/en_generic_rgb_wo_45.png"})))},_handleClickIos:function(a){this._handleClick(a,"ios")},_handleClickAndroid:function(a){this._handleClick(a,"android")},_handleClick:function(a,b){Imgur.Util.jafoLog({event:"appInstall",meta:_.extend({app:b,campaign:this.props.campaign,platform:"web"},this.props.jafo)}),this.props.onClick(a,b)
}}),Namespace("Imgur.Lightbox"),Imgur.Lightbox.GetTheApp=React.createClass({displayName:"Lightbox-Cta-GetTheApp",getDefaultProps:function(){return{url:"/apps"}},render:function(){return React.DOM.div({className:"lightbox-container"},this._createModalBackgroundDiv(),React.DOM.div({className:"lightbox-content-container"},this._createBackgroundDiv(),this._createCloseButton(),this._createContentDiv()))},_createContentDiv:function(){var a=this.props.newTab?"_blank":"_self",b=Imgur.Environment.staticUrl,c=b+"/images/house-cta/android-frame.png",d={backgroundImage:"url('"+b+"/images/house-cta/android-share.gif')",backgroundPosition:"center center",backgroundSize:"100% 100%"};return React.createElement("div",{className:"lightbox-content"},React.createElement("a",{className:"lightbox-hero",href:this.props.url,target:a,onClick:this._handleClickHero},React.createElement("img",{className:"lightbox-hero-image",src:c,style:d})),React.createElement("div",{className:"lightbox-text"},React.createElement("h1",null,React.createElement("a",{href:this.props.url,target:a,onClick:this._handleClickTitle},"It's dangerous to go alone! ",React.createElement("br",null),React.createElement("strong",null,"Take Imgur")," with you next time")),React.createElement(Imgur.AppStore.Buttons,{className:"lightbox-text-cta",onClick:this._handleClickAppStore,campaign:"Lightbox_GetTheApp"})))},_handleClickHero:function(){this._setAsViewed("hero"),this._hide()},_handleClickAppStore:function(){this._setAsViewed("appstore-buttons"),this._hide()},_handleClickTitle:function(){this._setAsViewed("title"),this._hide()},componentDidMount:function(){$(window).on("resize",this._center),this._center()},componentWillUnmount:function(){$(window).off("resize",this._center)},_center:_.throttle(function(){var a=this.getDOMNode().querySelector(".lightbox-content-container"),b=-a.offsetWidth/2,c=-a.offsetHeight/2;a.style.marginLeft=b+"px",a.style.marginTop=c+"px"},200),_createCloseButton:function(){return React.DOM.a({className:"lightbox-close icon-x",href:"#",onClick:this._close,title:"Never see this again"})},_createModalBackgroundDiv:function(){return React.DOM.div({className:"lightbox-modal-background",onClick:this._close})},_createBackgroundDiv:function(){var a=this.props.background.replace(/{STATIC}/g,Imgur.Environment.staticUrl);return React.DOM.div({className:"lightbox-background",style:{backgroundImage:'url("'+a+'")'}})},_setAsViewed:function(a){window.localStorage&&this.props.localStorageName&&localStorage.setItem(this.props.localStorageName,!0),"close"!==a&&Imgur.Util.jafoLog({event:"bannerClickThrough",meta:{action:a,banner:this.props.trackingName,bannerType:"lightbox",platform:"web"}})},_hide:function(){$(this.getDOMNode()).parent().slideUp({duration:250,easing:"easeInOutExpo"})},_close:function(a){a.preventDefault(),this._hide(),this._setAsViewed("close"),Imgur.Util.jafoLog({event:"bannerX",meta:{banner:this.props.trackingName,platform:"web",bannerType:"lightbox"}}),Imgur.Util.jafoLog({event:"appBannerX",meta:{banner:this.props.trackingName,platform:"web",bannerType:"lightbox"}})}}),Namespace("Imgur.Banner.Mixin"),Imgur.Banner.Mixin={getInitialState:function(){return{visibleClassName:""}},getClassName:function(){var a=""==this.props.description?"small-cta ":"";return a+=this.props.customClass?" "+this.props.customClass:"",this.props.hero&&(a+="cta-with-hero"),a+this.state.visibleClassName},_createCloseButton:function(){return React.DOM.a({className:"cta-close icon-x",href:"#",onClick:this._handleClickClose})},_createBackgroundDiv:function(){var a={className:"cta-background",style:{}};if("none"===this.props.backgroundImage)a.style.backgroundImage="none";else if(this.props.backgroundImage){var b=this.props.backgroundImage.replace(/{STATIC}/g,Imgur.Environment.staticUrl);a.style.backgroundImage='url("'+b+'")'}return this.props.backgroundColor&&(a.style.backgroundColor=this.props.backgroundColor),React.DOM.div(a)},_createContentDiv:function(){var a=this.props.newTab?"_blank":"_self",b="cta-content";return b+=this.props.customClass?" "+this.props.customClass:"",React.DOM.div({className:b},this._createHero(),React.DOM.h1(null,React.DOM.a({href:this.props.url,target:a,onClick:this._handleClickTitle,dangerouslySetInnerHTML:{__html:this.props.title}})),React.DOM.p({dangerouslySetInnerHTML:{__html:this.props.description}}))},_createHero:function(){if(!this.props.hero)return null;var a=this.props.newTab?"_blank":"_self",b={className:"cta-hero",href:this.props.url,target:a,onClick:this._handleClickTitle},c=this.props.hero.replace(/{STATIC}/g,Imgur.Environment.staticUrl);return React.DOM.a(b,React.DOM.img({src:c}))},_handleClickTitle:function(){this._setAsViewed("clickTitle"),this._closeCta()},_handleClickButton:function(){this._setAsViewed("clickButton"),this._closeCta()},_handleClickClose:function(a){a&&a.preventDefault(),this._setAsViewed("close"),this._closeCta()},_setAsViewed:function(a){var b=new Imgur.Storage.LocalStorage;b.supported()&&this.props.localStorageName&&b.save(this.props.localStorageName,Date.now()),"string"!=typeof a&&(a=void 0),"close"===a?(Imgur.Util.jafoLog({event:"bannerX",meta:{banner:this.props.trackingName,bannerType:"headerCTA",platform:"web"}}),"mobileApps"===this.props.trackingName&&Imgur.Util.jafoLog({event:"appBannerX",meta:{banner:this.props.trackingName,bannerType:"headerCTA",platform:"web"}})):(Imgur.Util.jafoLog({event:"bannerClickThrough",meta:{banner:this.props.trackingName,action:a,bannerType:"headerCTA",platform:"web"}}),"mobileApps"===this.props.trackingName&&Imgur.Util.jafoLog({event:"appInstall",meta:{banner:this.props.trackingName,bannerType:"headerCTA",platform:"web"}}))},_createButton:function(){var a=this.props.newTab?"_blank":"_self";return this.props.buttonImg?React.DOM.a({className:"cta-img-button",href:this.props.url,target:a,onClick:this._handleClickButton},React.DOM.img({className:"cta-img",src:this.props.buttonImg})):React.DOM.a({className:"cta-button",style:{backgroundColor:this.props.buttonColor},href:this.props.url,target:a,onClick:this._handleClickButton},this.props.buttonText)},_closeCta:function(){$(this.getDOMNode()).parent().slideUp({duration:250,easing:"easeInOutExpo"})}},Namespace("Imgur.Banner.Cta"),Imgur.Banner.Cta=React.createClass({displayName:"Banner-Cta",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:this.getClassName()},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createButton(),this._createContentDiv(),this._createCloseButton()))}}),Namespace("Imgur.Banner.Cta"),Imgur.Banner.CtaNoButton=React.createClass({displayName:"Banner-CtaNoButton",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:this.state.visibleClassName},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createCloseButton(),this._createContentDiv()))}}),Namespace("Imgur.Banner.Facebook"),Imgur.Banner.Facebook=React.createClass({displayName:"Banner-Facebook",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:this.state.visibleClassName},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createCloseButton(),this._createContentDiv(),this._createLikeButton()))},_createLikeButton:function(){return React.DOM.div({className:"cta-facebook-button"},this._createFbRoot(),React.DOM.div({className:"facebook-overflow"},this._loadButton()))},_createFbRoot:function(){return React.DOM.div({id:"fb-root",className:"nodisplay"})},_loadButton:function(){return function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=127621437303857",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),React.DOM.div({className:"fb-like","data-href":"https://www.facebook.com/pages/Imgur/67691197470","data-send":"false","data-layout":"button_count","data-width":"80","data-show-faces":"false","data-colorscheme":"dark","data-font":"arial"})}}),Namespace("Imgur.Banner.Twitter"),Imgur.Banner.Twitter=React.createClass({displayName:"Banner-Twitter",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:"twitter-banner "+this.getClassName()},React.DOM.div({className:"cta-content-container"},this._createCloseButton(),this._addTwitterIcon(),this._createContentDiv(),this._createFollowButton()))},_addTwitterIcon:function(){return React.DOM.a({className:"icon-twttr",href:this.props.url,target:"_blank"})},_createFollowButton:function(){return React.DOM.div({className:"cta-twitter-button"},this._loadButton())},_loadButton:function(){return React.DOM.iframe({src:"//platform.twitter.com/widgets/follow_button.html?screen_name=imgur&show_count=false",className:"twitter-follow-button",frameBorder:"0",scrolling:"no",allowTransparency:"true"},"Follow @imgur")}}),Namespace("Imgur.Banner.Pinterest"),Imgur.Banner.Pinterest=React.createClass({displayName:"Banner-Pinterest",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:this.state.visibleClassName},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createCloseButton(),this._createContentDiv(),this._createFollowButton()))},_createFollowButton:function(){return React.DOM.div({className:"cta-pinterest-button"},React.DOM.div({className:"pinterest-overflow"},this._loadButton()))},_loadButton:function(){return function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//assets.pinterest.com/js/pinit.js",e.parentNode.insertBefore(d,e))}(document,"script","pinterest-pinit"),React.DOM.a({href:"http://www.pinterest.com/imgur/","data-pin-do":"buttonFollow"},"Follow Imgur")}}),Namespace("Imgur.Banner.Converted"),Imgur.Banner.Converted=React.createClass({displayName:"Banner-Converted",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:this.state.visibleClassName},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createContentDiv()))}}),Namespace("Imgur.Banner.Cta"),Imgur.Banner.TeeSpring=React.createClass({displayName:"Banner-TeeSpring",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:this.getClassName()},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createCloseButton(),this._createContentDiv(),this._createTshirtImage(),this._createButton()))},_createTshirtImage:function(){return React.DOM.img({src:this.props.tshirtImage,className:"tshirt"})}}),Namespace("Imgur.Banner.Cta"),Imgur.Banner.Promoted=React.createClass({displayName:"Banner-Promoted",mixins:[Imgur.Banner.Mixin],render:function(){return React.DOM.div({id:"cta-container",className:this.getClassName()},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createContentDiv(),this._createButton()))}}),Namespace("Imgur.Banner"),Imgur.Banner.Newsletter=React.createClass({displayName:"Banner-Newsletter",mixins:[Imgur.Banner.Mixin],getDefaultProps:function(){return{url:"/inbox",title:"Get Imgur beamed to your inbox",description:"The best of Imgur teleported to you every week",placeholder:"enter your email",buttonText:"Activate!"}},getInitialState:function(){return{email:Imgur.Environment.signed&&!/@example.com$/.test(Imgur.Environment.auth.email)?Imgur.Environment.auth.email:"",success:!1,submitting:!1,error:void 0}},render:function(){return React.DOM.div({id:"cta-container",className:this.getClassName()},this._createBackgroundDiv(),React.DOM.div({className:"cta-content-container"},this._createCloseButton(),this._createContentDiv(),this._createForm()))},_createForm:function(){var a=React.addons.classSet({"cta-icymi":!0,"cta-form":!0,"cta-form-error":this.state.error,"cta-form-success":this.state.success,"cta-form-submitting":this.state.submitting}),b=this.state.error===!0?"An error occurred :/ Try again?":this.state.error,c=this.state.success===!0?"Thanks for signing up!":this.state.success;return React.DOM.form({className:a,onSubmit:this.handleSubmit},React.DOM.span({className:"cta-form-input-container"},React.DOM.input({type:"text",className:"cta-form-control cta-icymi-email",placeholder:this.props.placeholder,defaultValue:this.obfuscateEmail(this.state.email),onFocus:this.handleFocusText,onBlur:this.handleBlurText,onChange:this.handleChangeText}),React.DOM.button({type:"submit",className:"cta-form-control btn btn-small btn-main",disabled:this.state.submitting?"disabled":""},this.props.buttonText)),React.DOM.span({className:"cta-form-success cta-icymi-success"},c),React.DOM.span({className:"cta-form-error cta-icymi-error"},b))},handleFocusText:function(a){a.target.value===this.obfuscateEmail(this.state.email)&&(a.target.value=this.state.email)},handleBlurText:function(a){a.target.value===this.getInitialState().email&&(a.target.value=this.obfuscateEmail(this.state.email))},handleChangeText:function(a){this.setState({email:a.target.value})},handleSubmitSuccess:function(a){this._setAsViewed("close"),this.setState({success:a.data||!0,error:!1})},handleSubmitError:function(a){var b=(a.status,!0);try{a.responseJSON.data.error&&(b=a.responseJSON.data.error)}catch(c){}Imgur.Util.jafoLog({event:"submissionFailure",meta:{error:b,type:"newsletter"}}),this.setState({success:!1,error:b})},handleSubmit:function(a){a.preventDefault(),this.setState({submitting:!0});var b=this;Imgur.Util.jafoLog({event:"submissionInvoke",meta:{type:"newsletter"}}),$.ajax({method:"post",url:"/newsletter/subscribe",data:{email:this.state.email,msid:Imgur.Environment.msid,source:"cta-banner-newsletter"},success:this.handleSubmitSuccess,error:this.handleSubmitError,complete:function(){b.setState({submitting:!1})}})},obfuscateEmail:function(){return Imgur.Util.obfuscateEmail(this.state.email)}}),Namespace("Imgur.Search"),Imgur.Search.TopBarView=React.createClass({displayName:"Search-TopBarView",getDefaultProps:function(){return{componentList:[],KEYCODES:{ESC:27,UP_ARROW:38,DOWN_ARROW:40,ENTER:13,RIGHT_ARROW:39,TAB:9},SUGGESTION_TYPES:{SEARCH:"post_titles",TAG:"tags",USER:"users",MEME:"memes",ECHO:"echo"},defaultSuggestOpened:!1}},getInitialState:function(){return{focused:!1,selectedIdx:null,forcedOpen:!1,open:this.props.defaultSuggestOpened}},getStore:function(){return this.props.suggestionStore},close:function(){this.setState({focused:!1,open:!1,forcedOpen:!1}),$(this.refs.query.getDOMNode()).blur()},open:function(){this.setState({focused:!1,open:!0})},openAndFocus:function(){this.setState({focused:!0,open:!0}),$(this.refs.query.getDOMNode()).focus()},isOpened:function(){return this.state.open},isClosed:function(){return!this.state.open},handleChange:function(a){this.resetQuery(a.target.value)},resetQuery:function(a){this.setState({open:!0}),this.props.suggestionStore.setQuery(a),this.props.searchResults.setActiveQuery(a),this.props.suggestionStore.haveQueryData(a)||(a.length>1?this.props.searchSuggestModel.fetch(a):this.props.searchSuggestModel.cancel())},_doActionActive:function(a){var b=this.props.searchResults.getActiveIdx(a),c=this.props.searchResults.getIthSuggestion(a,b).href;window.location=c},_onSuggestHoverIn:function(a,b){this.props.searchResults.setActiveIdx(a,b)},_onSuggestHoverOut:function(a,b){this.props.searchResults.getActiveIdx(a)===b&&this.props.searchResults.setActiveIdx(a,null)},_produceSection:function(a,b){if(b.payload.length){for(var c=[],d=0;d<b.payload.length;d++){var e=b.index+d===this.props.searchResults.getActiveIdx(a);c.push(React.createElement(Imgur.Search.Suggestions[b.reactClsName],_.merge({},b.payload[d],{className:"suggestion"+(e?" hover":""),onMouseEnter:_.partial(this._onSuggestHoverIn,a,b.index+d),onMouseLeave:_.partial(this._onSuggestHoverOut,a,b.index+d)})))}return React.createElement(Imgur.Search.TopBar.Section,{title:b.title,icon:b.iconClass},c)}},_getCaretPosition:function(a){if(a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange();if(null==b)return 0;var c=a.createTextRange(),d=c.duplicate();return c.moveToBookmark(b.getBookmark()),d.setEndPoint("EndToStart",c),d.text.length}return 0},_getFooterDom:function(){return React.DOM.div({className:"global-search-footer"},React.DOM.div(null,React.DOM.div({className:"footer-label"},"search syntax"),React.DOM.div({className:"footer-content"},React.DOM.div({className:"keyword"},"title:"),React.DOM.div({className:"keyword-desc"},"titles only"),React.DOM.div({className:"keyword"},"tag:"),React.DOM.div({className:"keyword-desc"},"images of a tag"),React.DOM.div({className:"keyword nextline"},"user:"),React.DOM.div({className:"keyword-desc"},"find a user"),React.DOM.div({className:"keyword"},"ext:"),React.DOM.div({className:"keyword-desc"},"image extension"))))},render:function(){var a,b=this.props.searchResults.getVisibleQuery(),c=this.props.suggestionStore.getQuery();if(this.state.focused){for(var d=this.props.searchResults.getSections(),e=[],f=0,g=d[0];f<d.length;f++,g=d[f])e.push(this._produceSection(c,g));var a=React.DOM.div({ref:"suggestion-container",className:"global-search-autocomplete",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e,this._getFooterDom())}var h="//"+this.props.host+"/search";h+="relevance"===this.props.sort?"":"/"+this.props.sort,h+="all"===this.props.window?"":"/"+this.props.window;var i=" search-focused";return this.isClosed()&&(i=" search-closed",b=""),React.DOM.div({onKeyUp:_.partial(this.handleKeyUp,c),onKeyDown:_.partial(this.handleKeyDown,c),onFocus:_.partial(this.props.structured?this.handleFocus_Advanced:this.handleFocus,c),onSubmit:_.partial(this.handleSubmit,c),className:"search-container"+i},React.DOM.form({className:"search-form",method:"get",action:h,ref:"form"},React.DOM.input({autoComplete:"off",onChange:this.props.structured?this.handleChange_Advanced:this.handleChange,onBlur:_.partial(this.props.structured?this.handleBlur_Advanced:this.handleBlur,c),type:"text",className:"search",ref:"query",name:"q",placeholder:"Search",value:b}),React.DOM.div({className:"search-icon-container",onClick:this.handleIconClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},React.DOM.div({className:"search-icon-container-icon"+(b.length>0?" searchable":"")},""))),a)},handleIconClick:function(){var a=$(this.refs.query.getDOMNode()).val().length;a>0?$(this.refs.form.getDOMNode()).submit():this.isClosed()&&this.openAndFocus()},handleFocus:function(a){this.setState({focused:!0,open:!0}),this.props.searchResults.setActiveIdx(a,null)},handleBlur:function(a){return this.state.forcedOpen?void this.openAndFocus():(this.setState({focused:!1,open:!1}),void this.props.searchResults.setActiveIdx(a,null))},handleChange_Advanced:function(a){this.resetQuery(a.target.value),this.props.structured.setFlatQuery(this.props.suggestionStore.getQuery())},handleFocus_Advanced:function(a){this.props.structured.hide(),this.handleFocus(a)},handleBlur_Advanced:function(a){return this.state.forcedOpen?void this.openAndFocus():(this.setState({focused:!1,open:!0}),void this.props.searchResults.setActiveIdx(a,null))},handleKeyDown:function(a,b){var c={right_arrow:b.keyCode===this.props.KEYCODES.RIGHT_ARROW,tab:b.keyCode===this.props.KEYCODES.TAB,enter:b.keyCode===this.props.KEYCODES.ENTER,modifier:!!(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)},d=this.props.searchResults.getTotalSuggestions(a);if(!(c.modifier||0>=d)){if(c.right_arrow){var e=this.refs.query.getDOMNode(),f=this._getCaretPosition(e),g=$(e).val().length;if(g>f)return}if(c.tab||c.right_arrow){b.preventDefault();var h=this.props.searchResults.getActiveIdx(a),i="";(null!==h||this.props.searchResults.getTotalSuggestions(a)>0)&&(i=null!=h?this.props.searchResults.getVisibleQuery():this.props.searchResults.getIthSuggestion(a,0).query,this.resetQuery(i))}else c.enter&&null!==this.props.searchResults.getActiveIdx(a)&&this._doActionActive(a)}},handleSubmit:function(a,b){null!==this.props.searchResults.getActiveIdx(a)&&b.preventDefault();var c=0===a.indexOf("r/");return Imgur.Util.jafoLog({event:"searchTerm",meta:{query:a,isSubreddit:c}}),!0},handleKeyUp:function(a,b){var c={esc:b.keyCode===this.props.KEYCODES.ESC,up_arrow:b.keyCode===this.props.KEYCODES.UP_ARROW,down_arrow:b.keyCode===this.props.KEYCODES.DOWN_ARROW,enter:b.keyCode===this.props.KEYCODES.ENTER,modifier:!!(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)},d=this.props.searchResults.getTotalSuggestions(a);if(!c.modifier)if((c.up_arrow||c.down_arrow||c.enter)&&b.preventDefault(),c.up_arrow||c.down_arrow){if(0>=d)return;var e=this.props.searchResults.getActiveIdx(a),f=c.down_arrow?1:-1;e=null===e?c.down_arrow?0:d-1:0>e+f||e+f>=d?null:e+f,this.props.searchResults.setActiveIdx(a,e)}else c.esc&&(this.setState({forcedOpen:!1}),this.forceUpdate(_.bind(function(){this.refs.query.getDOMNode().blur()},this)))},handleMouseEnter:function(){this.setState({forcedOpen:!0})},handleMouseLeave:function(){this.setState({forcedOpen:!1})}}),Namespace("Imgur.Search"),Imgur.Search.Results=Class.extend({init:function(a,b,c,d){this._={emitter:a,store:b,ordering:c,suggestionFactory:d,activeIdx:{query:null,idx:null}}},setActiveIdx:function(a,b){a===this._.activeIdx.query&&(this._.activeIdx={query:a,idx:b},this._.emitter.trigger("new active suggestion"))},setActiveQuery:function(a){this._.activeIdx={query:a,idx:null},this._.emitter.trigger("new active suggestion")},getSections:function(){for(var a=[],b=0,c=this._.store.getQuery(),d=0,e=this._.ordering[0];d<this._.ordering.length;d++,e=this._.ordering[d]){var f=this._.store.getSuggestions(c,e),g=_.map(f,_.bind(this._.suggestionFactory.produceSuggestion,this._.suggestionFactory,e));a.push(this._.suggestionFactory.produceSection(b,e,g)),b+=f.length}return a},getIthSuggestion:function(a,b){for(var c=0,d=this._.ordering[0];c<this._.ordering.length;c++,d=this._.ordering[c]){var e=this._.store.getSuggestions(a,d);if(b<e.length)return this._.suggestionFactory.produceSuggestion(d,e[b]);b-=e.length}},getVisibleQuery:function(){return null!==this._.activeIdx.idx?this.getIthSuggestion(this._.activeIdx.query,this._.activeIdx.idx).searchString:this._.store.getQuery()},getActiveQuery:function(){return this._.activeIdx.query},getActiveIdx:function(a){return this._.activeIdx.query===a?this._.activeIdx.idx:null},getQuery:function(){return this._.store.getQuery()},getTotalSuggestions:function(a){for(var b=0,c=0,d=this._.ordering[0];c<this._.ordering.length;c++,d=this._.ordering[c]){var e=this._.store.getSuggestions(a,d);b+=e.length}return b}}),Namespace("Imgur.Search"),Imgur.Search.SuggestionFactory=Class.extend({init:function(a){this._={host:a}},produceSuggestion:function(a,b){switch(a){case"post_titles":return{type:a,href:"//"+this._.host+"/search?q="+encodeURIComponent(b),searchString:b,payload:b,query:b};case"tags":return{type:a,href:"//"+this._.host+"/t/"+b.tag.replace(/\s+/g,"_"),searchString:"tag:"+b.tag,payload:b,query:b.tag};case"users":return{type:a,href:"//"+this._.host+"/user/"+encodeURIComponent(b.user),searchString:"user:"+b.user,payload:b,query:b.user};case"memes":return{type:a,href:"//"+this._.host+"/search?q="+encodeURIComponent("meme:"+b),searchString:"meme:"+b,payload:b,query:b};case"echo":return{type:a,href:"//"+this._.host+"/search?q="+encodeURIComponent(b),searchString:b,payload:b,query:b}}},produceSection:function(a,b,c){var d,e,f,g={key:b,index:a,payload:c};switch(b){case"post_titles":d="Search suggestions:",e="glass-icon",f="Search";break;case"tags":d="Tags:",e="tag-icon",f="Tag";break;case"users":d="Users:",e="user-icon",f="User";break;case"memes":d="Memes:",e="meme-icon",f="Meme";break;case"echo":d="Search:",e="glass-icon",f="Echo"}return g.title=d,g.iconClass=e,g.reactClsName=f,g}}),Namespace("Imgur.Search"),Imgur.Search.Model=Class.extend({init:function(a,b){this._={ajax:a,suggestionStore:b,queryNonce:0,pendingRequest:null}},cancel:function(){this._.queryNonce++,null!=this._.pendingRequest&&this._.pendingRequest.abort()},fetch:function(a,b,c,d){this.cancel(),this._.pendingRequest=this._.ajax(b,d,_.bind(this._handleResponse,this,this._.queryNonce,a,c||_.noop))},responseWasSuccessful:function(a){return!!a.success},_handleResponse:function(a,b,c,d){this._.pendingRequest=null,a<this._.queryNonce||(this._.queryNonce++,d&&this.responseWasSuccessful(d)&&c(b,this._handleResponseSuccess(b,d)))},_handleResponseSuccess:function(){throw"abstract"}}),Namespace("Imgur.Search"),Imgur.Search.SuggestModel=Imgur.Search.Model.extend({init:function(a,b,c){this._super(a,b),this._.suggestUrl=c},fetch:function(a,b){this._super([a],this._.suggestUrl+"?q="+encodeURIComponent(a),b,{})},_handleResponseSuccess:function(a,b){var c=a[0];return _.each(b.data,_.bind(function(a,b){"search"===a.type?this._.suggestionStore.addSuggestion(c,"post_titles",b,a.text):"tag"===a.type?this._.suggestionStore.addSuggestion(c,"tags",b,{tag:a.text,images:a.images}):"user"===a.type?this._.suggestionStore.addSuggestion(c,"users",b,{user:a.text,submissions:a.submissions}):"meme"===a.type?this._.suggestionStore.addSuggestion(c,"memes",b,a.text):"echo"===a.type&&this._.suggestionStore.addSuggestion(c,"echo",b,a.text)},this)),this._.suggestionStore},toString:function(){return"[search suggestion model]"}}),Imgur.Search.SuggestModel.prototype.fetch=_.debounce(Imgur.Search.SuggestModel.prototype.fetch,50),Namespace("Imgur.Search"),Imgur.Search.HotkeyController=Class.extend({KEYCODE:{FORWARD_SLASH:191},init:function(a){this._={el:{$root:a}}},handleKeyUp:function(a){a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||a.keyCode!=this.KEYCODE.FORWARD_SLASH||$(a.target).is("input,textarea")||this._.el.$root.find('input[type="text"][name="q"]').focus()}}),Namespace("Imgur.Search.Controller"),Imgur.Search.Controller.Advanced=Class.extend({init:function(a){this._={structured:a}},handleKeyUpStructured:function(){this._.topbar.getStore().setQuery(this._.structured.getFlatQuery())},handleToggleAdvancedClick:function(){var a=this._.structured.getIsHidden();a?(this._.topbar.close(),this._.structured.show()):(this._.topbar.open(),this._.structured.hide())},setTopBarComponent:function(a){this._.topbar=a}}),Namespace("Imgur.Search.TopBar"),Imgur.Search.TopBar.Section=React.createClass({displayName:"Search-TopBarSection",getDefaultProps:function(){return{entries:[]}},render:function(){return React.DOM.div({className:"global-search-section"},React.DOM.div({className:this.props.icon}),React.DOM.div({className:"title"},this.props.title),this.props.children)}}),Namespace("Imgur.Search.Suggestions"),Imgur.Search.Suggestions.Search=React.createClass({displayName:"Search-Suggestions-Seach",render:function(){return React.DOM.a({href:this.props.href},this.props.query)}}),Namespace("Imgur.Search.Suggestions"),Imgur.Search.Suggestions.Tag=React.createClass({displayName:"Search-Suggestions-Tag",render:function(){return React.DOM.a({href:this.props.href},this.props.payload.tag)}}),Namespace("Imgur.Search.Suggestions"),Imgur.Search.Suggestions.User=React.createClass({displayName:"Search-Suggestions-User",render:function(){return React.DOM.a({href:this.props.href},this.props.payload.user)}}),Namespace("Imgur.Search.Suggestions"),Imgur.Search.Suggestions.Meme=React.createClass({displayName:"Search-Suggestions-Meme",render:function(){return React.DOM.a({href:this.props.href},this.props.query)}}),Namespace("Imgur.Search.Suggestions"),Imgur.Search.Suggestions.Echo=React.createClass({displayName:"Search-Suggestions-Echo",render:function(){return React.DOM.a({href:this.props.href},this.props.query)}}),jQuery.fn.imageZoom=function(a){var b=jQuery.extend({speed:150,dontFadeIn:1,hideClicked:1,imageMargin:15,className:"jquery-image-zoom",loading:"Loading..."},a);return b.doubleSpeed=b.speed/4,this.click(function(a){if(!(1!==a.which||a.ctrlKey||a.metaKey||a.shiftKey||a.altKey)){var c=jQuery(a.target),d=c.is("a")?c:c.parents("a");d=d&&d.is("a")&&-1!=d.attr("href").search(/(.*)\.(jpg|jpeg|gif|png|bmp|tif|tiff)(\?.*)?$/gi)?d:!1;var e=d&&d.find("img").length?d.find("img"):!1;if(d){d.oldText=d.text(),d.setLoadingImg=function(){e?(e.before('<span class="zoom-loader"></span>'),e.css({opacity:"0.5"})):d.text(b.loading)},d.setNotLoadingImg=function(){e?(e.siblings(".zoom-loader").remove(),e.css({opacity:"1"})):d.text(d.oldText)};var f=d.attr("href");if(jQuery("div."+b.className+' img[src="'+f+'"]').length)return!1;var g=new Image;g.src=f;var h=function(){d.setNotLoadingImg();var a=e?e:d,c=e?b.hideClicked:0,h=a.offset(),i={width:a.outerWidth(),height:a.outerHeight(),left:h.left,top:h.top},j=jQuery('<div><img src="'+f+'" alt="" /></div>').css("position","absolute").appendTo(document.body),k={width:g.width,height:g.height},l={width:jQuery(window).width(),height:jQuery(window).height()};if(k.width>l.width-2*b.imageMargin){var m=l.width-2*b.imageMargin;k.height=m/k.width*k.height,k.width=m}k.left=(l.width-k.width)/2+jQuery(window).scrollLeft(),k.top=(l.height-k.height)/2+jQuery(window).scrollTop();var n=jQuery('<a href="#">Close</a>').appendTo(j).hide();j.attr("tabindex","1"),k.top<0&&(k.top=20),c&&d.css("visibility","hidden"),j.addClass(b.className).css(i).animate(k,b.speed,function(){n.fadeIn(b.doubleSpeed),j.focus()});var o=function(){return n.fadeOut(b.doubleSpeed,function(){j.animate(i,b.speed,function(){d.css("visibility","visible"),j.remove()})}),!1};j.click(o),j.blur(o),n.click(o)};return g.complete?h():(d.setLoadingImg(),g.onload=h),!1}}})},$(document).keydown(function(a){27==a.keyCode&&$("div.jquery-image-zoom a").click()}),Imgur.ImageViewer=React.createClass({displayName:"ImageViewer",getDefaultProps:function(){return{thumbsize:"",gif_size_threshold:2097152,wrap_with_direct_link:!0,poster:!0,forceGif:!1,forceStill:!1,noZoom:!1,maxWidth:"100%",minHeight:"0",discarding_referrer:!1,firing_pixel:!0,showShareLinks:!1}},getInitialState:function(){return{videoHash:null,progress:0,failed:!1,lastViewPixel:null,injectFullImage:!1}},_showingVideo:function(){return!this.props.forceGif&&this.props.item.size>this.props.gif_size_threshold&&""==this.props.thumbsize&&0===this.props.item.ext.indexOf(".gif")&&this.props.item.animated},_addVideoLoader:function(){$(this.refs.video.getDOMNode()).on("progress",_.bind(function(){try{var a=Math.round(this.refs.video.getDOMNode().buffered.end(0)/this.refs.video.getDOMNode().duration*100);this.setState({videoHash:this.props.item.hash,progress:a})}catch(b){this.setState({videoHash:this.props.item.hash,progress:0})}},this))},_bindVideoEvents:function(){var a=$(this.refs.video.getDOMNode());this._isMobile()&&("undefined"==typeof this.props.item.looping||this.props.item.looping)&&(a[0].loop=!1,a.on("ended",function(){a[0].currentTime=0,a[0].play()})),a.children("source:last").on("error",_.bind(function(){this.setState({failed:!0})},this))},componentWillUnmount:function(){this.refs.hasOwnProperty("video")?(this.refs.srcwebm.getDOMNode().src="",this.refs.srcmp4.getDOMNode().src="",$(this.refs.video.getDOMNode()).off("progress"),$(this.refs.video.getDOMNode()).off("ended")):this.refs.hasOwnProperty("image")&&(this.refs.image.getDOMNode().src="")},componentWillUpdate:function(){this.refs.hasOwnProperty("video")&&($(this.refs.video.getDOMNode()).off("progress"),$(this.refs.video.getDOMNode()).off("ended"))},_imageChanged:function(){this.refs.hasOwnProperty("video")&&(this._addVideoLoader(),this._bindVideoEvents()),this.props.firing_pixel&&this.state.lastViewPixel!==this.props.item.hash&&-1!==["","l","g","h","r"].indexOf(this.props.thumbsize)&&(Imgur.Util.triggerView(this.props.item.hash,{image:!0,discard:this.props.discarding_referrer}),this.setState({lastViewPixel:this.props.item.hash}))},componentDidUpdate:function(){this._imageChanged()},componentDidMount:function(){this.props.noZoom||!this._isLargeWidth()||this._showingVideo()||$(this.refs.link.getDOMNode()).imageZoom(),this._imageChanged()},_injectFullImage:function(){this.setState({injectFullImage:!0})},_isMobile:function(){return navigator.userAgent.match(/android|iphone|ipod|ipad/i)
},_isLargeWidth:function(){if(""==this.props.thumbsize)return this.props.item.width>680;var a=Imgur.getInstance().getImageSizes();for(var b in a)if(a.hasOwnProperty(b)&&a[b].suffix==this.props.thumbsize)return this.props.item.width>a[b].width},render:function(){var a=this.props.item.hash,b=this.props.item.ext,c=this.props.item.width,d=this.props.item.height,e=this.props.item.title,f=this._isLargeWidth(),g=!this.props.noZoom&&f&&!this._showingVideo();if(this._showingVideo()&&!this.state.failed){var h=0;this.state.videoHash===a&&(h=this.state.progress);var i="//s.imgur.com/include/flash/gifplayer.swf?imgur_video=http:";i+=Imgur.Environment.cdnUrl+"/"+this.props.item.hash+".mp4&",i+="imgur_width="+c+"&imgur_height="+d,i+="imgur_url=";var j={},k=[];j.movie=i,j.allowscriptaccess="never",j.version="0",j.scale="scale",j.salign="tl",j.wmode="opaque";for(var l in j)k.push(React.DOM.param({key:l,name:l,value:j[l]}));var m={ref:"video",key:a+b,autoPlay:"autoplay",muted:"muted",style:{maxWidth:this.props.maxWidth,minHeight:this.props.minHeight,maxHeight:this.props.maxHeight}};this._isMobile()||"undefined"!=typeof this.props.item.looping&&!this.props.item.looping||(m.loop="loop"),this.props.poster&&(m.poster=Imgur.Environment.cdnUrl+"/"+a+"h.jpg"),this._isMobile()&&(m.controls="controls"),inner_tag=React.DOM.div({className:"video-container"},React.DOM.video(m,React.DOM.source({ref:"srcwebm",type:"video/webm",src:Imgur.Environment.cdnUrl+"/"+a+".webm"}),React.DOM.source({ref:"srcmp4",type:"video/mp4",src:Imgur.Environment.cdnUrl+"/"+a+".mp4"}),React.DOM.object({key:a+b,type:"application/x-shockwave-flash",data:i},k)),100>h?React.DOM.progress({min:0,max:100,ref:"progress",value:h}):"")}else inner_tag=React.DOM.img({key:a+this.props.thumbsize+b,ref:"image",alt:e,src:Imgur.Environment.cdnUrl+"/"+a+(this.props.item.animated&&!this.props.forceStill?"":this.props.thumbsize)+b,style:{maxWidth:this.props.maxWidth,minHeight:this.props.minHeight,maxHeight:this.props.maxHeight}});if((f||this.props.wrap_with_direct_link)&&(!this.props.noZoom||this.props.wrap_with_direct_link)&&!this._showingVideo()){var n,o=$.browser.mozilla,p={className:g?"zoom":"",ref:"link",title:e,href:"http:"+Imgur.Environment.cdnUrl+"/"+a+b};""!=this.props.thumbsize&&(this.state.injectFullImage||o||(p.onMouseDown=g?this._injectFullImage:_.noop),n=React.DOM.img({key:a+this.props.thumbsize+b+"b",alt:e,src:Imgur.Environment.cdnUrl+"/"+a+(this.state.injectFullImage||this.props.item.animated||o?"":this.props.thumbsize)+b,style:{maxWidth:this.props.maxWidth,minHeight:this.props.minHeight,maxHeight:this.props.maxHeight},className:"post-image-placeholder"})),inner_tag=React.DOM.a(p,n,inner_tag)}var q;if(this.props.showShareLinks){var r=new Imgur.LinkGenerator;r.setThumbSize(""),r.setItem(this.props.item),q=React.DOM.div({className:"post-image-share"},React.DOM.div({className:"post-image-share-more"},React.DOM.span({className:"icon-ellipses"}),React.DOM.div({className:"post-image-share-links"},React.DOM.p({},"Direct Link"),React.createElement(Imgur.ZeroClippableField,{id:a+"direct",value:r.directishLink()}),React.DOM.p({},"Embed Code"),React.createElement(Imgur.ZeroClippableField,{id:a+"embed",value:r.embed()}),React.DOM.p({},"BBCode (Forums)"),React.createElement(Imgur.ZeroClippableField,{id:a+"bbcode",value:r.bbcode()}),React.DOM.p({},"Markdown (Reddit)"),React.createElement(Imgur.ZeroClippableField,{id:a+"markdown",value:r.markdown()}))),React.createElement(Imgur.ZeroClippableField,{id:a,value:r.imageLink()}))}var s=React.DOM.div({className:"image post-image"},q,inner_tag);return s}}),Namespace("Imgur"),Imgur.Jafo=Class.extend({init:function(a,b){var c=new Date;this._={attrBound:!1,attrRegex:/^\s*(\{.+\})\s*?/,chrRegex:/\@\@/g,cookieOpts:{domain:"."+Imgur.Environment.host,path:"/",expires:180},dataAttr:"data-jafo",thirdPartyLoginFlag:"third_party",imgLoc:b,legacyQueue:[],lsArrayName:"jafoData",lsAvail:!1,lsKeyName:"jafo-stor",maxBatch:2,pollDelay:800,scheduled:null,selfRefRgx:/^([^:]+:)\/\/([^.]+\.)*imgur(-dev)?\.com(\/.*)?$/,embedRgx:/(\/(a|gallery))?(\/[A-z0-9]{5,7})\/embed/,sessionFired:!1,uidCookie:"IMGURUIDJAFO",sessionTrackingCookieName:"SESSIONDATA",sessionTrackingExpirationTime:36e5,shouldFire:!0,sessionFiredCooldown:500,userDetails:{UID:null,accountId:isNaN(a)?null:a,backendCohort:isNaN(a)?null:a/4%1024,activeExperiments:[],experimentData:{},sessionId:Imgur.Environment.sid||Imgur.Environment.msid,platform:"web",source:"frontend",referrer:document.referrer,immedReferrer:document.referrer,userAgent:navigator.userAgent,version:c.getFullYear()+"."+Math.ceil(c.getMonth()/3),host:Imgur.Environment.host,firstSession:!1,secondSession:!1},el:{$body:$("body"),injectUserDetails:["activeExperiments","experimentData"]}},window.location.toString().match(this._.selfRefRgx)||(this._.shouldFire=!1),$(window).on("pushstate",_.bind(function(a){this._.userDetails.immedReferrer=a.previousState.url},this)),!this._getSessionTrackingData()&&$.cookie(this._.uidCookie)?this._setSessionTrackingData({sessionCount:3,sessionTime:Date.now()}):this._updateSessionTrackingData();var d=$.cookie(this._.uidCookie);return d||(d=this._fp(),Imgur.Util.Experiments._.initialSession=!0),this._.userDetails.UID=d,$.cookie(this._.uidCookie,d,this._.cookieOpts),this._.lsAvail=this._canUseLs(),$(document).ready(_.bind(function(){this._sessionStart(),this._schedPoll()},this)),$(document.body).on("submit","form",_.bind(function(a){if(a.target.method&&"POST"===a.target.method.toUpperCase()){var b=$(a.target);_.each(this._.el.injectUserDetails,function(a){var c="_jafo["+a+"]",d=b.find("input").filter(function(a,b){return b.name===c});d.length||(d=$('<input type="hidden"/>').attr("name",c),d.appendTo(b));var e=this._.userDetails[a],f="object"==typeof e?JSON.stringify(e):e;d.val(f)},this)}},this)),this},_getSessionTrackingData:function(){var a;try{a=JSON.parse($.cookie(this._.sessionTrackingCookieName))}catch(b){}return a},_setSessionTrackingData:function(a){this._.userDetails.firstSession=1===a.sessionCount?!0:!1,this._.userDetails.secondSession=2===a.sessionCount?!0:!1,$.cookie(this._.sessionTrackingCookieName,JSON.stringify(a),this._.cookieOpts)},_updateSessionTrackingData:function(){var a=this._getSessionTrackingData();if(a&&!isNaN(parseInt(a.sessionCount))&&!isNaN(parseInt(a.sessionTime))&&a.sessionCount>0){var b=Date.now();b-a.sessionTime>this._.sessionTrackingExpirationTime&&a.sessionCount++,a.sessionTime=b}else a={sessionCount:1,sessionTime:Date.now()};this._setSessionTrackingData(a)},batch:function(){var a,b,c,d=arguments.length,e=[];for(b=0;d>b;b++)if("object"==typeof arguments[b]){a=arguments[b],this._isArr(a)&&(a=a.pop());try{c=JSON.stringify(a),e.push(this._parmLabel(b)+"="+encodeURIComponent(c))}catch(f){imcon.error("Cannot encode jafo batch parm.",[f,arguments[b]])}}else"string"==typeof arguments[b]&&e.push(this._parmLabel(b)+"="+encodeURIComponent(arguments[b]));return e.join("&")},bindDataAttr:function(){var a;this._.attrBound||(a="*["+this._.dataAttr+'*=":"]',this._.el.$body.on("click mouseup",a,_.bind(this._handleAttrClick,this)),this._.attrBound=!0)},_canUseLs:function(){try{return localStorage.setItem("testitem",0),localStorage.removeItem("testitem"),!0}catch(a){}return!1},_directFire:function(a,b){var c,d;this._.shouldFire&&(d=this._mergeData(a),c=this._.imgLoc+"?"+this.batch([d]),c&&this._fire(c,b))},_fire:function(a,b){if(this._.imgLoc){var c=document.createElement("img");"function"==typeof b&&$(c).on("load",b),this._updateSessionTrackingData(),c.src=a}},_fp:function(){var a,b=($.cookie(""),navigator),c=window.screen,d="";for(var e in b)"string"!=typeof b[e]&&isNaN(b[e])||(d+=""+b[e]);a=b.plugins;for(var f=0;f<a.length;f++)d+=this._nav2str(a[e]);return"object"==typeof c&&(d+=this._nav2str(c)),this._sha256(d+(new Date).toISOString())},_fromLegacy:function(){return this._.legacyQueue},_fromLs:function(a){var b,c,d=[];try{b=localStorage.getItem(this._.lsKeyName),b&&(c=JSON.parse(b),"object"==typeof c&&c[this._.lsArrayName]&&(d=c[this._.lsArrayName]),a&&localStorage.removeItem(this._.lsKeyName))}catch(e){imcon.err("Error reading jafo local storage data.",e)}return this._isArr(d)?d:[]},_getQueue:function(){return this._.lsAvail?this._fromLs():this._fromLegacy()},_handleAttrClick:function(a){var b,c,d,e=$(a.currentTarget);if(("click"===a.type||"mouseup"===a.type&&2===a.which)&&e.length){if(d=(e.attr(this._.dataAttr)+"").match(this._.attrRegex),d&&d.length>1)try{c=(""+d[1]).replace(this._.chrRegex,'"'),b=JSON.parse(c)}catch(f){imcon.error("Element has invalid analytics data attribute!",[a.target,f])}b&&this.logAction(b)}},_isArr:function(a){return"[object Array]"===Object.prototype.toString.call(a)},_mergeData:function(a){var b,c;return"object"==typeof a&&"undefined"==typeof a.action&&"string"==typeof a.event?(c=new Date,b=_.extend({},this._.userDetails),b.action=_.extend({},a),b.timestamp=c.getTime(),b.location=document.location.toString(),b):void imcon.error("Invalid jafo action.",a)},_nav2str:function(a){var b=[];if("object"!=typeof a)return""+a;for(var c in a)a.hasOwnProperty(c)&&(this._isArr(a[c])?b.push.apply(b,a[c].map(function(a){return c+"[]="+a})):"object"==typeof a[c]&&a[c]!==a?b.push(c+"="+this._nav2str(a[c])):"function"!=typeof a[c]&&b.push(c+"="+a[c]));return b.length>0?b.join("&"):!1},_parmLabel:function(a){var b=a%26,c=a/26|0,d=String.fromCharCode(97+b);return c>0?this._parmLabel(c-1)+d:d},_pollQueue:function(){var a,b=this._sliceQueue(this._.maxBatch);return this._.scheduled&&(clearTimeout(this._.scheduled),this._.scheduled=null),this._isArr(b)&&b.length&&(a=this._.imgLoc+"?"+this.batch.apply(this,b),this._fire(a)),this._schedPoll(),a},_queue:function(a){return this._.lsAvail&&this._queueLs(a),this._queueLegacy(a),this._pollQueue()},_queueLs:function(a){var b=this._fromLs(),c=_.extend({},a);return b.push(c),this._saveQueueLs(b),c},_queueLegacy:function(a){var b=_.extend({},a);return this._.legacyQueue.push(b),b},_sessionStart:function(){var a=!1,b=!1,c=!1;this._.sessionFired||(Imgur.Util.checkInIframe()?this._setSessionHasFired():(a=this._.selfRefRgx.test(this._.userDetails.referrer),c=a&&this._.embedRgx.test(this._.userDetails.referrer),b=Imgur.Util.getQueryParams(window.location.search).hasOwnProperty(this._.thirdPartyLoginFlag),c||!a&&!b?(this._directFire({event:"sessionStart",meta:{language:navigator.language,screenResolution:window.screen.width+"x"+window.screen.height,timezone:60*(new Date).getTimezoneOffset(),secure:"https:"===document.location.protocol}}),setTimeout(_.bind(function(){this._setSessionHasFired(),this._pollQueue()},this),this._.sessionFiredCooldown)):this._setSessionHasFired()))},_setSessionHasFired:function(){this._.sessionFired=!0},_sha256:function(a){function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a>>>b|a<<32-b}function d(a,b){return a>>>b}function e(a,b,c){return a&b^~a&c}function f(a,b,c){return a&b^a&c^b&c}function g(a){return c(a,2)^c(a,13)^c(a,22)}function h(a){return c(a,6)^c(a,11)^c(a,25)}function i(a){return c(a,7)^c(a,18)^d(a,3)}function j(a){return c(a,17)^c(a,19)^d(a,10)}function k(a,c){var d,k,l,m,n,o,p,q,r,s,t,u,v=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),w=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);a[c>>5]|=128<<24-c%32,a[(c+64>>9<<4)+15]=c;for(var r=0;r<a.length;r+=16){d=w[0],k=w[1],l=w[2],m=w[3],n=w[4],o=w[5],p=w[6],q=w[7];for(var s=0;64>s;s++)x[s]=16>s?a[s+r]:b(b(b(j(x[s-2]),x[s-7]),i(x[s-15])),x[s-16]),t=b(b(b(b(q,h(n)),e(n,o,p)),v[s]),x[s]),u=b(g(d),f(d,k,l)),q=p,p=o,o=n,n=b(m,t),m=l,l=k,k=d,d=b(t,u);w[0]=b(d,w[0]),w[1]=b(k,w[1]),w[2]=b(l,w[2]),w[3]=b(m,w[3]),w[4]=b(n,w[4]),w[5]=b(o,w[5]),w[6]=b(p,w[6]),w[7]=b(q,w[7])}return w}function l(a){for(var b=Array(),c=(1<<o)-1,d=0;d<a.length*o;d+=o)b[d>>5]|=(a.charCodeAt(d/o)&c)<<24-d%32;return b}function m(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}function n(a){for(var b=p?"0123456789ABCDEF":"0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(a[d>>2]>>8*(3-d%4)+4&15)+b.charAt(a[d>>2]>>8*(3-d%4)&15);return c}var o=8,p=0;return a=m(a),n(k(l(a),a.length*o))},_saveQueueLs:function(a){var b=_.extend([],a),c={};if(this._isArr(b)){c[this._.lsArrayName]=b;try{localStorage.setItem(this._.lsKeyName,JSON.stringify(c))}catch(d){imcon.error("Error saving jafo local storage.",d)}return b}},_schedPoll:function(){var a=this._getQueue();return!this._.scheduled&&a.length>0&&(this._.scheduled=setTimeout(_.bind(this._pollQueue,this),this._.pollDelay)),this._.scheduled},_sliceQueue:function(a){return this._.sessionFired?this._.lsAvail?this._sliceQueueLs(a):this._sliceQueueLegacy(a):!1},_sliceQueueLegacy:function(a){var b,c=this._.legacyQueue,d=[];if(!isNaN(a)&&this._isArr(c))for(b=0;a>b;b++)c.length&&d.push(c.shift());return d},_sliceQueueLs:function(a){var b,c=this._getQueue(),d=[];if(!isNaN(a)&&this._isArr(c)){for(b=0;a>b;b++)c.length&&d.push(c.shift());this._saveQueueLs(c)}return d},logAction:function(a){if(this._.shouldFire){var b=this._mergeData(a);if("object"==typeof b)return this._queue(b)}return!1},registerExperiment:function(a,b){this._.userDetails.activeExperiments.push({expID:a,variation:b})},registerExperimentData:function(a,b){this._.userDetails.experimentData[a]||(this._.userDetails.experimentData[a]={}),this._.userDetails.experimentData[a]=$.extend(this._.userDetails.experimentData[a],b)}});
//# sourceMappingURL=global.js.map