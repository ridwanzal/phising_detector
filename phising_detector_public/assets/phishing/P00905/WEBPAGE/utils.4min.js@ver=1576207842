$.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase());$.browser.chromium=/chromium/.test(navigator.userAgent.toLowerCase());$.browser.msie=$.browser.msie||(/Trident/.test(navigator.userAgent)&&/rv/.test(navigator.userAgent));if($.browser.chrome){$.browser.safari=false}function Utils(){return this}$.fn.serializeObject=function(){var B={};var A=this.serializeArray();$.each(A,function(){if(B[this.name]!==undefined){if(!B[this.name].push){B[this.name]=[B[this.name]]}B[this.name].push(this.value||"")}else{B[this.name]=this.value||""}});return B};jQuery.fn.outerHTML=function(A){return A?this.before(A).remove():jQuery("<p>").append(this.eq(0).clone()).html()};jQuery.fn.caps=function(A){return this.keypress(function(D){var B=D.which?D.which:(D.keyCode?D.keyCode:-1);var C=D.shiftKey?D.shiftKey:(D.modifiers?!!(D.modifiers&4):false);var E=(((B>=65&&B<=90)||(B>=1040&&B<=1071))&&!C)||((B>=97&&B<=122)&&C);A.call(this,E)})};if(typeof String.prototype.endsWith!=="function"){String.prototype.endsWith=function(A){return this.indexOf(A,this.length-A.length)!==-1}}Utils.indexOf=function(A,D,E){for(var C=(E||0),B=A.length;C<B;C++){if(A[C]===D){return C}}return -1};Utils.preferHTML5Playback=function(){var I=parseInt($.browser.version);if(isNaN(I)||!I){return false}var H=/windows/.test(navigator.userAgent.toLowerCase());var A=/linux/.test(navigator.userAgent.toLowerCase());var G=/mac/.test(navigator.userAgent.toLowerCase());var E=$.browser.msie&&I>=10;var D=$.browser.mozilla&&((H&&I>=23)||(A&&I>=26));var F=$.browser.chrome&&!$.browser.chromium&&I>=27;var B=$.browser.safari&&I>=7;var C=$.browser.opera&&I>=22;return !!(E||D||F||B||C)};Utils.preventClickEventDecorator=function(B){var A=false;function C(){var D=B.apply(this,arguments);if(this.preventDefault){if(A&&this.type=="click"){this.stopImmediatePropagation();this.stopPropagation();this.preventDefault();this.exclusive=true;this.namespace_re=/SOME_KIND_OF_NOT_EXISTING_NAMESPACE/}this.preventClick=function(){A=true;setTimeout(function(){A=false},1000)};return this}return D}C.prototype=B.prototype;return C};if($.browser.msie){$.Event=Utils.preventClickEventDecorator($.Event)}else{$.Event.prototype.preventClick=function(){}}Utils.isHtml5UploadSupport=!!("multiple" in document.createElement("input"));Utils.checkMultiupload=function(){return $.browser.safari||$.browser.opera||!("multiple" in document.createElement("input"))||!UploadModule.FileSupported()||!UploadModule.XhrUploadSupported()};Utils.isFunctionExists=function(functionName){return(eval("typeof "+functionName)=="function")};Utils.fixEventCoords=function(B){if(B.pageX==null&&B.clientX!=null){var B=document.documentElement,A=document.body;B.pageX=B.clientX+(B&&B.scrollLeft||A.scrollLeft||0);B.pageY=B.clientY+(B&&B.scrollTop||A.scrollTop||0)}return B};Utils.checkIfFlashInstalled=function(){var B=false;if(navigator.plugins){if(navigator.plugins["Shockwave Flash"]){B=true}else{if(navigator.plugins["Shockwave Flash 2.0"]){B=true}}}else{if(navigator.mimeTypes){var A=navigator.mimeTypes["application/x-shockwave-flash"];if(A&&A.enabledPlugin){B=true}}else{B=true}}return B};Utils.getFlashVersion=function(){var A;try{A=navigator.plugins["Shockwave Flash"];A=A.description}catch(C){try{A=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(B){A="0.0"}}A=A.match(/\d+/g);return parseFloat(A[0]+"."+A[1])};Utils.getCpuArch=function(){try{var B=window.navigator.oscpu;if(!B){B=window.navigator.cpuClass}return B.indexOf("64")>0?64:32}catch(A){return 64}};Utils.getSelection=function(){if(window.getSelection){return window.getSelection().toString()}else{if(document.getSelection){return document.getSelection()}else{if(document.selection){return document.selection.createRange().text}}}};Utils.validateUrl=function(A){return(/^([a-z0-9]([a-z]|\d|\+|-|\.)*):?(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(A))};Utils.extractDomain=function(A){return A.replace("http://","").replace("https://","").split(/[/?#]/)[0]};Utils.validateDomain=function(A){return/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(A)};Utils.toShortString=function(B,A){return B.length<=A?B:(B.substring(0,A)+"...")};Utils.indexOf=function(A,C){if(A.indexOf){return A.indexOf(C)}for(var B=0;B<A.length;B++){if(A[B]==C){return B}}return -1};Utils.getSearchNameCharFilter=function(A){return typeof (A)!="string"?A:$.trim(A.replace(/\\/g," ").replace(/\//g," ").replace(/%/g," ").replace(/&/g," "))};Utils.getSearchName=function(A){if(typeof (A)!="string"){return A}A=Utils.getSearchNameCharFilter(A);return encodeURIComponent(B(A)).replace(/%2B/g,"+");function B(D){if(!Config.isReplaceSearchNameForSeo){return D}var C=D.split("");for(var E=0;E<C.length;E++){if(C[E]==" "){C[E]="-"}else{if(C[E]=="+"){C[E]="-"}else{if(C[E]=="-"){C[E]="+"}}}}return C.join("")}};Utils.convertToPlainArray=function(C){if(C.length!=undefined){var B=[];for(var A=0;A<C.length;A++){B.push(C[A])}return B}else{return[C]}};Utils.getFilesAndFolderIds=function(C){var B=[];var D={};for(var A=0;A<C.length;A++){if(C[A]._fileId){B.push(C[A]._fileId)}D[C[A]._uploadDir]=true}var E=[];for(var A in D){E.push(A)}return{fileIdsArr:B,folderIdsArr:E}};Utils.clearInput=function(A){A=$(A);A.val("");$(A).replaceWith($(A).clone(true))};Utils.stopFrame=function(B,A){B=$(B);B.attr("src","");if(A){B.remove()}};Utils.getTime=function(){return new Date().getTime()};Utils.timeLeftCalculator=function(B,O){var F=[];var C=Utils.getTime();var J=0,H=0,D=0,L=0;var K=10*1024*1024;var A=25*1000;var G=Math.log(10);var N=0.07;var M=4*1000;var E=0;var I=0;this.putStat=function(R,T){var Q=Utils.getTime();var P=Q-C;J=P-D;H=R-L;H=H>0?H:0;if(H){D+=J;L+=H;if(!F.length||F[F.length-1].progressLoaded>K){F.push({progressTime:J,progressLoaded:H,count:1})}else{F[F.length-1].progressTime+=J;F[F.length-1].progressLoaded+=H}}while(F.length>5){var U=F.shift();D-=U.progressTime;L-=U.progressLoaded}var Q=new Date().getTime();if(Q-I>M){var S=(D?L/(D/1000):0);var V=(Math.pow(10,Math.round(Math.log(S*N)/G)));S=Math.round(S/(V))*V;E=S;I=Q}};this.calculateTimeLeft=function(P,Q){var R=E?(Q-P)/E:0;if(D>A){return{leftTime:R,rate:E}}else{return{}}}};Utils.median=function(A){A.sort(function(D,C){return D-C});var B=Math.floor(A.length/2);if(A.length%2){return A[B]}else{return(A[B-1]+A[B])/2}};Utils.readablizeBytes=function(B,A){if(B==0){return"0 Ð’"}var D=["B","KB","MB","GB","TB","PB"];var C=Math.floor(Math.log(B)/Math.log(1024));B=(B/Math.pow(1024,Math.floor(C)));B=(C>1&&!A)?B.toFixed((C>=3)?2:1):Math.round(B);return B+" "+D[C]};Utils.readablizeTime=function(D,B){B=B||{};B=$.extend(true,{i18n:{seconds:"sec",minutes:"min",hours:"hours"}},B);D=Math.round(D);if(D<56){return D+" "+B.i18n.seconds}if(D<3600){var C=Math.round(D/60)||0;C++;return C+" "+B.i18n.minutes}var A=Math.floor(D/3600);var C=Math.floor((D-A*3600)/60);return A+" "+B.i18n.hours+" "+C+" "+B.i18n.minutes};Utils.checkConnectionAvaliable=function(B,A){$.ajax({type:"get",url:"/blank.jsp",async:!A,success:function(){B(true)},error:function(){B(false)}})};(function(A){A.fn.dragTip=function(B){if(!UploadModule.dropFilesAvailable()){return }var C=A.extend({beforeShow:function(){},afterHide:function(){},showJustForFile:true,tipElement:"",droppedEventName:"fileDropped"},B);C.tipElement=A(C.tipElement);function G(I){if(!I.originalEvent.dataTransfer){return false}var J=I.originalEvent.dataTransfer;if(J.files&&J.files.length){return true}if(J.types){for(var H=0;H<J.types.length;H++){if(J.types[H].toLowerCase()=="files"){return true}}}return false}function E(H){return(!C.showJustForFile||(C.showJustForFile&&G(H)))&&!(C.beforeShow()===false)}function D(H){if(E(H)){C.tipElement.show()}}function F(H){C.tipElement.hide();C.afterHide(H)}return this.each(function(){var I=A(this);var H=[];var J=null;I.bind("dragenter",function(K){if(!H.length){D(K)}H.push(K.target);K.stopPropagation()});I.bind("dragleave",function(K){H.pop();if(!A.browser.webkit){if(!A(H[H.length-1]).is(":visible")){H.pop()}}if(J){clearTimeout(J)}J=setTimeout(function(){if(!H.length){F(K);H=[]}},100);K.stopPropagation()});A(document).bind(C.droppedEventName,function(K){H=[];F(K)});A(document).bind("mouseout",function(K){if(H.length){H=[];F(K)}})})}})(jQuery);Utils.isApkFile=function(A){return A!==undefined&&A.toLowerCase().endsWith(".apk")};Utils.Timer=function(B){B=$.extend({countDownElement:null,onTimeOut:function(){},time:10000,timeStep:1000,usePrettyTimePrint:true},B);var E=B.time;if(B.countDownElement){var A=B.usePrettyTimePrint?Utils.readablizeTime(E/1000,true):E;$(B.countDownElement).text(A).show()}var C=setTimeout(function(){D()},B.timeStep);function D(){if((E-=B.timeStep)<=0){if(B.countDownElement){$(B.countDownElement).hide()}clearTimeout(C);B.onTimeOut()}else{if(B.countDownElement){var F=B.usePrettyTimePrint?Utils.readablizeTime(E/1000,true):E;$(B.countDownElement).text(F).show()}C=setTimeout(function(){D()},B.timeStep)}}this.getTimeoutTimeInMiliSeconds=function(){return B.time};this.getTimeToLeftInMiliSeconds=function(){return E};this.stopTimer=function(){clearTimeout(C);if(B.countDownElement){$(B.countDownElement).hide()}}};Utils.getDomain=function(A){return A.match(/\/\/(.[^/]+)/)[1]};(function(){Utils.unload=false;Utils.isUnload=function(){return Utils.unload};$(window).bind("beforeunload unload",function(){Utils.unload=true})})();Utils.scrollToElement=function(A,C,B){C=typeof (C)!="undefined"?C:1000;B=typeof (B)!="undefined"?B:0;element=$(A);offset=element.offset();offsetTop=offset.top+B;$("html, body").animate({scrollTop:offsetTop},C)};Utils.showPopUnder=function(B){var A=window.open("#",B.name,"width=800,height=600");A.location.href=B.url;$(A).blur()};Utils.extractExtension=function(A){var B=A.lastIndexOf(".");if(B==-1){return""}else{return A.substr(B+1,A.length-B).toLowerCase()}};Utils.trim=function(A){return A.replace(/^[\s\u00A0][\s\u00A0]*/,"").replace(/[\s\u00A0][\s\u00A0]*$/,"")};Utils.fullTrim=function(A){return A.replace(/\s{2,}/g," ").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};Utils.isTouchDevice=function(){if(Utils.isTouchDevice.res===undefined){try{document.createEvent("TouchEvent");if(window.opera){Utils.isTouchDevice.res=/Opera Mobi/.test(navigator.userAgent)||/Opera Mini/.test(navigator.userAgent)}else{Utils.isTouchDevice.res=true}}catch(A){Utils.isTouchDevice.res=false}}return Utils.isTouchDevice.res};Utils.insertBRW=function(D,C,B){var H="<brw/>";C=C||35;var G=[];if(!B){D=$("<div/>").text(D.toString()).html()}var F=0;while(F<D.length){var E=A(F);G.push(D.substr(F,E-F));if(E<D.length){G.push(H)}F=E}return G.join("");function A(O){var K=0;var J="<";var I=">";var N="&";var L=";";var M=O;for(;M<=D.length&&K<C;M++){if(D.charAt(M)==J){while(D.charAt(M)!=I&&M<=D.length){M++}}else{if(D.charAt(M)==N){while(D.charAt(M)!=L&&M<=D.length){M++}}K++}}return M}};Utils.deselectText=function(A){A.value+=" ";A.value=A.value.slice(0,-1)};Utils.imgExtensions=["bmp","gif","jpg","jpeg","png","tif","tiff","psd"];Utils.vidExtensions=["3gp","mov","avi","mp4","mpeg","mpg","flv","m2ts","webm","asf","wmv","mkv"];Utils.getExtension=function(A){var B=Utils.trim(A).split(".");if(B.length<=1){return""}return B.pop().toLowerCase()};Utils.isImage=function(A){return($.inArray(Utils.getExtension(A),Utils.imgExtensions)!=-1)};Utils.isVideo=function(A){return($.inArray(Utils.getExtension(A),Utils.vidExtensions)!=-1)};Utils.getNameWithoutExt=function(A){var B=Utils.getExtension(A);return B.length?A.substring(0,A.length-(B.length+1)):A};Utils.isPdf=function(A){return(Utils.getExtension(A)=="pdf")};Utils.formatDirPath=function(D,B,A){if(D.length<3){return D}if(B){return[D[0],D[D.length-1]]}for(var C=1;C<D.length-1;C++){D[C]=Utils.cutWithDots(D[C],A)}return D};Utils.cutWithDots=function(B,A){B=B||"";A=A||30;return B.length<=A?B:(B.substr(0,A)+"...")};Utils.topPos=function(B){var A=0;if(B.offsetParent){do{A+=B.offsetTop}while(B=B.offsetParent)}return A};Utils.leftPos=function(A){var B=0;if(A.offsetParent){do{B+=A.offsetLeft}while(A=A.offsetParent)}return B};Utils.log=function(A){if(typeof console=="undefined"||typeof console.log!="function"){return }console.log(A)};Utils.checkCORSAvailable=function(){try{var A=new window.XDomainRequest();A.open("get","/blank.jsp",true);A.send(null)}catch(B){return false}return true};Utils.escapeXSS=function(A){return A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/=/g,"&#061;").replace(/\\/g,"&#092;").replace(/\//g,"&#047;")};Utils.cutLongString=function(A,B){return A.length<=B?A:(A.substring(0,B)+"...")};Utils.parseURLQuery=function(E){var B={};var G=E.lastIndexOf("?");if(G==E.length-1){return B}if(G<0){return B}E=E.substr(G+1,E.length);if(E.length>0){var A=E.split("&");for(var F=0;F<A.length;F++){var D=A[F].split("=");if(D.length){var C=D[0];var H=D.length==2?D[1]:"";if(C){B[C]=H}}}}return B};Utils.padURLParameter=function(B,E,D){var A=Utils.parseURLQuery(B);A[E]=D;var C=B.indexOf("?");if(C>=0){B=B.substr(0,C)}return B+"?"+$.param(A)};