define(["nougat","underscore","jquery","backbone","BaseView"],function(e,t,n,r,i){"use strict";var s={fetchAndCallback:function(e,t){var r=n.get(e,t.form,function(e){t.callback.call(this,e,t)});return r},simpleFetchAndRender:function(e,t,r,i,s){var o;return n(t).addClass("loading"),o=n.get(e,function(e){i.template=r,i.model.set(e),i.afterRender=function(e){n(t).removeClass("loading"),n(t).html(e),typeof s=="function"&&s()},i.render()}).done(function(e){n("body").trigger("viewLoaded",[e.viewName])}),o},fetchAndRender:function(e,t,r){var i=n.get(e,t.form,function(e){t.callback.call(this,e,t),r.template=t.template,r.model.set(e),r.render()}).done(function(e){n("body").trigger("viewLoaded",[e.viewName])});return i},handleErrorScenarios:function(e,t){if(e&&e.data&&e.data.errorInfo){var r='<div class="row-fluid"><div class="error-wrap '+e.data.errorInfo.messageType+' clearfix"><span class="message-wrap"><span class="message">'+e.data.errorInfo.message+'</span></span><i class="icon"></i></div></div>';n(t).html(r)}else if(e===undefined||e.type=="redirect")window.location.href=e?e.url:window.location.href},updateDateModifiedFlag:function(e){this.dateModified||(this.dateModified=!0,this.applyFilter(e))},updateCurrencyFlag:function(e){this.currencyModified||(this.currencyModified=!0,this.applyFilter(e))},updateIncrementalFetch:function(e){this.applyFilter({incrementalFetch:!0})},updateTabPageTitles:function(){var e=n(".insightsTabs li[data-maintab='"+this.mainTab+"'] a h2").html();n(".sectionHeader h1").html(e)},showTabSpecificDateFilter:function(){n(".dateFilterWrap").hide(),n("#"+this.mainTab+"DateFilter").show()},updateCurrencyList:function(e,t){var r=e.transactionsCurrenciesList.optionList.length,i;n(t+"-currency").html("");for(i=0;i<r;i+=1){var s=e.transactionsCurrenciesList.optionList[i],o=n("<option>");s.optionValue===e.transactionsCurrenciesList.defaultOption?(n(t+"-currencySelectWrap .dropdown span").html(s.optionName),o.val(s.optionValue).text(s.optionName).appendTo(t+"-currency").attr("selected","selected")):o.val(s.optionValue).text(s.optionName).appendTo(t+"-currency"),e.fpti&&o.addClass("scTrack:"+s.optionValue)}var u=n(t+"-currencySelectWrap, "+t+"-transactionSelectWrap+.filter-text");r<=1?u.hide():u.show()}};return s})