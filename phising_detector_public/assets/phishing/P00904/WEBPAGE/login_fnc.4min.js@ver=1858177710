var loginFnc={msgEmail:"your e-mail",msgEmptyFirstName:"You did not enter your first name",msgEmptyLastName:"You did not enter your last name",msgEmptyEmail:"You did not enter your e-mail address",msgEmptyPassword:"You did not enter your password",msgEmptyPassword2:"You did not confirm your password",msgPasswordsDontMatch:"Your passwords didn't match. Try retyping them.",msgIncorrectEmail:"Your e-mail address is incorrect.",msgTryAgain:"Please try again.",msgOpenIdAccount:"your OpenID account",su:"",doSignUp:function(D,H,B,C,G){this.refCustomCallback=B;var J=$("form[name=signUpBoxForm] input[name=resetDirView]").val();var E={doNotRedirect:C!=undefined?C:1,fpRedirParam:D,successUrl:this.su,resetDirView:J};if(typeof friend!="undefined"&&typeof friend.friendId!="undefined"&&friend.friendId!=null){E["friendId"]=friend.friendId;E["friendName"]=friend.friendName}var A=$("#sign_form").length==0?$("form[name=signUpBoxForm]"):$("#sign_form");var I;for(I in E){if(E.hasOwnProperty(I)){var F=$("<input />",{type:"hidden",value:E[I],name:I,id:I});F.appendTo(A)}}$("body").css("cursor","progress");if($("form[name=signUpBoxForm] input:radio:checked").val()!="1"){PurchaseStats.registerClick(G)}if(A!=null){A.submit()}return true},checkEmail:function(A){var B=new RegExp("^[0-9_&a-zA-Z](?:\\w|\\.|'|-)*@[\\d\\w]+(?:-?(?:\\w+|\\d+)|(?:\\.[0-9a-zA-Z]+))+$");return B.test(A)},checkEmailEx:function(A){return/^[-\w.]+@([^\W-]+[-\w]*\.)+[A-z]{2,6}$/.test(A)},trim:function(A){return ltrim(rtrim(A))},signOut:function(A,B,C){$("body").css("cursor","progress");A=A||"/";$.get(A+"login?callback=?",{signout:1},function(){$("body").css("cursor","auto");$.isFunction(B)?B():window.location=(C!=undefined?C:A)},"jsonp");return false},getLocation:function(){var A=location.toString();if(A.indexOf("?")>-1){if(A.indexOf("acceptInvite")==-1){return A.substring(0,A.indexOf("?"))}}return A}};