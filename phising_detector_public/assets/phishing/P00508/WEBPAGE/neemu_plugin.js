var neemuAC=neemuAC||{},scriptsLoaded=[],timestamp=new Date().getTime(),scriptsPage=window.document.getElementsByTagName("script");neemuAC.plugin=neemuAC.plugin||{};neemuAC.plugin.init=function(a){var b;b=neemuAC.plugin.getShopUrl(a);neemuAC.plugin.loadScripts([b+"autocomplete/neemu-commons-min.js?_="+timestamp,b+"autocomplete/autocomplete.js?_="+timestamp])};neemuAC.plugin.getShopUrl=function(a){var b=window.location.hostname;if(b.indexOf("local")!=-1||b.indexOf("192.168")!=-1){return a.url.localhost.replace("[HOST]",b)}else{if(b.indexOf("valid")!=-1){return a.url.valid.replace("[HOST]",b)}else{return a.url.production.replace("[HOST]",b)}}};neemuAC.plugin.loadScripts=function(b,c){if(b.length>0){var j=undefined;var e=b.shift();var a=e.split("/").pop();var h;if(!scriptsLoaded[e]){h=true;for(var f=0,g=scriptsPage.length;f<g;f++){var d=scriptsPage[f].getAttribute("src");if(d!=null&&d!=undefined){var i=d.split("/").pop();if(i==a){h=false;break}}}}else{h=false}if(c==undefined){for(var f=(scriptsPage.length-1);f>=0;f--){if(scriptsPage[f].type!=""&&scriptsPage[f].parentNode!=null){c=scriptsPage[f];break}}}if(h){j=window.document.createElement("script");j.setAttribute("type","text/javascript");j.setAttribute("src",e);c.parentNode.insertBefore(j,c);j.onload=function(){if(!scriptsLoaded[e]){scriptsLoaded[e]=true;neemuAC.plugin.loadScripts(b,c)}};j.onreadystatechange=function(){if((this.readyState=="loaded"||this.readyState=="complete")&&!scriptsLoaded[e]){scriptsLoaded[e]=true;neemuAC.plugin.loadScripts(b,c)}}}else{neemuAC.plugin.loadScripts(b,c)}}};neemuAC.plugin.init({url:{localhost:"http://[HOST]/",valid:"http://acomvalid.neemu.com/",production:"http://iacom1-a.akamaihd.net/neemu/"}});neemuAC.getElementsByClassName=function(c,f){var e,d,b,a=[];if(c.querySelectorAll){return c.querySelectorAll("."+f)}if(c.evaluate){d=".//*[contains(concat(' ', @class, ' '), ' "+f+" ')]";e=c.evaluate(d,c,null,0,null);while((b=e.iterateNext())){a.push(b)}}else{e=c.getElementsByTagName("*");d=new RegExp("(^|\\s)"+f+"(\\s|$)");for(b=0;b<e.length;b++){if(d.test(e[b].className)){a.push(e[b])}}}return a};neemuAC.mensagemBuscaVazia="Antes, digite aqui o que vocÃª procura...";neemuAC.buscaVazia=function(d){if(d!=undefined){buscaVazia=function(e){if(e.srcElement!==undefined){formulario=e.srcElement}else{formulario=e.currentTarget}campoTexto=$(formulario).find("input."+d.campo)[0];if(campoTexto.value.replace(/^\s+$/,"")===""||campoTexto.value==neemuAC.mensagemBuscaVazia||campoTexto.value===d.mensagemPadrao){if(e.preventDefault){e.preventDefault();e.stopImmediatePropagation()}else{if(window.event){window.event.returnValue=false}}$(formulario).shake(3,5,300,function(){campoTexto.value="";campoTexto.blur();campoTexto.value=neemuAC.mensagemBuscaVazia;jQuery(campoTexto).bind("focus",function(f){this.value=""})})}};jQuery.fn.shake=function(e,g,f,h){this.each(function(){$(this).css("position","relative");for(var i=1;i<=e;i++){$(this).animate({left:(g*-1)},(((f/e)/4))).animate({left:g},((f/e)/2)).animate({left:0},(((f/e)/4)))}});h();return this};for(var a=0,b=d.pai.length;a<b;a++){var c=d.pai[a].getElementsByTagName("form")[0];if(typeof c.addEventListener=="function"){c.addEventListener("submit",buscaVazia,false)}else{c.attachEvent("onsubmit",buscaVazia)}}}};var estrutura={campo:"input-search",mensagemPadrao:"buscar",pai:$(".ginput")};neemuAC.buscaVazia(estrutura);var neemu=neemu||{};neemu.listenerActive=true;neemu.inputPositionList=undefined;neemu.clientMainhost="americanas.com.br";neemu.setCookie=function(a,b){document.cookie=a+"="+escape(b)+"; path=/; domain="+neemu.clientMainhost};neemu.getElementByDataPosition=function(f,k,c){if(neemu.inputPositionList==undefined||c!=undefined){var d,j,l;d=[];j=window.document.getElementsByTagName("input");l=window.document.getElementsByTagName("button");for(var g=0,h=j.length;g<h;g++){d.push(j[g])}for(var g=0,h=l.length;g<h;g++){d.push(l[g])}neemu.inputPositionList=[];for(var e=0,b;b=d[e];e++){var a=b.getAttribute("data-position"),m=b.getAttribute("type");if(a){neemu.inputPositionList[a+"-"+m]=b}}}return neemu.inputPositionList[f+"-"+k]};neemu.listener=function(a,d,f,h,g){var b=undefined;for(var c=0,e;e=d[c];c++){b=neemu.getElementByDataPosition(a,e,g);if(b!=undefined){if(typeof b.addEventListener=="function"){b.addEventListener(f,h,false)}else{b.attachEvent("on"+f,h)}}}if(b==undefined){if(typeof window.addEventListener=="function"){window.addEventListener("load",function(){neemu.listener(a,d,f,h,g)},false)}else{window.attachEvent("onload",function(){neemu.listener(a,d,f,h,g)})}}};neemu.listenerIsActive=function(){return neemu.listenerActive};neemu.listenerDesactive=function(){neemu.listenerActive=false};neemu.listener("header",["text","search"],"keypress",function(a){if(a.keyCode===13&&neemu.listenerIsActive()){neemu.listenerDesactive();neemu.setCookie("neemuPosicaoBusca","Header");neemu.setCookie("neemuTipoDeBusca","Enter")}});neemu.listener("header",["submit"],"click",function(){if(neemu.listenerIsActive()){neemu.listenerDesactive();neemu.setCookie("neemuPosicaoBusca","Header");neemu.setCookie("neemuTipoDeBusca","Click")}});neemu.listener("footer",["text","search"],"keypress",function(a){if(a.keyCode===13&&neemu.listenerIsActive()){neemu.listenerDesactive();neemu.setCookie("neemuPosicaoBusca","Footer");neemu.setCookie("neemuTipoDeBusca","Enter")}});neemu.listener("footer",["submit"],"click",function(){if(neemu.listenerIsActive()){neemu.listenerDesactive();neemu.setCookie("neemuPosicaoBusca","Footer");neemu.setCookie("neemuTipoDeBusca","Click")}});
