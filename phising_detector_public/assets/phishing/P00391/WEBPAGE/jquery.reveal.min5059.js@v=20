(function(b){b.reveal=function(h){var a=this;a.$elem=b(h);a.locked=!1;var d=b.extend({},b.reveal.defaultoOptions,a.$elem.data(),{link:a.$elem.attr("data-link")}),c=d.hasOwnProperty("divid")?b("#"+d.divid):b("#revealModal").length?b("#revealModal"):b(b.reveal.popupHTML).appendTo("body"),f=b("#revealModalBG").length?b("#revealModalBG"):b('<div id="revealModalBG" />').insertAfter(c),e=0,g=0;a.prepareModal=function(){c.removeClass().toggleClass("revealModal "+d.classe,!0);d.hasOwnProperty("link")?b(">div",
c).load(d.link,function(c,d,e){"error"==d&&b(this).html('<div class="errorContent">Une erreur est survenue lors du chargement de la page.</div>');a.init()}):d.hasOwnProperty("divid")?a.init():console.log("[reveal] Idiot, there's nothing to show... Add a data-link or data-divId attribute !")};a.init=function(){e=parseInt(c.css("top"),10);g=c.height()+e;a.centerAll();b(d.dismissmodalclass).bind("click.revealModal",a.closeReveal);d.closeonbackgroundclick&&f.css({cursor:"pointer"}).bind("click.revealModal",
a.closeReveal);b("body").bind("keyup.revealModal",function(b){27===b.which&&a.closeReveal()});b(window).resize(a.centerAll);a.openReveal()};a.openReveal=function(){if(!a.locked)switch(a.lockModal(),f.show(0),d.animation){case "fadeAndPop":c.css({top:b(document).scrollTop()-g,opacity:0}).show().animate({top:b(document).scrollTop()+e,opacity:1},d.animationspeed,a.unlockModal);break;case "fade":c.css({top:b(document).scrollTop()+e});c.fadeIn(d.animationspeed,"linear",a.unlockModal);break;default:case "none":c.css({top:b(document).scrollTop()+
e}).show(0),a.unlockModal()}c.unbind("reveal:open")};a.closeReveal=function(){if(!a.locked)switch(a.lockModal(),d.animation){case "fadeAndPop":c.animate({top:b(document).scrollTop()-g,opacity:0},d.animationspeed,a.endClose);break;case "fade":c.fadeOut(d.animationspeed,"linear",a.endClose);break;default:case "none":c.hide(),a.endClose()}};a.endClose=function(){c.css({top:e});f.hide(0);c.unbind("reveal:close");b(d.dismissmodalclass).unbind("click.revealModal");f.unbind("click.revealModal");b("body").unbind("keyup.revealModal");
d.hasOwnProperty("link")?c.remove():c.hide();a.unlockModal()};a.centerAll=function(){c.css({position:"absolute",left:document.documentElement.clientWidth/2-c.width()/2});f.css("height",document.documentElement.clientWidthHeight)};a.lockModal=function(){a.locked=!0};a.unlockModal=function(){a.locked=!1};a.prepareModal()};b.fn.reveal=function(){return this.each(function(){b.reveal(this)})};b.reveal.popupHTML='<div id="revealModal" class="revealModal standard"><div></div><a class="closeModal">&#215;</a></div>';
b.reveal.defaultoOptions={classe:"standard",animation:"fadeAndPop",animationspeed:500,closeonbackgroundclick:!0,dismissmodalclass:".closeModal"}})(jQuery);$(document).on("click",".linkModal",function(b){b.preventDefault();$(this).reveal()});